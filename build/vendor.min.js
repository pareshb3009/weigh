if(!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";function n(t,e){e=e||J;var n=e.createElement("script");n.text=t,e.head.appendChild(n).parentNode.removeChild(n)}function i(t){var e=!!t&&"length"in t&&t.length,n=ht.type(t);return"function"!==n&&!ht.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function r(t,e,n){if(ht.isFunction(e))return ht.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return ht.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(xt.test(e))return ht.filter(e,t,n);e=ht.filter(e,t)}return ht.grep(t,function(t){return rt.call(e,t)>-1!==n&&1===t.nodeType})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function a(t){var e={};return ht.each(t.match(Tt)||[],function(t,n){e[n]=!0}),e}function s(t){return t}function l(t){throw t}function u(t,e,n){var i;try{t&&ht.isFunction(i=t.promise)?i.call(t).done(e).fail(n):t&&ht.isFunction(i=t.then)?i.call(t,e,n):e.call(void 0,t)}catch(t){n.call(void 0,t)}}function c(){J.removeEventListener("DOMContentLoaded",c),t.removeEventListener("load",c),ht.ready()}function d(){this.expando=ht.expando+d.uid++}function h(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(Rt,"-$&").toLowerCase(),n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:It.test(n)?JSON.parse(n):n)}catch(r){}Nt.set(t,e,n)}else n=void 0;return n}function p(t,e,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return ht.css(t,e,"")},l=s(),u=n&&n[3]||(ht.cssNumber[e]?"":"px"),c=(ht.cssNumber[e]||"px"!==u&&+l)&&Bt.exec(ht.css(t,e));if(c&&c[3]!==u){u=u||c[3],n=n||[],c=+l||1;do o=o||".5",c/=o,ht.style(t,e,c+u);while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}function f(t){var e,n=t.ownerDocument,i=t.nodeName,r=jt[i];return r?r:(e=n.body.appendChild(n.createElement(i)),r=ht.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),jt[i]=r,r)}function g(t,e){for(var n,i,r=[],o=0,a=t.length;o<a;o++)i=t[o],i.style&&(n=i.style.display,e?("none"===n&&(r[o]=At.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&Ft(i)&&(r[o]=f(i))):"none"!==n&&(r[o]="none",At.set(i,"display",n)));for(o=0;o<a;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}function m(t,e){var n="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&ht.nodeName(t,e)?ht.merge([t],n):n}function v(t,e){for(var n=0,i=t.length;n<i;n++)At.set(t[n],"globalEval",!e||At.get(e[n],"globalEval"))}function y(t,e,n,i,r){for(var o,a,s,l,u,c,d=e.createDocumentFragment(),h=[],p=0,f=t.length;p<f;p++)if(o=t[p],o||0===o)if("object"===ht.type(o))ht.merge(h,o.nodeType?[o]:o);else if(qt.test(o)){for(a=a||d.appendChild(e.createElement("div")),s=(Gt.exec(o)||["",""])[1].toLowerCase(),l=Ut[s]||Ut._default,a.innerHTML=l[1]+ht.htmlPrefilter(o)+l[2],c=l[0];c--;)a=a.lastChild;ht.merge(h,a.childNodes),a=d.firstChild,a.textContent=""}else h.push(e.createTextNode(o));for(d.textContent="",p=0;o=h[p++];)if(i&&ht.inArray(o,i)>-1)r&&r.push(o);else if(u=ht.contains(o.ownerDocument,o),a=m(d.appendChild(o),"script"),u&&v(a),n)for(c=0;o=a[c++];)Vt.test(o.type||"")&&n.push(o);return d}function b(){return!0}function w(){return!1}function _(){try{return J.activeElement}catch(t){}}function x(t,e,n,i,r,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)x(t,s,n,i,e[s],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=w;else if(!r)return t;return 1===o&&(a=r,r=function(t){return ht().off(t),a.apply(this,arguments)},r.guid=a.guid||(a.guid=ht.guid++)),t.each(function(){ht.event.add(this,e,r,i,n)})}function k(t,e){return ht.nodeName(t,"table")&&ht.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t:t}function C(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function $(t){var e=ee.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function M(t,e){var n,i,r,o,a,s,l,u;if(1===e.nodeType){if(At.hasData(t)&&(o=At.access(t),a=At.set(e,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(n=0,i=u[r].length;n<i;n++)ht.event.add(e,r,u[r][n])}Nt.hasData(t)&&(s=Nt.access(t),l=ht.extend({},s),Nt.set(e,l))}}function S(t,e){var n=e.nodeName.toLowerCase();"input"===n&&zt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function T(t,e,i,r){e=nt.apply([],e);var o,a,s,l,u,c,d=0,h=t.length,p=h-1,f=e[0],g=ht.isFunction(f);if(g||h>1&&"string"==typeof f&&!ct.checkClone&&te.test(f))return t.each(function(n){var o=t.eq(n);g&&(e[0]=f.call(this,n,o.html())),T(o,e,i,r)});if(h&&(o=y(e,t[0].ownerDocument,!1,t,r),a=o.firstChild,1===o.childNodes.length&&(o=a),a||r)){for(s=ht.map(m(o,"script"),C),l=s.length;d<h;d++)u=o,d!==p&&(u=ht.clone(u,!0,!0),l&&ht.merge(s,m(u,"script"))),i.call(t[d],u,d);if(l)for(c=s[s.length-1].ownerDocument,ht.map(s,$),d=0;d<l;d++)u=s[d],Vt.test(u.type||"")&&!At.access(u,"globalEval")&&ht.contains(c,u)&&(u.src?ht._evalUrl&&ht._evalUrl(u.src):n(u.textContent.replace(ne,""),c))}return t}function D(t,e,n){for(var i,r=e?ht.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||ht.cleanData(m(i)),i.parentNode&&(n&&ht.contains(i.ownerDocument,i)&&v(m(i,"script")),i.parentNode.removeChild(i));return t}function E(t,e,n){var i,r,o,a,s=t.style;return n=n||oe(t),n&&(a=n.getPropertyValue(e)||n[e],""!==a||ht.contains(t.ownerDocument,t)||(a=ht.style(t,e)),!ct.pixelMarginRight()&&re.test(a)&&ie.test(e)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function O(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function P(t){if(t in ce)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=ue.length;n--;)if(t=ue[n]+e,t in ce)return t}function A(t,e,n){var i=Bt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function N(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=ht.css(t,n+Ht[o],!0,r)),i?("content"===n&&(a-=ht.css(t,"padding"+Ht[o],!0,r)),"margin"!==n&&(a-=ht.css(t,"border"+Ht[o]+"Width",!0,r))):(a+=ht.css(t,"padding"+Ht[o],!0,r),"padding"!==n&&(a+=ht.css(t,"border"+Ht[o]+"Width",!0,r)));return a}function I(t,e,n){var i,r=!0,o=oe(t),a="border-box"===ht.css(t,"boxSizing",!1,o);if(t.getClientRects().length&&(i=t.getBoundingClientRect()[e]),i<=0||null==i){if(i=E(t,e,o),(i<0||null==i)&&(i=t.style[e]),re.test(i))return i;r=a&&(ct.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+N(t,e,n||(a?"border":"content"),r,o)+"px"}function R(t,e,n,i,r){return new R.prototype.init(t,e,n,i,r)}function L(){he&&(t.requestAnimationFrame(L),ht.fx.tick())}function B(){return t.setTimeout(function(){de=void 0}),de=ht.now()}function H(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)n=Ht[i],r["margin"+n]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function F(t,e,n){for(var i,r=(z.tweeners[e]||[]).concat(z.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,e,t))return i}function W(t,e,n){var i,r,o,a,s,l,u,c,d="width"in e||"height"in e,h=this,p={},f=t.style,m=t.nodeType&&Ft(t),v=At.get(t,"fxshow");n.queue||(a=ht._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,ht.queue(t,"fx").length||a.empty.fire()})}));for(i in e)if(r=e[i],pe.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!v||void 0===v[i])continue;m=!0}p[i]=v&&v[i]||ht.style(t,i)}if(l=!ht.isEmptyObject(e),l||!ht.isEmptyObject(p)){d&&1===t.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=v&&v.display,null==u&&(u=At.get(t,"display")),c=ht.css(t,"display"),"none"===c&&(u?c=u:(g([t],!0),u=t.style.display||u,c=ht.css(t,"display"),g([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===ht.css(t,"float")&&(l||(h.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1;for(i in p)l||(v?"hidden"in v&&(m=v.hidden):v=At.access(t,"fxshow",{display:u}),o&&(v.hidden=!m),m&&g([t],!0),h.done(function(){m||g([t]),At.remove(t,"fxshow");for(i in p)ht.style(t,i,p[i])})),l=F(m?v[i]:0,i,h),i in v||(v[i]=l.start,m&&(l.end=l.start,l.start=0))}}function j(t,e){var n,i,r,o,a;for(n in t)if(i=ht.camelCase(n),r=e[i],o=t[n],ht.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),a=ht.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function z(t,e,n){var i,r,o=0,a=z.prefilters.length,s=ht.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=de||B(),n=Math.max(0,u.startTime+u.duration-e),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;a<l;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,n]),o<1&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:ht.extend({},e),opts:ht.extend(!0,{specialEasing:{},easing:ht.easing._default},n),originalProperties:e,originalOptions:n,startTime:de||B(),duration:n.duration,tweens:[],createTween:function(e,n){var i=ht.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(s.notifyWith(t,[u,1,0]),s.resolveWith(t,[u,e])):s.rejectWith(t,[u,e]),this}}),c=u.props;for(j(c,u.opts.specialEasing);o<a;o++)if(i=z.prefilters[o].call(u,t,c,u.opts))return ht.isFunction(i.stop)&&(ht._queueHooks(u.elem,u.opts.queue).stop=ht.proxy(i.stop,i)),i;return ht.map(c,F,u),ht.isFunction(u.opts.start)&&u.opts.start.call(t,u),ht.fx.timer(ht.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function G(t){return t.getAttribute&&t.getAttribute("class")||""}function V(t,e,n,i){var r;if(ht.isArray(e))ht.each(e,function(e,r){n||Me.test(t)?i(t,r):V(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)});else if(n||"object"!==ht.type(e))i(t,e);else for(r in e)V(t+"["+r+"]",e[r],n,i)}function U(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(Tt)||[];if(ht.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function q(t,e,n,i){function r(s){var l;return o[s]=!0,ht.each(t[s]||[],function(t,s){var u=s(e,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=t===Be;return r(e.dataTypes[0])||!o["*"]&&r("*")}function Y(t,e){var n,i,r=ht.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&ht.extend(!0,t,i),t}function K(t,e,n){for(var i,r,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}function Z(t,e,n,i){var r,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function X(t){return ht.isWindow(t)?t:9===t.nodeType&&t.defaultView}var Q=[],J=t.document,tt=Object.getPrototypeOf,et=Q.slice,nt=Q.concat,it=Q.push,rt=Q.indexOf,ot={},at=ot.toString,st=ot.hasOwnProperty,lt=st.toString,ut=lt.call(Object),ct={},dt="3.1.0",ht=function(t,e){return new ht.fn.init(t,e)},pt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ft=/^-ms-/,gt=/-([a-z])/g,mt=function(t,e){return e.toUpperCase()};ht.fn=ht.prototype={jquery:dt,constructor:ht,length:0,toArray:function(){return et.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:et.call(this)},pushStack:function(t){var e=ht.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return ht.each(this,t)},map:function(t){return this.pushStack(ht.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(et.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:it,sort:Q.sort,splice:Q.splice},ht.extend=ht.fn.extend=function(){var t,e,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||ht.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],i=t[e],a!==i&&(u&&i&&(ht.isPlainObject(i)||(r=ht.isArray(i)))?(r?(r=!1,o=n&&ht.isArray(n)?n:[]):o=n&&ht.isPlainObject(n)?n:{},a[e]=ht.extend(u,o,i)):void 0!==i&&(a[e]=i));return a},ht.extend({expando:"jQuery"+(dt+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===ht.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=ht.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==at.call(t)||(e=tt(t))&&(n=st.call(e,"constructor")&&e.constructor,"function"!=typeof n||lt.call(n)!==ut))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?ot[at.call(t)]||"object":typeof t},globalEval:function(t){n(t)},camelCase:function(t){return t.replace(ft,"ms-").replace(gt,mt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,r=0;if(i(t))for(n=t.length;r<n&&e.call(t[r],r,t[r])!==!1;r++);else for(r in t)if(e.call(t[r],r,t[r])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(pt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?ht.merge(n,"string"==typeof t?[t]:t):it.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:rt.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,a=t.length,s=!n;o<a;o++)i=!e(t[o],o),i!==s&&r.push(t[o]);return r},map:function(t,e,n){var r,o,a=0,s=[];if(i(t))for(r=t.length;a<r;a++)o=e(t[a],a,n),null!=o&&s.push(o);else for(a in t)o=e(t[a],a,n),null!=o&&s.push(o);return nt.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),ht.isFunction(t))return i=et.call(arguments,2),r=function(){return t.apply(e||this,i.concat(et.call(arguments)))},r.guid=t.guid=t.guid||ht.guid++,r},now:Date.now,support:ct}),"function"==typeof Symbol&&(ht.fn[Symbol.iterator]=Q[Symbol.iterator]),ht.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){ot["[object "+e+"]"]=e.toLowerCase()});var vt=function(t){function e(t,e,n,i){var r,o,a,s,l,u,c,h=e&&e.ownerDocument,f=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==f&&9!==f&&11!==f)return n;if(!i&&((e?e.ownerDocument||e:W)!==A&&P(e),e=e||A,I)){if(11!==f&&(l=vt.exec(t)))if(r=l[1]){if(9===f){if(!(a=e.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(h&&(a=h.getElementById(r))&&H(e,a)&&a.id===r)return n.push(a),n}else{if(l[2])return Q.apply(n,e.getElementsByTagName(t)),n;if((r=l[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Q.apply(n,e.getElementsByClassName(r)),n}if(x.qsa&&!U[t+" "]&&(!R||!R.test(t))){if(1!==f)h=e,c=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(_t,xt):e.setAttribute("id",s=F),u=M(t),o=u.length;o--;)u[o]="#"+s+" "+p(u[o]);c=u.join(","),h=yt.test(t)&&d(e.parentNode)||e}if(c)try{return Q.apply(n,h.querySelectorAll(c)),n}catch(g){}finally{s===F&&e.removeAttribute("id")}}}return T(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>k.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[F]=!0,t}function r(t){var e=A.createElement("fieldset");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=n.length;i--;)k.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return function(e){return"label"in e&&e.disabled===t||"form"in e&&e.disabled===t||"form"in e&&e.disabled===!1&&(e.isDisabled===t||e.isDisabled!==!t&&("label"in e||!Ct(e))!==t)}}function c(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function p(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=e.next,o=r||i,a=n&&"parentNode"===o,s=z++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||a)return t(e,n,r)}:function(e,n,l){var u,c,d,h=[j,s];if(l){for(;e=e[i];)if((1===e.nodeType||a)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||a)if(d=e[F]||(e[F]={}),c=d[e.uniqueID]||(d[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===j&&u[1]===s)return h[2]=u[2];if(c[o]=h,h[2]=t(e,n,l))return!0}}}function g(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var r=0,o=n.length;r<o;r++)e(t,n[r],i);return i}function v(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),u&&e.push(s)));return a}function y(t,e,n,r,o,a){return r&&!r[F]&&(r=y(r)),o&&!o[F]&&(o=y(o,a)),i(function(i,a,s,l){var u,c,d,h=[],p=[],f=a.length,g=i||m(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?g:v(g,h,t,s,l),b=n?o||(i?t:f||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(u=v(b,p),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?tt(i,d):h[c])>-1&&(i[u]=!(a[u]=d))}}else b=v(b===a?b.splice(f,b.length):b),o?o(null,a,b,l):Q.apply(a,b)})}function b(t){for(var e,n,i,r=t.length,o=k.relative[t[0].type],a=o||k.relative[" "],s=o?1:0,l=f(function(t){return t===e},a,!0),u=f(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,i){var r=!o&&(i||n!==D)||((e=n).nodeType?l(t,n,i):u(t,n,i));return e=null,r}];s<r;s++)if(n=k.relative[t[s].type])c=[f(g(c),n)];else{if(n=k.filter[t[s].type].apply(null,t[s].matches),n[F]){for(i=++s;i<r&&!k.relative[t[i].type];i++);return y(s>1&&g(c),s>1&&p(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<i&&b(t.slice(s,i)),i<r&&b(t=t.slice(i)),i<r&&p(t))}c.push(n)}return g(c)}function w(t,n){var r=n.length>0,o=t.length>0,a=function(i,a,s,l,u){var c,d,h,p=0,f="0",g=i&&[],m=[],y=D,b=i||o&&k.find.TAG("*",u),w=j+=null==y?1:Math.random()||.1,_=b.length;for(u&&(D=a===A||a||u);f!==_&&null!=(c=b[f]);f++){if(o&&c){for(d=0,a||c.ownerDocument===A||(P(c),s=!I);h=t[d++];)if(h(c,a||A,s)){l.push(c);break}u&&(j=w)}r&&((c=!h&&c)&&p--,i&&g.push(c))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(g,m,a,s);if(i){if(p>0)for(;f--;)g[f]||m[f]||(m[f]=Z.call(l));m=v(m)}Q.apply(l,m),u&&!i&&m.length>0&&p+n.length>1&&e.uniqueSort(l)}return u&&(j=w,D=y),g};return r?i(a):a}var _,x,k,C,$,M,S,T,D,E,O,P,A,N,I,R,L,B,H,F="sizzle"+1*new Date,W=t.document,j=0,z=0,G=n(),V=n(),U=n(),q=function(t,e){return t===e&&(O=!0),0},Y={}.hasOwnProperty,K=[],Z=K.pop,X=K.push,Q=K.push,J=K.slice,tt=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",rt="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",ot=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+rt+")*)|.*)\\)|)",at=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),ut=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(ot),ht=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+rt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),wt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_t=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,xt=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},kt=function(){P()},Ct=f(function(t){return t.disabled===!0},{dir:"parentNode",next:"legend"});try{Q.apply(K=J.call(W.childNodes),W.childNodes),K[W.childNodes.length].nodeType}catch($t){Q={apply:K.length?function(t,e){X.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},$=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},P=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:W;return i!==A&&9===i.nodeType&&i.documentElement?(A=i,N=A.documentElement,I=!$(A),W!==A&&(n=A.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",kt,!1):n.attachEvent&&n.attachEvent("onunload",kt)),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(A.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=mt.test(A.getElementsByClassName),x.getById=r(function(t){return N.appendChild(t).id=F,!A.getElementsByName||!A.getElementsByName(F).length}),x.getById?(k.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&I){var n=e.getElementById(t);return n?[n]:[]}},k.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete k.find.ID,k.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),k.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},k.find.CLASS=x.getElementsByClassName&&function(t,e){if("undefined"!=typeof e.getElementsByClassName&&I)return e.getElementsByClassName(t)},L=[],R=[],(x.qsa=mt.test(A.querySelectorAll))&&(r(function(t){N.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||R.push(".#.+[+~]")}),r(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=A.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),N.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(x.matchesSelector=mt.test(B=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(t){x.disconnectedMatch=B.call(t,"*"),B.call(t,"[s!='']:x"),L.push("!=",ot)}),R=R.length&&new RegExp(R.join("|")),L=L.length&&new RegExp(L.join("|")),e=mt.test(N.compareDocumentPosition),H=e||mt.test(N.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return O=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===A||t.ownerDocument===W&&H(W,t)?-1:e===A||e.ownerDocument===W&&H(W,e)?1:E?tt(E,t)-tt(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return O=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],l=[e];if(!r||!o)return t===A?-1:e===A?1:r?-1:o?1:E?tt(E,t)-tt(E,e):0;if(r===o)return a(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===W?-1:l[i]===W?1:0},A):A},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==A&&P(t),n=n.replace(ct,"='$1']"),x.matchesSelector&&I&&!U[n+" "]&&(!L||!L.test(n))&&(!R||!R.test(n)))try{var i=B.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&P(t),H(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&P(t);var n=k.attrHandle[e.toLowerCase()],i=n&&Y.call(k.attrHandle,e.toLowerCase())?n(t,e,!I):void 0;return void 0!==i?i:x.attributes||!I?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.escape=function(t){return(t+"").replace(_t,xt)},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(O=!x.detectDuplicates,E=!x.sortStable&&t.slice(0),t.sort(q),O){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return E=null,t},C=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=C(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=C(e);return n},k=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=M(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(at," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,p,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(h=m,d=h[F]||(h[F]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[t]||[],p=u[0]===j&&u[1],b=p&&u[2],h=p&&m.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===e){c[t]=[j,p,b];break}}else if(y&&(h=e,d=h[F]||(h[F]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),u=c[t]||[],p=u[0]===j&&u[1],b=p),b===!1)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&(d=h[F]||(h[F]={}),c=d[h.uniqueID]||(d[h.uniqueID]={}),c[t]=[j,b]),h!==e)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(t,n){var r,o=k.pseudos[t]||k.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[F]?o(n):o.length>1?(r=[t,t,"",n],k.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=tt(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=S(t.replace(st,"$1"));return r[F]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||C(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var n;do if(n=I?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:u(!1),disabled:u(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){
for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!k.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:c(function(){return[0]}),last:c(function(t,e){return[e-1]}),eq:c(function(t,e,n){return[n<0?n+e:n]}),even:c(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:c(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:c(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:c(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},k.pseudos.nth=k.pseudos.eq;for(_ in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})k.pseudos[_]=s(_);for(_ in{submit:!0,reset:!0})k.pseudos[_]=l(_);return h.prototype=k.filters=k.pseudos,k.setFilters=new h,M=e.tokenize=function(t,n){var i,r,o,a,s,l,u,c=V[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=k.preFilter;s;){i&&!(r=lt.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ut.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length));for(a in k.filter)!(r=pt[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):V(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],r=[],o=U[t+" "];if(!o){for(e||(e=M(t)),n=e.length;n--;)o=b(e[n]),o[F]?i.push(o):r.push(o);o=U(t,w(r,i)),o.selector=t}return o},T=e.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,c=!i&&M(t=u.selector||t);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===e.nodeType&&I&&k.relative[o[1].type]){if(e=(k.find.ID(a.matches[0].replace(bt,wt),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!k.relative[s=a.type]);)if((l=k.find[s])&&(i=l(a.matches[0].replace(bt,wt),yt.test(o[0].type)&&d(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&p(o),!t)return Q.apply(n,i),n;break}}return(u||S(t,c))(i,e,!I,n,!e||yt.test(t)&&d(e.parentNode)||e),n},x.sortStable=F.split("").sort(q).join("")===F,x.detectDuplicates=!!O,P(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(A.createElement("fieldset"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);ht.find=vt,ht.expr=vt.selectors,ht.expr[":"]=ht.expr.pseudos,ht.uniqueSort=ht.unique=vt.uniqueSort,ht.text=vt.getText,ht.isXMLDoc=vt.isXML,ht.contains=vt.contains,ht.escapeSelector=vt.escape;var yt=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&ht(t).is(n))break;i.push(t)}return i},bt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},wt=ht.expr.match.needsContext,_t=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,xt=/^.[^:#\[\.,]*$/;ht.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?ht.find.matchesSelector(i,t)?[i]:[]:ht.find.matches(t,ht.grep(e,function(t){return 1===t.nodeType}))},ht.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(ht(t).filter(function(){for(e=0;e<i;e++)if(ht.contains(r[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)ht.find(t,r[e],n);return i>1?ht.uniqueSort(n):n},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&wt.test(t)?ht(t):t||[],!1).length}});var kt,Ct=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,$t=ht.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||kt,"string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:Ct.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof ht?e[0]:e,ht.merge(this,ht.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:J,!0)),_t.test(i[1])&&ht.isPlainObject(e))for(i in e)ht.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return r=J.getElementById(i[2]),r&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):ht.isFunction(t)?void 0!==n.ready?n.ready(t):t(ht):ht.makeArray(t,this)};$t.prototype=ht.fn,kt=ht(J);var Mt=/^(?:parents|prev(?:Until|All))/,St={children:!0,contents:!0,next:!0,prev:!0};ht.fn.extend({has:function(t){var e=ht(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(ht.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,r=this.length,o=[],a="string"!=typeof t&&ht(t);if(!wt.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&ht.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?ht.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?rt.call(ht(t),this[0]):rt.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(ht.uniqueSort(ht.merge(this.get(),ht(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),ht.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,n){return yt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,n){return yt(t,"nextSibling",n)},prevUntil:function(t,e,n){return yt(t,"previousSibling",n)},siblings:function(t){return bt((t.parentNode||{}).firstChild,t)},children:function(t){return bt(t.firstChild)},contents:function(t){return t.contentDocument||ht.merge([],t.childNodes)}},function(t,e){ht.fn[t]=function(n,i){var r=ht.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=ht.filter(i,r)),this.length>1&&(St[t]||ht.uniqueSort(r),Mt.test(t)&&r.reverse()),this.pushStack(r)}});var Tt=/\S+/g;ht.Callbacks=function(t){t="string"==typeof t?a(t):ht.extend({},t);var e,n,i,r,o=[],s=[],l=-1,u=function(){for(r=t.once,i=e=!0;s.length;l=-1)for(n=s.shift();++l<o.length;)o[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!e&&(l=o.length-1,s.push(n)),function i(e){ht.each(e,function(e,n){ht.isFunction(n)?t.unique&&c.has(n)||o.push(n):n&&n.length&&"string"!==ht.type(n)&&i(n)})}(arguments),n&&!e&&u()),this},remove:function(){return ht.each(arguments,function(t,e){for(var n;(n=ht.inArray(e,o,n))>-1;)o.splice(n,1),n<=l&&l--}),this},has:function(t){return t?ht.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},ht.extend({Deferred:function(e){var n=[["notify","progress",ht.Callbacks("memory"),ht.Callbacks("memory"),2],["resolve","done",ht.Callbacks("once memory"),ht.Callbacks("once memory"),0,"resolved"],["reject","fail",ht.Callbacks("once memory"),ht.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(t){return r.then(null,t)},pipe:function(){var t=arguments;return ht.Deferred(function(e){ht.each(n,function(n,i){var r=ht.isFunction(t[i[4]])&&t[i[4]];o[i[1]](function(){var t=r&&r.apply(this,arguments);t&&ht.isFunction(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[i[0]+"With"](this,r?[t]:arguments)})}),t=null}).promise()},then:function(e,i,r){function o(e,n,i,r){return function(){var u=this,c=arguments,d=function(){var t,d;if(!(e<a)){if(t=i.apply(u,c),t===n.promise())throw new TypeError("Thenable self-resolution");d=t&&("object"==typeof t||"function"==typeof t)&&t.then,ht.isFunction(d)?r?d.call(t,o(a,n,s,r),o(a,n,l,r)):(a++,d.call(t,o(a,n,s,r),o(a,n,l,r),o(a,n,s,n.notifyWith))):(i!==s&&(u=void 0,c=[t]),(r||n.resolveWith)(u,c))}},h=r?d:function(){try{d()}catch(t){ht.Deferred.exceptionHook&&ht.Deferred.exceptionHook(t,h.stackTrace),e+1>=a&&(i!==l&&(u=void 0,c=[t]),n.rejectWith(u,c))}};e?h():(ht.Deferred.getStackHook&&(h.stackTrace=ht.Deferred.getStackHook()),t.setTimeout(h))}}var a=0;return ht.Deferred(function(t){n[0][3].add(o(0,t,ht.isFunction(r)?r:s,t.notifyWith)),n[1][3].add(o(0,t,ht.isFunction(e)?e:s)),n[2][3].add(o(0,t,ht.isFunction(i)?i:l))}).promise()},promise:function(t){return null!=t?ht.extend(t,r):r}},o={};return ht.each(n,function(t,e){var a=e[2],s=e[5];r[e[1]]=a.add,s&&a.add(function(){i=s},n[3-t][2].disable,n[0][2].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=et.call(arguments),o=ht.Deferred(),a=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?et.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(u(t,o.done(a(n)).resolve,o.reject),"pending"===o.state()||ht.isFunction(r[n]&&r[n].then)))return o.then();for(;n--;)u(r[n],a(n),o.reject);return o.promise()}});var Dt=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ht.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Dt.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},ht.readyException=function(e){t.setTimeout(function(){throw e})};var Et=ht.Deferred();ht.fn.ready=function(t){return Et.then(t)["catch"](function(t){ht.readyException(t)}),this},ht.extend({isReady:!1,readyWait:1,holdReady:function(t){t?ht.readyWait++:ht.ready(!0)},ready:function(t){(t===!0?--ht.readyWait:ht.isReady)||(ht.isReady=!0,t!==!0&&--ht.readyWait>0||Et.resolveWith(J,[ht]))}}),ht.ready.then=Et.then,"complete"===J.readyState||"loading"!==J.readyState&&!J.documentElement.doScroll?t.setTimeout(ht.ready):(J.addEventListener("DOMContentLoaded",c),t.addEventListener("load",c));var Ot=function(t,e,n,i,r,o,a){var s=0,l=t.length,u=null==n;if("object"===ht.type(n)){r=!0;for(s in n)Ot(t,e,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,ht.isFunction(i)||(a=!0),u&&(a?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(ht(t),n)})),e))for(;s<l;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return r?t:u?e.call(t):l?e(t[0],n):o},Pt=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};d.uid=1,d.prototype={cache:function(t){var e=t[this.expando];return e||(e={},Pt(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[ht.camelCase(e)]=n;else for(i in e)r[ht.camelCase(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][ht.camelCase(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){ht.isArray(e)?e=e.map(ht.camelCase):(e=ht.camelCase(e),e=e in i?[e]:e.match(Tt)||[]),n=e.length;for(;n--;)delete i[e[n]]}(void 0===e||ht.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!ht.isEmptyObject(e)}};var At=new d,Nt=new d,It=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Rt=/[A-Z]/g;ht.extend({hasData:function(t){return Nt.hasData(t)||At.hasData(t)},data:function(t,e,n){return Nt.access(t,e,n)},removeData:function(t,e){Nt.remove(t,e)},_data:function(t,e,n){return At.access(t,e,n)},_removeData:function(t,e){At.remove(t,e)}}),ht.fn.extend({data:function(t,e){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(r=Nt.get(o),1===o.nodeType&&!At.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=ht.camelCase(i.slice(5)),h(o,i,r[i])));At.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){Nt.set(this,t)}):Ot(this,function(e){var n;if(o&&void 0===e){if(n=Nt.get(o,t),void 0!==n)return n;if(n=h(o,t),void 0!==n)return n}else this.each(function(){Nt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){Nt.remove(this,t)})}}),ht.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=At.get(t,e),n&&(!i||ht.isArray(n)?i=At.access(t,e,ht.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=ht.queue(t,e),i=n.length,r=n.shift(),o=ht._queueHooks(t,e),a=function(){ht.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return At.get(t,n)||At.access(t,n,{empty:ht.Callbacks("once memory").add(function(){At.remove(t,[e+"queue",n])})})}}),ht.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?ht.queue(this[0],t):void 0===e?this:this.each(function(){var n=ht.queue(this,t,e);ht._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&ht.dequeue(this,t)})},dequeue:function(t){return this.each(function(){ht.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=ht.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=At.get(o[a],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(e)}});var Lt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Bt=new RegExp("^(?:([+-])=|)("+Lt+")([a-z%]*)$","i"),Ht=["Top","Right","Bottom","Left"],Ft=function(t,e){return t=e||t,"none"===t.style.display||""===t.style.display&&ht.contains(t.ownerDocument,t)&&"none"===ht.css(t,"display")},Wt=function(t,e,n,i){var r,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=a[o];return r},jt={};ht.fn.extend({show:function(){return g(this,!0)},hide:function(){return g(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ft(this)?ht(this).show():ht(this).hide()})}});var zt=/^(?:checkbox|radio)$/i,Gt=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Vt=/^$|\/(?:java|ecma)script/i,Ut={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ut.optgroup=Ut.option,Ut.tbody=Ut.tfoot=Ut.colgroup=Ut.caption=Ut.thead,Ut.th=Ut.td;var qt=/<|&#?\w+;/;!function(){var t=J.createDocumentFragment(),e=t.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ct.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",ct.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Yt=J.documentElement,Kt=/^key/,Zt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Xt=/^([^.]*)(?:\.(.+)|)/;ht.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,p,f,g,m=At.get(t);if(m)for(n.handler&&(o=n,n=o.handler,r=o.selector),r&&ht.find.matchesSelector(Yt,r),n.guid||(n.guid=ht.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return"undefined"!=typeof ht&&ht.event.triggered!==e.type?ht.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(Tt)||[""],u=e.length;u--;)s=Xt.exec(e[u])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p&&(d=ht.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=ht.event.special[p]||{},c=ht.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&ht.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||(h=l[p]=[],h.delegateCount=0,d.setup&&d.setup.call(t,i,f,a)!==!1||t.addEventListener&&t.addEventListener(p,a)),d.add&&(d.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),ht.event.global[p]=!0)},remove:function(t,e,n,i,r){var o,a,s,l,u,c,d,h,p,f,g,m=At.hasData(t)&&At.get(t);if(m&&(l=m.events)){for(e=(e||"").match(Tt)||[""],u=e.length;u--;)if(s=Xt.exec(e[u])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(d=ht.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=l[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)c=h[o],!r&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(h.splice(o,1),c.selector&&h.delegateCount--,d.remove&&d.remove.call(t,c));a&&!h.length&&(d.teardown&&d.teardown.call(t,f,m.handle)!==!1||ht.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)ht.event.remove(t,p+e[u],n,i,!0);ht.isEmptyObject(l)&&At.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,a,s=ht.event.fix(t),l=new Array(arguments.length),u=(At.get(this,"events")||{})[s.type]||[],c=ht.event.special[s.type]||{};for(l[0]=s,e=1;e<arguments.length;e++)l[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(a=ht.event.handlers.call(this,s,u),e=0;(r=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,i=((ht.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l),void 0!==i&&(s.result=i)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,i,r,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],n=0;n<s;n++)o=e[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?ht(r,this).index(l)>-1:ht.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},addProp:function(t,e){Object.defineProperty(ht.Event.prototype,t,{enumerable:!0,configurable:!0,get:ht.isFunction(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[ht.expando]?t:new ht.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==_()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===_()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&ht.nodeName(this,"input"))return this.click(),!1},_default:function(t){return ht.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},ht.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},ht.Event=function(t,e){return this instanceof ht.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?b:w,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&ht.extend(this,e),this.timeStamp=t&&t.timeStamp||ht.now(),void(this[ht.expando]=!0)):new ht.Event(t,e)},ht.Event.prototype={constructor:ht.Event,isDefaultPrevented:w,isPropagationStopped:w,isImmediatePropagationStopped:w,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=b,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=b,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=b,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},ht.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Kt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&Zt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},ht.event.addProp),ht.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){ht.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||ht.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ht.fn.extend({on:function(t,e,n,i){return x(this,t,e,n,i)},one:function(t,e,n,i){return x(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,ht(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=w),this.each(function(){ht.event.remove(this,t,n,e)})}});var Qt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Jt=/<script|<style|<link/i,te=/checked\s*(?:[^=]|=\s*.checked.)/i,ee=/^true\/(.*)/,ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ht.extend({htmlPrefilter:function(t){return t.replace(Qt,"<$1></$2>")},clone:function(t,e,n){var i,r,o,a,s=t.cloneNode(!0),l=ht.contains(t.ownerDocument,t);if(!(ct.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||ht.isXMLDoc(t)))for(a=m(s),o=m(t),i=0,r=o.length;i<r;i++)S(o[i],a[i]);if(e)if(n)for(o=o||m(t),a=a||m(s),i=0,r=o.length;i<r;i++)M(o[i],a[i]);else M(t,s);return a=m(s,"script"),a.length>0&&v(a,!l&&m(t,"script")),s},cleanData:function(t){for(var e,n,i,r=ht.event.special,o=0;void 0!==(n=t[o]);o++)if(Pt(n)){if(e=n[At.expando]){if(e.events)for(i in e.events)r[i]?ht.event.remove(n,i):ht.removeEvent(n,i,e.handle);n[At.expando]=void 0}n[Nt.expando]&&(n[Nt.expando]=void 0)}}}),ht.fn.extend({detach:function(t){return D(this,t,!0)},remove:function(t){return D(this,t)},text:function(t){return Ot(this,function(t){return void 0===t?ht.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=k(this,t);e.appendChild(t)}})},prepend:function(){return T(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=k(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return T(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(ht.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return ht.clone(this,t,e)})},html:function(t){return Ot(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Jt.test(t)&&!Ut[(Gt.exec(t)||["",""])[1].toLowerCase()]){t=ht.htmlPrefilter(t);try{for(;n<i;n++)e=this[n]||{},1===e.nodeType&&(ht.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return T(this,arguments,function(e){var n=this.parentNode;ht.inArray(this,t)<0&&(ht.cleanData(m(this)),n&&n.replaceChild(e,this))},t)}}),ht.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){ht.fn[t]=function(t){for(var n,i=[],r=ht(t),o=r.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),ht(r[a])[e](n),it.apply(i,n.get());return this.pushStack(i)}});var ie=/^margin/,re=new RegExp("^("+Lt+")(?!px)[a-z%]+$","i"),oe=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)};!function(){function e(){if(s){s.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",Yt.appendChild(a);var e=t.getComputedStyle(s);n="1%"!==e.top,o="2px"===e.marginLeft,i="4px"===e.width,s.style.marginRight="50%",r="4px"===e.marginRight,Yt.removeChild(a),s=null}}var n,i,r,o,a=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",ct.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),ht.extend(ct,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return e(),i},pixelMarginRight:function(){return e(),r},reliableMarginLeft:function(){return e(),o}}))}();var ae=/^(none|table(?!-c[ea]).+)/,se={position:"absolute",visibility:"hidden",display:"block"},le={letterSpacing:"0",fontWeight:"400"},ue=["Webkit","Moz","ms"],ce=J.createElement("div").style;ht.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=E(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,a,s=ht.camelCase(e),l=t.style;return e=ht.cssProps[s]||(ht.cssProps[s]=P(s)||s),a=ht.cssHooks[e]||ht.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(t,!1,i))?r:l[e]:(o=typeof n,"string"===o&&(r=Bt.exec(n))&&r[1]&&(n=p(t,e,r),o="number"),void(null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(ht.cssNumber[s]?"":"px")),ct.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l[e]=n))))}},css:function(t,e,n,i){var r,o,a,s=ht.camelCase(e);return e=ht.cssProps[s]||(ht.cssProps[s]=P(s)||s),a=ht.cssHooks[e]||ht.cssHooks[s],a&&"get"in a&&(r=a.get(t,!0,n)),void 0===r&&(r=E(t,e,i)),"normal"===r&&e in le&&(r=le[e]),""===n||n?(o=parseFloat(r),n===!0||isFinite(o)?o||0:r):r}}),ht.each(["height","width"],function(t,e){ht.cssHooks[e]={get:function(t,n,i){if(n)return!ae.test(ht.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?I(t,e,i):Wt(t,se,function(){return I(t,e,i)})},set:function(t,n,i){var r,o=i&&oe(t),a=i&&N(t,e,i,"border-box"===ht.css(t,"boxSizing",!1,o),o);return a&&(r=Bt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=ht.css(t,e)),A(t,n,a)}}}),ht.cssHooks.marginLeft=O(ct.reliableMarginLeft,function(t,e){if(e)return(parseFloat(E(t,"marginLeft"))||t.getBoundingClientRect().left-Wt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),ht.each({margin:"",padding:"",border:"Width"},function(t,e){ht.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+Ht[i]+e]=o[i]||o[i-2]||o[0];return r}},ie.test(t)||(ht.cssHooks[t+e].set=A)}),ht.fn.extend({css:function(t,e){return Ot(this,function(t,e,n){var i,r,o={},a=0;if(ht.isArray(e)){for(i=oe(t),r=e.length;a<r;a++)o[e[a]]=ht.css(t,e[a],!1,i);return o}return void 0!==n?ht.style(t,e,n):ht.css(t,e)},t,e,arguments.length>1)}}),ht.Tween=R,R.prototype={constructor:R,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||ht.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(ht.cssNumber[n]?"":"px")},cur:function(){var t=R.propHooks[this.prop];return t&&t.get?t.get(this):R.propHooks._default.get(this)},run:function(t){var e,n=R.propHooks[this.prop];return this.options.duration?this.pos=e=ht.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=ht.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){ht.fx.step[t.prop]?ht.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[ht.cssProps[t.prop]]&&!ht.cssHooks[t.prop]?t.elem[t.prop]=t.now:ht.style(t.elem,t.prop,t.now+t.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},ht.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},ht.fx=R.prototype.init,ht.fx.step={};var de,he,pe=/^(?:toggle|show|hide)$/,fe=/queueHooks$/;ht.Animation=ht.extend(z,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return p(n.elem,t,Bt.exec(e),n),n}]},tweener:function(t,e){ht.isFunction(t)?(e=t,t=["*"]):t=t.match(Tt);for(var n,i=0,r=t.length;i<r;i++)n=t[i],z.tweeners[n]=z.tweeners[n]||[],z.tweeners[n].unshift(e)},prefilters:[W],prefilter:function(t,e){e?z.prefilters.unshift(t):z.prefilters.push(t)}}),ht.speed=function(t,e,n){var i=t&&"object"==typeof t?ht.extend({},t):{complete:n||!n&&e||ht.isFunction(t)&&t,duration:t,easing:n&&e||e&&!ht.isFunction(e)&&e};return ht.fx.off||J.hidden?i.duration=0:i.duration="number"==typeof i.duration?i.duration:i.duration in ht.fx.speeds?ht.fx.speeds[i.duration]:ht.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){ht.isFunction(i.old)&&i.old.call(this),i.queue&&ht.dequeue(this,i.queue)},i},ht.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ft).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=ht.isEmptyObject(t),o=ht.speed(e,n,i),a=function(){var e=z(this,ht.extend({},t),o);(r||At.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=ht.timers,a=At.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&fe.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||ht.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=At.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=ht.timers,a=i?i.length:0;for(n.finish=!0,ht.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),
o.splice(e,1));for(e=0;e<a;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),ht.each(["toggle","show","hide"],function(t,e){var n=ht.fn[e];ht.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(H(e,!0),t,i,r)}}),ht.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){ht.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),ht.timers=[],ht.fx.tick=function(){var t,e=0,n=ht.timers;for(de=ht.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||ht.fx.stop(),de=void 0},ht.fx.timer=function(t){ht.timers.push(t),t()?ht.fx.start():ht.timers.pop()},ht.fx.interval=13,ht.fx.start=function(){he||(he=t.requestAnimationFrame?t.requestAnimationFrame(L):t.setInterval(ht.fx.tick,ht.fx.interval))},ht.fx.stop=function(){t.cancelAnimationFrame?t.cancelAnimationFrame(he):t.clearInterval(he),he=null},ht.fx.speeds={slow:600,fast:200,_default:400},ht.fn.delay=function(e,n){return e=ht.fx?ht.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var r=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(r)}})},function(){var t=J.createElement("input"),e=J.createElement("select"),n=e.appendChild(J.createElement("option"));t.type="checkbox",ct.checkOn=""!==t.value,ct.optSelected=n.selected,t=J.createElement("input"),t.value="t",t.type="radio",ct.radioValue="t"===t.value}();var ge,me=ht.expr.attrHandle;ht.fn.extend({attr:function(t,e){return Ot(this,ht.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){ht.removeAttr(this,t)})}}),ht.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof t.getAttribute?ht.prop(t,e,n):(1===o&&ht.isXMLDoc(t)||(r=ht.attrHooks[e.toLowerCase()]||(ht.expr.match.bool.test(e)?ge:void 0)),void 0!==n?null===n?void ht.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=ht.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!ct.radioValue&&"radio"===e&&ht.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(Tt);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),ge={set:function(t,e,n){return e===!1?ht.removeAttr(t,n):t.setAttribute(n,n),n}},ht.each(ht.expr.match.bool.source.match(/\w+/g),function(t,e){var n=me[e]||ht.find.attr;me[e]=function(t,e,i){var r,o,a=e.toLowerCase();return i||(o=me[a],me[a]=r,r=null!=n(t,e,i)?a:null,me[a]=o),r}});var ve=/^(?:input|select|textarea|button)$/i,ye=/^(?:a|area)$/i;ht.fn.extend({prop:function(t,e){return Ot(this,ht.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[ht.propFix[t]||t]})}}),ht.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&ht.isXMLDoc(t)||(e=ht.propFix[e]||e,r=ht.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=ht.find.attr(t,"tabindex");return e?parseInt(e,10):ve.test(t.nodeName)||ye.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ct.optSelected||(ht.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),ht.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ht.propFix[this.toLowerCase()]=this});var be=/[\t\r\n\f]/g;ht.fn.extend({addClass:function(t){var e,n,i,r,o,a,s,l=0;if(ht.isFunction(t))return this.each(function(e){ht(this).addClass(t.call(this,e,G(this)))});if("string"==typeof t&&t)for(e=t.match(Tt)||[];n=this[l++];)if(r=G(n),i=1===n.nodeType&&(" "+r+" ").replace(be," ")){for(a=0;o=e[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=ht.trim(i),r!==s&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,r,o,a,s,l=0;if(ht.isFunction(t))return this.each(function(e){ht(this).removeClass(t.call(this,e,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Tt)||[];n=this[l++];)if(r=G(n),i=1===n.nodeType&&(" "+r+" ").replace(be," ")){for(a=0;o=e[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=ht.trim(i),r!==s&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):ht.isFunction(t)?this.each(function(n){ht(this).toggleClass(t.call(this,n,G(this),e),e)}):this.each(function(){var e,i,r,o;if("string"===n)for(i=0,r=ht(this),o=t.match(Tt)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==n||(e=G(this),e&&At.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||t===!1?"":At.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+G(n)+" ").replace(be," ").indexOf(e)>-1)return!0;return!1}});var we=/\r/g,_e=/[\x20\t\r\n\f]+/g;ht.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=ht.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,ht(this).val()):t,null==r?r="":"number"==typeof r?r+="":ht.isArray(r)&&(r=ht.map(r,function(t){return null==t?"":t+""})),e=ht.valHooks[this.type]||ht.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))})):r?(e=ht.valHooks[r.type]||ht.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(we,""):null==n?"":n)):void 0}}),ht.extend({valHooks:{option:{get:function(t){var e=ht.find.attr(t,"value");return null!=e?e:ht.trim(ht.text(t)).replace(_e," ")}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(n=i[l],(n.selected||l===r)&&!n.disabled&&(!n.parentNode.disabled||!ht.nodeName(n.parentNode,"optgroup"))){if(e=ht(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=ht.makeArray(e),a=r.length;a--;)i=r[a],(i.selected=ht.inArray(ht.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),ht.each(["radio","checkbox"],function(){ht.valHooks[this]={set:function(t,e){if(ht.isArray(e))return t.checked=ht.inArray(ht(t).val(),e)>-1}},ct.checkOn||(ht.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var xe=/^(?:focusinfocus|focusoutblur)$/;ht.extend(ht.event,{trigger:function(e,n,i,r){var o,a,s,l,u,c,d,h=[i||J],p=st.call(e,"type")?e.type:e,f=st.call(e,"namespace")?e.namespace.split("."):[];if(a=s=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!xe.test(p+ht.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[ht.expando]?e:new ht.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:ht.makeArray(n,[e]),d=ht.event.special[p]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!ht.isWindow(i)){for(l=d.delegateType||p,xe.test(l+p)||(a=a.parentNode);a;a=a.parentNode)h.push(a),s=a;s===(i.ownerDocument||J)&&h.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=h[o++])&&!e.isPropagationStopped();)e.type=o>1?l:d.bindType||p,c=(At.get(a,"events")||{})[e.type]&&At.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Pt(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||d._default&&d._default.apply(h.pop(),n)!==!1||!Pt(i)||u&&ht.isFunction(i[p])&&!ht.isWindow(i)&&(s=i[u],s&&(i[u]=null),ht.event.triggered=p,i[p](),ht.event.triggered=void 0,s&&(i[u]=s)),e.result}},simulate:function(t,e,n){var i=ht.extend(new ht.Event,n,{type:t,isSimulated:!0});ht.event.trigger(i,null,e)}}),ht.fn.extend({trigger:function(t,e){return this.each(function(){ht.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return ht.event.trigger(t,e,n,!0)}}),ht.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){ht.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),ht.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),ct.focusin="onfocusin"in t,ct.focusin||ht.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){ht.event.simulate(e,t.target,ht.event.fix(t))};ht.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=At.access(i,e);r||i.addEventListener(t,n,!0),At.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=At.access(i,e)-1;r?At.access(i,e,r):(i.removeEventListener(t,n,!0),At.remove(i,e))}}});var ke=t.location,Ce=ht.now(),$e=/\?/;ht.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(i){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||ht.error("Invalid XML: "+e),n};var Me=/\[\]$/,Se=/\r?\n/g,Te=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;ht.param=function(t,e){var n,i=[],r=function(t,e){var n=ht.isFunction(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(ht.isArray(t)||t.jquery&&!ht.isPlainObject(t))ht.each(t,function(){r(this.name,this.value)});else for(n in t)V(n,t[n],e,r);return i.join("&")},ht.fn.extend({serialize:function(){return ht.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=ht.prop(this,"elements");return t?ht.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!ht(this).is(":disabled")&&De.test(this.nodeName)&&!Te.test(t)&&(this.checked||!zt.test(t))}).map(function(t,e){var n=ht(this).val();return null==n?null:ht.isArray(n)?ht.map(n,function(t){return{name:e.name,value:t.replace(Se,"\r\n")}}):{name:e.name,value:n.replace(Se,"\r\n")}}).get()}});var Ee=/%20/g,Oe=/#.*$/,Pe=/([?&])_=[^&]*/,Ae=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ne=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ie=/^(?:GET|HEAD)$/,Re=/^\/\//,Le={},Be={},He="*/".concat("*"),Fe=J.createElement("a");Fe.href=ke.href,ht.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ke.href,type:"GET",isLocal:Ne.test(ke.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":He,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ht.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Y(Y(t,ht.ajaxSettings),e):Y(ht.ajaxSettings,t)},ajaxPrefilter:U(Le),ajaxTransport:U(Be),ajax:function(e,n){function i(e,n,i,s){var u,h,p,w,_,x=n;c||(c=!0,l&&t.clearTimeout(l),r=void 0,a=s||"",k.readyState=e>0?4:0,u=e>=200&&e<300||304===e,i&&(w=K(f,k,i)),w=Z(f,w,k,u),u?(f.ifModified&&(_=k.getResponseHeader("Last-Modified"),_&&(ht.lastModified[o]=_),_=k.getResponseHeader("etag"),_&&(ht.etag[o]=_)),204===e||"HEAD"===f.type?x="nocontent":304===e?x="notmodified":(x=w.state,h=w.data,p=w.error,u=!p)):(p=x,!e&&x||(x="error",e<0&&(e=0))),k.status=e,k.statusText=(n||x)+"",u?v.resolveWith(g,[h,x,k]):v.rejectWith(g,[k,x,p]),k.statusCode(b),b=void 0,d&&m.trigger(u?"ajaxSuccess":"ajaxError",[k,f,u?h:p]),y.fireWith(g,[k,x]),d&&(m.trigger("ajaxComplete",[k,f]),--ht.active||ht.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,o,a,s,l,u,c,d,h,p,f=ht.ajaxSetup({},n),g=f.context||f,m=f.context&&(g.nodeType||g.jquery)?ht(g):ht.event,v=ht.Deferred(),y=ht.Callbacks("once memory"),b=f.statusCode||{},w={},_={},x="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!s)for(s={};e=Ae.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(t,e){return null==c&&(t=_[t.toLowerCase()]=_[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||x;return r&&r.abort(e),i(0,e),this}};if(v.promise(k),f.url=((e||f.url||ke.href)+"").replace(Re,ke.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(Tt)||[""],null==f.crossDomain){u=J.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Fe.protocol+"//"+Fe.host!=u.protocol+"//"+u.host}catch(C){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=ht.param(f.data,f.traditional)),q(Le,f,n,k),c)return k;d=ht.event&&f.global,d&&0===ht.active++&&ht.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ie.test(f.type),o=f.url.replace(Oe,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Ee,"+")):(p=f.url.slice(o.length),f.data&&(o+=($e.test(o)?"&":"?")+f.data,delete f.data),f.cache===!1&&(o=o.replace(Pe,""),p=($e.test(o)?"&":"?")+"_="+Ce++ +p),f.url=o+p),f.ifModified&&(ht.lastModified[o]&&k.setRequestHeader("If-Modified-Since",ht.lastModified[o]),ht.etag[o]&&k.setRequestHeader("If-None-Match",ht.etag[o])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+He+"; q=0.01":""):f.accepts["*"]);for(h in f.headers)k.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(f.beforeSend.call(g,k,f)===!1||c))return k.abort();if(x="abort",y.add(f.complete),k.done(f.success),k.fail(f.error),r=q(Be,f,n,k)){if(k.readyState=1,d&&m.trigger("ajaxSend",[k,f]),c)return k;f.async&&f.timeout>0&&(l=t.setTimeout(function(){k.abort("timeout")},f.timeout));try{c=!1,r.send(w,i)}catch(C){if(c)throw C;i(-1,C)}}else i(-1,"No Transport");return k},getJSON:function(t,e,n){return ht.get(t,e,n,"json")},getScript:function(t,e){return ht.get(t,void 0,e,"script")}}),ht.each(["get","post"],function(t,e){ht[e]=function(t,n,i,r){return ht.isFunction(n)&&(r=r||i,i=n,n=void 0),ht.ajax(ht.extend({url:t,type:e,dataType:r,data:n,success:i},ht.isPlainObject(t)&&t))}}),ht._evalUrl=function(t){return ht.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},ht.fn.extend({wrapAll:function(t){var e;return this[0]&&(ht.isFunction(t)&&(t=t.call(this[0])),e=ht(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return ht.isFunction(t)?this.each(function(e){ht(this).wrapInner(t.call(this,e))}):this.each(function(){var e=ht(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=ht.isFunction(t);return this.each(function(n){ht(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){ht(this).replaceWith(this.childNodes)}),this}}),ht.expr.pseudos.hidden=function(t){return!ht.expr.pseudos.visible(t)},ht.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},ht.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(e){}};var We={0:200,1223:204},je=ht.ajaxSettings.xhr();ct.cors=!!je&&"withCredentials"in je,ct.ajax=je=!!je,ht.ajaxTransport(function(e){var n,i;if(ct.cors||je&&!e.crossDomain)return{send:function(r,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");for(a in r)s.setRequestHeader(a,r[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(We[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}}),ht.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),ht.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return ht.globalEval(t),t}}}),ht.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),ht.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(i,r){e=ht("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),J.head.appendChild(e[0])},abort:function(){n&&n()}}}});var ze=[],Ge=/(=)\?(?=&|$)|\?\?/;ht.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ze.pop()||ht.expando+"_"+Ce++;return this[t]=!0,t}}),ht.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,a,s=e.jsonp!==!1&&(Ge.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ge.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=ht.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Ge,"$1"+r):e.jsonp!==!1&&(e.url+=($e.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return a||ht.error(r+" was not called"),a[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){a=arguments},i.always(function(){void 0===o?ht(t).removeProp(r):t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,ze.push(r)),a&&ht.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),ct.createHTMLDocument=function(){var t=J.implementation.createHTMLDocument("").body;return t.innerHTML="<form></form><form></form>",2===t.childNodes.length}(),ht.parseHTML=function(t,e,n){if("string"!=typeof t)return[];"boolean"==typeof e&&(n=e,e=!1);var i,r,o;return e||(ct.createHTMLDocument?(e=J.implementation.createHTMLDocument(""),i=e.createElement("base"),i.href=J.location.href,e.head.appendChild(i)):e=J),r=_t.exec(t),o=!n&&[],r?[e.createElement(r[1])]:(r=y([t],e,o),o&&o.length&&ht(o).remove(),ht.merge([],r.childNodes))},ht.fn.load=function(t,e,n){var i,r,o,a=this,s=t.indexOf(" ");return s>-1&&(i=ht.trim(t.slice(s)),t=t.slice(0,s)),ht.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),a.length>0&&ht.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(i?ht("<div>").append(ht.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},ht.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){ht.fn[e]=function(t){return this.on(e,t)}}),ht.expr.pseudos.animated=function(t){return ht.grep(ht.timers,function(e){return t===e.elem}).length},ht.offset={setOffset:function(t,e,n){var i,r,o,a,s,l,u,c=ht.css(t,"position"),d=ht(t),h={};"static"===c&&(t.style.position="relative"),s=d.offset(),o=ht.css(t,"top"),l=ht.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),ht.isFunction(e)&&(e=e.call(t,n,ht.extend({},s))),null!=e.top&&(h.top=e.top-s.top+a),null!=e.left&&(h.left=e.left-s.left+r),"using"in e?e.using.call(t,h):d.css(h)}},ht.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){ht.offset.setOffset(this,t,e)});var e,n,i,r,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect(),i.width||i.height?(r=o.ownerDocument,n=X(r),e=r.documentElement,{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===ht.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),ht.nodeName(t[0],"html")||(i=t.offset()),i={top:i.top+ht.css(t[0],"borderTopWidth",!0),left:i.left+ht.css(t[0],"borderLeftWidth",!0)}),{top:e.top-i.top-ht.css(n,"marginTop",!0),left:e.left-i.left-ht.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===ht.css(t,"position");)t=t.offsetParent;return t||Yt})}}),ht.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;ht.fn[t]=function(i){return Ot(this,function(t,i,r){var o=X(t);return void 0===r?o?o[e]:t[i]:void(o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r)},t,i,arguments.length)}}),ht.each(["top","left"],function(t,e){ht.cssHooks[e]=O(ct.pixelPosition,function(t,n){if(n)return n=E(t,e),re.test(n)?ht(t).position()[e]+"px":n})}),ht.each({Height:"height",Width:"width"},function(t,e){ht.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){ht.fn[i]=function(r,o){var a=arguments.length&&(n||"boolean"!=typeof r),s=n||(r===!0||o===!0?"margin":"border");return Ot(this,function(e,n,r){var o;return ht.isWindow(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?ht.css(e,n,s):ht.style(e,n,r,s)},e,a?r:void 0,a)}})}),ht.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),ht.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ht});var Ve=t.jQuery,Ue=t.$;return ht.noConflict=function(e){return t.$===ht&&(t.$=Ue),e&&t.jQuery===ht&&(t.jQuery=Ve),ht},e||(t.jQuery=t.$=ht),ht}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){for(var e=t.css("visibility");"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}function n(t){for(var e,n;t.length&&t[0]!==document;){if(e=t.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(n=parseInt(t.css("zIndex"),10),!isNaN(n)&&0!==n))return n;t=t.parent()}return 0}function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=r(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function r(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",n,function(){t(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",n,o)}function o(){t.datepicker._isDisabledDatepicker(m.inline?m.dpDiv.parent()[0]:m.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&t(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&t(this).addClass("ui-datepicker-next-hover"))}function a(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}function s(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.ui=t.ui||{};var l=(t.ui.version="1.12.0",0),u=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=t._data(r,"events"),i&&i.remove&&t(r).triggerHandler("remove")}catch(a){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,a,s={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),a=new n,a.options=t.widget.extend({},a.options),t.each(i,function(e,i){return t.isFunction(i)?void(s[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}()):void(s[e]=i)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix||e:e},s,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,i,r=u.call(arguments,1),o=0,a=r.length;o<a;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,a=u.call(arguments,1),s=this;return o?this.each(function(){var n,o=t.data(this,i);return"instance"===r?(s=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,a),n!==o&&void 0!==n?(s=n&&n.jquery?s.pushStack(n.get()):n,!1):void 0):t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each(function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))})),s}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=l++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,n){e._removeClass(n,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},i=e.split("."),e=i.shift(),i.length){for(r=a[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=n}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function n(n,o){var a,s;for(s=0;s<n.length;s++)a=r.classesElementLookup[n[s]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),r.classesElementLookup[n[s]]=a,i.push(n[s]),o&&e.classes[n[s]]&&i.push(e.classes[n[s]])}var i=[],r=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),e.keys&&n(e.keys.match(/\S+/g)||[],!0),e.extra&&n(e.extra.match(/\S+/g)||[]),i.join(" ")},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){
var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,function(i,a){function s(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,s):n.on(u,s)})},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function n(){return("string"==typeof t?i[t]:t).apply(i,arguments)}var i=this;return setTimeout(n,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,a=this.options[e];if(i=i||{},n=t.Event(n),n.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:e;r=r||{},"number"==typeof r&&(r={duration:r}),a=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&t.effects&&t.effects.effect[s]?i[e](r):s!==e&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){t(this)[e](),o&&o.call(i[0]),n()})}});t.widget;!function(){function e(t,e,n){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?n/100:1)]}function n(e,n){return parseInt(t.css(e,n),10)||0}function i(e){var n=e[0];return 9===n.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(n)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}var r,o,a=Math.max,s=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=t.fn.position;o=function(){var e=t("<div>").css("position","absolute").appendTo("body").offset({top:1.5,left:1.5}),n=1.5===e.offset().top;return e.remove(),o=function(){return n},n},t.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,n,i=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return t("body").append(i),e=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,e===n&&(n=i[0].clientWidth),i.remove(),r=e-n},getScrollInfo:function(e){var n=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),r="scroll"===n||"auto"===n&&e.width<e.element[0].scrollWidth,o="scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:r?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var n=t(e||window),i=t.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType,o=!i&&!r;return{element:n,isWindow:i,isDocument:r,offset:o?t(e).offset():{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:n.outerWidth(),height:n.outerHeight()}}},t.fn.position=function(r){if(!r||!r.of)return f.apply(this,arguments);r=t.extend({},r);var p,g,m,v,y,b,w=t(r.of),_=t.position.getWithinInfo(r.within),x=t.position.getScrollInfo(_),k=(r.collision||"flip").split(" "),C={};return b=i(w),w[0].preventDefault&&(r.at="left top"),g=b.width,m=b.height,v=b.offset,y=t.extend({},v),t.each(["my","at"],function(){var t,e,n=(r[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",t=d.exec(n[0]),e=d.exec(n[1]),C[this]=[t?t[0]:0,e?e[0]:0],r[this]=[h.exec(n[0])[0],h.exec(n[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===r.at[0]?y.left+=g:"center"===r.at[0]&&(y.left+=g/2),"bottom"===r.at[1]?y.top+=m:"center"===r.at[1]&&(y.top+=m/2),p=e(C.at,g,m),y.left+=p[0],y.top+=p[1],this.each(function(){var i,u,c=t(this),d=c.outerWidth(),h=c.outerHeight(),f=n(this,"marginLeft"),b=n(this,"marginTop"),$=d+f+n(this,"marginRight")+x.width,M=h+b+n(this,"marginBottom")+x.height,S=t.extend({},y),T=e(C.my,c.outerWidth(),c.outerHeight());"right"===r.my[0]?S.left-=d:"center"===r.my[0]&&(S.left-=d/2),"bottom"===r.my[1]?S.top-=h:"center"===r.my[1]&&(S.top-=h/2),S.left+=T[0],S.top+=T[1],o()||(S.left=l(S.left),S.top=l(S.top)),i={marginLeft:f,marginTop:b},t.each(["left","top"],function(e,n){t.ui.position[k[e]]&&t.ui.position[k[e]][n](S,{targetWidth:g,targetHeight:m,elemWidth:d,elemHeight:h,collisionPosition:i,collisionWidth:$,collisionHeight:M,offset:[p[0]+T[0],p[1]+T[1]],my:r.my,at:r.at,within:_,elem:c})}),r.using&&(u=function(t){var e=v.left-S.left,n=e+g-d,i=v.top-S.top,o=i+m-h,l={target:{element:w,left:v.left,top:v.top,width:g,height:m},element:{element:c,left:S.left,top:S.top,width:d,height:h},horizontal:n<0?"left":e>0?"right":"center",vertical:o<0?"top":i>0?"bottom":"middle"};g<d&&s(e+n)<g&&(l.horizontal="center"),m<h&&s(i+o)<m&&(l.vertical="middle"),a(s(e),s(n))>a(s(i),s(o))?l.important="horizontal":l.important="vertical",r.using.call(this,t,l)}),c.offset(t.extend(S,{using:u}))})},t.ui.position={fit:{left:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=t.left-e.collisionPosition.marginLeft,l=r-s,u=s+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&u<=0?(n=t.left+l+e.collisionWidth-o-r,t.left+=l-n):u>0&&l<=0?t.left=r:l>u?t.left=r+o-e.collisionWidth:t.left=r:l>0?t.left+=l:u>0?t.left-=u:t.left=a(t.left-s,t.left)},top:function(t,e){var n,i=e.within,r=i.isWindow?i.scrollTop:i.offset.top,o=e.within.height,s=t.top-e.collisionPosition.marginTop,l=r-s,u=s+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&u<=0?(n=t.top+l+e.collisionHeight-o-r,t.top+=l-n):u>0&&l<=0?t.top=r:l>u?t.top=r+o-e.collisionHeight:t.top=r:l>0?t.top+=l:u>0?t.top-=u:t.top=a(t.top-s,t.top)}},flip:{left:function(t,e){var n,i,r=e.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,d=u+e.collisionWidth-a-l,h="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?(n=t.left+h+p+f+e.collisionWidth-a-o,(n<0||n<s(c))&&(t.left+=h+p+f)):d>0&&(i=t.left-e.collisionPosition.marginLeft+h+p+f-l,(i>0||s(i)<d)&&(t.left+=h+p+f))},top:function(t,e){var n,i,r=e.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,d=u+e.collisionHeight-a-l,h="top"===e.my[1],p=h?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];c<0?(i=t.top+p+f+g+e.collisionHeight-a-o,(i<0||i<s(c))&&(t.top+=p+f+g)):d>0&&(n=t.top-e.collisionPosition.marginTop+p+f+g-l,(n>0||s(n)<d)&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}();var c=(t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])}}),t.fn.extend({disableSelection:function(){var t="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}}(),enableSelection:function(){return this.off(".ui-disableSelection")}}),"ui-effects-"),d="ui-effects-style",h="ui-effects-animated",p=t;t.effects={effect:{}},function(t,e){function n(t,e,n){var i=d[e.type]||{};return null==t?n||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var n=u(),i=n._rgba=[];return e=e.toLowerCase(),f(l,function(t,r){var o,a=r.re.exec(e),s=a&&r.parse(a),l=r.space||"rgba";if(s)return o=n[l](s),n[c[l].cache]=o[c[l].cache],i=n._rgba=o._rgba,!1}),i.length?("0,0,0,0"===i.join()&&t.extend(i,o.transparent),n):o[e]}function r(t,e,n){return n=(n+1)%1,6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],u=t.Color=function(e,n,i,r){return new t.Color.fn.parse(e,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=u.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),u.fn=t.extend(u.prototype,{parse:function(r,a,s,l){if(r===e)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=t(r).css(a),a=e);var d=this,h=t.type(r),p=this._rgba=[];return a!==e&&(r=[r,a,s,l],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(f(c.rgba.props,function(t,e){p[e.idx]=n(r[e.idx],e)}),this):"object"===h?(r instanceof u?f(c,function(t,e){r[e.cache]&&(d[e.cache]=r[e.cache].slice())}):f(c,function(e,i){var o=i.cache;f(i.props,function(t,e){if(!d[o]&&i.to){if("alpha"===t||null==r[t])return;d[o]=i.to(d._rgba)}d[o][e.idx]=n(r[t],e,!0)}),d[o]&&t.inArray(null,d[o].slice(0,3))<0&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):void 0},is:function(t){var e=u(t),n=!0,i=this;return f(c,function(t,r){var o,a=e[r.cache];return a&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(t,e){if(null!=a[e.idx])return n=a[e.idx]===o[e.idx]})),n}),n},_space:function(){var t=[],e=this;return f(c,function(n,i){e[i.cache]&&t.push(n)}),t.pop()},transition:function(t,e){var i=u(t),r=i._space(),o=c[r],a=0===this.alpha()?u("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return i=i[o.cache],f(o.props,function(t,r){var o=r.idx,a=s[o],u=i[o],c=d[r.type]||{};null!==u&&(null===a?l[o]=u:(c.mod&&(u-a>c.mod/2?a+=c.mod:a-u>c.mod/2&&(a-=c.mod)),l[o]=n((u-a)*e+a,r)))}),this[r](l)},blend:function(e){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=u(e)._rgba;return u(t.map(n,function(t,e){return(1-i)*r[e]+i*t}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===n[3]&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===n[3]&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),i=n.pop();return e&&n.push(~~(255*i)),"#"+t.map(n,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=t[3],s=Math.max(i,r,o),l=Math.min(i,r,o),u=s-l,c=s+l,d=.5*c;return e=l===s?0:i===s?60*(r-o)/u+360:r===s?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:d<=.5?u/c:u/(2-c),[Math.round(e)%360,n,d,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,n=t[1],i=t[2],o=t[3],a=i<=.5?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,e+1/3)),Math.round(255*r(s,a,e)),Math.round(255*r(s,a,e-1/3)),o]},f(c,function(i,r){var o=r.props,a=r.cache,l=r.to,c=r.from;u.fn[i]=function(i){if(l&&!this[a]&&(this[a]=l(this._rgba)),i===e)return this[a].slice();var r,s=t.type(i),d="array"===s||"object"===s?i:arguments,h=this[a].slice();return f(o,function(t,e){var i=d["object"===s?t:e.idx];null==i&&(i=h[e.idx]),h[e.idx]=n(i,e)}),c?(r=u(c(h)),r[a]=h,r):u(h)},f(o,function(e,n){u.fn[e]||(u.fn[e]=function(r){var o,a=t.type(r),l="alpha"===e?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=t.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r),o&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),u.hook=function(e){var n=e.split(" ");f(n,function(e,n){t.cssHooks[n]={set:function(e,r){var o,a,s="";if("transparent"!==r&&("string"!==t.type(r)||(o=i(r)))){if(r=u(o||r),!h.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?e.parentNode:e;(""===s||"transparent"===s)&&a&&a.style;)try{s=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=u(e.elem,n),e.end=u(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}})},u.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(n,i){e["border"+i+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(p),function(){function e(e){var n,i,r=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[t.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(e,n){var i,o,a={};for(i in n)o=n[i],e[i]!==o&&(r[i]||!t.fx.step[i]&&isNaN(parseFloat(o))||(a[i]=o));return a}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,n){t.fx.step[n]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(p.style(t.elem,n,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(r,o,a,s){var l=t.speed(o,a,s);return this.queue(function(){var o,a=t(this),s=a.attr("class")||"",u=l.children?a.find("*").addBack():a;u=u.map(function(){var n=t(this);return{el:n,start:e(this)}}),o=function(){t.each(i,function(t,e){r[e]&&a[e+"Class"](r[e])})},o(),u=u.map(function(){return this.end=e(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",s),u=u.map(function(){var e=this,n=t.Deferred(),i=t.extend({},l,{queue:!1,complete:function(){n.resolve(e)}});return this.el.animate(this.diff,i),n.promise()}),t.when.apply(t,u.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(n,i,r,o){return i?t.effects.animateClass.call(this,{add:n},i,r,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(n,i,r,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:n},i,r,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(n,i,r,o,a){return"boolean"==typeof i||void 0===i?r?t.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,a):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},i,r,o)}}(t.fn.toggleClass),switchClass:function(e,n,i,r,o){return t.effects.animateClass.call(this,{add:n,remove:e},i,r,o)}})}(),function(){function e(e,n,i,r){return t.isPlainObject(e)&&(n=e,e=e.effect),e={effect:e},null==n&&(n={}),t.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||t.fx.speeds[n])&&(r=i,i=n,n={}),t.isFunction(i)&&(r=i,i=null),n&&t.extend(e,n),i=i||n.duration,e.duration=t.fx.off?0:"number"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=r||n.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function i(t,e){var n=e.outerWidth(),i=e.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/,o=r.exec(t)||["",0,n,i,0];return{top:parseFloat(o[1])||0,right:"auto"===o[2]?n:parseFloat(o[2]),bottom:"auto"===o[3]?i:parseFloat(o[3]),left:parseFloat(o[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=function(e){return function(n){return!!t(n).data(h)||e(n)}}(t.expr.filters.animated)),t.uiBackCompat!==!1&&t.extend(t.effects,{save:function(t,e){for(var n=0,i=e.length;n<i;n++)null!==e[n]&&t.data(c+e[n],t[0].style[e[n]])},restore:function(t,e){for(var n,i=0,r=e.length;i<r;i++)null!==e[i]&&(n=t.data(c+e[i]),t.css(e[i],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var n={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},i=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(i),(e[0]===o||t.contains(e[0],o))&&t(o).trigger("focus"),i=e.parent(),"static"===e.css("position")?(i.css({position:"relative"}),e.css({position:"relative"})):(t.extend(n,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,i){n[i]=e.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(r),i.css(n).show()},removeWrapper:function(e){var n=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===n||t.contains(e[0],n))&&t(n).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.0",define:function(e,n,i){return i||(i=n,n="effect"),t.effects.effect[e]=i,t.effects.effect[e].mode=n,i},scaledDimensions:function(t,e,n){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(e||100)/100:1,r="vertical"!==n?(e||100)/100:1;return{height:t.height()*r,width:t.width()*i,outerHeight:t.outerHeight()*r,outerWidth:t.outerWidth()*i}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,n){var i=t.queue();e>1&&i.splice.apply(i,[1,0].concat(i.splice(e,n))),t.dequeue()},saveStyle:function(t){t.data(d,t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data(d)||"",t.removeData(d)},mode:function(t,e){var n=t.is(":hidden");return"toggle"===e&&(e=n?"show":"hide"),(n?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var n,i;switch(t[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=t[0]/e.height}switch(t[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=t[1]/e.width}return{x:i,y:n}},createPlaceholder:function(e){var n,i=e.css("position"),r=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(i)&&(i="absolute",n=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),"float":e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(c+"placeholder",n)),e.css({position:i,left:r.left,top:r.top}),n},removePlaceholder:function(t){var e=c+"placeholder",n=t.data(e);n&&(n.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,n,i,r){return r=r||{},t.each(n,function(t,n){var o=e.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),t.fn.extend({effect:function(){function n(e){function n(){s.removeData(h),t.effects.cleanUp(s),"hide"===i.mode&&s.hide(),a()}function a(){t.isFunction(l)&&l.call(s[0]),t.isFunction(e)&&e()}var s=t(this);i.mode=c.shift(),t.uiBackCompat===!1||o?"none"===i.mode?(s[u](),a()):r.call(s[0],i,n):(s.is(":hidden")?"hide"===u:"show"===u)?(s[u](),a()):r.call(s[0],i,a)}var i=e.apply(this,arguments),r=t.effects.effect[i.effect],o=r.mode,a=i.queue,s=a||"fx",l=i.complete,u=i.mode,c=[],d=function(e){var n=t(this),i=t.effects.mode(n,u)||o;n.data(h,!0),c.push(i),o&&("show"===i||i===o&&"hide"===i)&&n.show(),o&&"none"===i||t.effects.saveStyle(n),t.isFunction(e)&&e()};return t.fx.off||!r?u?this[u](i.duration,l):this.each(function(){l&&l.call(this)}):a===!1?this.each(d).each(n):this.queue(s,d).queue(s,n)},show:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(t.fn.show),hide:function(t){return function(i){if(n(i))return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(t.fn.hide),toggle:function(t){return function(i){if(n(i)||"boolean"==typeof i)return t.apply(this,arguments);var r=e.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(t.fn.toggle),cssUnit:function(e){var n=this.css(e),i=[];return t.each(["em","px","%","pt"],function(t,e){n.indexOf(e)>0&&(i=[parseFloat(n),e])}),i},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):i(this.css("clip"),this)},transfer:function(e,n){var i=t(this),r=t(e.to),o="fixed"===r.css("position"),a=t("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,u=r.offset(),c={top:u.top-s,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),h=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:d.top-s,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){h.remove(),t.isFunction(n)&&n()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=i(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,n){e[n]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,n){t.easing["easeIn"+e]=n,t.easing["easeOut"+e]=function(t){return 1-n(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?n(2*t)/2:1-n(t*-2+2)/2}})}();var f,f=t.effects;t.effects.define("blind","hide",function(e,n){var i={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},r=t(this),o=e.direction||"up",a=r.cssClip(),s={clip:t.extend({},a)},l=t.effects.createPlaceholder(r);s.clip[i[o][0]]=s.clip[i[o][1]],"show"===e.mode&&(r.cssClip(s.clip),l&&l.css(t.effects.clipToBox(s)),s.clip=a),l&&l.animate(t.effects.clipToBox(s),e.duration,e.easing),r.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("bounce",function(e,n){var i,r,o,a=t(this),s=e.mode,l="hide"===s,u="show"===s,c=e.direction||"up",d=e.distance,h=e.times||5,p=2*h+(u||l?1:0),f=e.duration/p,g=e.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=0,b=a.queue().length;for(t.effects.createPlaceholder(a),o=a.css(m),d||(d=a["top"===m?"outerHeight":"outerWidth"]()/3),u&&(r={opacity:1},r[m]=o,a.css("opacity",0).css(m,v?2*-d:2*d).animate(r,f,g)),l&&(d/=Math.pow(2,h-1)),r={},r[m]=o;y<h;y++)i={},i[m]=(v?"-=":"+=")+d,a.animate(i,f,g).animate(r,f,g),d=l?2*d:d/2;l&&(i={opacity:0},i[m]=(v?"-=":"+=")+d,a.animate(i,f,g)),a.queue(n),t.effects.unshift(a,b,p+1)}),t.effects.define("clip","hide",function(e,n){var i,r={},o=t(this),a=e.direction||"vertical",s="both"===a,l=s||"horizontal"===a,u=s||"vertical"===a;i=o.cssClip(),r.clip={top:u?(i.bottom-i.top)/2:i.top,right:l?(i.right-i.left)/2:i.right,bottom:u?(i.bottom-i.top)/2:i.bottom,left:l?(i.right-i.left)/2:i.left},t.effects.createPlaceholder(o),"show"===e.mode&&(o.cssClip(r.clip),r.clip=i),o.animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("drop","hide",function(e,n){var i,r=t(this),o=e.mode,a="show"===o,s=e.direction||"left",l="up"===s||"down"===s?"top":"left",u="up"===s||"left"===s?"-=":"+=",c="+="===u?"-=":"+=",d={opacity:0};t.effects.createPlaceholder(r),i=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0)/2,d[l]=u+i,a&&(r.css(d),d[l]=c+i,d.opacity=1),r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("explode","hide",function(e,n){function i(){b.push(this),b.length===d*h&&r()}function r(){p.css({visibility:"visible"}),t(b).remove(),n()}var o,a,s,l,u,c,d=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=d,p=t(this),f=e.mode,g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/h),y=Math.ceil(p.outerHeight()/d),b=[];for(o=0;o<d;o++)for(l=m.top+o*y,c=o-(d-1)/2,a=0;a<h;a++)s=m.left+a*v,u=a-(h-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:s+(g?u*v:0),top:l+(g?c*y:0),opacity:g?0:1}).animate({left:s+(g?0:u*v),top:l+(g?0:c*y),opacity:g?1:0},e.duration||500,e.easing,i)}),t.effects.define("fade","toggle",function(e,n){var i="show"===e.mode;t(this).css("opacity",i?0:1).animate({opacity:i?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("fold","hide",function(e,n){var i=t(this),r=e.mode,o="show"===r,a="hide"===r,s=e.size||15,l=/([0-9]+)%/.exec(s),u=!!e.horizFirst,c=u?["right","bottom"]:["bottom","right"],d=e.duration/2,h=t.effects.createPlaceholder(i),p=i.cssClip(),f={clip:t.extend({},p)},g={clip:t.extend({},p)},m=[p[c[0]],p[c[1]]],v=i.queue().length;l&&(s=parseInt(l[1],10)/100*m[a?0:1]),f.clip[c[0]]=s,g.clip[c[0]]=s,g.clip[c[1]]=0,o&&(i.cssClip(g.clip),h&&h.css(t.effects.clipToBox(g)),g.clip=p),i.queue(function(n){h&&h.animate(t.effects.clipToBox(f),d,e.easing).animate(t.effects.clipToBox(g),d,e.easing),n()}).animate(f,d,e.easing).animate(g,d,e.easing).queue(n),t.effects.unshift(i,v,4)}),t.effects.define("highlight","show",function(e,n){var i=t(this),r={backgroundColor:i.css("backgroundColor")};"hide"===e.mode&&(r.opacity=0),t.effects.saveStyle(i),i.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(r,{queue:!1,duration:e.duration,easing:e.easing,complete:n})}),t.effects.define("size",function(e,n){var i,r,o,a=t(this),s=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,d="effect"!==c,h=e.scale||"both",p=e.origin||["middle","center"],f=a.css("position"),g=a.position(),m=t.effects.scaledDimensions(a),v=e.from||m,y=e.to||t.effects.scaledDimensions(a,0);t.effects.createPlaceholder(a),"show"===c&&(o=v,v=y,y=o),r={from:{y:v.height/m.height,x:v.width/m.width},to:{y:y.height/m.height,x:y.width/m.width}},"box"!==h&&"both"!==h||(r.from.y!==r.to.y&&(v=t.effects.setTransition(a,l,r.from.y,v),y=t.effects.setTransition(a,l,r.to.y,y)),r.from.x!==r.to.x&&(v=t.effects.setTransition(a,u,r.from.x,v),y=t.effects.setTransition(a,u,r.to.x,y))),"content"!==h&&"both"!==h||r.from.y!==r.to.y&&(v=t.effects.setTransition(a,s,r.from.y,v),y=t.effects.setTransition(a,s,r.to.y,y)),p&&(i=t.effects.getBaseline(p,m),v.top=(m.outerHeight-v.outerHeight)*i.y+g.top,v.left=(m.outerWidth-v.outerWidth)*i.x+g.left,y.top=(m.outerHeight-y.outerHeight)*i.y+g.top,y.left=(m.outerWidth-y.outerWidth)*i.x+g.left),a.css(v),"content"!==h&&"both"!==h||(l=l.concat(["marginTop","marginBottom"]).concat(s),u=u.concat(["marginLeft","marginRight"]),a.find("*[width]").each(function(){var n=t(this),i=t.effects.scaledDimensions(n),o={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},a={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x};r.from.y!==r.to.y&&(o=t.effects.setTransition(n,l,r.from.y,o),a=t.effects.setTransition(n,l,r.to.y,a)),r.from.x!==r.to.x&&(o=t.effects.setTransition(n,u,r.from.x,o),a=t.effects.setTransition(n,u,r.to.x,a)),d&&t.effects.saveStyle(n),n.css(o),n.animate(a,e.duration,e.easing,function(){d&&t.effects.restoreStyle(n)})})),a.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=a.offset();0===y.opacity&&a.css("opacity",v.opacity),d||(a.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(a)),n()}})}),t.effects.define("scale",function(e,n){var i=t(this),r=e.mode,o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==r?0:100),a=t.extend(!0,{from:t.effects.scaledDimensions(i),to:t.effects.scaledDimensions(i,o,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(a.from.opacity=1,a.to.opacity=0),t.effects.effect.size.call(this,a,n)}),t.effects.define("puff","hide",function(e,n){var i=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,i,n)}),t.effects.define("pulsate","show",function(e,n){var i=t(this),r=e.mode,o="show"===r,a="hide"===r,s=o||a,l=2*(e.times||5)+(s?1:0),u=e.duration/l,c=0,d=1,h=i.queue().length;for(!o&&i.is(":visible")||(i.css("opacity",0).show(),c=1);d<l;d++)i.animate({opacity:c},u,e.easing),c=1-c;i.animate({opacity:c},u,e.easing),i.queue(n),t.effects.unshift(i,h,l+1)}),t.effects.define("shake",function(e,n){var i=1,r=t(this),o=e.direction||"left",a=e.distance||20,s=e.times||3,l=2*s+1,u=Math.round(e.duration/l),c="up"===o||"down"===o?"top":"left",d="up"===o||"left"===o,h={},p={},f={},g=r.queue().length;
for(t.effects.createPlaceholder(r),h[c]=(d?"-=":"+=")+a,p[c]=(d?"+=":"-=")+2*a,f[c]=(d?"-=":"+=")+2*a,r.animate(h,u,e.easing);i<s;i++)r.animate(p,u,e.easing).animate(f,u,e.easing);r.animate(p,u,e.easing).animate(h,u/2,e.easing).queue(n),t.effects.unshift(r,g,l+1)}),t.effects.define("slide","show",function(e,n){var i,r,o=t(this),a={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},s=e.mode,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d=e.distance||o["top"===u?"outerHeight":"outerWidth"](!0),h={};t.effects.createPlaceholder(o),i=o.cssClip(),r=o.position()[u],h[u]=(c?-1:1)*d+r,h.clip=o.cssClip(),h.clip[a[l][1]]=h.clip[a[l][0]],"show"===s&&(o.cssClip(h.clip),o.css(u,h[u]),h.clip=i,h[u]=r),o.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:n})});t.uiBackCompat!==!1&&(f=t.effects.define("transfer",function(e,n){t(this).transfer(e,n)}));t.ui.focusable=function(n,i){var r,o,a,s,l,u=n.nodeName.toLowerCase();return"area"===u?(r=n.parentNode,o=r.name,!(!n.href||!o||"map"!==r.nodeName.toLowerCase())&&(a=t("img[usemap='#"+o+"']"),a.length>0&&a.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(u)?(s=!n.disabled,s&&(l=t(n).closest("fieldset")[0],l&&(s=!l.disabled))):s="a"===u?n.href||i:i,s&&t(n).is(":visible")&&e(t(n)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}});t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var n=e.data("ui-form-reset-instances");t.each(n,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,n){function i(e,n,i,o){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(e){return void 0===e?a["inner"+n].call(this):this.each(function(){t(this).css(o,i(this,e)+"px")})},t.fn["outer"+n]=function(e,r){return"number"!=typeof e?a["outer"+n].call(this,e):this.each(function(){t(this).css(o,i(this,e,!0,r)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=function(){var t=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g;return function(e){return e.replace(t,"\\$1")}}(),t.fn.labels=function(){var e,n,i,r,o;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(r=this.eq(0).parents("label"),i=this.attr("id"),i&&(e=this.eq(0).parents().last(),o=e.add(e.length?e.siblings():this.siblings()),n="label[for='"+t.ui.escapeSelector(i)+"']",r=r.add(o.find(n).addBack(n))),this.pushStack(r))},t.fn.scrollParent=function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var n=t.attr(e,"tabindex"),i=null!=n;return(!i||n>=0)&&t.ui.focusable(e,i)}}),t.fn.extend({uniqueId:function(){var t=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.0",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,n,i=this.options.icons;i&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+i.header),e.prependTo(this.headers),n=this.active.children(".ui-accordion-header-icon"),this._removeClass(n,i.header)._addClass(n,null,i.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),void("icons"===t&&(this._destroyIcons(),e&&this._createIcons())))},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var n=t.ui.keyCode,i=this.headers.length,r=this.headers.index(e.target),o=!1;switch(e.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(e);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),t(o).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),n=e.uniqueId().attr("id"),i=e.next(),r=i.uniqueId().attr("id");e.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(e=r.height(),this.element.siblings(":visible").each(function(){var n=t(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(e-=n.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===i&&(e=0,this.headers.next().each(function(){var n=t(this).is(":visible");n||t(this).show(),e=Math.max(e,t(this).css("height","").height()),n||t(this).hide()}).height(e))},_activate:function(e){var n=this._findActive(e)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var n,i,r=this.options,o=this.active,a=t(e.currentTarget),s=a[0]===o[0],l=s&&r.collapsible,u=l?t():a.next(),c=o.next(),d={oldHeader:o,oldPanel:c,newHeader:l?t():a,newPanel:u};e.preventDefault(),s&&!r.collapsible||this._trigger("beforeActivate",e,d)===!1||(r.active=!l&&this.headers.index(a),this.active=s?t():a,this._toggle(d),this._removeClass(o,"ui-accordion-header-active","ui-state-active"),r.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,r.icons.activeHeader)._addClass(n,null,r.icons.header)),s||(this._removeClass(a,"ui-accordion-header-collapsed")._addClass(a,"ui-accordion-header-active","ui-state-active"),r.icons&&(i=a.children(".ui-accordion-header-icon"),this._removeClass(i,null,r.icons.header)._addClass(i,null,r.icons.activeHeader)),this._addClass(a.next(),"ui-accordion-content-active")))},_toggle:function(e){var n=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,e):(i.hide(),n.show(),this._toggleComplete(e)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,n){var i,r,o,a=this,s=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},d=u&&c.down||c,h=function(){a._toggleComplete(n)};return"number"==typeof d&&(o=d),"string"==typeof d&&(r=d),r=r||d.easing||c.easing,o=o||d.duration||c.duration,e.length?t.length?(i=t.show().outerHeight(),e.animate(this.hideProps,{duration:o,easing:r,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(t,n){n.now=Math.round(t),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-e.outerHeight()-s),s=0)}})):e.animate(this.hideProps,o,r,h):t.animate(this.showProps,o,r,h)},_toggleComplete:function(t){var e=t.oldPanel,n=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(n){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var n=t(e.target),i=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&i.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var n=t(e.target).closest(".ui-menu-item"),i=t(e.currentTarget);n[0]===i[0]&&(this._removeClass(i.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,i))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var n=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,n)},blur:function(e){this._delay(function(){var n=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));n&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),n=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),n.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var n,i,r,o,a=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,i=this.previousFilter||"",r=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),n=o&&n.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(e.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(e,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,n,i,r,o,a=this,s=this.options.icons.submenu,l=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=l.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev(),i=t("<span>").data("ui-menu-submenu-caret",!0);a._addClass(i,"ui-menu-icon","ui-icon "+s),n.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",n.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),e=l.add(this.element),n=e.find(this.options.items),n.not(".ui-menu-item").each(function(){var e=t(this);a._isDivider(e)&&a._addClass(e,"ui-menu-divider","ui-widget-content")}),r=n.not(".ui-menu-item, .ui-menu-divider"),o=r.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(r,"ui-menu-item")._addClass(o,"ui-menu-item-wrapper"),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var n,i,r;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=e.children(".ui-menu"),n.length&&t&&/^mouse/.test(t.type)&&this._startOpening(n),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,r=e.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=e.outerHeight(),r<0?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var n=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(e,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(e),this._removeClass(i.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=i},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,n){var i;this.active&&(i="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[e]()),this.focus(n,i)},nextPage:function(e){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i-r<0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=t(this),n.offset().top-i+r>0}),this.focus(e,n)):this.focus(e,this.activeMenu.find(this.options.items).first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,n)},_filterMenuItems:function(e){var n=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=new RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}});t.widget("ui.autocomplete",{version:"1.12.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=o||!a&&this._isContentEditable(this.element),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return e=!0,i=!0,void(n=!0);e=!1,i=!1,n=!1;var o=t.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",r);break;case o.UP:e=!0,this._keyEvent("previous",r);break;case o.DOWN:e=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(e=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||i.preventDefault());if(!n){var r=t.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(t){return i?(i=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:r})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(r.value),i=n.item.attr("aria-label")||r.value,void(i&&t.trim(i).length&&(this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,n){var i=n.item.data("ui-autocomplete-item"),r=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=r,this._delay(function(){this.previous=r,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var n=this.menu.element[0];return e.target===this.element[0]||e.target===n||t.contains(n,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,n,i=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(n,i){i(t.ui.autocomplete.filter(e,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,r){i.xhr&&i.xhr.abort(),i.xhr=t.ajax({url:n,data:e,dataType:"json",success:function(t){r(t)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),n=this.menu.element.is(":visible"),i=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||n||i)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var n=this.menu.element.empty();this._renderMenu(n,e),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,n){var i=this;t.each(n,function(t,n){i._renderItemData(e,n)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,n){return t("<li>").append(t("<div>").text(n.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,n){var i=new RegExp(t.ui.autocomplete.escapeRegex(n),"i");return t.grep(e,function(t){return i.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))}});var g=(t.ui.autocomplete,/ui-corner-([a-z]){2,6}/g);t.widget("ui.controlgroup",{version:"1.12.0",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,n=[];t.each(this.options.items,function(i,r){var o,a={};if(r)return"controlgroupLabel"===i?(o=e.element.find(r),o.each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(o,null,"ui-widget ui-widget-content ui-state-default"),void(n=n.concat(o.get()))):void(t.fn[i]&&(e["_"+i+"Options"]&&(a=e["_"+i+"Options"]("middle")),e.element.find(r).each(function(){var r=t(this),o=r[i]("instance"),s=t.widget.extend({},a);if("button"!==i||!r.parent(".ui-spinner").length){o||(o=r[i]()[i]("instance")),o&&(s.classes=e._resolveClassesValues(s.classes,o)),r[i](s);var l=r[i]("widget");t.data(l[0],"ui-controlgroup-data",o?o:r[i]("instance")),
n.push(l[0])}})))}),this.childWidgets=t(t.unique(n)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var n=t(this),i=n.data("ui-controlgroup-data");i&&i[e]&&i[e]()})},_updateCornerClass:function(t,e){var n="ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all",i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,n),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,n){var i={};return t.each(e,function(t){var r=n.options.classes[t]||"";r=r.replace(g,"").trim(),i[t]=(r+" "+e[t]).replace(/\s+/g," ")}),i},_setOption:function(t,e){return"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"===t?void this._callChildMethod(e?"disable":"enable"):void this.refresh()},refresh:function(){var e,n=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,i){var r=e[i]().data("ui-controlgroup-data");if(r&&n["_"+r.widgetName+"Options"]){var o=n["_"+r.widgetName+"Options"](1===e.length?"only":i);o.classes=n._resolveClassesValues(o.classes,r),r.element[r.widgetName](o)}else n._updateCornerClass(e[i](),i)}),this._callChildMethod("refresh"))}});t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.0",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,n,i=this,r=this._super()||{};return this._readType(),n=this.element.labels(),this.label=t(n[n.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element).each(function(){i.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(r.label=this.originalLabel),e=this.element[0].disabled,null!=e&&(r.disabled=e),r},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e,n=this.element[0].name,i="input[name='"+t.ui.escapeSelector(n)+"']";return n?(e=this.form.length?t(this.form[0].elements).filter(i):t(i).filter(function(){return 0===t(this).form().length}),e.not(this.element)):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e)return this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e)):void this.refresh()},_updateIcon:function(e){var n="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(n+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):n+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",n),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){this.label.contents().not(this.element.add(this.icon).add(this.iconSpace)).remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);t.ui.checkboxradio;t.widget("ui.button",{version:"1.12.0",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),t=this.element[0].disabled,null!=t&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,n){var i="iconPosition"!==e,r=i?this.options.iconPosition:n,o="top"===r||"bottom"===r;this.icon?i&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),i&&this._addClass(this.icon,null,n),this._attachIcon(r),o?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(r))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,n=void 0===t.icon?this.options.icon:t.icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),t.uiBackCompat!==!1&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){return"text"===t?void this._super("showLabel",e):("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),void this._superApply(arguments))}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});t.ui.button;t.extend(t.ui,{datepicker:{version:"1.12.0"}});var m;t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,r,o;i=e.nodeName.toLowerCase(),r="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),r),o.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,o):r&&this._inlineDatepicker(e,o)},_newInst:function(e,n){var i=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?r(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(n),t.data(e,"datepicker",n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[s?"before":"after"](n.append)),e.off("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),"focus"!==i&&"both"!==i||e.on("focus",this._showDatepicker),"button"!==i&&"both"!==i||(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:r,title:r}):r)),e[s?"before":"after"](n.trigger),n.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,r,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(n=0,i=0,r=0;r<t.length;r++)t[r].length>n&&(n=t[r].length,i=r);return i},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var s,l,u,c,d,h=this._dialogInst;return h||(this.uuid+=1,s="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+s+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],"datepicker",h)),a(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var n,i=t(e),r=t.data(e,"datepicker");i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==n&&"span"!==n||i.removeClass(this.markerClassName).empty(),m===r&&(m=null))},_enableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,r=t(e),o=t.data(e,"datepicker");r.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==n&&"span"!==n||(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,n,i){var r,o,s,l,u=this._getInst(e);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):u?"all"===n?t.extend({},u.settings):this._get(u,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(e,!0),s=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),a(u.settings,r),null!==s&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,s)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,r,o=t.datepicker._getInst(e.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return r=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),r[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,r[0]),n=t.datepicker._get(o,"onSelect"),n?(i=t.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,s?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,r=t.datepicker._getInst(e.target);if(t.datepicker._get(r,"constrainInput"))return n=t.datepicker._possibleChars(t.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!n||n.indexOf(i)>-1},_doKeyUp:function(e){var n,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),n&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,r,o,s,l,u,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),r=t.datepicker._get(i,"beforeShow"),o=r?r.apply(e,[e,i]):{},o!==!1&&(a(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return s|="fixed"===t(this).css("position"),!s}),l={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),l=t.datepicker._checkOffset(i,l,s),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(u=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",n(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[u]?i.dpDiv.show(u,t.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,m=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var n,i=this._getNumberOfMonths(e),r=i[1],a=17,s=e.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&o.apply(s.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&e.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",a*r+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var r=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,s=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?r-a:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+s?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+s):0),n},_findPos:function(e){for(var n,i=this._getInst(e),r=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[r?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,r,o,a=this._curInst;!a||e&&a!==t.data(e,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){t.datepicker._tidyDialog(a)},t.effects&&(t.effects.effect[n]||t.effects[n])?a.dpDiv.hide(n,t.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id===t.datepicker._mainDivId||0!==n.parents("#"+t.datepicker._mainDivId).length||n.hasClass(t.datepicker.markerClassName)||n.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!n.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===i)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var r=t(e),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(e){var n,i=t(e),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var r=t(e),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(e,n,i,r){var o,a=t(e);t(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,r=t(e),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var n,i,r,o=this._get(e,"altField");o&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),r=this.formatDate(n,i,this._getFormatConfig(e)),t(o).val(r))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var r,o,a,s,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,w=function(t){var n=r+1<e.length&&e.charAt(r+1)===t;return n&&r++,n},_=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,r="y"===t?i:1,o=new RegExp("^\\d{"+r+","+i+"}"),a=n.substring(l).match(o);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},x=function(e,i,r){var o=-1,a=t.map(w(e)?r:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(a,function(t,e){var i=e[1];if(n.substr(l,i.length).toLowerCase()===i.toLowerCase())return o=e[0],l+=i.length,!1}),o!==-1)return o+1;throw"Unknown name at position "+l},k=function(){if(n.charAt(l)!==e.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;r<e.length;r++)if(b)"'"!==e.charAt(r)||w("'")?k():b=!1;else switch(e.charAt(r)){case"d":v=_("d");break;case"D":x("D",d,h);break;case"o":y=_("o");break;case"m":m=_("m");break;case"M":m=x("M",p,f);break;case"y":g=_("y");break;case"@":s=new Date(_("@")),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((_("!")-this._ticksTo1970)/1e4),g=s.getFullYear(),m=s.getMonth()+1,v=s.getDate();break;case"'":w("'")?k():b=!0;break;default:k()}if(l<n.length&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(g===-1?g=(new Date).getFullYear():g<100&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(g<=c?0:-100)),y>-1)for(m=1,v=y;;){if(o=this._getDaysInMonth(g,m-1),v<=o)break;m++,v-=o}if(s=this._daylightSavingAdjust(new Date(g,m-1,v)),s.getFullYear()!==g||s.getMonth()+1!==m||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},u=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},c=function(t,e,n,i){return l(t)?i[e]:n[e]},d="",h=!1;if(e)for(i=0;i<t.length;i++)if(h)"'"!==t.charAt(i)||l("'")?d+=t.charAt(i):h=!1;else switch(t.charAt(i)){case"d":d+=u("d",e.getDate(),2);break;case"D":d+=c("D",e.getDay(),r,o);break;case"o":d+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",e.getMonth()+1,2);break;case"M":d+=c("M",e.getMonth(),a,s);break;case"y":d+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=t.charAt(i)}return d},_possibleChars:function(t){var e,n="",i=!1,r=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||r("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e];
},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,r=this._getDefaultDate(t),o=r,a=this._getFormatConfig(t);try{o=this.parseDate(n,i,a)||r}catch(s){i=e?"":i}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=i?o.getDate():0,t.currentMonth=i?o.getMonth():0,t.currentYear=i?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var r=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(n);u;){switch(u[2]||"d"){case"d":case"D":s+=parseInt(u[1],10);break;case"w":case"W":s+=7*parseInt(u[1],10);break;case"m":case"M":a+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(u[1],10),s=Math.min(s,t.datepicker._getDaysInMonth(o,a))}u=l.exec(n)}return new Date(o,a,s)},a=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return a=a&&"Invalid Date"===a.toString()?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,r=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),r===t.selectedMonth&&o===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w,_,x,k,C,$,M,S,T,D,E,O,P,A,N,I,R,L,B,H,F=new Date,W=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),j=this._get(t,"isRTL"),z=this._get(t,"showButtonPanel"),G=this._get(t,"hideIfNoPrevNext"),V=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),q=this._get(t,"showCurrentAtPos"),Y=this._get(t,"stepMonths"),K=1!==U[0]||1!==U[1],Z=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-q,tt=t.drawYear;if(J<0&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-U[0]*U[1]+1,Q.getDate())),e=X&&e<X?X:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)J--,J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,n=this._get(t,"prevText"),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J-Y,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>":G?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+n+"</span></a>",r=this._get(t,"nextText"),r=V?this.formatDate(r,this._daylightSavingAdjust(new Date(tt,J+Y,1)),this._getFormatConfig(t)):r,o=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>":G?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+r+"</span></a>",a=this._get(t,"currentText"),s=this._get(t,"gotoCurrent")&&t.currentDay?Z:W,a=V?this.formatDate(a,s,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(t,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(j?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(t,"showWeek"),h=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),w="",x=0;x<U[0];x++){for(k="",this.maxRows=4,C=0;C<U[1];C++){if($=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),M=" ui-corner-all",S="",K){if(S+="<div class='ui-datepicker-group",U[1]>1)switch(C){case 0:S+=" ui-datepicker-group-first",M=" ui-corner-"+(j?"right":"left");break;case U[1]-1:S+=" ui-datepicker-group-last",M=" ui-corner-"+(j?"left":"right");break;default:S+=" ui-datepicker-group-middle",M=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===x?j?o:i:"")+(/all|right/.test(M)&&0===x?j?i:o:"")+this._generateMonthYearHeader(t,J,tt,X,Q,x>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",_=0;_<7;_++)D=(_+c)%7,T+="<th scope='col'"+((_+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[D]+"'>"+p[D]+"</span></th>";for(S+=T+"</tr></thead><tbody>",E=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,E)),O=(this._getFirstDayOfMonth(tt,J)-c+7)%7,P=Math.ceil((O+E)/7),A=K&&this.maxRows>P?this.maxRows:P,this.maxRows=A,N=this._daylightSavingAdjust(new Date(tt,J,1-O)),I=0;I<A;I++){for(S+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(N)+"</td>":"",_=0;_<7;_++)L=m?m.apply(t.input?t.input[0]:null,[N]):[!0,""],B=N.getMonth()!==J,H=B&&!y||!L[0]||X&&N<X||Q&&N>Q,R+="<td class='"+((_+c+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(N.getTime()===$.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===N.getTime()&&b.getTime()===$.getTime()?" "+this._dayOverClass:"")+(H?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+L[1]+(N.getTime()===Z.getTime()?" "+this._currentClass:"")+(N.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(B&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(H?"":" data-handler='selectDay' data-event='click' data-month='"+N.getMonth()+"' data-year='"+N.getFullYear()+"'")+">"+(B&&!v?"&#xa0;":H?"<span class='ui-state-default'>"+N.getDate()+"</span>":"<a class='ui-state-default"+(N.getTime()===W.getTime()?" ui-state-highlight":"")+(N.getTime()===Z.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#'>"+N.getDate()+"</a>")+"</td>",N.setDate(N.getDate()+1),N=this._daylightSavingAdjust(N);S+=R+"</tr>"}J++,J>11&&(J=0,tt++),S+="</tbody></table>"+(K?"</div>"+(U[0]>0&&C===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=S}w+=k}return w+=u,t._keyEvent=!1,w},_generateMonthYearHeader:function(t,e,n,i,r,o,a,s){var l,u,c,d,h,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=i.getMonth())&&(!u||c<=r.getMonth())&&(w+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+s[c]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(e)?h:e},f=p(d[0]),g=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)t.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.selectedYear+("Y"===n?e:0),r=t.selectedMonth+("M"===n?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(i,r))+("D"===n?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,r,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),r=n&&e<n?n:e;return i&&r>i?i:r},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var r=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(n,i+(e<0?e:r[0]*r[1]),1));return e<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var n,i,r=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,s=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||e.getTime()>=r.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!s||e.getFullYear()<=s)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var r=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),r,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.0";var v=(t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),!1);t(document).on("mouseup",function(){v=!1});t.widget("ui.mouse",{version:"1.12.0",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!v){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(e)!==!1,!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),v=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,v=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")};t.widget("ui.draggable",t.ui.mouse,{version:"1.12.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var n=this.options;return this._blurActiveElement(e),!(this.helper||n.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var n=t.ui.safeActiveElement(this.document[0]),i=t(e.target);this._getHandle(e)&&i.closest(n).length||t.ui.safeBlur(n)},_mouseStart:function(e){var n=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var n=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",e)!==!1&&n._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper),r=i?t(n.helper.apply(this.element[0],[e])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,t(o).width()-this.helperProportions.width-this.margins.left,(t(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=t(r.containment),i=n[0],void(i&&(e=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var n="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:e.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(t,e){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,n,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[n,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,n,i){var r=t.extend({},n,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var n=t(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",e,r))})},stop:function(e,n,i){var r=t.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,r))})},drag:function(e,n,i){t.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&t.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},e.target=o.currentItem[0],o._mouseCapture(e,!0),o._mouseStart(e,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",e),i.dropped=o.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(e),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",e,o._uiHash(o)),o._mouseStop(e,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(e),n.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,n,i){var r=t("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(e,n,i){var r=i.options;r._cursor&&t("body").css("cursor",r._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(e,n,i){var r=i.options;r._opacity&&t(n.helper).css("opacity",r._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-e.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:e.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-e.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:e.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(e.pageY-t(s).scrollTop()<r.scrollSensitivity?o=t(s).scrollTop(t(s).scrollTop()-r.scrollSpeed):t(window).height()-(e.pageY-t(s).scrollTop())<r.scrollSensitivity&&(o=t(s).scrollTop(t(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(e.pageX-t(s).scrollLeft()<r.scrollSensitivity?o=t(s).scrollLeft(t(s).scrollLeft()-r.scrollSpeed):t(window).width()-(e.pageX-t(s).scrollLeft())<r.scrollSensitivity&&(o=t(s).scrollLeft(t(s).scrollLeft()+r.scrollSpeed)))),o!==!1&&t.ui.ddmanager&&!r.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,n,i){var r=i.options;i.snapElements=[],t(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){
var e=t(this),n=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:n.top,left:n.left})})},drag:function(e,n,i){var r,o,a,s,l,u,c,d,h,p,f=i.options,g=f.snapTolerance,m=n.offset.left,v=m+i.helperProportions.width,y=n.offset.top,b=y+i.helperProportions.height;for(h=i.snapElements.length-1;h>=0;h--)l=i.snapElements[h].left-i.margins.left,u=l+i.snapElements[h].width,c=i.snapElements[h].top-i.margins.top,d=c+i.snapElements[h].height,v<l-g||m>u+g||b<c-g||y>d+g||!t.contains(i.snapElements[h].item.ownerDocument,i.snapElements[h].item)?(i.snapElements[h].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(c-b)<=g,o=Math.abs(d-y)<=g,a=Math.abs(l-v)<=g,s=Math.abs(u-m)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),p=r||o||a||s,"outer"!==f.snapMode&&(r=Math.abs(c-y)<=g,o=Math.abs(d-b)<=g,a=Math.abs(l-m)<=g,s=Math.abs(u-v)<=g,r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[h].snapping&&(r||o||a||s||p)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[h].item})),i.snapElements[h].snapping=r||o||a||s||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,n,i){var r,o=i.options,a=t.makeArray(t(o.stack)).sort(function(e,n){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(n).css("zIndex"),10)||0)});a.length&&(r=parseInt(t(a[0]).css("zIndex"),10)||0,t(a).each(function(e){t(this).css("zIndex",r+e)}),this.css("zIndex",r+a.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,n,i){var r=t(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(e,n,i){var r=i.options;r._zIndex&&t(n.helper).css("zIndex",r._zIndex)}});t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.12.0",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return e[i]>0||(e[i]=1,r=e[i]>0,e[i]=0,r)},_create:function(){var e,n=this.options,i=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!n.aspectRatio,aspectRatio:n.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:n.helper||n.ghost||n.animate?n.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),n.autoHide&&t(this.element).on("mouseenter",function(){n.disabled||(i._removeClass("ui-resizable-autohide"),i._handles.show())}).on("mouseleave",function(){n.disabled||i.resizing||(i._addClass("ui-resizable-autohide"),i._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,n=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,n,i,r,o,a=this.options,s=this;if(this.handles=a.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),i=this.handles.split(","),this.handles={},n=0;n<i.length;n++)e=t.trim(i[n]),r="ui-resizable-"+e,o=t("<div>"),this._addClass(o,"ui-resizable-handle "+r),o.css({zIndex:a.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(o);this._renderAxis=function(e){var n,i,r,o;e=e||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=t(this.handles[n]),this._on(this.handles[n],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=t(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),e.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var n,i,r=!1;for(n in this.handles)i=t(this.handles[n])[0],(i===e.target||t.contains(i,e.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(e){var n,i,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=t(o.containment).scrollLeft()||0,i+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===r?this.axis+"-resize":r),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var n,i,r=this.originalMousePosition,o=this.axis,a=e.pageX-r.left||0,s=e.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[e,a,s]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(n=this._updateRatio(n,e)),n=this._respectSize(n,e),this._updateCache(n),this._propagate("resize",e),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var n,i,r,o,a,s,l,u=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-r},s=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,l=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(t.extend(a,{top:l,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,r=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,a=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(t.width=e.minWidth),a&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),r&&(t.height=e.maxHeight),o&&u&&(t.left=s-e.minWidth),i&&u&&(t.left=s-e.maxWidth),a&&c&&(t.top=l-e.minHeight),r&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],r=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(r[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,n=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize,i=this.originalPosition;return{left:i.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},sw:function(e,n,i){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,n,i]))},ne:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,n,i]))},nw:function(e,n,i){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,n,i]))}},_propagate:function(e,n){t.ui.plugin.call(this,e,[n,this.ui()]),"resize"!==e&&this._trigger(e,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var n=t(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},u=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};r&&r.length&&t(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,n,i,r,o,a,s,l=t(this).resizable("instance"),u=l.options,c=l.element,d=u.containment,h=d instanceof t?d.get(0):/parent/.test(d)?c.parent().get(0):d;h&&(l.containerElement=t(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(h),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,i){n[t]=l._num(e.css("padding"+i))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-n[3],width:e.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(h,"left")?h.scrollWidth:o,s=l._hasScroll(h)?h.scrollHeight:r,l.parentData={element:h,left:i.left,top:i.top,width:a,height:s}))},resize:function(e){var n,i,r,o,a=t(this).resizable("instance"),s=a.options,l=a.containerOffset,u=a.position,c=a._aspectRatio||e.shiftKey,d={top:0,left:0},h=a.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),u.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),c&&(a.size.height=a.size.width/a.aspectRatio,p=!1),a.position.left=s.helper?l.left:0),u.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,p=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,c&&(a.size.height=a.size.width/a.aspectRatio,p=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,c&&(a.size.width=a.size.height*a.aspectRatio,p=!1)),p||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),n=e.options,i=e.containerOffset,r=e.containerPosition,o=e.containerElement,a=t(e.helper),s=a.offset(),l=a.outerWidth()-e.sizeDiff.width,u=a.outerHeight()-e.sizeDiff.height;e._helper&&!n.animate&&/relative/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:u}),e._helper&&!n.animate&&/static/.test(o.css("position"))&&t(this).css({left:s.left-r.left-i.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance"),n=e.options;t(n.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var i=t(this).resizable("instance"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};t(r.alsoResize).each(function(){var e=t(this),i=t(this).data("ui-resizable-alsoresize"),r={},o=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&n>=0&&(r[e]=n||null)}),e.css(r)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),t.uiBackCompat!==!1&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,n=t(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,d=Math.round((r.width-o.width)/u)*u,h=Math.round((r.height-o.height)/c)*c,p=o.width+d,f=o.height+h,g=i.maxWidth&&i.maxWidth<p,m=i.maxHeight&&i.maxHeight<f,v=i.minWidth&&i.minWidth>p,y=i.minHeight&&i.minHeight>f;i.grid=l,v&&(p+=u),y&&(f+=c),g&&(p-=u),m&&(f-=c),/^(se|s|e)$/.test(s)?(n.size.width=p,n.size.height=f):/^(ne)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.top=a.top-h):/^(sw)$/.test(s)?(n.size.width=p,n.size.height=f,n.position.left=a.left-d):((f-c<=0||p-u<=0)&&(e=n._getPaddingPlusBorderDimensions(this)),f-c>0?(n.size.height=f,n.position.top=a.top-h):(f=c-e.height,n.size.height=f,n.position.top=a.top+o.height-f),p-u>0?(n.size.width=p,n.position.left=a.left-d):(p=u-e.width,n.size.width=p,n.position.left=a.left+o.width-p))}});t.ui.resizable;t.widget("ui.dialog",{version:"1.12.0",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var n=t(this).css(e).offset().top;n<0&&t(this).css("top",e.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var n=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){n._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",e),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function n(){var e=t.ui.safeActiveElement(this.document[0]),n=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);n||this._focusTabbable()}e.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");e.target!==r[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){r.trigger("focus")}),e.preventDefault()):(this._delay(function(){i.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(n)||t.isArray(n)&&!n.length?void this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(n,function(n,i){var r,o;i=t.isFunction(i)?{click:i,text:n}:i,i=t.extend({type:"button"},i),r=i.click,o={icon:i.icon,iconPosition:i.iconPosition,showLabel:i.showLabel},delete i.click,delete i.icon,delete i.iconPosition,delete i.showLabel,t("<button></button>",i).button(o).appendTo(e.uiButtonSet).on("click",function(){r.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){n._addClass(t(this),"ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,e(r))},drag:function(t,i){n._trigger("drag",t,e(i))},stop:function(r,o){var a=o.offset.left-n.document.scrollLeft(),s=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:n.window},n._removeClass(t(this),"ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,r){n._addClass(t(this),"ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,e(r))},resize:function(t,i){n._trigger("resize",t,e(i))},stop:function(r,o){var a=n.uiDialog.offset(),s=a.left-n.document.scrollLeft(),l=a.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:n.window},n._removeClass(t(this),"ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,e(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),n=t.inArray(this,e);n!==-1&&e.splice(n,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};t.each(e,function(t,e){n._setOption(t,e),t in n.sizeRelatedOptions&&(i=!0),t in n.resizableRelatedOptions&&(r[t]=e)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,n){var i,r,o=this.uiDialog;"disabled"!==e&&(this._super(e,n),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&(i=o.is(":data(ui-draggable)"),i&&!n&&o.draggable("destroy"),!i&&n&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(r=o.is(":data(ui-resizable)"),r&&!n&&o.resizable("destroy"),r&&"string"==typeof n&&o.resizable("option","handles",n),r||n===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),t=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),e=Math.max(0,i.minHeight-t),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-t):"none","auto"===i.height?this.element.css({minHeight:e,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){
if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});t.ui.dialog;t.widget("ui.droppable",{version:"1.12.0",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,n){if("accept"===e)this.accept=t.isFunction(n)?n:function(t){return t.is(n)};else if("scope"===e){var i=t.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(e,n)},_activate:function(e){var n=t.ui.ddmanager.current;this._addActiveClass(),n&&this._trigger("activate",e,this.ui(n))},_deactivate:function(e){var n=t.ui.ddmanager.current;this._removeActiveClass(),n&&this._trigger("deactivate",e,this.ui(n))},_over:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(n)))},_out:function(e){var n=t.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(n)))},_drop:function(e,n){var i=n||t.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=t(this).droppable("instance");if(n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&y(i,t.extend(n,{offset:n.element.offset()}),n.options.tolerance,e))return r=!0,!1}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var y=t.ui.intersect=function(){function t(t,e,n){return t>=e&&t<e+n}return function(e,n,i,r){if(!n.offset)return!1;var o=(e.positionAbs||e.position.absolute).left+e.margins.left,a=(e.positionAbs||e.position.absolute).top+e.margins.top,s=o+e.helperProportions.width,l=a+e.helperProportions.height,u=n.offset.left,c=n.offset.top,d=u+n.proportions().width,h=c+n.proportions().height;switch(i){case"fit":return u<=o&&s<=d&&c<=a&&l<=h;case"intersect":return u<o+e.helperProportions.width/2&&s-e.helperProportions.width/2<d&&c<a+e.helperProportions.height/2&&l-e.helperProportions.height/2<h;case"pointer":return t(r.pageY,c,n.proportions().height)&&t(r.pageX,u,n.proportions().width);case"touch":return(a>=c&&a<=h||l>=c&&l<=h||a<c&&l>h)&&(o>=u&&o<=d||s>=u&&s<=d||o<u&&s>d);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,n){var i,r,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=n?n.type:null,s=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(i=0;i<o.length;i++)if(!(o[i].options.disabled||e&&!o[i].accept.call(o[i].element[0],e.currentItem||e.element))){for(r=0;r<s.length;r++)if(s[r]===o[i].element[0]){o[i].proportions().height=0;continue t}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===a&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(e,n){var i=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&y(e,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(e,n){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)})},drag:function(e,n){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,n),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=y(e,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===r}),o.length&&(i=t(o[0]).droppable("instance"),i.greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(e,n){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,n)}},t.uiBackCompat!==!1&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.0",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){return void 0===t?this.options.value:(this.options.value=this._constrainedValue(t),void this._refreshValue())},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(n.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.0",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var n=t(this),i=n.offset(),r={left:i.left-e.elementPos.left,top:i.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:n,left:r.left,top:r.top,right:r.left+n.outerWidth(),bottom:r.top+n.outerHeight(),startselected:!1,selected:n.hasClass("ui-selected"),selecting:n.hasClass("ui-selecting"),unselecting:n.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var n=this,i=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(i.filter,this.element[0]),this._trigger("start",e),t(i.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=t.data(this,"selectable-item");i.startselected=!0,e.metaKey||e.ctrlKey||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element}))}),t(e.target).parents().addBack().each(function(){var i,r=t.data(this,"selectable-item");if(r)return i=!e.metaKey&&!e.ctrlKey||!r.$element.hasClass("ui-selected"),n._removeClass(r.$element,i?"ui-unselecting":"ui-selected")._addClass(r.$element,i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",e,{selecting:r.element}):n._trigger("unselecting",e,{unselecting:r.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],a=this.opos[1],s=e.pageX,l=e.pageY;return o>s&&(n=s,s=o,o=n),a>l&&(n=l,l=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:l-a}),this.selectees.each(function(){var n=t.data(this,"selectable-item"),u=!1,c={};n&&n.element!==i.element[0]&&(c.left=n.left+i.elementPos.left,c.right=n.right+i.elementPos.left,c.top=n.top+i.elementPos.top,c.bottom=n.bottom+i.elementPos.top,"touch"===r.tolerance?u=!(c.left>s||c.right<o||c.top>l||c.bottom<a):"fit"===r.tolerance&&(u=c.left>o&&c.right<s&&c.top>a&&c.bottom<l),u?(n.selected&&(i._removeClass(n.$element,"ui-selected"),n.selected=!1),n.unselecting&&(i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1),n.selecting||(i._addClass(n.$element,"ui-selecting"),n.selecting=!0,i._trigger("selecting",e,{selecting:n.element}))):(n.selecting&&((e.metaKey||e.ctrlKey)&&n.startselected?(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,i._addClass(n.$element,"ui-selected"),n.selected=!0):(i._removeClass(n.$element,"ui-selecting"),n.selecting=!1,n.startselected&&(i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",e,{unselecting:n.element}))),n.selected&&(e.metaKey||e.ctrlKey||n.startselected||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element})))))}),!1}},_mouseStop:function(e){var n=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",e,{unselected:i.element})}),t(".ui-selecting",this.element[0]).each(function(){var i=t.data(this,"selectable-item");n._removeClass(i.$element,"ui-selecting")._addClass(i.$element,"ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",e,{selected:i.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.0",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,n=this,i=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(i).appendTo(this.button),this.options.width!==!1&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){n._rendered||n._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,n){t.preventDefault(),e._setSelection(),e._select(n.item.data("ui-selectmenu-item"),t)},focus:function(t,n){var i=n.item.data("ui-selectmenu-item");null!=e.focusIndex&&i.index!==e.focusIndex&&(e._trigger("focus",t,{item:i}),e.isOpen||e._select(i,t)),e.focusIndex=i.index,e.button.attr("aria-activedescendant",e.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var n=t("<span>");return this._setText(n,e.label),this._addClass(n,"ui-selectmenu-text"),n},_renderMenu:function(e,n){var i=this,r="";t.each(n,function(n,o){var a;o.optgroup!==r&&(a=t("<li>",{text:o.optgroup}),i._addClass(a,"ui-selectmenu-optgroup","ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),a.appendTo(e),r=o.optgroup),i._renderItemData(e,o)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,n){var i=t("<li>"),r=t("<div>",{title:n.element.attr("title")});return n.disabled&&this._addClass(i,null,"ui-state-disabled"),this._setText(r,n.label),i.append(r).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),i="first"===t||"last"===t?n["first"===t?"prevAll":"nextAll"](r).eq(-1):n[t+"All"](r).eq(0),i.length&&this.menuInstance.focus(e,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?(t=window.getSelection(),t.removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection(),t.rangeCount&&(this.range=t.getRangeAt(0))):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var n=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),n=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),n=!1}n&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==n&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;return t===!1?void this.button.css("width",""):(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),void this.button.outerWidth(t))},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var n=this,i=[];e.each(function(e,r){i.push(n._parseOption(t(r),e))}),this.items=i},_parseOption:function(t,e){var n=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.0",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,n,i=this.options,r=this.element.find(".ui-slider-handle"),o="<span tabindex='0'></span>",a=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),e=r.length;e<n;e++)a.push(o);this.handles=r.add(t(a.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options;e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var n,i,r,o,a,s,l,u,c=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var n=Math.abs(i-c.values(e));(r>n||r===n&&(e===c._lastChangedValue||c.values(e)===d.min))&&(r=n,o=t(this),a=e)}),s=this._start(e,a),s!==!1&&(this._mouseSliding=!0,this._handleIndex=a,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),l=o.offset(),u=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,n),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,n,i,r,o;return"horizontal"===this.orientation?(e=this.elementSize.width,n=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,n=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/e,i>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(t,e,n){var i={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==e?e:this.values(t),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,n){var i,r,o=this.value(),a=this.values();this._hasMultipleValues()&&(r=this.values(e?0:1),o=this.values(e),2===this.options.values.length&&this.options.range===!0&&(n=0===e?Math.min(r,n):Math.max(r,n)),a[e]=n),n!==o&&(i=this._trigger("slide",t,this._uiHash(e,n,a)),i!==!1&&(this._hasMultipleValues()?this.values(e,n):this.value(n)))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,n){var i,r,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,n){var i,r=0;switch("range"===e&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(r=this.options.values.length),this._super(e,n),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,n,i;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,n=(t-this._valueMin())%e,i=t-n;return 2*Math.abs(n)>=e&&(i+=n>0?e:-e),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),n=this.options.step,i=Math.round((t-e)/n)*n;t=i+e,t>this.options.max&&(t-=n),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return n===-1?0:e.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,n,i,r,o,a=this.options.range,s=this.options,l=this,u=!this._animateOff&&s.animate,c={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=n+"%",t(this).stop(1,1)[u?"animate":"css"](c,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({width:n-e+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({height:n-e+"%"},{queue:!1,duration:s.animate}))),e=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-n+"%"},s.animate),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-n+"%"},s.animate))},_handleEvents:{keydown:function(e){
var n,i,r,o,a=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),n=this._start(e,a),n===!1))return}switch(o=this.options.step,i=r=this._hasMultipleValues()?this.values(a):this.value(),e.keyCode){case t.ui.keyCode.HOME:r=this._valueMin();break;case t.ui.keyCode.END:r=this._valueMax();break;case t.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o)}this._slide(e,a,r)},keyup:function(e){var n=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,n),this._change(e,n),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.0",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1}),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!!i&&(!(this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),e.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each(function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))}),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each(function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,a=o+t.width,s=t.top,l=s+t.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||i+u>s&&i+u<l,h="y"===this.options.axis||e+c>o&&e+c<a,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),o=i&&r;return!!o&&(e=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function n(){s.push(this)}var i,r,o,a,s=[],l=[],u=this._connectWith();if(u&&e)for(i=u.length-1;i>=0;i--)for(o=t(u[i],this.document[0]),r=o.length-1;r>=0;r--)a=t.data(o[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,u,c=this.items,d=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--)for(r=t(h[n],this.document[0]),i=r.length-1;i>=0;i--)o=t.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(a=d[n][1],s=d[n][0],i=0,u=s.length;i<u;i++)l=t(s[i]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var n,i=e.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]);return e._addClass(r,"ui-sortable-placeholder",n||e.currentItem[0].className)._removeClass(r,"ui-sortable-helper"),"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each(function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(e){var n,i,r,o,a,s,l,u,c,d,h=null,p=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(h&&t.contains(this.containers[n].element[0],h.element[0]))continue;h=this.containers[n],p=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(r=1e4,o=null,c=h.floating||this._isFloating(this.currentItem),a=c?"left":"top",s=c?"width":"height",d=c?"pageX":"pageY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[p].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],u=!1,e[d]-l>this.items[i][s]/2&&(u=!0),Math.abs(e[d]-l)<r&&(r=Math.abs(e[d]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,a=e.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(t,e){function n(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&r.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||r.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(r.push(function(t){this._trigger("remove",t,this._uiHash())}),r.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<r.length;i++)r[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}});t.widget("ui.spinner",{version:"1.12.0",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),n=this.element;return t.each(["min","max","step"],function(t,i){var r=n.attr(i);null!=r&&r.length&&(e[i]=r)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function n(){var e=this.element[0]===t.ui.safeActiveElement(this.document[0]);e||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return this._start(e)!==!1&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var n=this.options,i=t.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,n.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&this._trigger("start",t)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,n){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,n)},t),this._spin(e*this.options.step,n)},_spin:function(t,e){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(e){var n=this.options.incremental;return n?t.isFunction(n)?n(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),n=e.indexOf(".");return n===-1?0:e.length-n-1},_adjustValue:function(t){var e,n,i=this.options;return e=null!==i.min?i.min:0,n=t-e,n=Math.round(n/i.step)*i.step,t=e+n,t=parseFloat(t.toFixed(this._precision())),null!==i.max&&t>i.max?i.max:null!==i.min&&t<i.min?i.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var n,i,r;return"culture"===t||"numberFormat"===t?(n=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(n))):("max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,e.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,e.down)),void this._super(t,e))},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:s(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var n;""!==t&&(n=this._parse(t),null!==n&&(e||(n=this._adjustValue(n)),t=this._format(n))),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),
this.uiSpinner.replaceWith(this.element)},stepUp:s(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:s(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:s(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:s(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void s(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),t.uiBackCompat!==!1&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});t.ui.spinner;t.widget("ui.tabs",{version:"1.12.0",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var t=/#.*$/;return function(e){var n,i;n=e.href.replace(t,""),i=location.href.replace(t,"");try{n=decodeURIComponent(n)}catch(r){}try{i=decodeURIComponent(i)}catch(r){}return e.hash.length>1&&n===i}}(),_create:function(){var e=this,n=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,n.collapsible),this._processTabs(),n.active=this._initialActive(),t.isArray(n.disabled)&&(n.disabled=t.unique(n.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.options.active!==!1&&this.anchors.length?this.active=this._findActive(n.active):this.active=t(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var e=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===e&&(i&&this.tabs.each(function(n,r){if(t(r).attr("aria-controls")===i)return e=n,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&e!==-1||(e=!!this.tabs.length&&0)),e!==!1&&(e=this.tabs.index(this.tabs.eq(e)),e===-1&&(e=!n&&0)),!n&&e===!1&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var n=t(t.ui.safeActiveElement(this.document[0])).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:i++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:r=!1,i--;break;case t.ui.keyCode.END:i=this.anchors.length-1;break;case t.ui.keyCode.HOME:i=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),e.ctrlKey||e.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,n){function i(){return e>r&&(e=0),e<0&&(e=r),e}for(var r=this.tabs.length-1;t.inArray(i(),this.options.disabled)!==-1;)e=n?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){return"active"===t?void this._activate(e):(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(e),void("heightStyle"===t&&this._setupHeightStyle(e)))},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,n=this.tablist.children(":has(a[href])");e.disabled=t.map(n.filter(".ui-state-disabled"),function(t){return n.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(n,i){var r,o,a,s=t(i).uniqueId().attr("id"),l=t(i).closest("li"),u=l.attr("aria-controls");e._isLocal(i)?(r=i.hash,a=r.substring(1),o=e.element.find(e._sanitizeSelector(r))):(a=l.attr("aria-controls")||t({}).uniqueId()[0].id,r="#"+a,o=e.element.find(r),o.length||(o=e._createPanel(a),o.insertAfter(e.panels[n-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var n,i,r;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),r=0;i=this.tabs[r];r++)n=t(i),e===!0||t.inArray(r,e)!==-1?(n.attr("aria-disabled","true"),this._addClass(n,null,"ui-state-disabled")):(n.removeAttr("aria-disabled"),this._removeClass(n,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,e===!0)},_setupEvents:function(e){var n={};e&&t.each(e.split(" "),function(t,e){n[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,i=this.element.parent();"fill"===e?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),i=e.css("position");"absolute"!==i&&"fixed"!==i&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,n-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,t(this).height("").height())}).height(n))},_eventHandler:function(e){var n=this.options,i=this.active,r=t(e.currentTarget),o=r.closest("li"),a=o[0]===i[0],s=a&&n.collapsible,l=s?t():this._getPanelForTab(o),u=i.length?this._getPanelForTab(i):t(),c={oldTab:i,oldPanel:u,newTab:s?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||this._trigger("beforeActivate",e,c)===!1||(n.active=!s&&this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),u.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,n){function i(){o.running=!1,o._trigger("activate",e,n)}function r(){o._addClass(n.newTab.closest("li"),"ui-tabs-active","ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,i):(a.show(),i())}var o=this,a=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){o._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r()}):(this._removeClass(n.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?n.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var n,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),n=e.data("ui-tabs-aria-controls");n?e.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var n=this.options.disabled;n!==!1&&(void 0===e?n=!1:(e=this._getIndex(e),n=t.isArray(n)?t.map(n,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,n){return n!==e?n:null})),this._setOptionDisabled(n))},disable:function(e){var n=this.options.disabled;if(n!==!0){if(void 0===e)n=!0;else{if(e=this._getIndex(e),t.inArray(e,n)!==-1)return;n=t.isArray(n)?t.merge([e],n).sort():[e]}this._setOptionDisabled(n)}},load:function(e,n){e=this._getIndex(e);var i=this,r=this.tabs.eq(e),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},l=function(t,e){"abort"===e&&i.panels.stop(!1,!0),i._removeClass(r,"ui-tabs-loading"),a.removeAttr("aria-busy"),t===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(r,"ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(t,e,r){setTimeout(function(){a.html(t),i._trigger("load",n,s),l(r,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href"),beforeSend:function(e,o){return r._trigger("beforeLoad",n,t.extend({jqXHR:e,ajaxSettings:o},i))}}},_getPanelForTab:function(e){var n=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),t.uiBackCompat!==!1&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});t.ui.tabs;t.widget("ui.tooltip",{version:"1.12.0",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,n){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(n),e.data("ui-tooltip-id",n).attr("aria-describedby",t.trim(i.join(" ")))},_removeDescribedBy:function(e){var n=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),r=t.inArray(n,i);r!==-1&&i.splice(r,1),e.removeData("ui-tooltip-id"),i=t.trim(i.join(" ")),i?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,n){var i=this;this._super(e,n),"content"===e&&t.each(this.tooltips,function(t,e){i._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur");r.target=r.currentTarget=i.element[0],e.close(r,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var n=this,i=t(e?e.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&i.parents().each(function(){var e,i=t(this);i.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,n.close(e,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(e,i),this._updateContent(i,e))},_updateContent:function(t,e){var n,i=this.options.content,r=this,o=e?e.type:null;return"string"==typeof i||i.nodeType||i.jquery?this._open(e,t,i):(n=i.call(t[0],function(n){r._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=o),this._open(e,t,n))})}),void(n&&this._open(e,t,n)))},_open:function(e,n,i){function r(t){u.of=t,a.is(":hidden")||a.position(u)}var o,a,s,l,u=t.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(e&&"mouseover"===e.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),a=o.tooltip,this._addDescribedBy(n,a.attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),l=t("<div>").html(a.find(".ui-tooltip-content").html()),l.removeAttr("name").find("[name]").removeAttr("name"),l.removeAttr("id").find("[id]").removeAttr("id"),l.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:r}),r(e)):a.position(t.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){a.is(":visible")&&(r(u.of),clearInterval(s))},t.fx.interval)),this._trigger("open",e,{tooltip:a})}},_registerCloseHandlers:function(e,n){var i={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(i.mouseleave="close"),e&&"focusin"!==e.type||(i.focusout="close"),this._on(!0,n,i)},close:function(e){var n,i=this,r=t(e?e.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(t(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,n){t(n.element).attr("title",n.title),delete i.parents[e]}),o.closing=!0,this._trigger("close",e,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(e){var n=t("<div>").attr("role","tooltip"),i=t("<div>").appendTo(n),r=n.uniqueId().attr("id");return this._addClass(i,"ui-tooltip-content"),this._addClass(n,"ui-tooltip","ui-widget ui-widget-content"),n.appendTo(this._appendTo(e)),this.tooltips[r]={element:e,tooltip:n}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(n,i){var r=t.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],e.close(r,!0),t("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),t.uiBackCompat!==!1&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});t.ui.tooltip}),function(t,e){"use strict";function n(t,e){for(var n,i=[],o=0;o<t.length;++o){if(n=a[t[o]]||r(t[o]),!n)throw"module definition dependecy not found: "+t[o];i.push(n)}e.apply(null,i)}function i(t,i,r){if("string"!=typeof t)throw"invalid module definition, module id must be defined and be a string";if(i===e)throw"invalid module definition, dependencies must be specified";if(r===e)throw"invalid module definition, definition function must be specified";n(i,function(){a[t]=r.apply(null,arguments)})}function r(e){for(var n=t,i=e.split(/[.\/]/),r=0;r<i.length;++r){if(!n[i[r]])return;n=n[i[r]]}return n}function o(n){var i,r,o,s,l;for(i=0;i<n.length;i++){r=t,o=n[i],s=o.split(/[.\/]/);for(var u=0;u<s.length-1;++u)r[s[u]]===e&&(r[s[u]]={}),r=r[s[u]];r[s[s.length-1]]=a[o]}if(t.AMDLC_TESTS){l=t.privateModules||{};for(o in a)l[o]=a[o];for(i=0;i<n.length;i++)delete l[n[i]];t.privateModules=l}}var a={};i("tinymce/geom/Rect",[],function(){function t(t,e,n){var i,r,a,s,l,c;return i=e.x,r=e.y,a=t.w,s=t.h,l=e.w,c=e.h,n=(n||"").split(""),"b"===n[0]&&(r+=c),"r"===n[1]&&(i+=l),"c"===n[0]&&(r+=u(c/2)),"c"===n[1]&&(i+=u(l/2)),"b"===n[3]&&(r-=s),"r"===n[4]&&(i-=a),"c"===n[3]&&(r-=u(s/2)),"c"===n[4]&&(i-=u(a/2)),o(i,r,a,s)}function e(e,n,i,r){var o,a;for(a=0;a<r.length;a++)if(o=t(e,n,r[a]),o.x>=i.x&&o.x+o.w<=i.w+i.x&&o.y>=i.y&&o.y+o.h<=i.h+i.y)return r[a];return null}function n(t,e,n){return o(t.x-e,t.y-n,t.w+2*e,t.h+2*n)}function i(t,e){var n,i,r,a;return n=l(t.x,e.x),i=l(t.y,e.y),r=s(t.x+t.w,e.x+e.w),a=s(t.y+t.h,e.y+e.h),r-n<0||a-i<0?null:o(n,i,r-n,a-i)}function r(t,e,n){var i,r,a,s,u,c,d,h,p,f;return u=t.x,c=t.y,d=t.x+t.w,h=t.y+t.h,p=e.x+e.w,f=e.y+e.h,i=l(0,e.x-u),r=l(0,e.y-c),a=l(0,d-p),s=l(0,h-f),u+=i,c+=r,n&&(d+=i,h+=r,u-=a,c-=s),d-=a,h-=s,o(u,c,d-u,h-c)}function o(t,e,n,i){return{x:t,y:e,w:n,h:i}}function a(t){return o(t.left,t.top,t.width,t.height)}var s=Math.min,l=Math.max,u=Math.round;return{inflate:n,relativePosition:t,findBestRelativePosition:e,intersect:i,clamp:r,create:o,fromClientRect:a}}),i("tinymce/util/Promise",[],function(){function t(t,e){return function(){t.apply(e,arguments)}}function e(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],s(e,t(i,this),t(r,this))}function n(t){var e=this;return null===this._state?void this._deferreds.push(t):void l(function(){var n=e._state?t.onFulfilled:t.onRejected;if(null===n)return void(e._state?t.resolve:t.reject)(e._value);var i;try{i=n(e._value)}catch(r){return void t.reject(r)}t.resolve(i)})}function i(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void s(t(n,e),t(i,this),t(r,this))}this._state=!0,this._value=e,o.call(this)}catch(a){r.call(this,a)}}function r(t){this._state=!1,this._value=t,o.call(this)}function o(){for(var t=0,e=this._deferreds.length;t<e;t++)n.call(this,this._deferreds[t]);this._deferreds=null}function a(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function s(t,e,n){var i=!1;try{t(function(t){i||(i=!0,e(t))},function(t){i||(i=!0,n(t))})}catch(r){if(i)return;i=!0,n(r)}}if(window.Promise)return window.Promise;var l=e.immediateFn||"function"==typeof setImmediate&&setImmediate||function(t){setTimeout(t,1)},u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return e.prototype["catch"]=function(t){return this.then(null,t)},e.prototype.then=function(t,i){var r=this;return new e(function(e,o){n.call(r,new a(t,i,e,o))})},e.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new e(function(e,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){i(o,t)},n)}t[o]=a,0===--r&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})},e.resolve=function(t){return t&&"object"==typeof t&&t.constructor===e?t:new e(function(e){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},e}),i("tinymce/util/Delay",["tinymce/util/Promise"],function(t){function e(t,e){function n(t){window.setTimeout(t,0)}var i,r=window.requestAnimationFrame,o=["ms","moz","webkit"];for(i=0;i<o.length&&!r;i++)r=window[o[i]+"RequestAnimationFrame"];r||(r=n),r(t,e)}function n(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)}function i(t,e){return"number"!=typeof e&&(e=0),setInterval(t,e)}function r(t){return clearTimeout(t)}function o(t){return clearInterval(t)}var a;return{requestAnimationFrame:function(n,i){return a?void a.then(n):void(a=new t(function(t){i||(i=document.body),e(t,i)}).then(n))},setTimeout:n,setInterval:i,setEditorTimeout:function(t,e,i){return n(function(){t.removed||e()},i)},setEditorInterval:function(t,e,n){var r;return r=i(function(){t.removed?clearInterval(r):e()},n)},throttle:function(t,e){var i,r;return r=function(){var r=arguments;clearTimeout(i),i=n(function(){t.apply(this,r)},e)},r.stop=function(){clearTimeout(i)},r},clearInterval:o,clearTimeout:r}}),i("tinymce/Env",[],function(){function t(t){return"matchMedia"in window&&matchMedia(t).matches}var e,n,i,r,o,a,s,l,u,c,d,h,p,f=navigator,g=f.userAgent;e=window.opera&&window.opera.buildNumber,u=/Android/.test(g),n=/WebKit/.test(g),i=!n&&!e&&/MSIE/gi.test(g)&&/Explorer/gi.test(f.appName),i=i&&/MSIE (\w+)\./.exec(g)[1],r=g.indexOf("Trident/")!=-1&&(g.indexOf("rv:")!=-1||f.appName.indexOf("Netscape")!=-1)&&11,o=g.indexOf("Edge/")!=-1&&!i&&!r&&12,i=i||r||o,a=!n&&!r&&/Gecko/.test(g),s=g.indexOf("Mac")!=-1,l=/(iPad|iPhone)/.test(g),c="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,d=t("only screen and (max-device-width: 480px)")&&(u||l),h=t("only screen and (min-width: 800px)")&&(u||l),p=g.indexOf("Windows Phone")!=-1,o&&(n=!1);var m=!l||c||g.match(/AppleWebKit\/(\d*)/)[1]>=534;return{opera:e,webkit:n,ie:i,gecko:a,mac:s,iOS:l,android:u,contentEditable:m,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!=i,range:window.getSelection&&"Range"in window,documentMode:i&&!o?document.documentMode||7:10,fileApi:c,ceFalse:i===!1||i>8,desktop:!d&&!h,windowsPhone:p}}),i("tinymce/dom/EventUtils",["tinymce/util/Delay","tinymce/Env"],function(t,e){function n(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)}function i(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)}function r(t,e){var n,i=e;return n=t.path,n&&n.length>0&&(i=n[0]),t.deepPath&&(n=t.deepPath(),n&&n.length>0&&(i=n[0])),i}function o(t,n){function i(){return!1}function o(){return!0}var a,s,l=n||{};for(a in t)c[a]||(l[a]=t[a]);if(l.target||(l.target=l.srcElement||document),e.experimentalShadowDom&&(l.target=r(t,l.target)),t&&u.test(t.type)&&t.pageX===s&&t.clientX!==s){var d=l.target.ownerDocument||document,h=d.documentElement,p=d.body;l.pageX=t.clientX+(h&&h.scrollLeft||p&&p.scrollLeft||0)-(h&&h.clientLeft||p&&p.clientLeft||0),l.pageY=t.clientY+(h&&h.scrollTop||p&&p.scrollTop||0)-(h&&h.clientTop||p&&p.clientTop||0)}return l.preventDefault=function(){l.isDefaultPrevented=o,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},l.stopPropagation=function(){l.isPropagationStopped=o,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=o,l.stopPropagation()},l.isDefaultPrevented||(l.isDefaultPrevented=i,l.isPropagationStopped=i,l.isImmediatePropagationStopped=i),"undefined"==typeof l.metaKey&&(l.metaKey=!1),l}function a(e,r,o){function a(){o.domLoaded||(o.domLoaded=!0,r(c))}function s(){("complete"===u.readyState||"interactive"===u.readyState&&u.body)&&(i(u,"readystatechange",s),a())}function l(){try{u.documentElement.doScroll("left")}catch(e){return void t.setTimeout(l)}a()}var u=e.document,c={type:"ready"};return o.domLoaded?void r(c):(u.addEventListener?"complete"===u.readyState?a():n(e,"DOMContentLoaded",a):(n(u,"readystatechange",s),u.documentElement.doScroll&&e.self===e.top&&l()),void n(e,"load",a))}function s(){function t(t,e){var n,i,r,o,a=h[e];if(n=a&&a[t.type])for(i=0,r=n.length;i<r;i++)if(o=n[i],o&&o.func.call(o.scope,t)===!1&&t.preventDefault(),t.isImmediatePropagationStopped())return}var e,r,s,u,c,d=this,h={};r=l+(+new Date).toString(32),u="onmouseenter"in document.documentElement,s="onfocusin"in document.documentElement,c={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,d.domLoaded=!1,d.events=h,d.bind=function(i,l,p,f){function g(e){t(o(e||k.event),m)}var m,v,y,b,w,_,x,k=window;if(i&&3!==i.nodeType&&8!==i.nodeType){for(i[r]?m=i[r]:(m=e++,i[r]=m,h[m]={}),f=f||i,l=l.split(" "),y=l.length;y--;)b=l[y],_=g,w=x=!1,"DOMContentLoaded"===b&&(b="ready"),d.domLoaded&&"ready"===b&&"complete"==i.readyState?p.call(f,o({type:b})):(u||(w=c[b],w&&(_=function(e){var n,i;if(n=e.currentTarget,i=e.relatedTarget,i&&n.contains)i=n.contains(i);else for(;i&&i!==n;)i=i.parentNode;i||(e=o(e||k.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=n,t(e,m))})),s||"focusin"!==b&&"focusout"!==b||(x=!0,w="focusin"===b?"focus":"blur",_=function(e){e=o(e||k.event),e.type="focus"===e.type?"focusin":"focusout",t(e,m)}),v=h[m][b],v?"ready"===b&&d.domLoaded?p({type:b}):v.push({func:p,scope:f}):(h[m][b]=v=[{func:p,scope:f}],v.fakeName=w,v.capture=x,v.nativeHandler=_,"ready"===b?a(i,_,d):n(i,w||b,_,x)));return i=v=0,p}},d.unbind=function(t,e,n){var o,a,s,l,u,c;if(!t||3===t.nodeType||8===t.nodeType)return d;if(o=t[r]){if(c=h[o],e){for(e=e.split(" "),s=e.length;s--;)if(u=e[s],a=c[u]){if(n)for(l=a.length;l--;)if(a[l].func===n){var p=a.nativeHandler,f=a.fakeName,g=a.capture;a=a.slice(0,l).concat(a.slice(l+1)),a.nativeHandler=p,a.fakeName=f,a.capture=g,c[u]=a}n&&0!==a.length||(delete c[u],i(t,a.fakeName||u,a.nativeHandler,a.capture))}}else{for(u in c)a=c[u],i(t,a.fakeName||u,a.nativeHandler,a.capture);c={}}for(u in c)return d;delete h[o];try{delete t[r]}catch(m){t[r]=null}}return d},d.fire=function(e,n,i){var a;if(!e||3===e.nodeType||8===e.nodeType)return d;i=o(null,i),i.type=n,i.target=e;do a=e[r],a&&t(i,a),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!i.isPropagationStopped());return d},d.clean=function(t){var e,n,i=d.unbind;if(!t||3===t.nodeType||8===t.nodeType)return d;if(t[r]&&i(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(i(t),n=t.getElementsByTagName("*"),e=n.length;e--;)t=n[e],t[r]&&i(t);return d},d.destroy=function(){h={}},d.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}}var l="mce-data-",u=/^(?:mouse|contextmenu)|click/,c={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1};return s.Event=new s,s.Event.bind(window,"ready",function(){}),s}),i("tinymce/dom/Sizzle",[],function(){function t(t,e,n,i){var r,o,a,s,l,u,d,p,f,g;if((e?e.ownerDocument||e:F)!==P&&O(e),e=e||P,n=n||[],!t||"string"!=typeof t)return n;if(1!==(s=e.nodeType)&&9!==s)return[];if(N&&!i){if(r=vt.exec(t))if(a=r[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&B(e,o)&&o.id===a)return n.push(o),n}else{if(r[2])return J.apply(n,e.getElementsByTagName(t)),n;if((a=r[3])&&_.getElementsByClassName)return J.apply(n,e.getElementsByClassName(a)),n}if(_.qsa&&(!I||!I.test(t))){if(p=d=H,f=e,g=9===s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=$(t),(d=e.getAttribute("id"))?p=d.replace(bt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",l=u.length;l--;)u[l]=p+h(u[l]);f=yt.test(t)&&c(e.parentNode)||e,g=u.join(",")}if(g)try{return J.apply(n,f.querySelectorAll(g)),n}catch(m){}finally{d||e.removeAttribute("id")}}}return S(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>x.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[H]=!0,t}function r(t){var e=P.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)x.attrHandle[n[i]]=e}function a(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(t){return t&&typeof t.getElementsByTagName!==q&&t}function d(){}function h(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=j++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,a){var s,l,u=[W,o];if(a){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(l=e[H]||(e[H]={}),(s=l[i])&&s[0]===W&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=t(e,n,a))return!0}}}function f(t){return t.length>1?function(e,n,i){
for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function g(e,n,i){for(var r=0,o=n.length;r<o;r++)t(e,n[r],i);return i}function m(t,e,n,i,r){for(var o,a=[],s=0,l=t.length,u=null!=e;s<l;s++)(o=t[s])&&(n&&!n(o,i,r)||(a.push(o),u&&e.push(s)));return a}function v(t,e,n,r,o,a){return r&&!r[H]&&(r=v(r)),o&&!o[H]&&(o=v(o,a)),i(function(i,a,s,l){var u,c,d,h=[],p=[],f=a.length,v=i||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!i&&e?v:m(v,h,t,s,l),b=n?o||(i?t:f||r)?[]:a:y;if(n&&n(y,b,s,l),r)for(u=m(b,p),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[p[c]]=!(y[p[c]]=d));if(i){if(o||t){if(o){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(y[c]=d);o(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&(u=o?et.call(i,d):h[c])>-1&&(i[u]=!(a[u]=d))}}else b=m(b===a?b.splice(f,b.length):b),o?o(null,a,b,l):J.apply(a,b)})}function y(t){for(var e,n,i,r=t.length,o=x.relative[t[0].type],a=o||x.relative[" "],s=o?1:0,l=p(function(t){return t===e},a,!0),u=p(function(t){return et.call(e,t)>-1},a,!0),c=[function(t,n,i){return!o&&(i||n!==T)||((e=n).nodeType?l(t,n,i):u(t,n,i))}];s<r;s++)if(n=x.relative[t[s].type])c=[p(f(c),n)];else{if(n=x.filter[t[s].type].apply(null,t[s].matches),n[H]){for(i=++s;i<r&&!x.relative[t[i].type];i++);return v(s>1&&f(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,s<i&&y(t.slice(s,i)),i<r&&y(t=t.slice(i)),i<r&&h(t))}c.push(n)}return f(c)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var c,d,h,p=0,f="0",g=i&&[],v=[],y=T,b=i||o&&x.find.TAG("*",u),w=W+=null==y?1:Math.random()||.1,_=b.length;for(u&&(T=a!==P&&a);f!==_&&null!=(c=b[f]);f++){if(o&&c){for(d=0;h=e[d++];)if(h(c,a,s)){l.push(c);break}u&&(W=w)}r&&((c=!h&&c)&&p--,i&&g.push(c))}if(p+=f,r&&f!==p){for(d=0;h=n[d++];)h(g,v,a,s);if(i){if(p>0)for(;f--;)g[f]||v[f]||(v[f]=X.call(l));v=m(v)}J.apply(l,v),u&&!i&&v.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(W=w,T=y),g};return r?i(a):a}var w,_,x,k,C,$,M,S,T,D,E,O,P,A,N,I,R,L,B,H="sizzle"+-new Date,F=window.document,W=0,j=0,z=n(),G=n(),V=n(),U=function(t,e){return t===e&&(E=!0),0},q=typeof e,Y=1<<31,K={}.hasOwnProperty,Z=[],X=Z.pop,Q=Z.push,J=Z.push,tt=Z.slice,et=Z.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},nt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+it+"*("+rt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+it+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),dt=new RegExp(at),ht=new RegExp("^"+rt+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+nt+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,mt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yt=/[+~]/,bt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),_t=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{J.apply(Z=tt.call(F.childNodes),F.childNodes),Z[F.childNodes.length].nodeType}catch(xt){J={apply:Z.length?function(t,e){Q.apply(t,tt.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}_=t.support={},C=t.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},O=t.setDocument=function(t){function e(t){try{return t.top}catch(e){}return null}var n,i=t?t.ownerDocument||t:F,o=i.defaultView;return i!==P&&9===i.nodeType&&i.documentElement?(P=i,A=i.documentElement,N=!C(i),o&&o!==e(o)&&(o.addEventListener?o.addEventListener("unload",function(){O()},!1):o.attachEvent&&o.attachEvent("onunload",function(){O()})),_.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),_.getElementsByTagName=r(function(t){return t.appendChild(i.createComment("")),!t.getElementsByTagName("*").length}),_.getElementsByClassName=mt.test(i.getElementsByClassName),_.getById=r(function(t){return A.appendChild(t).id=H,!i.getElementsByName||!i.getElementsByName(H).length}),_.getById?(x.find.ID=function(t,e){if(typeof e.getElementById!==q&&N){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},x.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){return t.getAttribute("id")===e}}):(delete x.find.ID,x.filter.ID=function(t){var e=t.replace(wt,_t);return function(t){var n=typeof t.getAttributeNode!==q&&t.getAttributeNode("id");return n&&n.value===e}}),x.find.TAG=_.getElementsByTagName?function(t,e){if(typeof e.getElementsByTagName!==q)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=_.getElementsByClassName&&function(t,e){if(N)return e.getElementsByClassName(t)},R=[],I=[],(_.qsa=mt.test(i.querySelectorAll))&&(r(function(t){t.innerHTML="<select msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||I.push("\\["+it+"*(?:value|"+nt+")"),t.querySelectorAll(":checked").length||I.push(":checked")}),r(function(t){var e=i.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&I.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),I.push(",.*:")})),(_.matchesSelector=mt.test(L=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&r(function(t){_.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),R.push("!=",at)}),I=I.length&&new RegExp(I.join("|")),R=R.length&&new RegExp(R.join("|")),n=mt.test(A.compareDocumentPosition),B=n||mt.test(A.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=n?function(t,e){if(t===e)return E=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!_.sortDetached&&e.compareDocumentPosition(t)===n?t===i||t.ownerDocument===F&&B(F,t)?-1:e===i||e.ownerDocument===F&&B(F,e)?1:D?et.call(D,t)-et.call(D,e):0:4&n?-1:1)}:function(t,e){if(t===e)return E=!0,0;var n,r=0,o=t.parentNode,s=e.parentNode,l=[t],u=[e];if(!o||!s)return t===i?-1:e===i?1:o?-1:s?1:D?et.call(D,t)-et.call(D,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===F?-1:u[r]===F?1:0},i):P},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==P&&O(e),n=n.replace(ct,"='$1']"),_.matchesSelector&&N&&(!R||!R.test(n))&&(!I||!I.test(n)))try{var i=L.call(e,n);if(i||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,P,null,[e]).length>0},t.contains=function(t,e){return(t.ownerDocument||t)!==P&&O(t),B(t,e)},t.attr=function(t,n){(t.ownerDocument||t)!==P&&O(t);var i=x.attrHandle[n.toLowerCase()],r=i&&K.call(x.attrHandle,n.toLowerCase())?i(t,n,!N):e;return r!==e?r:_.attributes||!N?t.getAttribute(n):(r=t.getAttributeNode(n))&&r.specified?r.value:null},t.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},t.uniqueSort=function(t){var e,n=[],i=0,r=0;if(E=!_.detectDuplicates,D=!_.sortStable&&t.slice(0),t.sort(U),E){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return D=null,t},k=t.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,_t),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,_t),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=$(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,_t).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=z[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&z(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==q&&t.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,d,h,p,f,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(d=e;d=d[g];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=g="only"===t&&!f&&"nextSibling"}return!0}if(f=[a?m.firstChild:m.lastChild],a&&y){for(c=m[H]||(m[H]={}),u=c[t]||[],p=u[0]===W&&u[1],h=u[0]===W&&u[2],d=p&&m.childNodes[p];d=++p&&d&&d[g]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===e){c[t]=[W,p,h];break}}else if(y&&(u=(e[H]||(e[H]={}))[t])&&u[0]===W)h=u[1];else for(;(d=++p&&d&&d[g]||(h=p=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(y&&((d[H]||(d[H]={}))[t]=[W,h]),d!==e)););return h-=r,h===i||h%i===0&&h/i>=0}}},PSEUDO:function(e,n){var r,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[H]?o(n):o.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),a=r.length;a--;)i=et.call(t,r[a]),t[i]=!(e[i]=r[a])}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=M(t.replace(st,"$1"));return r[H]?i(function(t,e,n,i){for(var o,a=r(t,null,i,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(t){return t=t.replace(wt,_t),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(e){return ht.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(wt,_t).toLowerCase(),function(t){var n;do if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===A},focus:function(t){return t===P.activeElement&&(!P.hasFocus||P.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!x.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[n<0?n+e:n]}),even:u(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t}),gt:u(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}},x.pseudos.nth=x.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})x.pseudos[w]=l(w);return d.prototype=x.filters=x.pseudos,x.setFilters=new d,$=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=G[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=x.preFilter;s;){i&&!(r=lt.exec(s))||(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ut.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(st," ")}),s=s.slice(i.length));for(a in x.filter)!(r=pt[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):G(e,l).slice(0)},M=t.compile=function(t,e){var n,i=[],r=[],o=V[t+" "];if(!o){for(e||(e=$(t)),n=e.length;n--;)o=y(e[n]),o[H]?i.push(o):r.push(o);o=V(t,b(r,i)),o.selector=t}return o},S=t.select=function(t,e,n,i){var r,o,a,s,l,u="function"==typeof t&&t,d=!i&&$(t=u.selector||t);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&_.getById&&9===e.nodeType&&N&&x.relative[o[1].type]){if(e=(x.find.ID(a.matches[0].replace(wt,_t),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=pt.needsContext.test(t)?0:o.length;r--&&(a=o[r],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(wt,_t),yt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&h(o),!t)return J.apply(n,i),n;break}}return(u||M(t,d))(i,e,!N,n,yt.test(t)&&c(e.parentNode)||e),n},_.sortStable=H.split("").sort(U).join("")===H,_.detectDuplicates=!!E,O(),_.sortDetached=r(function(t){return 1&t.compareDocumentPosition(P.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),_.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(nt,function(t,e,n){var i;if(!n)return t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),t}),i("tinymce/util/Arr",[],function(){function t(t){var e,n,i=t;if(!c(t))for(i=[],e=0,n=t.length;e<n;e++)i[e]=t[e];return i}function n(t,n,i){var r,o;if(!t)return 0;if(i=i||t,t.length!==e){for(r=0,o=t.length;r<o;r++)if(n.call(i,t[r],r,t)===!1)return 0}else for(r in t)if(t.hasOwnProperty(r)&&n.call(i,t[r],r,t)===!1)return 0;return 1}function i(t,e){var i=[];return n(t,function(n,r){i.push(e(n,r,t))}),i}function r(t,e){var i=[];return n(t,function(n,r){e&&!e(n,r,t)||i.push(n)}),i}function o(t,e){var n,i;if(t)for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function a(t,e,n,i){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(i,n,t[r],r);return n}function s(t,e,n){var i,r;for(i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return i;return-1}function l(t,n,i){var r=s(t,n,i);return r!==-1?t[r]:e}function u(t){return t[t.length-1]}var c=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};return{isArray:c,toArray:t,each:n,map:i,filter:r,indexOf:o,reduce:a,findIndex:s,find:l,last:u}}),i("tinymce/util/Tools",["tinymce/Env","tinymce/util/Arr"],function(t,n){function i(t){return null===t||t===e?"":(""+t).replace(p,"")}function r(t,i){return i?!("array"!=i||!n.isArray(t))||typeof t==i:t!==e}function o(t,e,n){var i;for(t=t||[],e=e||",","string"==typeof t&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n}function a(t,e,n){var i,r,o,a,s,l=this,u=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],r=l.createNS(t[3].replace(/\.\w+$/,""),n),!r[o]){if("static"==t[2])return r[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],r[o]));e[o]||(e[o]=function(){},u=1),r[o]=e[o],l.extend(r[o].prototype,e),t[5]&&(i=l.resolve(t[5]).prototype,a=t[5].match(/\.(\w+)$/i)[1],s=r[o],u?r[o]=function(){return i[a].apply(this,arguments)}:r[o]=function(){return this.parent=i[a],s.apply(this,arguments)},r[o].prototype[o]=r[o],l.each(i,function(t,e){r[o].prototype[e]=i[e]}),l.each(e,function(t,e){i[e]?r[o].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!=o&&(r[o].prototype[e]=t)})),l.each(e["static"],function(t,e){r[o][e]=t})}}function s(t,n){var i,r,o,a,s=arguments;for(i=1,r=s.length;i<r;i++){n=s[i];for(o in n)n.hasOwnProperty(o)&&(a=n[o],a!==e&&(t[o]=a))}return t}function l(t,e,i,r){r=r||this,t&&(i&&(t=t[i]),n.each(t,function(t,n){return e.call(r,t,n,i)!==!1&&void l(t,e,i,r)}))}function u(t,e){var n,i;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)i=t[n],e[i]||(e[i]={}),e=e[i];return e}function c(t,e){var n,i;for(e=e||window,t=t.split("."),n=0,i=t.length;n<i&&(e=e[t[n]],e);n++);return e}function d(t,e){return!t||r(t,"array")?t:n.map(t.split(e||","),i)}function h(e){var n=t.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}var p=/^\s*|\s*$/g;return{trim:i,isArray:n.isArray,is:r,toArray:n.toArray,makeMap:o,each:n.each,map:n.map,grep:n.filter,inArray:n.indexOf,extend:s,create:a,walk:l,createNS:u,resolve:c,explode:d,_addCacheSuffix:h}}),i("tinymce/dom/DomQuery",["tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/Env"],function(t,n,i,r){function o(t){return"undefined"!=typeof t}function a(t){return"string"==typeof t}function s(t){return t&&t==t.window}function l(t,e){var n,i,r;for(e=e||k,r=e.createElement("div"),n=e.createDocumentFragment(),r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return n}function u(t,e,n,i){var r;if(a(e))e=l(e,v(t[0]));else if(e.length&&!e.nodeType){if(e=h.makeArray(e),i)for(r=e.length-1;r>=0;r--)u(t,e[r],n,i);else for(r=0;r<e.length;r++)u(t,e[r],n,i);return t}if(e.nodeType)for(r=t.length;r--;)n.call(t[r],e);return t}function c(t,e){return t&&e&&(" "+t.className+" ").indexOf(" "+e+" ")!==-1}function d(t,e,n){var i,r;return e=h(e)[0],t.each(function(){var t=this;n&&i==t.parentNode?r.appendChild(t):(i=t.parentNode,r=e.cloneNode(!1),t.parentNode.insertBefore(r,t),r.appendChild(t))}),t}function h(t,e){return new h.fn.init(t,e)}function p(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1}function f(t){return null===t||t===x?"":(""+t).replace(I,"")}function g(t,e){var n,i,r,o,a;if(t)if(n=t.length,n===o){for(i in t)if(t.hasOwnProperty(i)&&(a=t[i],e.call(a,i,a)===!1))break}else for(r=0;r<n&&(a=t[r],e.call(a,r,a)!==!1);r++);return t}function m(t,e){var n=[];return g(t,function(t,i){e(i,t)&&n.push(i)}),n}function v(t){return t?9==t.nodeType?t:t.ownerDocument:k}function y(t,n,i){var r=[],o=t[n];for("string"!=typeof i&&i instanceof h&&(i=i[0]);o&&9!==o.nodeType;){if(i!==e){if(o===i)break;if("string"==typeof i&&h(o).is(i))break}1===o.nodeType&&r.push(o),o=o[n]}return r}function b(t,n,i,r){var o=[];for(r instanceof h&&(r=r[0]);t;t=t[n])if(!i||t.nodeType===i){if(r!==e){if(t===r)break;if("string"==typeof r&&h(t).is(r))break}o.push(t)}return o}function w(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType==n)return t;return null}function _(t,e,n){g(n,function(n,i){t[n]=t[n]||{},t[n][e]=i})}var x,k=document,C=Array.prototype.push,$=Array.prototype.slice,M=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,S=t.Event,T=i.makeMap("children,contents,next,prev"),D=i.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),E=i.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),O={"for":"htmlFor","class":"className",readonly:"readOnly"},P={"float":"cssFloat"},A={},N={},I=/^\s*|\s*$/g;return h.fn=h.prototype={constructor:h,selector:"",context:null,length:0,init:function(t,e){var n,i,r=this;if(!t)return r;if(t.nodeType)return r.context=r[0]=t,r.length=1,r;if(e&&e.nodeType)r.context=e;else{if(e)return h(t).attr(e);r.context=e=document}if(a(t)){if(r.selector=t,n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:M.exec(t),!n)return h(e).find(t);if(n[1])for(i=l(t,v(e)).firstChild;i;)C.call(r,i),i=i.nextSibling;else{if(i=v(e).getElementById(n[2]),!i)return r;if(i.id!==n[2])return r.find(t);r.length=1,r[0]=i}}else this.add(t,!1);return r},toArray:function(){return i.toArray(this)},add:function(t,e){var n,i,r=this;if(a(t))return r.add(h(t));if(e!==!1)for(n=h.unique(r.toArray().concat(h.makeArray(t))),r.length=n.length,i=0;i<n.length;i++)r[i]=n[i];else C.apply(r,h.makeArray(t));return r},attr:function(t,e){var n,i=this;if("object"==typeof t)g(t,function(t,e){i.attr(t,e)});else{if(!o(e)){if(i[0]&&1===i[0].nodeType){if(n=A[t],n&&n.get)return n.get(i[0],t);if(E[t])return i.prop(t)?t:x;e=i[0].getAttribute(t,2),null===e&&(e=x)}return e}this.each(function(){var n;if(1===this.nodeType){if(n=A[t],n&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}})}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if(t=O[t]||t,"object"==typeof t)g(t,function(t,e){n.prop(t,e)});else{if(!o(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each(function(){1==this.nodeType&&(this[t]=e)})}return n},css:function(t,e){function n(t){return t.replace(/-(\D)/g,function(t,e){return e.toUpperCase()})}function i(t){return t.replace(/[A-Z]/g,function(t){return"-"+t})}var r,a,s=this;if("object"==typeof t)g(t,function(t,e){s.css(t,e)});else if(o(e))t=n(t),"number"!=typeof e||D[t]||(e+="px"),s.each(function(){var n=this.style;if(a=N[t],a&&a.set)return void a.set(this,e);try{this.style[P[t]||t]=e}catch(r){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(i(t)):n.removeAttribute(t))});else{if(r=s[0],a=N[t],a&&a.get)return a.get(r);if(r.ownerDocument.defaultView)try{return r.ownerDocument.defaultView.getComputedStyle(r,null).getPropertyValue(i(t))}catch(l){return x}else if(r.currentStyle)return r.currentStyle[n(t)]}return s},remove:function(){for(var t,e=this,n=this.length;n--;)t=e[n],S.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this,n=this.length;n--;)for(t=e[n];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e,n=this;if(o(t)){e=n.length;try{for(;e--;)n[e].innerHTML=t}catch(i){h(n[e]).empty().append(t)}return n}return n[0]?n[0].innerHTML:""},text:function(t){var e,n=this;if(o(t)){for(e=n.length;e--;)"innerText"in n[e]?n[e].innerText=t:n[0].textContent=t;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return u(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)})},prepend:function(){return u(this,arguments,function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?u(t,arguments,function(t){this.parentNode.insertBefore(t,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?u(t,arguments,function(t){this.parentNode.insertBefore(t,this.nextSibling)},!0):t},appendTo:function(t){return h(t).append(this),this},prependTo:function(t){return h(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return d(this,t)},wrapAll:function(t){return d(this,t,!0)},wrapInner:function(t){return this.each(function(){h(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){h(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),h(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t?n:(t.indexOf(" ")!==-1?g(t.split(" "),function(){n.toggleClass(this,e)}):n.each(function(n,i){var r,o;o=c(i,t),o!==e&&(r=i.className,o?i.className=f((" "+r+" ").replace(" "+t+" "," ")):i.className+=r?" "+t:t)}),n)},hasClass:function(t){return c(this[0],t)},each:function(t){return g(this,t)},on:function(t,e){return this.each(function(){S.bind(this,t,e)})},off:function(t,e){return this.each(function(){S.unbind(this,t,e)})},trigger:function(t){return this.each(function(){"object"==typeof t?S.fire(this,t.type,t):S.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new h($.apply(this,arguments))},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)h.find(t,this[e],i);return h(i)},filter:function(t){return h("function"==typeof t?m(this.toArray(),function(e,n){return t(n,e)}):h.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof h&&(t=t[0]),this.each(function(n,i){for(;i;){if("string"==typeof t&&h(i).is(t)){e.push(i);break}if(i==t){e.push(i);break}i=i.parentNode}}),h(e)},offset:function(t){var e,n,i,r,o=0,a=0;return t?this.css(t):(e=this[0],e&&(n=e.ownerDocument,i=n.documentElement,e.getBoundingClientRect&&(r=e.getBoundingClientRect(),o=r.left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:C,sort:[].sort,splice:[].splice},i.extend(h,{extend:i.extend,makeArray:function(t){return s(t)||t.nodeType?[t]:i.toArray(t)},inArray:p,isArray:i.isArray,each:g,trim:f,grep:m,find:n,expr:n.selectors,unique:n.uniqueSort,text:n.getText,contains:n.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!=e[i].nodeType&&e.splice(i,1);return e=1===e.length?h.find.matchesSelector(e[0],t)?[e[0]]:[]:h.find.matches(t,e)}}),g({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return y(t,"parentNode")},next:function(t){return w(t,"nextSibling",1)},prev:function(t){return w(t,"previousSibling",1)},children:function(t){return b(t.firstChild,"nextSibling",1)},contents:function(t){return i.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){h.fn[t]=function(n){var i=this,r=[];return i.each(function(){var t=e.call(r,this,n,r);t&&(h.isArray(t)?r.push.apply(r,t):r.push(t))}),this.length>1&&(T[t]||(r=h.unique(r)),0===t.indexOf("parents")&&(r=r.reverse())),r=h(r),n?r.filter(n):r}}),g({parentsUntil:function(t,e){return y(t,"parentNode",e)},nextUntil:function(t,e){return b(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return b(t,"previousSibling",1,e).slice(1)}},function(t,e){h.fn[t]=function(n,i){var r=this,o=[];return r.each(function(){var t=e.call(o,this,n,o);t&&(h.isArray(t)?o.push.apply(o,t):o.push(t))}),this.length>1&&(o=h.unique(o),0!==t.indexOf("parents")&&"prevUntil"!==t||(o=o.reverse())),o=h(o),i?o.filter(i):o}}),h.fn.is=function(t){return!!t&&this.filter(t).length>0},h.fn.init.prototype=h.fn,h.overrideDefaults=function(t){function e(i,r){return n=n||t(),0===arguments.length&&(i=n.element),r||(r=n.context),new e.fn.init(i,r)}var n;return h.extend(e,this),e},r.ie&&r.ie<8&&(_(A,"get",{maxlength:function(t){var e=t.maxLength;return 2147483647===e?x:e},size:function(t){var e=t.size;return 20===e?x:e},"class":function(t){return t.className},style:function(t){var e=t.style.cssText;return 0===e.length?x:e}}),_(A,"set",{"class":function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),r.ie&&r.ie<9&&(P["float"]="styleFloat",_(N,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),h.attrHooks=A,h.cssHooks=N,h}),i("tinymce/html/Styles",[],function(){return function(t,e){function n(t,e,n,i){function r(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t}return"#"+r(e)+r(n)+r(i)}var i,r,o,a,s,l=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,d=/\s+$/,h={},p="\ufeff";for(t=t||{},e&&(a=e.getValidStyles(),s=e.getInvalidStyles()),o=("\\\" \\' \\; \\: ; : "+p).split(" "),r=0;r<o.length;r++)h[o[r]]=p+r,h[p+r]=o[r];return{toHex:function(t){return t.replace(l,n)},parse:function(e){function i(t,e,n){var i,o,a,s;if(i=b[t+"-top"+e],i&&(o=b[t+"-right"+e],o&&(a=b[t+"-bottom"+e],a&&(s=b[t+"-left"+e])))){var l=[i,o,a,s];for(r=l.length-1;r--&&l[r]===l[r+1];);r>-1&&n||(b[t+e]=r==-1?l[0]:l.join(" "),delete b[t+"-top"+e],delete b[t+"-right"+e],delete b[t+"-bottom"+e],delete b[t+"-left"+e])}}function o(t){var e,n=b[t];if(n){for(n=n.split(" "),e=n.length;e--;)if(n[e]!==n[0])return!1;return b[t]=n[0],!0}}function a(t,e,n,i){o(e)&&o(n)&&o(i)&&(b[t]=b[e]+" "+b[n]+" "+b[i],delete b[e],delete b[n],delete b[i])}function s(t){return y=!0,h[t]}function p(t,e){return y&&(t=t.replace(/\uFEFF[0-9]/g,function(t){return h[t]})),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t}function f(e,n,i,r,o,a){if(o=o||a)return o=p(o),"'"+o.replace(/\'/g,"\\'")+"'";if(n=p(n||i||r),!t.allow_script_urls){var s=n.replace(/[\s\r\n]+/,"");if(/(java|vb)script:/i.test(s))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return w&&(n=w.call(_,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"}var g,m,v,y,b={},w=t.url_converter,_=t.url_converter_scope||this;if(e){for(e=e.replace(/[\u0000-\u001F]/g,""),e=e.replace(/\\[\"\';:\uFEFF]/g,s).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(t){return t.replace(/[;:]/g,s)});g=c.exec(e);){if(m=g[1].replace(d,"").toLowerCase(),v=g[2].replace(d,""),v=v.replace(/\\[0-9a-f]+/g,function(t){return String.fromCharCode(parseInt(t.substr(1),16))}),m&&v.length>0){if(!t.allow_script_urls&&("behavior"==m||/expression\s*\(|\/\*|\*\//.test(v)))continue;"font-weight"===m&&"700"===v?v="bold":"color"!==m&&"background-color"!==m||(v=v.toLowerCase()),v=v.replace(l,n),v=v.replace(u,f),b[m]=y?p(v,!0):v}c.lastIndex=g.index+g[0].length}i("border","",!0),i("border","-width"),i("border","-color"),i("border","-style"),i("padding",""),i("margin",""),a("border","border-width","border-style","border-color"),"medium none"===b.border&&delete b.border,"none"===b["border-image"]&&delete b["border-image"]}return b},serialize:function(t,e){function n(e){var n,r,o,s;if(n=a[e])for(r=0,o=n.length;r<o;r++)e=n[r],s=t[e],s!==i&&s.length>0&&(u+=(u.length>0?" ":"")+e+": "+s+";")}function r(t,e){var n;return n=s["*"],(!n||!n[t])&&(n=s[e],!n||!n[t])}var o,l,u="";if(e&&a)n("*"),n(e);else for(o in t)l=t[o],l!==i&&l.length>0&&(s&&!r(o,e)||(u+=(u.length>0?" ":"")+o+": "+l+";"));return u}}}}),i("tinymce/dom/TreeWalker",[],function(){return function(t,e){
function n(t,n,i,r){var o,a;if(t){if(!r&&t[n])return t[n];if(t!=e){if(o=t[i])return o;for(a=t.parentNode;a&&a!=e;a=a.parentNode)if(o=a[i])return o}}}function i(t,n,i,r){var o,a,s;if(t){if(o=t[i],e&&o===e)return;if(o){if(!r)for(s=o[n];s;s=s[n])if(!s[n])return s;return o}if(a=t.parentNode,a&&a!==e)return a}}var r=t;this.current=function(){return r},this.next=function(t){return r=n(r,"firstChild","nextSibling",t)},this.prev=function(t){return r=n(r,"lastChild","previousSibling",t)},this.prev2=function(t){return r=i(r,"lastChild","previousSibling",t)}}}),i("tinymce/dom/Range",["tinymce/util/Tools"],function(t){function e(n){function i(){return I.createDocumentFragment()}function r(t,e){k(H,t,e)}function o(t,e){k(F,t,e)}function a(t){r(t.parentNode,U(t))}function s(t){r(t.parentNode,U(t)+1)}function l(t){o(t.parentNode,U(t))}function u(t){o(t.parentNode,U(t)+1)}function c(t){t?(N[z]=N[j],N[G]=N[W]):(N[j]=N[z],N[W]=N[G]),N.collapsed=H}function d(t){a(t),u(t)}function h(t){r(t,0),o(t,1===t.nodeType?t.childNodes.length:t.nodeValue.length)}function p(t,e){var n=N[j],i=N[W],r=N[z],o=N[G],a=e.startContainer,s=e.startOffset,l=e.endContainer,u=e.endOffset;return 0===t?x(n,i,a,s):1===t?x(r,o,a,s):2===t?x(r,o,l,u):3===t?x(n,i,l,u):void 0}function f(){C(B)}function g(){return C(R)}function m(){return C(L)}function v(t){var e,i,r=this[j],o=this[W];3!==r.nodeType&&4!==r.nodeType||!r.nodeValue?(r.childNodes.length>0&&(i=r.childNodes[o]),i?r.insertBefore(t,i):3==r.nodeType?n.insertAfter(t,r):r.appendChild(t)):o?o>=r.nodeValue.length?n.insertAfter(t,r):(e=r.splitText(o),r.parentNode.insertBefore(t,e)):r.parentNode.insertBefore(t,r)}function y(t){var e=N.extractContents();N.insertNode(t),t.appendChild(e),N.selectNode(t)}function b(){return V(new e(n),{startContainer:N[j],startOffset:N[W],endContainer:N[z],endOffset:N[G],collapsed:N.collapsed,commonAncestorContainer:N.commonAncestorContainer})}function w(t,e){var n;if(3==t.nodeType)return t;if(e<0)return t;for(n=t.firstChild;n&&e>0;)--e,n=n.nextSibling;return n?n:t}function _(){return N[j]==N[z]&&N[W]==N[G]}function x(t,e,i,r){var o,a,s,l,u,c;if(t==i)return e==r?0:e<r?-1:1;for(o=i;o&&o.parentNode!=t;)o=o.parentNode;if(o){for(a=0,s=t.firstChild;s!=o&&a<e;)a++,s=s.nextSibling;return e<=a?-1:1}for(o=t;o&&o.parentNode!=i;)o=o.parentNode;if(o){for(a=0,s=i.firstChild;s!=o&&a<r;)a++,s=s.nextSibling;return a<r?-1:1}for(l=n.findCommonAncestor(t,i),u=t;u&&u.parentNode!=l;)u=u.parentNode;for(u||(u=l),c=i;c&&c.parentNode!=l;)c=c.parentNode;if(c||(c=l),u==c)return 0;for(s=l.firstChild;s;){if(s==u)return-1;if(s==c)return 1;s=s.nextSibling}}function k(t,e,i){var r,o;for(t?(N[j]=e,N[W]=i):(N[z]=e,N[G]=i),r=N[z];r.parentNode;)r=r.parentNode;for(o=N[j];o.parentNode;)o=o.parentNode;o==r?x(N[j],N[W],N[z],N[G])>0&&N.collapse(t):N.collapse(t),N.collapsed=_(),N.commonAncestorContainer=n.findCommonAncestor(N[j],N[z])}function C(t){var e,n,i,r,o,a,s,l=0,u=0;if(N[j]==N[z])return $(t);for(e=N[z],n=e.parentNode;n;e=n,n=n.parentNode){if(n==N[j])return M(e,t);++l}for(e=N[j],n=e.parentNode;n;e=n,n=n.parentNode){if(n==N[z])return S(e,t);++u}for(i=u-l,r=N[j];i>0;)r=r.parentNode,i--;for(o=N[z];i<0;)o=o.parentNode,i++;for(a=r.parentNode,s=o.parentNode;a!=s;a=a.parentNode,s=s.parentNode)r=a,o=s;return T(r,o,t)}function $(t){var e,n,r,o,a,s,l,u,c;if(t!=B&&(e=i()),N[W]==N[G])return e;if(3==N[j].nodeType){if(n=N[j].nodeValue,r=n.substring(N[W],N[G]),t!=L&&(o=N[j],u=N[W],c=N[G]-N[W],0===u&&c>=o.nodeValue.length-1?o.parentNode.removeChild(o):o.deleteData(u,c),N.collapse(H)),t==B)return;return r.length>0&&e.appendChild(I.createTextNode(r)),e}for(o=w(N[j],N[W]),a=N[G]-N[W];o&&a>0;)s=o.nextSibling,l=P(o,t),e&&e.appendChild(l),--a,o=s;return t!=L&&N.collapse(H),e}function M(t,e){var n,r,o,a,s,l;if(e!=B&&(n=i()),r=D(t,e),n&&n.appendChild(r),o=U(t),a=o-N[W],a<=0)return e!=L&&(N.setEndBefore(t),N.collapse(F)),n;for(r=t.previousSibling;a>0;)s=r.previousSibling,l=P(r,e),n&&n.insertBefore(l,n.firstChild),--a,r=s;return e!=L&&(N.setEndBefore(t),N.collapse(F)),n}function S(t,e){var n,r,o,a,s,l;for(e!=B&&(n=i()),o=E(t,e),n&&n.appendChild(o),r=U(t),++r,a=N[G]-r,o=t.nextSibling;o&&a>0;)s=o.nextSibling,l=P(o,e),n&&n.appendChild(l),--a,o=s;return e!=L&&(N.setStartAfter(t),N.collapse(H)),n}function T(t,e,n){var r,o,a,s,l,u,c;for(n!=B&&(o=i()),r=E(t,n),o&&o.appendChild(r),a=U(t),s=U(e),++a,l=s-a,u=t.nextSibling;l>0;)c=u.nextSibling,r=P(u,n),o&&o.appendChild(r),u=c,--l;return r=D(e,n),o&&o.appendChild(r),n!=L&&(N.setStartAfter(t),N.collapse(H)),o}function D(t,e){var n,i,r,o,a,s=w(N[z],N[G]-1),l=s!=N[z];if(s==t)return O(s,l,F,e);for(n=s.parentNode,i=O(n,F,F,e);n;){for(;s;)r=s.previousSibling,o=O(s,l,F,e),e!=B&&i.insertBefore(o,i.firstChild),l=H,s=r;if(n==t)return i;s=n.previousSibling,n=n.parentNode,a=O(n,F,F,e),e!=B&&a.appendChild(i),i=a}}function E(t,e){var n,i,r,o,a,s=w(N[j],N[W]),l=s!=N[j];if(s==t)return O(s,l,H,e);for(n=s.parentNode,i=O(n,F,H,e);n;){for(;s;)r=s.nextSibling,o=O(s,l,H,e),e!=B&&i.appendChild(o),l=H,s=r;if(n==t)return i;s=n.nextSibling,n=n.parentNode,a=O(n,F,H,e),e!=B&&a.appendChild(i),i=a}}function O(t,e,i,r){var o,a,s,l,u;if(e)return P(t,r);if(3==t.nodeType){if(o=t.nodeValue,i?(l=N[W],a=o.substring(l),s=o.substring(0,l)):(l=N[G],a=o.substring(0,l),s=o.substring(l)),r!=L&&(t.nodeValue=s),r==B)return;return u=n.clone(t,F),u.nodeValue=a,u}if(r!=B)return n.clone(t,F)}function P(t,e){return e!=B?e==L?n.clone(t,H):t:void t.parentNode.removeChild(t)}function A(){return n.create("body",null,m()).outerText}var N=this,I=n.doc,R=0,L=1,B=2,H=!0,F=!1,W="startOffset",j="startContainer",z="endContainer",G="endOffset",V=t.extend,U=n.nodeIndex;return V(N,{startContainer:I,startOffset:0,endContainer:I,endOffset:0,collapsed:H,commonAncestorContainer:I,START_TO_START:0,START_TO_END:1,END_TO_END:2,END_TO_START:3,setStart:r,setEnd:o,setStartBefore:a,setStartAfter:s,setEndBefore:l,setEndAfter:u,collapse:c,selectNode:d,selectNodeContents:h,compareBoundaryPoints:p,deleteContents:f,extractContents:g,cloneContents:m,insertNode:v,surroundContents:y,cloneRange:b,toStringIE:A}),N}return e.prototype.toString=function(){return this.toStringIE()},e}),i("tinymce/html/Entities",["tinymce/util/Tools"],function(t){function e(t){var e;return e=document.createElement("div"),e.innerHTML=t,e.textContent||e.innerText||t}function n(t,e){var n,i,o,a={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),r[i]||(o="&"+t[n+1]+";",a[i]=o,a[o]=i);return a}}var i,r,o,a=t.makeMap,s=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=/[<>&\"\']/g,c=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,d={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};r={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},o={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},i=n("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var h={encodeRaw:function(t,e){return t.replace(e?s:l,function(t){return r[t]||t})},encodeAllRaw:function(t){return(""+t).replace(u,function(t){return r[t]||t})},encodeNumeric:function(t,e){return t.replace(e?s:l,function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":r[t]||"&#"+t.charCodeAt(0)+";"})},encodeNamed:function(t,e,n){return n=n||i,t.replace(e?s:l,function(t){return r[t]||n[t]||t})},getEncodeFunc:function(t,e){function o(t,n){return t.replace(n?s:l,function(t){return r[t]||e[t]||"&#"+t.charCodeAt(0)+";"||t})}function u(t,n){return h.encodeNamed(t,n,e)}return e=n(e)||i,t=a(t.replace(/\+/g,",")),t.named&&t.numeric?o:t.named?e?u:h.encodeNamed:t.numeric?h.encodeNumeric:h.encodeRaw},decode:function(t){return t.replace(c,function(t,n){return n?(n="x"===n.charAt(0).toLowerCase()?parseInt(n.substr(1),16):parseInt(n,10),n>65535?(n-=65536,String.fromCharCode(55296+(n>>10),56320+(1023&n))):d[n]||String.fromCharCode(n)):o[t]||i[t]||e(t)})}};return h}),i("tinymce/dom/StyleSheetLoader",["tinymce/util/Tools","tinymce/util/Delay"],function(t,e){return function(n,i){function r(t){n.getElementsByTagName("head")[0].appendChild(t)}function o(i,o,u){function c(){for(var t=b.passed,e=t.length;e--;)t[e]();b.status=2,b.passed=[],b.failed=[]}function d(){for(var t=b.failed,e=t.length;e--;)t[e]();b.status=3,b.passed=[],b.failed=[]}function h(){var t=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(t&&t[1]<536)}function p(t,n){t()||((new Date).getTime()-y<a?e.setTimeout(n):d())}function f(){p(function(){for(var t,e,i=n.styleSheets,r=i.length;r--;)if(t=i[r],e=t.ownerNode?t.ownerNode:t.owningElement,e&&e.id===m.id)return c(),!0},f)}function g(){p(function(){try{var t=v.sheet.cssRules;return c(),!!t}catch(e){}},g)}var m,v,y,b;if(i=t._addCacheSuffix(i),l[i]?b=l[i]:(b={passed:[],failed:[]},l[i]=b),o&&b.passed.push(o),u&&b.failed.push(u),1!=b.status){if(2==b.status)return void c();if(3==b.status)return void d();if(b.status=1,m=n.createElement("link"),m.rel="stylesheet",m.type="text/css",m.id="u"+s++,m.async=!1,m.defer=!1,y=(new Date).getTime(),"onload"in m&&!h())m.onload=f,m.onerror=d;else{if(navigator.userAgent.indexOf("Firefox")>0)return v=n.createElement("style"),v.textContent='@import "'+i+'"',g(),void r(v);f()}r(m),m.href=i}}var a,s=0,l={};i=i||{},a=i.maxLoadTime||5e3,this.load=o}}),i("tinymce/dom/DOMUtils",["tinymce/dom/Sizzle","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/EventUtils","tinymce/dom/TreeWalker","tinymce/dom/Range","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/dom/StyleSheetLoader"],function(t,n,i,r,o,a,s,l,u,c){function d(t,e){var n,i={},r=e.keep_values;return n={set:function(n,i,r){e.url_converter&&(i=e.url_converter.call(e.url_converter_scope||t,i,r,n[0])),n.attr("data-mce-"+r,i).attr(r,i)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}},i={style:{set:function(t,e){return null!==e&&"object"==typeof e?void t.css(e):(r&&t.attr("data-mce-style",e),void t.attr("style",e))},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serializeStyle(t.parseStyle(n),e[0].nodeName)}}},r&&(i.href=i.src=n),i}function h(t,e){var n=e.attr("style");n=t.serializeStyle(t.parseStyle(n),e[0].nodeName),n||(n=null),e.attr("data-mce-style",n)}function p(t,e){var n,i,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!=i||i!=n&&t.nodeValue.length)&&(r++,n=i);return r}function f(t,e){var o,a=this;a.doc=t,a.win=window,a.files={},a.counter=0,a.stdMode=!b||t.documentMode>=8,a.boxModel=!b||"CSS1Compat"==t.compatMode||a.stdMode,a.styleSheetLoader=new c(t),a.boundEvents=[],a.settings=e=e||{},a.schema=e.schema,a.styles=new i({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),a.fixDoc(t),a.events=e.ownEvents?new r(e.proxy):r.Event,a.attrHooks=d(a,e),o=e.schema?e.schema.getBlockElements():{},a.$=n.overrideDefaults(function(){return{context:t,element:a.getRoot()}}),a.isBlock=function(t){if(!t)return!1;var e=t.nodeType;return e?!(1!==e||!o[t.nodeName]):!!o[t]}}var g=u.each,m=u.is,v=u.grep,y=u.trim,b=l.ie,w=/^([a-z0-9],?)+$/i,_=/^[ \t\r\n]*$/;return f.prototype={$$:function(t){return"string"==typeof t&&(t=this.get(t)),this.$(t)},root:null,fixDoc:function(t){var e,n=this.settings;if(b&&n.schema){"abbr article aside audio canvas details figcaption figure footer header hgroup mark menu meter nav output progress section summary time video".replace(/\w+/g,function(e){t.createElement(e)});for(e in n.schema.getCustomElements())t.createElement(e)}},clone:function(t,e){var n,i,r=this;return!b||1!==t.nodeType||e?t.cloneNode(e):(i=r.doc,e?n.firstChild:(n=i.createElement(t.nodeName),g(r.getAttribs(t),function(e){r.setAttrib(n,e.nodeName,r.getAttrib(t,e.nodeName))}),n))},getRoot:function(){var t=this;return t.settings.root_element||t.doc.body},getViewPort:function(t){var e,n;return t=t?t:this.win,e=t.document,n=this.boxModel?e.documentElement:e.body,{x:t.pageXOffset||n.scrollLeft,y:t.pageYOffset||n.scrollTop,w:t.innerWidth||n.clientWidth,h:t.innerHeight||n.clientHeight}},getRect:function(t){var e,n,i=this;return t=i.get(t),e=i.getPos(t),n=i.getSize(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:function(t){var e,n,i=this;return t=i.get(t),e=i.getStyle(t,"width"),n=i.getStyle(t,"height"),e.indexOf("px")===-1&&(e=0),n.indexOf("px")===-1&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},getParent:function(t,e,n){return this.getParents(t,e,n,!1)},getParents:function(t,n,i,r){var o,a=this,s=[];for(t=a.get(t),r=r===e,i=i||("BODY"!=a.getRoot().nodeName?a.getRoot().parentNode:null),m(n,"string")&&(o=n,n="*"===n?function(t){return 1==t.nodeType}:function(t){return a.is(t,o)});t&&t!=i&&t.nodeType&&9!==t.nodeType;){if(!n||n(t)){if(!r)return t;s.push(t)}t=t.parentNode}return r?s:null},get:function(t){var e;return t&&this.doc&&"string"==typeof t&&(e=t,t=this.doc.getElementById(t),t&&t.id!==e)?this.doc.getElementsByName(e)[1]:t},getNext:function(t,e){return this._findSib(t,e,"nextSibling")},getPrev:function(t,e){return this._findSib(t,e,"previousSibling")},select:function(e,n){var i=this;return t(e,i.get(n)||i.settings.root_element||i.doc,[])},is:function(n,i){var r;if(n.length===e){if("*"===i)return 1==n.nodeType;if(w.test(i)){for(i=i.toLowerCase().split(/,/),n=n.nodeName.toLowerCase(),r=i.length-1;r>=0;r--)if(i[r]==n)return!0;return!1}}if(n.nodeType&&1!=n.nodeType)return!1;var o=n.nodeType?[n]:n;return t(i,o[0].ownerDocument||o[0],null,o).length>0},add:function(t,e,n,i,r){var o=this;return this.run(t,function(t){var a;return a=m(e,"string")?o.doc.createElement(e):e,o.setAttribs(a,n),i&&(i.nodeType?a.appendChild(i):o.setHTML(a,i)),r?a:t.appendChild(a)})},create:function(t,e,n){return this.add(this.doc.createElement(t),t,e,n,1)},createHTML:function(t,e,n){var i,r="";r+="<"+t;for(i in e)e.hasOwnProperty(i)&&null!==e[i]&&"undefined"!=typeof e[i]&&(r+=" "+i+'="'+this.encode(e[i])+'"');return"undefined"!=typeof n?r+">"+n+"</"+t+">":r+" />"},createFragment:function(t){var e,n,i,r=this.doc;for(i=r.createElement("div"),e=r.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e},remove:function(t,e){return t=this.$$(t),e?t.each(function(){for(var t;t=this.firstChild;)3==t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)}).remove():t.remove(),t.length>1?t.toArray():t[0]},setStyle:function(t,e,n){t=this.$$(t).css(e,n),this.settings.update_styles&&h(this,t)},getStyle:function(t,n,i){return t=this.$$(t),i?t.css(n):(n=n.replace(/-(\D)/g,function(t,e){return e.toUpperCase()}),"float"==n&&(n=l.ie&&l.ie<12?"styleFloat":"cssFloat"),t[0]&&t[0].style?t[0].style[n]:e)},setStyles:function(t,e){t=this.$$(t).css(e),this.settings.update_styles&&h(this,t)},removeAllAttribs:function(t){return this.run(t,function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))})},setAttrib:function(t,e,n){var i,r,o=this,a=o.settings;""===n&&(n=null),t=o.$$(t),i=t.attr(e),t.length&&(r=o.attrHooks[e],r&&r.set?r.set(t,n,e):t.attr(e,n),i!=n&&a.onSetAttrib&&a.onSetAttrib({attrElm:t,attrName:e,attrValue:n}))},setAttribs:function(t,e){var n=this;n.$$(t).each(function(t,i){g(e,function(t,e){n.setAttrib(i,e,t)})})},getAttrib:function(t,e,n){var i,r,o=this;return t=o.$$(t),t.length&&(i=o.attrHooks[e],r=i&&i.get?i.get(t,e):t.attr(e)),"undefined"==typeof r&&(r=n||""),r},getPos:function(t,e){var i,r,o=this,a=0,s=0,l=o.doc,u=l.body;if(t=o.get(t),e=e||u,t){if(e===u&&t.getBoundingClientRect&&"static"===n(u).css("position"))return r=t.getBoundingClientRect(),e=o.boxModel?l.documentElement:u,a=r.left+(l.documentElement.scrollLeft||u.scrollLeft)-e.clientLeft,s=r.top+(l.documentElement.scrollTop||u.scrollTop)-e.clientTop,{x:a,y:s};for(i=t;i&&i!=e&&i.nodeType;)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!=e&&i.nodeType;)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode}return{x:a,y:s}},parseStyle:function(t){return this.styles.parse(t)},serializeStyle:function(t,e){return this.styles.serialize(t,e)},addStyle:function(t){var e,n,i=this,r=i.doc;if(i!==f.DOM&&r===document){var o=f.DOM.addedStyles;if(o=o||[],o[t])return;o[t]=!0,f.DOM.addedStyles=o}n=r.getElementById("mceDefaultStyles"),n||(n=r.createElement("style"),n.id="mceDefaultStyles",n.type="text/css",e=r.getElementsByTagName("head")[0],e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=t:n.appendChild(r.createTextNode(t))},loadCSS:function(t){var e,n=this,i=n.doc;return n!==f.DOM&&i===document?void f.DOM.loadCSS(t):(t||(t=""),e=i.getElementsByTagName("head")[0],void g(t.split(","),function(t){var r;t=u._addCacheSuffix(t),n.files[t]||(n.files[t]=!0,r=n.create("link",{rel:"stylesheet",href:t}),b&&i.documentMode&&i.recalc&&(r.onload=function(){i.recalc&&i.recalc(),r.onload=null}),e.appendChild(r))}))},addClass:function(t,e){this.$$(t).addClass(e)},removeClass:function(t,e){this.toggleClass(t,e,!1)},hasClass:function(t,e){return this.$$(t).hasClass(e)},toggleClass:function(t,e,i){this.$$(t).toggleClass(e,i).each(function(){""===this.className&&n(this).attr("class",null)})},show:function(t){this.$$(t).show()},hide:function(t){this.$$(t).hide()},isHidden:function(t){return"none"==this.$$(t).css("display")},uniqueId:function(t){return(t?t:"mce_")+this.counter++},setHTML:function(t,e){t=this.$$(t),b?t.each(function(t,i){if(i.canHaveHTML!==!1){for(;i.firstChild;)i.removeChild(i.firstChild);try{i.innerHTML="<br>"+e,i.removeChild(i.firstChild)}catch(r){n("<div>").html("<br>"+e).contents().slice(1).appendTo(i)}return e}}):t.html(e)},getOuterHTML:function(t){return t=this.get(t),1==t.nodeType&&"outerHTML"in t?t.outerHTML:n("<div>").append(n(t).clone()).html()},setOuterHTML:function(t,e){var i=this;i.$$(t).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}i.remove(n(this).html(e),!0)})},decode:s.decode,encode:s.encodeAllRaw,insertAfter:function(t,e){return e=this.get(e),this.run(t,function(t){var n,i;return n=e.parentNode,i=e.nextSibling,i?n.insertBefore(t,i):n.appendChild(t),t})},replace:function(t,e,n){var i=this;return i.run(e,function(e){return m(e,"array")&&(t=t.cloneNode(!0)),n&&g(v(e.childNodes),function(e){t.appendChild(e)}),e.parentNode.replaceChild(t,e)})},rename:function(t,e){var n,i=this;return t.nodeName!=e.toUpperCase()&&(n=i.create(e),g(i.getAttribs(t),function(e){i.setAttrib(n,e.nodeName,i.getAttrib(t,e.nodeName))}),i.replace(n,t,1)),n||t},findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!=n;)n=n.parentNode;if(i==n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:function(t){return this.styles.toHex(u.trim(t))},run:function(t,e,n){var i,r=this;return"string"==typeof t&&(t=r.get(t)),!!t&&(n=n||this,t.nodeType||!t.length&&0!==t.length?e.call(n,t):(i=[],g(t,function(t,o){t&&("string"==typeof t&&(t=r.get(t)),i.push(e.call(n,t,o)))}),i))},getAttribs:function(t){var e;if(t=this.get(t),!t)return[];if(b){if(e=[],"OBJECT"==t.nodeName)return t.attributes;"OPTION"===t.nodeName&&this.getAttrib(t,"selected")&&e.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return t.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(t){e.push({specified:1,nodeName:t})}),e}return t.attributes},isEmpty:function(t,e){var n,i,r,a,s,l=this,u=0;if(t=t.firstChild){a=new o(t,t.parentNode),e=e||(l.schema?l.schema.getNonEmptyElements():null);do{if(r=t.nodeType,1===r){if(t.getAttribute("data-mce-bogus"))continue;if(s=t.nodeName.toLowerCase(),e&&e[s]){if("br"===s){u++;continue}return!1}for(i=l.getAttribs(t),n=i.length;n--;)if(s=i[n].nodeName,"name"===s||"data-mce-bookmark"===s)return!1}if(8==r)return!1;if(3===r&&!_.test(t.nodeValue))return!1}while(t=a.next())}return u<=1},createRng:function(){var t=this.doc;return t.createRange?t.createRange():new a(this)},nodeIndex:p,split:function(t,e,n){function i(t){function e(t){var e=t.previousSibling&&"SPAN"==t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"==t.nextSibling.nodeName;return e&&n}var n,r=t.childNodes,o=t.nodeType;if(1!=o||"bookmark"!=t.getAttribute("data-mce-type")){for(n=r.length-1;n>=0;n--)i(r[n]);if(9!=o){if(3==o&&t.nodeValue.length>0){var a=y(t.nodeValue).length;if(!s.isBlock(t.parentNode)||a>0||0===a&&e(t))return}else if(1==o&&(r=t.childNodes,1==r.length&&r[0]&&1==r[0].nodeType&&"bookmark"==r[0].getAttribute("data-mce-type")&&t.parentNode.insertBefore(r[0],t),r.length||/^(br|hr|input|img)$/i.test(t.nodeName)))return;s.remove(t)}return t}}var r,o,a,s=this,l=s.createRng();if(t&&e)return l.setStart(t.parentNode,s.nodeIndex(t)),l.setEnd(e.parentNode,s.nodeIndex(e)),r=l.extractContents(),l=s.createRng(),l.setStart(e.parentNode,s.nodeIndex(e)+1),l.setEnd(t.parentNode,s.nodeIndex(t)+1),o=l.extractContents(),a=t.parentNode,a.insertBefore(i(r),t),n?a.insertBefore(n,t):a.insertBefore(e,t),a.insertBefore(i(o),t),s.remove(t),n||e},bind:function(t,e,n,i){var r=this;if(u.isArray(t)){for(var o=t.length;o--;)t[o]=r.bind(t[o],e,n,i);return t}return!r.settings.collect||t!==r.doc&&t!==r.win||r.boundEvents.push([t,e,n,i]),r.events.bind(t,e,n,i||r)},unbind:function(t,e,n){var i,r=this;if(u.isArray(t)){for(i=t.length;i--;)t[i]=r.unbind(t[i],e,n);return t}if(r.boundEvents&&(t===r.doc||t===r.win))for(i=r.boundEvents.length;i--;){var o=r.boundEvents[i];t!=o[0]||e&&e!=o[1]||n&&n!=o[2]||this.events.unbind(o[0],o[1],o[2])}return this.events.unbind(t,e,n)},fire:function(t,e,n){return this.events.fire(t,e,n)},getContentEditable:function(t){var e;return t&&1==t.nodeType?(e=t.getAttribute("data-mce-contenteditable"),e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null):null},getContentEditableParent:function(t){for(var e=this.getRoot(),n=null;t&&t!==e&&(n=this.getContentEditable(t),null===n);t=t.parentNode);return n},destroy:function(){var e=this;if(e.boundEvents){for(var n=e.boundEvents.length;n--;){var i=e.boundEvents[n];this.events.unbind(i[0],i[1],i[2])}e.boundEvents=null}t.setDocument&&t.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset},_findSib:function(t,e,n){var i=this,r=e;if(t)for("string"==typeof r&&(r=function(t){return i.is(t,e)}),t=t[n];t;t=t[n])if(r(t))return t;return null}},f.DOM=new f(document),f.nodeIndex=p,f}),i("tinymce/dom/ScriptLoader",["tinymce/dom/DOMUtils","tinymce/util/Tools"],function(t,e){function n(){function t(t,n){function r(){l.remove(s),a&&(a.onreadystatechange=a.onload=a=null),n()}function o(){"undefined"!=typeof console&&console.log&&console.log("Failed to load: "+t)}var a,s,l=i;s=l.uniqueId(),a=document.createElement("script"),a.id=s,a.type="text/javascript",a.src=e._addCacheSuffix(t),"onreadystatechange"in a?a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&r()}:a.onload=r,a.onerror=o,(document.getElementsByTagName("head")[0]||document.body).appendChild(a)}var n,a=0,s=1,l=2,u={},c=[],d={},h=[],p=0;this.isDone=function(t){return u[t]==l},this.markDone=function(t){u[t]=l},this.add=this.load=function(t,e,i){var r=u[t];r==n&&(c.push(t),u[t]=a),e&&(d[t]||(d[t]=[]),d[t].push({func:e,scope:i||this}))},this.loadQueue=function(t,e){this.loadScripts(c,t,e)},this.loadScripts=function(e,i,a){function c(t){r(d[t],function(t){t.func.call(t.scope)}),d[t]=n}var f;h.push({func:i,scope:a||this}),(f=function(){var n=o(e);e.length=0,r(n,function(e){return u[e]==l?void c(e):void(u[e]!=s&&(u[e]=s,p++,t(e,function(){u[e]=l,p--,c(e),f()})))}),p||(r(h,function(t){t.func.call(t.scope)}),h.length=0)})()}}var i=t.DOM,r=e.each,o=e.grep;return n.ScriptLoader=new n,n}),i("tinymce/AddOnManager",["tinymce/dom/ScriptLoader","tinymce/util/Tools"],function(t,n){function i(){var t=this;t.items=[],t.urls={},t.lookup={}}var r=n.each;return i.prototype={get:function(t){return this.lookup[t]?this.lookup[t].instance:e},dependencies:function(t){var e;return this.lookup[t]&&(e=this.lookup[t].dependencies),e||[]},requireLangPack:function(e,n){var r=i.language;if(r&&i.languageLoad!==!1){if(n)if(n=","+n+",",n.indexOf(","+r.substr(0,2)+",")!=-1)r=r.substr(0,2);else if(n.indexOf(","+r+",")==-1)return;t.ScriptLoader.add(this.urls[e]+"/langs/"+r+".js")}},add:function(t,e,n){return this.items.push(e),this.lookup[t]={instance:e,dependencies:n},e},createUrl:function(t,e){return"object"==typeof e?e:{prefix:t.prefix,resource:e,suffix:t.suffix}},addComponents:function(e,n){var i=this.urls[e];r(n,function(e){t.ScriptLoader.add(i+"/"+e)})},load:function(n,o,a,s){function l(){var i=u.dependencies(n);r(i,function(t){var n=u.createUrl(o,t);u.load(n.resource,n,e,e)}),a&&(s?a.call(s):a.call(t))}var u=this,c=o;u.urls[n]||("object"==typeof o&&(c=o.prefix+o.resource+o.suffix),0!==c.indexOf("/")&&c.indexOf("://")==-1&&(c=i.baseURL+"/"+c),u.urls[n]=c.substring(0,c.lastIndexOf("/")),u.lookup[n]?l():t.ScriptLoader.add(c,l,s))}},i.PluginManager=new i,i.ThemeManager=new i,i}),i("tinymce/dom/NodeType",[],function(){function t(t){return function(e){return!!e&&e.nodeType==t}}function e(t){return t=t.toLowerCase().split(" "),function(e){var n,i;if(e&&e.nodeType)for(i=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(i===t[n])return!0;return!1}}function n(t,e){return e=e.toLowerCase().split(" "),function(n){var i,r;if(s(n))for(i=0;i<e.length;i++)if(r=getComputedStyle(n,null).getPropertyValue(t),r===e[i])return!0;return!1}}function i(t,e){return function(n){return s(n)&&n[t]===e}}function r(t,e){return function(n){return s(n)&&n.getAttribute(t)===e}}function o(t){return s(t)&&t.hasAttribute("data-mce-bogus")}function a(t){return function(e){if(s(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}}var s=t(1);return{isText:t(3),isElement:s,isComment:t(8),isBr:e("br"),isContentEditableTrue:a("true"),isContentEditableFalse:a("false"),matchNodeNames:e,hasPropValue:i,hasAttributeValue:r,matchStyleValues:n,isBogus:o}}),i("tinymce/text/Zwsp",[],function(){function t(t){return t==n}function e(t){return t.replace(new RegExp(n,"g"),"")}var n="​";return{isZwsp:t,ZWSP:n,trim:e}}),i("tinymce/caret/CaretContainer",["tinymce/dom/NodeType","tinymce/text/Zwsp"],function(t,e){function n(t){return d(t)&&(t=t.parentNode),c(t)&&t.hasAttribute("data-mce-caret")}function i(t){return d(t)&&e.isZwsp(t.data)}function r(t){return n(t)||i(t)}function o(t,n){var i,o,a,s;if(i=t.ownerDocument,a=i.createTextNode(e.ZWSP),s=t.parentNode,n){if(o=t.previousSibling,d(o)){if(r(o))return o;if(u(o))return o.splitText(o.data.length-1)}s.insertBefore(a,t)}else{if(o=t.nextSibling,d(o)){if(r(o))return o;if(l(o))return o.splitText(1),o}t.nextSibling?s.insertBefore(a,t.nextSibling):s.appendChild(a)}return a}function a(t,e,n){var i,r,o;return i=e.ownerDocument,r=i.createElement(t),r.setAttribute("data-mce-caret",n?"before":"after"),r.setAttribute("data-mce-bogus","all"),r.appendChild(i.createTextNode(" ")),o=e.parentNode,n?o.insertBefore(r,e):e.nextSibling?o.insertBefore(r,e.nextSibling):o.appendChild(r),r}function s(t){var n;c(t)&&r(t)&&("&nbsp;"!=t.innerHTML?t.removeAttribute("data-mce-caret"):t.parentNode&&t.parentNode.removeChild(t)),d(t)&&(n=e.trim(t.data),0===n.length&&t.parentNode&&t.parentNode.removeChild(t),t.nodeValue=n)}function l(t){return d(t)&&t.data[0]==e.ZWSP}function u(t){return d(t)&&t.data[t.data.length-1]==e.ZWSP}var c=t.isElement,d=t.isText;return{isCaretContainer:r,isCaretContainerBlock:n,isCaretContainerInline:i,insertInline:o,insertBlock:a,remove:s,startsWithCaretContainer:l,endsWithCaretContainer:u}}),i("tinymce/dom/RangeUtils",["tinymce/util/Tools","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretContainer"],function(t,e,n,i){function r(t,e){var n=t.childNodes;return e--,e>n.length-1?e=n.length-1:e<0&&(e=0),n[e]||t}function o(t){this.walk=function(e,n){function i(t){var e;return e=t[0],3===e.nodeType&&e===m&&v>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===b&&t.length>0&&e===y&&3===e.nodeType&&t.splice(t.length-1,1),t}function o(t,e,n){for(var i=[];t&&t!=n;t=t[e])i.push(t);return i}function a(t,e){do{if(t.parentNode==e)return t;t=t.parentNode}while(t)}function l(t,e,r){var a=r?"nextSibling":"previousSibling";for(h=t,p=h.parentNode;h&&h!=e;h=p)p=h.parentNode,f=o(h==t?h:h[a],a),f.length&&(r||f.reverse(),n(i(f)))}var u,c,d,h,p,f,g,m=e.startContainer,v=e.startOffset,y=e.endContainer,b=e.endOffset;if(g=t.select("td[data-mce-selected],th[data-mce-selected]"),g.length>0)return void s(g,function(t){n([t])});if(1==m.nodeType&&m.hasChildNodes()&&(m=m.childNodes[v]),1==y.nodeType&&y.hasChildNodes()&&(y=r(y,b)),m==y)return n(i([m]));for(u=t.findCommonAncestor(m,y),h=m;h;h=h.parentNode){if(h===y)return l(m,u,!0);if(h===u)break}for(h=y;h;h=h.parentNode){if(h===m)return l(y,u);if(h===u)break}c=a(m,u)||m,d=a(y,u)||y,l(m,c,!0),f=o(c==m?c:c.nextSibling,"nextSibling",d==y?d.nextSibling:d),f.length&&n(i(f)),l(y,d)},this.split=function(t){function e(t,e){return t.splitText(e)}var n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset;return n==r&&3==n.nodeType?i>0&&i<n.nodeValue.length&&(r=e(n,i),n=r.previousSibling,o>i?(o-=i,n=r=e(r,o).previousSibling,o=r.nodeValue.length,i=0):o=0):(3==n.nodeType&&i>0&&i<n.nodeValue.length&&(n=e(n,i),i=0),3==r.nodeType&&o>0&&o<r.nodeValue.length&&(r=e(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:n,startOffset:i,endContainer:r,endOffset:o}},this.normalize=function(n){function i(i){function a(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}function s(n,i){for(var r=new e(n,t.getParent(n.parentNode,t.isBlock)||w);n=r[i?"prev":"next"]();)if("BR"===n.nodeName)return!0;
}function c(t){for(;t&&t!=w;){if(l(t))return!0;t=t.parentNode}return!1}function d(t,e){return t.previousSibling&&t.previousSibling.nodeName==e}function h(n,i){var a,s,l;if(i=i||p,l=t.getParent(i.parentNode,t.isBlock)||w,n&&"BR"==i.nodeName&&b&&t.isEmpty(l))return p=i.parentNode,f=t.nodeIndex(i),void(r=!0);for(a=new e(i,l);m=a[n?"prev":"next"]();){if("false"===t.getContentEditableParent(m)||u(m))return;if(3===m.nodeType&&m.nodeValue.length>0)return p=m,f=n?m.nodeValue.length:0,void(r=!0);if(t.isBlock(m)||v[m.nodeName.toLowerCase()])return;s=m}o&&s&&(p=s,r=!0,f=0)}var p,f,g,m,v,y,b,w=t.getRoot();if(p=n[(i?"start":"end")+"Container"],f=n[(i?"start":"end")+"Offset"],b=1==p.nodeType&&f===p.childNodes.length,v=t.schema.getNonEmptyElements(),y=i,!u(p)){if(1==p.nodeType&&f>p.childNodes.length-1&&(y=!1),9===p.nodeType&&(p=t.getRoot(),f=0),p===w){if(y&&(m=p.childNodes[f>0?f-1:0])){if(u(m))return;if(v[m.nodeName]||"TABLE"==m.nodeName)return}if(p.hasChildNodes()){if(f=Math.min(!y&&f>0?f-1:f,p.childNodes.length-1),p=p.childNodes[f],f=0,c(p)||u(p))return;if(p.hasChildNodes()&&!/TABLE/.test(p.nodeName)){m=p,g=new e(p,w);do{if(l(m)||u(m)){r=!1;break}if(3===m.nodeType&&m.nodeValue.length>0){f=y?0:m.nodeValue.length,p=m,r=!0;break}if(v[m.nodeName.toLowerCase()]&&!a(m)){f=t.nodeIndex(m),p=m.parentNode,"IMG"!=m.nodeName||y||f++,r=!0;break}}while(m=y?g.next():g.prev())}}}o&&(3===p.nodeType&&0===f&&h(!0),1===p.nodeType&&(m=p.childNodes[f],m||(m=p.childNodes[f-1]),!m||"BR"!==m.nodeName||d(m,"A")||s(m)||s(m,!0)||h(!0,m))),y&&!o&&3===p.nodeType&&f===p.nodeValue.length&&h(!1),r&&n["set"+(i?"Start":"End")](p,f)}}var r,o;return o=n.collapsed,i(!0),o||i(),r&&o&&n.collapse(!0),r}}function a(e,n,i){var r,o,a;if(r=i.elementFromPoint(e,n),o=i.body.createTextRange(),"HTML"==r.tagName&&(r=i.body),o.moveToElementText(r),a=t.toArray(o.getClientRects()),a=a.sort(function(t,e){return t=Math.abs(Math.max(t.top-n,t.bottom-n)),e=Math.abs(Math.max(e.top-n,e.bottom-n)),t-e}),a.length>0){n=(a[0].bottom+a[0].top)/2;try{return o.moveToPoint(e,n),o.collapse(!0),o}catch(s){}}return null}var s=t.each,l=n.isContentEditableFalse,u=i.isCaretContainer;return o.compareRanges=function(t,e){if(t&&e){if(!t.item&&!t.duplicate)return t.startContainer==e.startContainer&&t.startOffset==e.startOffset;if(t.item&&e.item&&t.item(0)===e.item(0))return!0;if(t.isEqual&&e.isEqual&&e.isEqual(t))return!0}return!1},o.getCaretRangeFromPoint=function(t,e,n){var i,r;if(n.caretPositionFromPoint)r=n.caretPositionFromPoint(t,e),i=n.createRange(),i.setStart(r.offsetNode,r.offset),i.collapse(!0);else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(n.body.createTextRange){i=n.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(o){i=a(t,e,n)}}return i},o.getSelectedNode=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset==n+1?e.childNodes[n]:null},o.getNode=function(t,e){return 1==t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},o}),i("tinymce/NodeChange",["tinymce/dom/RangeUtils","tinymce/Env","tinymce/util/Delay"],function(t,e,n){return function(i){function r(t){var e,n;if(n=i.$(t).parentsUntil(i.getBody()).add(t),n.length===a.length){for(e=n.length;e>=0&&n[e]===a[e];e--);if(e===-1)return a=n,!0}return a=n,!1}var o,a=[];"onselectionchange"in i.getDoc()||i.on("NodeChange Click MouseUp KeyUp Focus",function(e){var n,r;n=i.selection.getRng(),r={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset},"nodechange"!=e.type&&t.compareRanges(r,o)||i.fire("SelectionChange"),o=r}),i.on("contextmenu",function(){i.fire("SelectionChange")}),i.on("SelectionChange",function(){var t=i.selection.getStart(!0);!e.range&&i.selection.isCollapsed()||!r(t)&&i.dom.isChildOf(t,i.getBody())&&i.nodeChanged({selectionChange:!0})}),i.on("MouseUp",function(t){t.isDefaultPrevented()||("IMG"==i.selection.getNode().nodeName?n.setEditorTimeout(i,function(){i.nodeChanged()}):i.nodeChanged())}),this.nodeChanged=function(t){var e,n,r,o=i.selection;i.initialized&&o&&!i.settings.disable_nodechange&&!i.readonly&&(r=i.getBody(),e=o.getStart()||r,e.ownerDocument==i.getDoc()&&i.dom.isChildOf(e,r)||(e=r),"IMG"==e.nodeName&&o.isCollapsed()&&(e=e.parentNode),n=[],i.dom.getParent(e,function(t){return t===r||void n.push(t)}),t=t||{},t.element=e,t.parents=n,i.fire("NodeChange",t))}}}),i("tinymce/html/Node",[],function(){function t(t,e,n){var i,r,o=n?"lastChild":"firstChild",a=n?"prev":"next";if(t[o])return t[o];if(t!==e){if(i=t[a])return i;for(r=t.parent;r&&r!==e;r=r.parent)if(i=r[a])return i}}function e(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}var n=/^[ \t\r\n]*$/,i={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11};return e.prototype={replace:function(t){var e=this;return t.parent&&t.remove(),e.insert(t,e),e.remove(),e},attr:function(t,e){var n,i,r,o=this;if("string"!=typeof t){for(i in t)o.attr(i,t[i]);return o}if(n=o.attributes){if(e!==r){if(null===e){if(t in n.map)for(delete n.map[t],i=n.length;i--;)if(n[i].name===t)return n=n.splice(i,1),o;return o}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,o}return n.map[t]}},clone:function(){var t,n,i,r,o,a=this,s=new e(a.name,a.type);if(i=a.attributes){for(o=[],o.map={},t=0,n=i.length;t<n;t++)r=i[t],"id"!==r.name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=a.value,s.shortEnded=a.shortEnded,s},wrap:function(t){var e=this;return e.parent.insert(t,e),t.append(e),e},unwrap:function(){var t,e,n=this;for(t=n.firstChild;t;)e=t.next,n.insert(t,n,!0),t=e;n.remove()},remove:function(){var t=this,e=t.parent,n=t.next,i=t.prev;return e&&(e.firstChild===t?(e.firstChild=n,n&&(n.prev=null)):i.next=n,e.lastChild===t?(e.lastChild=i,i&&(i.next=null)):n.prev=i,t.parent=t.next=t.prev=null),t},append:function(t){var e,n=this;return t.parent&&t.remove(),e=n.lastChild,e?(e.next=t,t.prev=e,n.lastChild=t):n.lastChild=n.firstChild=t,t.parent=n,t},insert:function(t,e,n){var i;return t.parent&&t.remove(),i=e.parent||this,n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},getAll:function(e){var n,i=this,r=[];for(n=i.firstChild;n;n=t(n,i))n.name===e&&r.push(n);return r},empty:function(){var e,n,i,r=this;if(r.firstChild){for(e=[],i=r.firstChild;i;i=t(i,r))e.push(i);for(n=e.length;n--;)i=e[n],i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}return r.firstChild=r.lastChild=null,r},isEmpty:function(e){var i,r,o=this,a=o.firstChild;if(a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(e[a.name])return!1;for(i=a.attributes.length;i--;)if(r=a.attributes[i].name,"name"===r||0===r.indexOf("data-mce-bookmark"))return!1}if(8===a.type)return!1;if(3===a.type&&!n.test(a.value))return!1}while(a=t(a,o));return!0},walk:function(e){return t(this,null,e)}},e.create=function(t,n){var r,o;if(r=new e(t,i[t]||1),n)for(o in n)r.attr(o,n[o]);return r},e}),i("tinymce/html/Schema",["tinymce/util/Tools"],function(t){function e(t,e){return t?t.split(e||" "):[]}function n(t){function n(t,n,i){function r(t,e){var n,i,r={};for(n=0,i=t.length;n<i;n++)r[t[n]]=e||{};return r}var s,l,u,c=arguments;for(i=i||[],n=n||"","string"==typeof i&&(i=e(i)),l=3;l<c.length;l++)"string"==typeof c[l]&&(c[l]=e(c[l])),i.push.apply(i,c[l]);for(t=e(t),s=t.length;s--;)u=[].concat(a,e(n)),p[t[s]]={attributes:r(u),attributesOrder:u,children:r(i,o)}}function i(t,n){var i,r,o,a;for(t=e(t),i=t.length,n=e(n);i--;)for(r=p[t[i]],o=0,a=n.length;o<a;o++)r.attributes[n[o]]={},r.attributesOrder.push(n[o])}var a,l,u,c,d,h,p={};return r[t]?r[t]:(a=e("id accesskey class dir lang style tabindex title"),l=e("address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul"),u=e("a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment"),"html4"!=t&&(a.push.apply(a,e("contenteditable contextmenu draggable dropzone hidden spellcheck translate")),l.push.apply(l,e("article aside details dialog figure header footer hgroup section nav")),u.push.apply(u,e("audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"))),"html5-strict"!=t&&(a.push("xml:lang"),h=e("acronym applet basefont big font strike tt"),u.push.apply(u,h),s(h,function(t){n(t,"",u)}),d=e("center dir isindex noframes"),l.push.apply(l,d),c=[].concat(l,u),s(d,function(t){n(t,"",c)})),c=c||[].concat(l,u),n("html","manifest","head body"),n("head","","base command link meta noscript script style title"),n("title hr noscript br"),n("base","href target"),n("link","href rel media hreflang type sizes hreflang"),n("meta","name http-equiv content charset"),n("style","media type scoped"),n("script","src async defer type charset"),n("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",c),n("address dt dd div caption","",c),n("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",u),n("blockquote","cite",c),n("ol","reversed start type","li"),n("ul","","li"),n("li","value",c),n("dl","","dt dd"),n("a","href target rel media hreflang type",u),n("q","cite",u),n("ins del","cite datetime",c),n("img","src sizes srcset alt usemap ismap width height"),n("iframe","src name width height",c),n("embed","src type width height"),n("object","data type typemustmatch name usemap form width height",c,"param"),n("param","name value"),n("map","name",c,"area"),n("area","alt coords shape href target rel media hreflang type"),n("table","border","caption colgroup thead tfoot tbody tr"+("html4"==t?" col":"")),n("colgroup","span","col"),n("col","span"),n("tbody thead tfoot","","tr"),n("tr","","td th"),n("td","colspan rowspan headers",c),n("th","colspan rowspan headers scope abbr",c),n("form","accept-charset action autocomplete enctype method name novalidate target",c),n("fieldset","disabled form name",c,"legend"),n("label","form for",u),n("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),n("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"==t?c:u),n("select","disabled form multiple name required size","option optgroup"),n("optgroup","disabled label","option"),n("option","disabled label selected value"),n("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),n("menu","type label",c,"li"),n("noscript","",c),"html4"!=t&&(n("wbr"),n("ruby","",u,"rt rp"),n("figcaption","",c),n("mark rt rp summary bdi","",u),n("canvas","width height",c),n("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",c,"track source"),n("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",c,"track source"),n("picture","","img source"),n("source","src srcset type media sizes"),n("track","kind src srclang label default"),n("datalist","",u,"option"),n("article section nav aside header footer","",c),n("hgroup","","h1 h2 h3 h4 h5 h6"),n("figure","",c,"figcaption"),n("time","datetime",u),n("dialog","open",c),n("command","type label icon disabled checked radiogroup command"),n("output","for form name",u),n("progress","value max",u),n("meter","value min max low high optimum",u),n("details","open",c,"summary"),n("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!=t&&(i("script","language xml:space"),i("style","xml:space"),i("object","declare classid code codebase codetype archive standby align border hspace vspace"),i("embed","align name hspace vspace"),i("param","valuetype type"),i("a","charset name rev shape coords"),i("br","clear"),i("applet","codebase archive code object alt name width height align hspace vspace"),i("img","name longdesc align border hspace vspace"),i("iframe","longdesc frameborder marginwidth marginheight scrolling align"),i("font basefont","size color face"),i("input","usemap align"),i("select","onchange"),i("textarea"),i("h1 h2 h3 h4 h5 h6 div p legend caption","align"),i("ul","type compact"),i("li","type"),i("ol dl menu dir","compact"),i("pre","width xml:space"),i("hr","align noshade size width"),i("isindex","prompt"),i("table","summary width frame rules cellspacing cellpadding align bgcolor"),i("col","width align char charoff valign"),i("colgroup","width align char charoff valign"),i("thead","align char charoff valign"),i("tr","align char charoff valign bgcolor"),i("th","axis align char charoff valign nowrap bgcolor width height"),i("form","accept"),i("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),i("tfoot","align char charoff valign"),i("tbody","align char charoff valign"),i("area","nohref"),i("body","background bgcolor text link vlink alink")),"html4"!=t&&(i("input button select textarea","autofocus"),i("input textarea","placeholder"),i("a","download"),i("link script img","crossorigin"),i("iframe","sandbox seamless allowfullscreen")),s(e("a form meter progress dfn"),function(t){p[t]&&delete p[t].children[t]}),delete p.caption.children.table,delete p.script,r[t]=p,p)}function i(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),s(t,function(t,i){n[i]=n[i.toUpperCase()]="map"==e?a(t,/[, ]/):u(t,/[, ]/)})),n}var r={},o={},a=t.makeMap,s=t.each,l=t.extend,u=t.explode,c=t.inArray;return function(t){function o(e,n,i){var o=t[e];return o?o=a(o,/[, ]/,a(o.toUpperCase(),/[, ]/)):(o=r[e],o||(o=a(n," ",a(n.toUpperCase()," ")),o=l(o,i),r[e]=o)),o}function d(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")}function h(t){var n,i,r,o,s,l,u,h,p,f,g,m,v,y,b,w,_,x,k,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,$=/^([!\-])?(\w+::\w+|[^=:<]+)?(?:([=:<])(.*))?$/,M=/[*?+]/;if(t)for(t=e(t,","),O["@"]&&(w=O["@"].attributes,_=O["@"].attributesOrder),n=0,i=t.length;n<i;n++)if(s=C.exec(t[n])){if(y=s[1],p=s[2],b=s[3],h=s[5],m={},v=[],l={attributes:m,attributesOrder:v},"#"===y&&(l.paddEmpty=!0),"-"===y&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),w){for(x in w)m[x]=w[x];v.push.apply(v,_)}if(h)for(h=e(h,"|"),r=0,o=h.length;r<o;r++)if(s=$.exec(h[r])){if(u={},g=s[1],f=s[2].replace(/::/g,":"),y=s[3],k=s[4],"!"===g&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(f),u.required=!0),"-"===g){delete m[f],v.splice(c(v,f),1);continue}y&&("="===y&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:f,value:k}),u.defaultValue=k),":"===y&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:f,value:k}),u.forcedValue=k),"<"===y&&(u.validValues=a(k,"?"))),M.test(f)?(l.attributePatterns=l.attributePatterns||[],u.pattern=d(f),l.attributePatterns.push(u)):(m[f]||v.push(f),m[f]=u)}w||"@"!=p||(w=m,_=v),b&&(l.outputName=p,O[b]=l),M.test(p)?(l.pattern=d(p),A.push(l)):O[p]=l}}function p(t){O={},A=[],h(t),s(b,function(t,e){P[e]=t.children})}function f(t){var n=/^(~)?(.+)$/;t&&(r.text_block_elements=r.block_elements=null,s(e(t,","),function(t){var e=n.exec(t),i="~"===e[1],r=i?"span":"div",o=e[2];if(P[o]=P[r],N[o]=r,i||($[o.toUpperCase()]={},$[o]={}),!O[o]){var a=O[r];a=l({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,O[o]=a}s(P,function(t,e){t[r]&&(P[e]=t=l({},P[e]),t[o]=t[r])})}))}function g(n){var i=/^([+\-]?)(\w+)\[([^\]]+)\]$/;r[t.schema]=null,n&&s(e(n,","),function(t){var n,r,o=i.exec(t);o&&(r=o[1],n=r?P[o[2]]:P[o[2]]={"#comment":{}},n=P[o[2]],s(e(o[3],"|"),function(t){"-"===r?delete n[t]:n[t]={}}))})}function m(t){var e,n=O[t];if(n)return n;for(e=A.length;e--;)if(n=A[e],n.pattern.test(t))return n}var v,y,b,w,_,x,k,C,$,M,S,T,D,E=this,O={},P={},A=[],N={},I={};t=t||{},b=n(t.schema),t.verify_html===!1&&(t.valid_elements="*[*]"),v=i(t.valid_styles),y=i(t.invalid_styles,"map"),C=i(t.valid_classes,"map"),w=o("whitespace_elements","pre script noscript style textarea video audio iframe object"),_=o("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),x=o("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),k=o("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),M=o("non_empty_elements","td th iframe video audio object script",x),S=o("move_caret_before_on_enter_elements","table",M),T=o("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),$=o("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",T),D=o("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),s((t.special||"script noscript style textarea").split(" "),function(t){I[t]=new RegExp("</"+t+"[^>]*>","gi")}),t.valid_elements?p(t.valid_elements):(s(b,function(t,e){O[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},P[e]=t.children}),"html5"!=t.schema&&s(e("strong/b em/i"),function(t){t=e(t,"/"),O[t[1]].outputName=t[0]}),s(e("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(t){O[t]&&(O[t].removeEmpty=!0)}),s(e("p h1 h2 h3 h4 h5 h6 th td pre div address caption"),function(t){O[t].paddEmpty=!0}),s(e("span"),function(t){O[t].removeEmptyAttrs=!0})),f(t.custom_elements),g(t.valid_children),h(t.extended_valid_elements),g("+ol[ul|ol],+ul[ul|ol]"),t.invalid_elements&&s(u(t.invalid_elements),function(t){O[t]&&delete O[t]}),m("span")||h("span[!data-mce-type|*]"),E.children=P,E.getValidStyles=function(){return v},E.getInvalidStyles=function(){return y},E.getValidClasses=function(){return C},E.getBoolAttrs=function(){return k},E.getBlockElements=function(){return $},E.getTextBlockElements=function(){return T},E.getTextInlineElements=function(){return D},E.getShortEndedElements=function(){return x},E.getSelfClosingElements=function(){return _},E.getNonEmptyElements=function(){return M},E.getMoveCaretBeforeOnEnterElements=function(){return S},E.getWhiteSpaceElements=function(){return w},E.getSpecialElements=function(){return I},E.isValidChild=function(t,e){var n=P[t];return!(!n||!n[e])},E.isValid=function(t,e){var n,i,r=m(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},E.getElementRule=m,E.getCustomElements=function(){return N},E.addValidElements=h,E.setValidElements=p,E.addCustomElements=f,E.addValidChildren=g,E.elements=O}}),i("tinymce/html/SaxParser",["tinymce/html/Schema","tinymce/html/Entities","tinymce/util/Tools"],function(t,e,n){function i(t,e,n){var i,r,o,a,s=1;for(a=t.getShortEndedElements(),o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,o.lastIndex=i=n;r=o.exec(e);){if(i=o.lastIndex,"/"===r[1])s--;else if(!r[1]){if(r[2]in a)continue;s++}if(0===s)break}return i}function r(r,a){function s(){}var l=this;r=r||{},l.schema=a=a||new t,r.fix_self_closing!==!1&&(r.fix_self_closing=!0),o("comment cdata text start end pi doctype".split(" "),function(t){t&&(l[t]=r[t]||s)}),l.parse=function(t){function o(t){var e,n;for(e=H.length;e--&&H[e].name!==t;);if(e>=0){for(n=H.length-1;n>=e;n--)t=H[n],t.valid&&L.end(t.name);H.length=e}}function s(t,e,n,i,o){var a,s,l=/[\s\u0000-\u001F]+/g;if(e=e.toLowerCase(),n=e in y?e:W(n||i||o||""),w&&!g&&0!==e.indexOf("data-")){if(a=$[e],!a&&M){for(s=M.length;s--&&(a=M[s],!a.pattern.test(e)););s===-1&&(a=null)}if(!a)return;if(a.validValues&&!(n in a.validValues))return}if(j[e]&&!r.allow_script_urls){var u=n.replace(l,"");try{u=decodeURIComponent(u)}catch(c){u=unescape(u)}if(z.test(u))return;if(!r.allow_html_data_urls&&G.test(u)&&!/^data:image\//i.test(u))return}d.map[e]=n,d.push({name:e,value:n})}var l,u,c,d,h,p,f,g,m,v,y,b,w,_,x,k,C,$,M,S,T,D,E,O,P,A,N,I,R,L=this,B=0,H=[],F=0,W=e.decode,j=n.makeMap("src,href,data,background,formaction,poster"),z=/((java|vb)script|mhtml):/i,G=/^data:/i;for(P=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([^>]+)>)|(?:([A-Za-z0-9\\-_\\:\\.]+)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),A=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,v=a.getShortEndedElements(),O=r.self_closing_elements||a.getSelfClosingElements(),y=a.getBoolAttrs(),w=r.validate,m=r.remove_internals,R=r.fix_self_closing,N=a.getSpecialElements();l=P.exec(t);){if(B<l.index&&L.text(W(t.substr(B,l.index-B))),u=l[6])u=u.toLowerCase(),":"===u.charAt(0)&&(u=u.substr(1)),o(u);else if(u=l[7]){if(u=u.toLowerCase(),":"===u.charAt(0)&&(u=u.substr(1)),b=u in v,R&&O[u]&&H.length>0&&H[H.length-1].name===u&&o(u),!w||(_=a.getElementRule(u))){if(x=!0,w&&($=_.attributes,M=_.attributePatterns),(C=l[8])?(g=C.indexOf("data-mce-type")!==-1,g&&m&&(x=!1),d=[],d.map={},C.replace(A,s)):(d=[],d.map={}),w&&!g){if(S=_.attributesRequired,T=_.attributesDefault,D=_.attributesForced,E=_.removeEmptyAttrs,E&&!d.length&&(x=!1),D)for(h=D.length;h--;)k=D[h],f=k.name,I=k.value,"{$uid}"===I&&(I="mce_"+F++),d.map[f]=I,d.push({name:f,value:I});if(T)for(h=T.length;h--;)k=T[h],f=k.name,f in d.map||(I=k.value,"{$uid}"===I&&(I="mce_"+F++),d.map[f]=I,d.push({name:f,value:I}));if(S){for(h=S.length;h--&&!(S[h]in d.map););h===-1&&(x=!1)}if(k=d.map["data-mce-bogus"]){if("all"===k){B=i(a,t,P.lastIndex),P.lastIndex=B;continue}x=!1}}x&&L.start(u,d,b)}else x=!1;if(c=N[u]){c.lastIndex=B=l.index+l[0].length,(l=c.exec(t))?(x&&(p=t.substr(B,l.index-B)),B=l.index+l[0].length):(p=t.substr(B),B=t.length),x&&(p.length>0&&L.text(p,!0),L.end(u)),P.lastIndex=B;continue}b||(C&&C.indexOf("/")==C.length-1?x&&L.end(u):H.push({name:u,valid:x}))}else(u=l[1])?(">"===u.charAt(0)&&(u=" "+u),r.allow_conditional_comments||"[if"!==u.substr(0,3)||(u=" "+u),L.comment(u)):(u=l[2])?L.cdata(u):(u=l[3])?L.doctype(u):(u=l[4])&&L.pi(u,l[5]);B=l.index+l[0].length}for(B<t.length&&L.text(W(t.substr(B))),h=H.length-1;h>=0;h--)u=H[h],u.valid&&L.end(u.name)}}var o=n.each;return r.findEndTag=i,r}),i("tinymce/html/DomParser",["tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/util/Tools"],function(t,e,n,i){var r=i.makeMap,o=i.each,a=i.explode,s=i.extend;return function(i,l){function u(e){var n,i,o,a,s,u,d,h,p,f,g,m,v,y,b;for(g=r("tr,td,th,tbody,thead,tfoot,table"),f=l.getNonEmptyElements(),m=l.getTextBlockElements(),v=l.getSpecialElements(),n=0;n<e.length;n++)if(i=e[n],i.parent&&!i.fixed)if(m[i.name]&&"li"==i.parent.name){for(y=i.next;y&&m[y.name];)y.name="li",y.fixed=!0,i.parent.insert(y,i.parent),y=y.next;i.unwrap(i)}else{for(a=[i],o=i.parent;o&&!l.isValidChild(o.name,i.name)&&!g[o.name];o=o.parent)a.push(o);if(o&&a.length>1){for(a.reverse(),s=u=c.filterNode(a[0].clone()),p=0;p<a.length-1;p++){for(l.isValidChild(u.name,a[p].name)?(d=c.filterNode(a[p].clone()),u.append(d)):d=u,h=a[p].firstChild;h&&h!=a[p+1];)b=h.next,d.append(h),h=b;u=d}s.isEmpty(f)?o.insert(i,a[0],!0):(o.insert(s,a[0],!0),o.insert(i,s)),o=a[0],(o.isEmpty(f)||o.firstChild===o.lastChild&&"br"===o.firstChild.name)&&o.empty().remove()}else if(i.parent){if("li"===i.name){if(y=i.prev,y&&("ul"===y.name||"ul"===y.name)){y.append(i);continue}if(y=i.next,y&&("ul"===y.name||"ul"===y.name)){y.insert(i,y.firstChild,!0);continue}i.wrap(c.filterNode(new t("ul",1)));continue}l.isValidChild(i.parent.name,"div")&&l.isValidChild("div",i.name)?i.wrap(c.filterNode(new t("div",1))):v[i.name]?i.empty().remove():i.unwrap()}}}var c=this,d={},h=[],p={},f={};i=i||{},i.validate=!("validate"in i)||i.validate,i.root_name=i.root_name||"body",c.schema=l=l||new e,c.filterNode=function(t){var e,n,i;n in d&&(i=p[n],i?i.push(t):p[n]=[t]),e=h.length;for(;e--;)n=h[e].name,n in t.attributes.map&&(i=f[n],i?i.push(t):f[n]=[t]);return t},c.addNodeFilter=function(t,e){o(a(t),function(t){var n=d[t];n||(d[t]=n=[]),n.push(e)})},c.addAttributeFilter=function(t,e){o(a(t),function(t){var n;for(n=0;n<h.length;n++)if(h[n].name===t)return void h[n].callbacks.push(e);h.push({name:t,callbacks:[e]})})},c.parse=function(e,o){function a(){function t(t){t&&(r=t.firstChild,r&&3==r.type&&(r.value=r.value.replace(D,"")),r=t.lastChild,r&&3==r.type&&(r.value=r.value.replace(O,"")))}var e,n,r=y.firstChild;if(l.isValidChild(y.name,L.toLowerCase())){for(;r;)e=r.next,3==r.type||1==r.type&&"p"!==r.name&&!T[r.name]&&!r.attr("data-mce-type")?n?n.append(r):(n=c(L,1),n.attr(i.forced_root_block_attrs),y.insert(n,r),n.append(r)):(t(n),n=null),r=e;t(n)}}function c(e,n){var i,r=new t(e,n);return e in d&&(i=p[e],i?i.push(r):p[e]=[r]),r}function g(t){var e,n,i,r,o=l.getBlockElements();for(e=t.prev;e&&3===e.type;){if(i=e.value.replace(O,""),i.length>0)return void(e.value=i);if(n=e.next){if(3==n.type&&n.value.length){e=e.prev;continue}if(!o[n.name]&&"script"!=n.name&&"style"!=n.name){e=e.prev;continue}}r=e.prev,e.remove(),e=r}}function m(t){var e,n={};for(e in t)"li"!==e&&"p"!=e&&(n[e]=t[e]);return n}var v,y,b,w,_,x,k,C,$,M,S,T,D,E,O,P,A,N,I,R,L,B=[];if(o=o||{},p={},f={},T=s(r("script,style,head,html,body,title,meta,param"),l.getBlockElements()),R=l.getNonEmptyElements(),I=l.children,S=i.validate,L="forced_root_block"in o?o.forced_root_block:i.forced_root_block,N=l.getWhiteSpaceElements(),D=/^[ \t\r\n]+/,O=/[ \t\r\n]+$/,P=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/,v=new n({validate:S,allow_script_urls:i.allow_script_urls,allow_conditional_comments:i.allow_conditional_comments,self_closing_elements:m(l.getSelfClosingElements()),cdata:function(t){b.append(c("#cdata",4)).value=t},text:function(t,e){var n;E||(t=t.replace(P," "),b.lastChild&&T[b.lastChild.name]&&(t=t.replace(D,""))),0!==t.length&&(n=c("#text",3),n.raw=!!e,b.append(n).value=t)},comment:function(t){b.append(c("#comment",8)).value=t},pi:function(t,e){b.append(c(t,7)).value=e,g(b)},doctype:function(t){var e;e=b.append(c("#doctype",10)),e.value=t,g(b)},start:function(t,e,n){var i,r,o,a,s;if(o=S?l.getElementRule(t):{}){for(i=c(o.outputName||t,1),i.attributes=e,i.shortEnded=n,b.append(i),s=I[b.name],s&&I[i.name]&&!s[i.name]&&B.push(i),r=h.length;r--;)a=h[r].name,a in e.map&&($=f[a],$?$.push(i):f[a]=[i]);T[t]&&g(i),n||(b=i),!E&&N[t]&&(E=!0)}},end:function(e){var n,i,r,o,a;if(i=S?l.getElementRule(e):{}){if(T[e]&&!E){if(n=b.firstChild,n&&3===n.type)if(r=n.value.replace(D,""),r.length>0)n.value=r,n=n.next;else for(o=n.next,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.next,(0===r.length||A.test(r))&&(n.remove(),n=o),n=o;if(n=b.lastChild,n&&3===n.type)if(r=n.value.replace(O,""),r.length>0)n.value=r,n=n.prev;else for(o=n.prev,n.remove(),n=o;n&&3===n.type;)r=n.value,o=n.prev,(0===r.length||A.test(r))&&(n.remove(),n=o),n=o}if(E&&N[e]&&(E=!1),(i.removeEmpty||i.paddEmpty)&&b.isEmpty(R))if(i.paddEmpty)b.empty().append(new t("#text","3")).value=" ";else if(!b.attributes.map.name&&!b.attributes.map.id)return a=b.parent,T[b.name]?b.empty().remove():b.unwrap(),void(b=a);b=b.parent}}},l),y=b=new t(o.context||i.root_name,11),v.parse(e),S&&B.length&&(o.context?o.invalid=!0:u(B)),L&&("body"==y.name||o.isRootContent)&&a(),!o.invalid){for(M in p){for($=d[M],w=p[M],k=w.length;k--;)w[k].parent||w.splice(k,1);for(_=0,x=$.length;_<x;_++)$[_](w,M,o)}for(_=0,x=h.length;_<x;_++)if($=h[_],$.name in f){for(w=f[$.name],k=w.length;k--;)w[k].parent||w.splice(k,1);for(k=0,C=$.callbacks.length;k<C;k++)$.callbacks[k](w,$.name,o)}}return y},i.remove_trailing_brs&&c.addNodeFilter("br",function(e){var n,i,r,o,a,u,c,d,h=e.length,p=s({},l.getBlockElements()),f=l.getNonEmptyElements();for(p.body=1,n=0;n<h;n++)if(i=e[n],r=i.parent,p[i.parent.name]&&i===r.lastChild){for(a=i.prev;a;){if(u=a.name,"span"!==u||"bookmark"!==a.attr("data-mce-type")){if("br"!==u)break;if("br"===u){i=null;break}}a=a.prev}i&&(i.remove(),r.isEmpty(f)&&(c=l.getElementRule(r.name),c&&(c.removeEmpty?r.remove():c.paddEmpty&&(r.empty().append(new t("#text",3)).value=" "))))}else{for(o=i;r&&r.firstChild===o&&r.lastChild===o&&(o=r,!p[r.name]);)r=r.parent;o===r&&(d=new t("#text",3),d.value=" ",i.replace(d))}}),i.allow_html_in_named_anchor||c.addAttributeFilter("id,name",function(t){for(var e,n,i,r,o=t.length;o--;)if(r=t[o],"a"===r.name&&r.firstChild&&!r.attr("href")){i=r.parent,e=r.lastChild;do n=e.prev,i.insert(e,r),e=n;while(e)}}),i.validate&&l.getValidClasses()&&c.addAttributeFilter("class",function(t){for(var e,n,i,r,o,a,s,u=t.length,c=l.getValidClasses();u--;){for(e=t[u],n=e.attr("class").split(" "),o="",i=0;i<n.length;i++)r=n[i],s=!1,a=c["*"],a&&a[r]&&(s=!0),a=c[e.name],!s&&a&&a[r]&&(s=!0),s&&(o&&(o+=" "),o+=r);o.length||(o=null),e.attr("class",o)}})}}),i("tinymce/html/Writer",["tinymce/html/Entities","tinymce/util/Tools"],function(t,e){var n=e.makeMap;return function(e){var i,r,o,a,s,l=[];return e=e||{},i=e.indent,r=n(e.indent_before||""),o=n(e.indent_after||""),a=t.getEncodeFunc(e.entity_encoding||"raw",e.entities),s="html"==e.element_format,{start:function(t,e,n){var u,c,d,h;if(i&&r[t]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n")),l.push("<",t),e)for(u=0,c=e.length;u<c;u++)d=e[u],l.push(" ",d.name,'="',a(d.value,!0),'"');!n||s?l[l.length]=">":l[l.length]=" />",n&&i&&o[t]&&l.length>0&&(h=l[l.length-1],h.length>0&&"\n"!==h&&l.push("\n"))},end:function(t){var e;l.push("</",t,">"),i&&o[t]&&l.length>0&&(e=l[l.length-1],e.length>0&&"\n"!==e&&l.push("\n"))},text:function(t,e){t.length>0&&(l[l.length]=e?t:a(t))},cdata:function(t){l.push("<![CDATA[",t,"]]>")},comment:function(t){l.push("<!--",t,"-->")},pi:function(t,e){e?l.push("<?",t," ",a(e),"?>"):l.push("<?",t,"?>"),i&&l.push("\n")},doctype:function(t){l.push("<!DOCTYPE",t,">",i?"\n":"")},reset:function(){l.length=0},getContent:function(){return l.join("").replace(/\n$/,"")}}}}),i("tinymce/html/Serializer",["tinymce/html/Writer","tinymce/html/Schema"],function(t,e){return function(n,i){var r=this,o=new t(n);n=n||{},n.validate=!("validate"in n)||n.validate,r.schema=i=i||new e,r.writer=o,r.serialize=function(t){function e(t){var n,s,l,u,c,d,h,p,f,g=r[t.type];if(g)g(t);else{if(n=t.name,s=t.shortEnded,l=t.attributes,a&&l&&l.length>1&&(d=[],d.map={},f=i.getElementRule(t.name))){for(h=0,p=f.attributesOrder.length;h<p;h++)u=f.attributesOrder[h],u in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(h=0,p=l.length;h<p;h++)u=l[h].name,u in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(o.start(t.name,l,s),!s){if(t=t.firstChild)do e(t);while(t=t.next);o.end(n)}}}var r,a;return a=n.validate,r={3:function(t){o.text(t.value,t.raw)},8:function(t){o.comment(t.value)},7:function(t){o.pi(t.name,t.value)},10:function(t){o.doctype(t.value)},4:function(t){o.cdata(t.value)},11:function(t){if(t=t.firstChild)do e(t);while(t=t.next)}},o.reset(),1!=t.type||n.inner?r[11](t):e(t),o.getContent()}}}),i("tinymce/dom/Serializer",["tinymce/dom/DOMUtils","tinymce/html/DomParser","tinymce/html/SaxParser","tinymce/html/Entities","tinymce/html/Serializer","tinymce/html/Node","tinymce/html/Schema","tinymce/Env","tinymce/util/Tools","tinymce/text/Zwsp"],function(t,e,n,i,r,o,a,s,l,u){function c(t){function e(t){return t&&"br"===t.name}var n,i;n=t.lastChild,e(n)&&(i=n.prev,e(i)&&(n.remove(),i.remove()))}var d=l.each,h=l.trim,p=t.DOM,f=["data-mce-selected"];return function(t,o){function g(t){var e=new RegExp(["<span[^>]+data-mce-bogus[^>]+>[​\ufeff]+<\\/span>","\\s?("+f.join("|")+')="[^"]+"'].join("|"),"gi");return t=u.trim(t.replace(e,""))}function m(){var t,e,i,r,a,s=o.getBody().innerHTML,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=o.schema;for(s=g(s),a=u.getShortEndedElements();r=l.exec(s);)e=l.lastIndex,
i=r[0].length,t=a[r[1]]?e:n.findEndTag(u,s,e),s=s.substring(0,e-i)+s.substring(t),l.lastIndex=e-i;return h(s)}function v(t){l.inArray(f,t)===-1&&(w.addAttributeFilter(t,function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),f.push(t))}var y,b,w;return o&&(y=o.dom,b=o.schema),y=y||p,b=b||new a(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs,w=new e(t,b),w.addAttributeFilter("data-mce-tabindex",function(t,e){for(var n,i=t.length;i--;)n=t[i],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(e,null)}),w.addAttributeFilter("src,href,style",function(e,n){for(var i,r,o,a=e.length,s="data-mce-"+n,l=t.url_converter,u=t.url_converter_scope;a--;)i=e[a],r=i.attributes.map[s],r!==o?(i.attr(n,r.length>0?r:null),i.attr(s,null)):(r=i.attributes.map[n],"style"===n?r=y.serializeStyle(y.parseStyle(r),i.name):l&&(r=l.call(u,r,n,i.name)),i.attr(n,r.length>0?r:null))}),w.addAttributeFilter("class",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.attr("class"),n&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))}),w.addAttributeFilter("data-mce-type",function(t,e,n){for(var i,r=t.length;r--;)i=t[r],"bookmark"!==i.attributes.map["data-mce-type"]||n.cleanup||i.remove()}),w.addNodeFilter("noscript",function(t){for(var e,n=t.length;n--;)e=t[n].firstChild,e&&(e.value=i.decode(e.value))}),w.addNodeFilter("script,style",function(t,e){function n(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")}for(var i,r,o,a=t.length;a--;)i=t[a],r=i.firstChild?i.firstChild.value:"","script"===e?(o=i.attr("type"),o&&i.attr("type","mce-no/type"==o?null:o.replace(/^mce\-/,"")),r.length>0&&(i.firstChild.value="// <![CDATA[\n"+n(r)+"\n// ]]>")):r.length>0&&(i.firstChild.value="<!--\n"+n(r)+"\n-->")}),w.addNodeFilter("#comment",function(t){for(var e,n=t.length;n--;)e=t[n],0===e.value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))}),w.addNodeFilter("xml:namespace,input",function(t,e){for(var n,i=t.length;i--;)n=t[i],7===n.type?n.remove():1===n.type&&("input"!==e||"type"in n.attributes.map||n.attr("type","text"))}),t.fix_list_elements&&w.addNodeFilter("ul,ol",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.parent,"ul"!==n.name&&"ol"!==n.name||e.prev&&"li"===e.prev.name&&e.prev.append(e)}),w.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}),{schema:b,addNodeFilter:w.addNodeFilter,addAttributeFilter:w.addAttributeFilter,serialize:function(e,n){var i,o,a,l,p,f,g=this;return s.ie&&y.select("script,style,select,map").length>0?(p=e.innerHTML,e=e.cloneNode(!1),y.setHTML(e,p)):e=e.cloneNode(!0),i=e.ownerDocument.implementation,i.createHTMLDocument&&(o=i.createHTMLDocument(""),d("BODY"==e.nodeName?e.childNodes:[e],function(t){o.body.appendChild(o.importNode(t,!0))}),e="BODY"!=e.nodeName?o.body.firstChild:o.body,a=y.doc,y.doc=o),n=n||{},n.format=n.format||"html",n.selection&&(n.forced_root_block=""),n.no_events||(n.node=e,g.onPreProcess(n)),f=w.parse(h(n.getInner?e.innerHTML:y.getOuterHTML(e)),n),c(f),l=new r(t,b),n.content=l.serialize(f),n.cleanup||(n.content=u.trim(n.content),n.content=n.content.replace(/\uFEFF/g,"")),n.no_events||g.onPostProcess(n),a&&(y.doc=a),n.node=null,n.content},addRules:function(t){b.addValidElements(t)},setRules:function(t){b.setValidElements(t)},onPreProcess:function(t){o&&o.fire("PreProcess",t)},onPostProcess:function(t){o&&o.fire("PostProcess",t)},addTempAttr:v,trimHtml:g,getTrimmedContent:m}}}),i("tinymce/dom/TridentSelection",[],function(){function t(t){function e(e,n){var i,r,o,a,s,l,u,c,d=0,h=-1;if(i=e.duplicate(),i.collapse(n),c=i.parentElement(),c.ownerDocument===t.dom.doc){for(;"false"===c.contentEditable;)c=c.parentNode;if(!c.hasChildNodes())return{node:c,inside:1};for(a=c.children,r=a.length-1;d<=r;)if(u=Math.floor((d+r)/2),s=a[u],i.moveToElementText(s),h=i.compareEndPoints(n?"StartToStart":"EndToEnd",e),h>0)r=u-1;else{if(!(h<0))return{node:s};d=u+1}if(h<0)for(s?i.collapse(!1):(i.moveToElementText(c),i.collapse(!0),s=c,o=!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",e)&&0!==i.move("character",1)&&c==i.parentElement();)l++;else for(i.collapse(!0),l=0;0!==i.compareEndPoints(n?"StartToStart":"StartToEnd",e)&&0!==i.move("character",-1)&&c==i.parentElement();)l++;return{node:s,position:h,offset:l,inside:o}}}function n(){function n(t){var n,i,r,o,a,s=e(c,t),l=0;if(n=s.node,i=s.offset,s.inside&&!n.hasChildNodes())return void d[t?"setStart":"setEnd"](n,0);if(i===o)return void d[t?"setStartBefore":"setEndAfter"](n);if(s.position<0){if(r=s.inside?n.firstChild:n.nextSibling,!r)return void d[t?"setStartAfter":"setEndAfter"](n);if(!i)return void(3==r.nodeType?d[t?"setStart":"setEnd"](r,0):d[t?"setStartBefore":"setEndBefore"](r));for(;r;){if(3==r.nodeType&&(a=r.nodeValue,l+=a.length,l>=i)){n=r,l-=i,l=a.length-l;break}r=r.nextSibling}}else{if(r=n.previousSibling,!r)return d[t?"setStartBefore":"setEndBefore"](n);if(!i)return void(3==n.nodeType?d[t?"setStart":"setEnd"](r,n.nodeValue.length):d[t?"setStartAfter":"setEndAfter"](r));for(;r;){if(3==r.nodeType&&(l+=r.nodeValue.length,l>=i)){n=r,l-=i;break}r=r.previousSibling}}d[t?"setStart":"setEnd"](n,l)}var o,a,s,l,u,c=t.getRng(),d=r.createRng();if(o=c.item?c.item(0):c.parentElement(),o.ownerDocument!=r.doc)return d;if(a=t.isCollapsed(),c.item)return d.setStart(o.parentNode,r.nodeIndex(o)),d.setEnd(d.startContainer,d.startOffset+1),d;try{n(!0),a||n()}catch(h){if(h.number!=-2147024809)throw h;u=i.getBookmark(2),s=c.duplicate(),s.collapse(!0),o=s.parentElement(),a||(s=c.duplicate(),s.collapse(!1),l=s.parentElement(),l.innerHTML=l.innerHTML),o.innerHTML=o.innerHTML,i.moveToBookmark(u),c=t.getRng(),n(!0),a||n()}return d}var i=this,r=t.dom,o=!1;this.getBookmark=function(n){function i(t){var e,n,i,o,a=[];for(e=t.parentNode,n=r.getRoot().parentNode;e!=n&&9!==e.nodeType;){for(i=e.children,o=i.length;o--;)if(t===i[o]){a.push(o);break}t=e,e=e.parentNode}return a}function o(t){var n;if(n=e(a,t))return{position:n.position,offset:n.offset,indexes:i(n.node),inside:n.inside}}var a=t.getRng(),s={};return 2===n&&(a.item?s.start={ctrl:!0,indexes:i(a.item(0))}:(s.start=o(!0),t.isCollapsed()||(s.end=o()))),s},this.moveToBookmark=function(t){function e(t){var e,n,i,o;for(e=r.getRoot(),n=t.length-1;n>=0;n--)o=e.children,i=t[n],i<=o.length-1&&(e=o[i]);return e}function n(n){var r,a,s,l,u=t[n?"start":"end"];u&&(r=u.position>0,a=o.createTextRange(),a.moveToElementText(e(u.indexes)),l=u.offset,l!==s?(a.collapse(u.inside||r),a.moveStart("character",r?-l:l)):a.collapse(n),i.setEndPoint(n?"StartToStart":"EndToStart",a),n&&i.collapse(!0))}var i,o=r.doc.body;t.start&&(t.start.ctrl?(i=o.createControlRange(),i.addElement(e(t.start.indexes)),i.select()):(i=o.createTextRange(),n(!0),n(),i.select()))},this.addRange=function(e){function n(t){var e,n,a,d,h;a=r.create("a"),e=t?s:u,n=t?l:c,d=i.duplicate(),e!=f&&e!=f.documentElement||(e=g,n=0),3==e.nodeType?(e.parentNode.insertBefore(a,e),d.moveToElementText(a),d.moveStart("character",n),r.remove(a),i.setEndPoint(t?"StartToStart":"EndToEnd",d)):(h=e.childNodes,h.length?(n>=h.length?r.insertAfter(a,h[h.length-1]):e.insertBefore(a,h[n]),d.moveToElementText(a)):e.canHaveHTML&&(e.innerHTML="<span>&#xFEFF;</span>",a=e.firstChild,d.moveToElementText(a),d.collapse(o)),i.setEndPoint(t?"StartToStart":"EndToEnd",d),r.remove(a))}var i,a,s,l,u,c,d,h,p,f=t.dom.doc,g=f.body;if(s=e.startContainer,l=e.startOffset,u=e.endContainer,c=e.endOffset,i=g.createTextRange(),s==u&&1==s.nodeType){if(l==c&&!s.hasChildNodes()){if(s.canHaveHTML)return d=s.previousSibling,d&&!d.hasChildNodes()&&r.isBlock(d)?d.innerHTML="&#xFEFF;":d=null,s.innerHTML="<span>&#xFEFF;</span><span>&#xFEFF;</span>",i.moveToElementText(s.lastChild),i.select(),r.doc.selection.clear(),s.innerHTML="",void(d&&(d.innerHTML=""));l=r.nodeIndex(s),s=s.parentNode}if(l==c-1)try{if(p=s.childNodes[l],a=g.createControlRange(),a.addElement(p),a.select(),h=t.getRng(),h.item&&p===h.item(0))return}catch(m){}}n(!0),n(),i.select()},this.getRangeAt=n}return t}),i("tinymce/util/VK",["tinymce/Env"],function(t){return{BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(e){return t.mac?e.metaKey:e.ctrlKey&&!e.altKey}}}),i("tinymce/dom/ControlSelection",["tinymce/util/VK","tinymce/util/Tools","tinymce/util/Delay","tinymce/Env","tinymce/dom/NodeType"],function(t,e,n,i,r){var o=r.isContentEditableFalse;return function(r,a){function s(t){var e=a.settings.object_resizing;return e!==!1&&!i.iOS&&("string"!=typeof e&&(e="table,img,div"),"false"!==t.getAttribute("data-mce-resize")&&(t!=a.getBody()&&a.dom.is(t,e)))}function l(e){var n,i,r,o,s;n=e.screenX-D,i=e.screenY-E,L=n*S[2]+A,B=i*S[3]+N,L=L<5?5:L,B=B<5?5:B,r="IMG"==k.nodeName&&a.settings.resize_img_proportional!==!1?!t.modifierPressed(e):t.modifierPressed(e)||"IMG"==k.nodeName&&S[2]*S[3]!==0,r&&(U(n)>U(i)?(B=q(L*I),L=q(B/I)):(L=q(B/I),B=q(L*I))),W.setStyles(C,{width:L,height:B}),o=S.startPos.x+n,s=S.startPos.y+i,o=o>0?o:0,s=s>0?s:0,W.setStyles($,{left:o,top:s,display:"block"}),$.innerHTML=L+" &times; "+B,S[2]<0&&C.clientWidth<=L&&W.setStyle(C,"left",O+(A-L)),S[3]<0&&C.clientHeight<=B&&W.setStyle(C,"top",P+(N-B)),n=Y.scrollWidth-H,i=Y.scrollHeight-F,n+i!==0&&W.setStyles($,{left:o-n,top:s-i}),R||(a.fire("ObjectResizeStart",{target:k,width:A,height:N}),R=!0)}function u(){function t(t,e){e&&(k.style[t]||!a.schema.isValid(k.nodeName.toLowerCase(),t)?W.setStyle(k,t,e):W.setAttrib(k,t,e))}R=!1,t("width",L),t("height",B),W.unbind(z,"mousemove",l),W.unbind(z,"mouseup",u),G!=z&&(W.unbind(G,"mousemove",l),W.unbind(G,"mouseup",u)),W.remove(C),W.remove($),V&&"TABLE"!=k.nodeName||c(k),a.fire("ObjectResized",{target:k,width:L,height:B}),W.setAttrib(k,"style",W.getAttrib(k,"style")),a.nodeChanged()}function c(t,e,n){var r,o,c,h,p;d(),b(),r=W.getPos(t,Y),O=r.x,P=r.y,p=t.getBoundingClientRect(),o=p.width||p.right-p.left,c=p.height||p.bottom-p.top,k!=t&&(y(),k=t,L=B=0),h=a.fire("ObjectSelected",{target:t}),s(t)&&!h.isDefaultPrevented()?j(M,function(t,r){function a(e){D=e.screenX,E=e.screenY,A=k.clientWidth,N=k.clientHeight,I=N/A,S=t,t.startPos={x:o*t[0]+O,y:c*t[1]+P},H=Y.scrollWidth,F=Y.scrollHeight,C=k.cloneNode(!0),W.addClass(C,"mce-clonedresizable"),W.setAttrib(C,"data-mce-bogus","all"),C.contentEditable=!1,C.unSelectabe=!0,W.setStyles(C,{left:O,top:P,margin:0}),C.removeAttribute("data-mce-selected"),Y.appendChild(C),W.bind(z,"mousemove",l),W.bind(z,"mouseup",u),G!=z&&(W.bind(G,"mousemove",l),W.bind(G,"mouseup",u)),$=W.add(Y,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},A+" &times; "+N)}var s;return e?void(r==e&&a(n)):(s=W.get("mceResizeHandle"+r),s&&W.remove(s),s=W.add(Y,"div",{id:"mceResizeHandle"+r,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+r+"-resize; margin:0; padding:0"}),i.ie&&(s.contentEditable=!1),W.bind(s,"mousedown",function(t){t.stopImmediatePropagation(),t.preventDefault(),a(t)}),t.elm=s,void W.setStyles(s,{left:o*t[0]+O-s.offsetWidth/2,top:c*t[1]+P-s.offsetHeight/2}))}):d(),k.setAttribute("data-mce-selected","1")}function d(){var t,e;b(),k&&k.removeAttribute("data-mce-selected");for(t in M)e=W.get("mceResizeHandle"+t),e&&(W.unbind(e),W.remove(e))}function h(t){function e(t,e){if(t)do if(t===e)return!0;while(t=t.parentNode)}var n,i;if(!R&&!a.removed)return j(W.select("img[data-mce-selected],hr[data-mce-selected]"),function(t){t.removeAttribute("data-mce-selected")}),i="mousedown"==t.type?t.target:r.getNode(),i=W.$(i).closest(V?"table":"table,img,hr")[0],e(i,Y)&&(w(),n=r.getStart(!0),e(n,i)&&e(r.getEnd(!0),i)&&(!V||i!=n&&"IMG"!==n.nodeName))?void c(i):void d()}function p(t,e,n){t&&t.attachEvent&&t.attachEvent("on"+e,n)}function f(t,e,n){t&&t.detachEvent&&t.detachEvent("on"+e,n)}function g(t){var e,n,i,r,o,s,l,u=t.srcElement;e=u.getBoundingClientRect(),s=T.clientX-e.left,l=T.clientY-e.top;for(n in M)if(i=M[n],r=u.offsetWidth*i[0],o=u.offsetHeight*i[1],U(r-s)<8&&U(o-l)<8){S=i;break}R=!0,a.fire("ObjectResizeStart",{target:k,width:k.clientWidth,height:k.clientHeight}),a.getDoc().selection.empty(),c(u,n,T)}function m(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function v(t){var e=t.srcElement;if(o(e))return void m(t);if(e!=k){if(a.fire("ObjectSelected",{target:e}),y(),0===e.id.indexOf("mceResizeHandle"))return void(t.returnValue=!1);"IMG"!=e.nodeName&&"TABLE"!=e.nodeName||(d(),k=e,p(e,"resizestart",g))}}function y(){f(k,"resizestart",g)}function b(){for(var t in M){var e=M[t];e.elm&&(W.unbind(e.elm),delete e.elm)}}function w(){try{a.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}}function _(t){var e;if(V){e=z.body.createControlRange();try{return e.addElement(t),e.select(),!0}catch(n){}}}function x(){k=C=null,V&&(y(),f(Y,"controlselect",v))}var k,C,$,M,S,T,D,E,O,P,A,N,I,R,L,B,H,F,W=a.dom,j=e.each,z=a.getDoc(),G=document,V=i.ie&&i.ie<11,U=Math.abs,q=Math.round,Y=a.getBody();M={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var K=".mce-content-body";return a.contentStyles.push(K+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: box-sizing;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+K+" .mce-resizehandle:hover {background: #000}"+K+" img[data-mce-selected],"+K+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+K+" .mce-clonedresizable {position: absolute;"+(i.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+K+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}"),a.on("init",function(){V?(a.on("ObjectResized",function(t){"TABLE"!=t.target.nodeName&&(d(),_(t.target))}),p(Y,"controlselect",v),a.on("mousedown",function(t){T=t})):(w(),i.ie>=11&&(a.on("mousedown click",function(t){var e=t.target.nodeName;!R&&/^(TABLE|IMG|HR)$/.test(e)&&(a.selection.select(t.target,"TABLE"==e),"mousedown"==t.type&&a.nodeChanged())}),a.dom.bind(Y,"mscontrolselect",function(t){function e(t){n.setEditorTimeout(a,function(){a.selection.select(t)})}return o(t.target)?(t.preventDefault(),void e(t.target)):void(/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"==t.target.tagName&&e(t.target)))})));var t=n.throttle(function(t){a.composing||h(t)});a.on("nodechange ResizeEditor ResizeWindow drop",t),a.on("keyup compositionend",function(e){k&&"TABLE"==k.nodeName&&t(e)}),a.on("hide blur",d)}),a.on("remove",b),{isResizable:s,showResizeRect:c,hideResizeRect:d,updateResizeRect:h,controlSelect:_,destroy:x}}}),i("tinymce/util/Fun",[],function(){function t(t){return function(){return t}}function e(t){return function(e){return!t(e)}}function n(t,e){return function(n){return t(e(n))}}function i(){var t=a.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(t[n](e))return!0;return!1}}function r(){var t=a.call(arguments);return function(e){for(var n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}}function o(t){var e=a.call(arguments);return e.length-1>=t.length?t.apply(this,e.slice(1)):function(){var t=e.concat([].slice.call(arguments));return o.apply(this,t)}}var a=[].slice;return{constant:t,negate:e,and:r,or:i,curry:o,compose:n}}),i("tinymce/caret/CaretCandidate",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/caret/CaretContainer"],function(t,e,n){function i(t){return!g(t)&&(d(t)?!h(t.parentNode):p(t)||c(t)||f(t)||u(t))}function r(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode){if(u(t))return!1;if(l(t))return!0}return!0}function o(t){return!!u(t)&&e.reduce(t.getElementsByTagName("*"),function(t,e){return t||l(e)},!1)!==!0}function a(t){return p(t)||o(t)}function s(t,e){return i(t)&&r(t,e)}var l=t.isContentEditableTrue,u=t.isContentEditableFalse,c=t.isBr,d=t.isText,h=t.matchNodeNames("script style textarea"),p=t.matchNodeNames("img input textarea hr iframe video audio object"),f=t.matchNodeNames("table"),g=n.isCaretContainer;return{isCaretCandidate:i,isInEditable:r,isAtomic:a,isEditableCaretCandidate:s}}),i("tinymce/geom/ClientRect",[],function(){function t(t){return t?{left:c(t.left),top:c(t.top),bottom:c(t.bottom),right:c(t.right),width:c(t.width),height:c(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}}function e(e,n){return e=t(e),n?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e}function n(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right}function i(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2}function r(t,e){return t.bottom<e.top||!(t.top>e.bottom)&&i(e.top-t.bottom,t,e)}function o(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&i(e.bottom-t.top,t,e)}function a(t,e){return t.left<e.left}function s(t,e){return t.right>e.right}function l(t,e){return r(t,e)?-1:o(t,e)?1:a(t,e)?-1:s(t,e)?1:0}function u(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}var c=Math.round;return{clone:t,collapse:e,isEqual:n,isAbove:r,isBelow:o,isLeft:a,isRight:s,compare:l,containsXY:u}}),i("tinymce/text/ExtendingChar",[],function(){function t(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&e.test(t)}var e=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]");return{isExtendingChar:t}}),i("tinymce/caret/CaretPosition",["tinymce/util/Fun","tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/dom/RangeUtils","tinymce/caret/CaretCandidate","tinymce/geom/ClientRect","tinymce/text/ExtendingChar"],function(t,e,n,i,r,o,a){function s(t){return t&&/[\r\n\t ]/.test(t)}function l(t){var e,n=t.startContainer,i=t.startOffset;return!!(s(t.toString())&&m(n.parentNode)&&(e=n.data,s(e[i-1])||s(e[i+1])))}function u(t){function e(t){var e,n=t.ownerDocument,i=n.createRange(),r=n.createTextNode(" "),a=t.parentNode;return a.insertBefore(r,t),i.setStart(r,0),i.setEnd(r,1),e=o.clone(i.getBoundingClientRect()),a.removeChild(r),e}function n(t){var n,i;return i=t.getClientRects(),n=i.length>0?o.clone(i[0]):o.clone(t.getBoundingClientRect()),y(t)&&0===n.left?e(t):n}function i(t,e){return t=o.collapse(t,e),t.width=1,t.right=t.left+1,t}function r(t){0!==t.height&&(h.length>0&&o.isEqual(t,h[h.length-1])||h.push(t))}function s(t,e){var o=t.ownerDocument.createRange();if(e<t.data.length){if(a.isExtendingChar(t.data[e]))return h;if(a.isExtendingChar(t.data[e-1])&&(o.setStart(t,e),o.setEnd(t,e+1),!l(o)))return r(i(n(o),!1)),h}e>0&&(o.setStart(t,e-1),o.setEnd(t,e),l(o)||r(i(n(o),!1))),e<t.data.length&&(o.setStart(t,e),o.setEnd(t,e+1),l(o)||r(i(n(o),!0)))}var u,c,h=[];if(v(t.container()))return s(t.container(),t.offset()),h;if(d(t.container()))if(t.isAtEnd())c=w(t.container(),t.offset()),v(c)&&s(c,c.data.length),g(c)&&!y(c)&&r(i(n(c),!1));else{if(c=w(t.container(),t.offset()),v(c)&&s(c,0),g(c)&&t.isAtEnd())return r(i(n(c),!1)),h;u=w(t.container(),t.offset()-1),g(u)&&!y(u)&&(p(u)||p(c)||!g(c))&&r(i(n(u),!1)),g(c)&&r(i(n(c),!0))}return h}function c(e,n,i){function r(){return v(e)?0===n:0===n}function o(){return v(e)?n>=e.data.length:n>=e.childNodes.length}function a(){var t;return t=e.ownerDocument.createRange(),t.setStart(e,n),t.setEnd(e,n),t}function s(){return i||(i=u(new c(e,n))),i}function l(){return s().length>0}function d(t){return t&&e===t.container()&&n===t.offset()}function h(t){return w(e,t?n-1:n)}return{container:t.constant(e),offset:t.constant(n),toRange:a,getClientRects:s,isVisible:l,isAtStart:r,isAtEnd:o,isEqual:d,getNode:h}}var d=e.isElement,h=r.isCaretCandidate,p=e.matchStyleValues("display","block table"),f=e.matchStyleValues("float","left right"),g=t.and(d,h,t.negate(f)),m=t.negate(e.matchStyleValues("white-space","pre pre-line pre-wrap")),v=e.isText,y=e.isBr,b=n.nodeIndex,w=i.getNode;return c.fromRangeStart=function(t){return new c(t.startContainer,t.startOffset)},c.fromRangeEnd=function(t){return new c(t.endContainer,t.endOffset)},c.after=function(t){return new c(t.parentNode,b(t)+1)},c.before=function(t){return new c(t.parentNode,b(t))},c}),i("tinymce/caret/CaretBookmark",["tinymce/dom/NodeType","tinymce/dom/DOMUtils","tinymce/util/Fun","tinymce/util/Arr","tinymce/caret/CaretPosition"],function(t,e,n,i,r){function o(t){var e=t.parentNode;return v(e)?o(e):e}function a(t){return t?i.reduce(t.childNodes,function(t,e){return v(e)&&"BR"!=e.nodeName?t=t.concat(a(e)):t.push(e),t},[]):[]}function s(t,e){for(;(t=t.previousSibling)&&m(t);)e+=t.data.length;return e}function l(t){return function(e){return t===e}}function u(e){var n,r,s;return n=a(o(e)),r=i.findIndex(n,l(e),e),n=n.slice(0,r+1),s=i.reduce(n,function(t,e,i){return m(e)&&m(n[i-1])&&t++,t},0),n=i.filter(n,t.matchNodeNames(e.nodeName)),r=i.findIndex(n,l(e),e),r-s}function c(t){var e;return e=m(t)?"text()":t.nodeName.toLowerCase(),e+"["+u(t)+"]"}function d(t,e,n){var i=[];for(e=e.parentNode;e!=t&&(!n||!n(e));e=e.parentNode)i.push(e);return i}function h(e,r){var o,a,l,u,h,p=[];return o=r.container(),a=r.offset(),m(o)?l=s(o,a):(u=o.childNodes,a>=u.length?(l="after",a=u.length-1):l="before",o=u[a]),p.push(c(o)),h=d(e,o),h=i.filter(h,n.negate(t.isBogus)),p=p.concat(i.map(h,function(t){return c(t)})),p.reverse().join("/")+","+l}function p(e,n,r){var o=a(e);return o=i.filter(o,function(t,e){return!m(t)||!m(o[e-1])}),o=i.filter(o,t.matchNodeNames(n)),o[r]}function f(t,e){for(var n,i=t,o=0;m(i);){if(n=i.data.length,e>=o&&e<=o+n){t=i,e-=o;break}if(!m(i.nextSibling)){t=i,e=n;break}o+=n,i=i.nextSibling}return e>t.data.length&&(e=t.data.length),new r(t,e)}function g(t,e){var n,o,a;return e?(n=e.split(","),e=n[0].split("/"),a=n.length>1?n[1]:"before",o=i.reduce(e,function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),p(t,e[1],parseInt(e[2],10))):null},t),o?m(o)?f(o,parseInt(a,10)):(a="after"===a?y(o)+1:y(o),new r(o.parentNode,a)):null):null}var m=t.isText,v=t.isBogus,y=e.nodeIndex;return{create:h,resolve:g}}),i("tinymce/dom/BookmarkManager",["tinymce/Env","tinymce/util/Tools","tinymce/caret/CaretContainer","tinymce/caret/CaretBookmark","tinymce/caret/CaretPosition","tinymce/dom/NodeType"],function(t,e,n,i,r,o){function a(a){var l=a.dom;this.getBookmark=function(t,u){function c(t,n){var i=0;return e.each(l.select(t),function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!=n&&void i++}),i}function d(t){function e(e){var n,i,r,o=e?"start":"end";n=t[o+"Container"],i=t[o+"Offset"],1==n.nodeType&&"TR"==n.nodeName&&(r=n.childNodes,n=r[Math.min(e?i:i-1,r.length-1)],n&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i)))}return e(!0),e(),t}function h(t){function e(t,e){var i,r,o=t[e?"startContainer":"endContainer"],a=t[e?"startOffset":"endOffset"],s=[],c=0;if(3==o.nodeType){if(u)for(i=o.previousSibling;i&&3==i.nodeType;i=i.previousSibling)a+=i.nodeValue.length;s.push(a)}else r=o.childNodes,a>=r.length&&r.length&&(c=1,a=Math.max(0,r.length-1)),s.push(l.nodeIndex(r[a],u)+c);for(;o&&o!=n;o=o.parentNode)s.push(l.nodeIndex(o,u));return s}var n=l.getRoot(),i={};return i.start=e(t,!0),a.isCollapsed()||(i.end=e(t)),i}function p(t){function e(t){var e;if(n.isCaretContainer(t)){if(o.isText(t)&&n.isCaretContainerBlock(t)&&(t=t.parentNode),e=t.previousSibling,s(e))return e;if(e=t.nextSibling,s(e))return e}}return e(t.startContainer)||e(t.endContainer)}var f,g,m,v,y,b,w,_="&#xFEFF;";if(2==t)return b=a.getNode(),y=b?b.nodeName:null,f=a.getRng(),s(b)||"IMG"==y?{name:y,index:c(y,b)}:a.tridentSel?a.tridentSel.getBookmark(t):(b=p(f),b?(y=b.tagName,{name:y,index:c(y,b)}):h(f));if(3==t)return f=a.getRng(),{start:i.create(l.getRoot(),r.fromRangeStart(f)),end:i.create(l.getRoot(),r.fromRangeEnd(f))};if(t)return{rng:a.getRng()};if(f=a.getRng(),m=l.uniqueId(),v=a.isCollapsed(),w="overflow:hidden;line-height:0px",f.duplicate||f.item){if(f.item)return b=f.item(0),y=b.nodeName,{name:y,index:c(y,b)};g=f.duplicate();try{f.collapse(),f.pasteHTML('<span data-mce-type="bookmark" id="'+m+'_start" style="'+w+'">'+_+"</span>"),v||(g.collapse(!1),f.moveToElementText(g.parentElement()),0===f.compareEndPoints("StartToEnd",g)&&g.move("character",-1),g.pasteHTML('<span data-mce-type="bookmark" id="'+m+'_end" style="'+w+'">'+_+"</span>"))}catch(x){return null}}else{if(b=a.getNode(),y=b.nodeName,"IMG"==y)return{name:y,index:c(y,b)};g=d(f.cloneRange()),v||(g.collapse(!1),g.insertNode(l.create("span",{"data-mce-type":"bookmark",id:m+"_end",style:w},_))),f=d(f),f.collapse(!0),f.insertNode(l.create("span",{"data-mce-type":"bookmark",id:m+"_start",style:w},_))}return a.moveToBookmark({id:m,keep:1}),{id:m}},this.moveToBookmark=function(n){function r(t){var e,i,r,o,a=n[t?"start":"end"];if(a){for(r=a[0],i=d,e=a.length-1;e>=1;e--){if(o=i.childNodes,a[e]>o.length-1)return;i=o[a[e]]}3===i.nodeType&&(r=Math.min(a[0],i.nodeValue.length)),1===i.nodeType&&(r=Math.min(a[0],i.childNodes.length)),t?c.setStart(i,r):c.setEnd(i,r)}return!0}function o(i){var r,o,a,s,u=l.get(n.id+"_"+i),c=n.keep;if(u&&(r=u.parentNode,"start"==i?(c?(r=u.firstChild,o=1):o=l.nodeIndex(u),h=p=r,f=g=o):(c?(r=u.firstChild,o=1):o=l.nodeIndex(u),p=r,g=o),!c)){for(s=u.previousSibling,a=u.nextSibling,e.each(e.grep(u.childNodes),function(t){3==t.nodeType&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))});u=l.get(n.id+"_"+i);)l.remove(u,1);s&&a&&s.nodeType==a.nodeType&&3==s.nodeType&&!t.opera&&(o=s.nodeValue.length,s.appendData(a.nodeValue),l.remove(a),"start"==i?(h=p=s,f=g=o):(p=s,g=o))}}function s(e){return!l.isBlock(e)||e.innerHTML||t.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e}function u(){var t,e;return t=l.createRng(),e=i.resolve(l.getRoot(),n.start),t.setStart(e.container(),e.offset()),e=i.resolve(l.getRoot(),n.end),t.setEnd(e.container(),e.offset()),t}var c,d,h,p,f,g;if(n)if(e.isArray(n.start)){if(c=l.createRng(),d=l.getRoot(),a.tridentSel)return a.tridentSel.moveToBookmark(n);r(!0)&&r()&&a.setRng(c)}else"string"==typeof n.start?a.setRng(u(n)):n.id?(o("start"),o("end"),h&&(c=l.createRng(),c.setStart(s(h),f),c.setEnd(s(p),g),a.setRng(c))):n.name?a.select(l.select(n.name)[n.index]):n.rng&&a.setRng(n.rng)}}var s=o.isContentEditableFalse;return a.isBookmarkNode=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},a}),i("tinymce/dom/Selection",["tinymce/dom/TreeWalker","tinymce/dom/TridentSelection","tinymce/dom/ControlSelection","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/NodeType","tinymce/Env","tinymce/util/Tools"],function(t,n,i,r,o,a,s,l){function u(t,e,r,a){var s=this;s.dom=t,s.win=e,s.serializer=r,s.editor=a,s.bookmarkManager=new o(s),s.controlSelection=new i(s,a),s.win.getSelection||(s.tridentSel=new n(s))}var c=l.each,d=l.trim,h=s.ie;return u.prototype={setCursorLocation:function(t,e){var n=this,i=n.dom.createRng();t?(i.setStart(t,e),i.setEnd(t,e),n.setRng(i),n.collapse(!1)):(n._moveEndPoint(i,n.editor.getBody(),!0),n.setRng(i))},getContent:function(t){var n,i,r,o=this,a=o.getRng(),s=o.dom.create("body"),l=o.getSel();return t=t||{},n=i="",t.get=!0,t.format=t.format||"html",t.selection=!0,o.editor.fire("BeforeGetContent",t),"text"==t.format?o.isCollapsed()?"":a.text||(l.toString?l.toString():""):(a.cloneContents?(r=a.cloneContents(),r&&s.appendChild(r)):a.item!==e||a.htmlText!==e?(s.innerHTML="<br>"+(a.item?a.item(0).outerHTML:a.htmlText),s.removeChild(s.firstChild)):s.innerHTML=a.toString(),/^\s/.test(s.innerHTML)&&(n=" "),/\s+$/.test(s.innerHTML)&&(i=" "),t.getInner=!0,t.content=o.isCollapsed()?"":n+o.serializer.serialize(s,t)+i,o.editor.fire("GetContent",t),t.content)},setContent:function(t,e){var n,i,r,o=this,a=o.getRng(),s=o.win.document;if(e=e||{format:"html"},e.set=!0,e.selection=!0,e.content=t,e.no_events||o.editor.fire("BeforeSetContent",e),t=e.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer==s&&a.endContainer==s?s.body.innerHTML=t:(a.deleteContents(),0===s.body.childNodes.length?s.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(i=s.createDocumentFragment(),r=s.createElement("div"),i.appendChild(r),r.outerHTML=t,a.insertNode(i))),n=o.dom.get("__caret"),a=s.createRange(),a.setStartBefore(n),a.setEndBefore(n),o.setRng(a),o.dom.remove("__caret");try{o.setRng(a)}catch(l){}}else a.item&&(s.execCommand("Delete",!1,null),a=o.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),o.dom.remove("__mce_tmp")):a.pasteHTML(t);e.no_events||o.editor.fire("SetContent",e)},getStart:function(t){var e,n,i,r,o=this,a=o.getRng();if(a.duplicate||a.item){if(a.item)return a.item(0);for(i=a.duplicate(),i.collapse(1),e=i.parentElement(),e.ownerDocument!==o.dom.doc&&(e=o.dom.getRoot()),n=r=a.parentElement();r=r.parentNode;)if(r==e){e=n;break}return e}return e=a.startContainer,1==e.nodeType&&e.hasChildNodes()&&(t&&a.collapsed||(e=e.childNodes[Math.min(e.childNodes.length-1,a.startOffset)])),e&&3==e.nodeType?e.parentNode:e},getEnd:function(t){var e,n,i=this,r=i.getRng();return r.duplicate||r.item?r.item?r.item(0):(r=r.duplicate(),r.collapse(0),e=r.parentElement(),e.ownerDocument!==i.dom.doc&&(e=i.dom.getRoot()),e&&"BODY"==e.nodeName?e.lastChild||e:e):(e=r.endContainer,n=r.endOffset,1==e.nodeType&&e.hasChildNodes()&&(t&&r.collapsed||(e=e.childNodes[n>0?n-1:n])),e&&3==e.nodeType?e.parentNode:e)},getBookmark:function(t,e){return this.bookmarkManager.getBookmark(t,e)},moveToBookmark:function(t){return this.bookmarkManager.moveToBookmark(t)},select:function(t,e){var n,i=this,r=i.dom,o=r.createRng();if(i.lastFocusBookmark=null,t){if(!e&&i.controlSelection.controlSelect(t))return;n=r.nodeIndex(t),o.setStart(t.parentNode,n),o.setEnd(t.parentNode,n+1),e&&(i._moveEndPoint(o,t,!0),i._moveEndPoint(o,t)),i.setRng(o)}return t},isCollapsed:function(){var t=this,e=t.getRng(),n=t.getSel();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!n||e.collapsed)},collapse:function(t){var e,n=this,i=n.getRng();i.item&&(e=i.item(0),i=n.win.document.body.createTextRange(),i.moveToElementText(e)),i.collapse(!!t),n.setRng(i)},getSel:function(){var t=this.win;return t.getSelection?t.getSelection():t.document.selection},getRng:function(t){function e(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(i){return-1}}var n,i,r,o,a,s,l=this;if(!l.win)return null;if(o=l.win.document,!t&&l.lastFocusBookmark){var u=l.lastFocusBookmark;return u.startContainer?(i=o.createRange(),i.setStart(u.startContainer,u.startOffset),i.setEnd(u.endContainer,u.endOffset)):i=u,i}if(t&&l.tridentSel)return l.tridentSel.getRangeAt(0);try{(n=l.getSel())&&(i=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():o.createRange())}catch(c){}if(s=l.editor.fire("GetSelectionRange",{range:i}),s.range!==i)return s.range;if(h&&i&&i.setStart&&o.selection){try{a=o.selection.createRange()}catch(c){}a&&a.item&&(r=a.item(0),i=o.createRange(),i.setStartBefore(r),i.setEndAfter(r))}return i||(i=o.createRange?o.createRange():o.body.createTextRange()),i.setStart&&9===i.startContainer.nodeType&&i.collapsed&&(r=l.dom.getRoot(),i.setStart(r,0),i.setEnd(r,0)),l.selectedRange&&l.explicitRange&&(0===e(i.START_TO_START,i,l.selectedRange)&&0===e(i.END_TO_END,i,l.selectedRange)?i=l.explicitRange:(l.selectedRange=null,
l.explicitRange=null)),i},setRng:function(t,e){var n,i,r,o=this;if(t)if(t.select){o.explicitRange=null;try{t.select()}catch(a){}}else if(o.tridentSel){if(t.cloneRange)try{o.tridentSel.addRange(t)}catch(a){}}else{if(n=o.getSel(),r=o.editor.fire("SetSelectionRange",{range:t}),t=r.range,n){o.explicitRange=t;try{n.removeAllRanges(),n.addRange(t)}catch(a){}e===!1&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),o.selectedRange=n.rangeCount>0?n.getRangeAt(0):null}t.collapsed||t.startContainer!=t.endContainer||!n.setBaseAndExtent||s.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(i=t.startContainer.childNodes[t.startOffset],i&&"IMG"==i.tagName&&o.getSel().setBaseAndExtent(i,0,i,1))}},setNode:function(t){var e=this;return e.setContent(e.dom.getOuterHTML(t)),t},getNode:function(){function t(t,e){for(var n=t;t&&3===t.nodeType&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n}var e,n,i,r,o,a=this,s=a.getRng(),l=a.dom.getRoot();return s?(n=s.startContainer,i=s.endContainer,r=s.startOffset,o=s.endOffset,s.setStart?(e=s.commonAncestorContainer,!s.collapsed&&(n==i&&o-r<2&&n.hasChildNodes()&&(e=n.childNodes[r]),3===n.nodeType&&3===i.nodeType&&(n=n.length===r?t(n.nextSibling,!0):n.parentNode,i=0===o?t(i.previousSibling,!1):i.parentNode,n&&n===i))?n:e&&3==e.nodeType?e.parentNode:e):(e=s.item?s.item(0):s.parentElement(),e.ownerDocument!==a.win.document&&(e=l),e)):l},getSelectedBlocks:function(e,n){var i,r,o=this,a=o.dom,s=[];if(r=a.getRoot(),e=a.getParent(e||o.getStart(),a.isBlock),n=a.getParent(n||o.getEnd(),a.isBlock),e&&e!=r&&s.push(e),e&&n&&e!=n){i=e;for(var l=new t(e,r);(i=l.next())&&i!=n;)a.isBlock(i)&&s.push(i)}return n&&e!=n&&n!=r&&s.push(n),s},isForward:function(){var t,e,n=this.dom,i=this.getSel();return!(i&&i.anchorNode&&i.focusNode)||(t=n.createRng(),t.setStart(i.anchorNode,i.anchorOffset),t.collapse(!0),e=n.createRng(),e.setStart(i.focusNode,i.focusOffset),e.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,e)<=0)},normalize:function(){var t=this,e=t.getRng();return s.range&&new r(t.dom).normalize(e)&&t.setRng(e,t.isForward()),e},selectorChanged:function(t,e){var n,i=this;return i.selectorChangedData||(i.selectorChangedData={},n={},i.editor.on("NodeChange",function(t){var e=t.element,r=i.dom,o=r.getParents(e,null,r.getRoot()),a={};c(i.selectorChangedData,function(t,e){c(o,function(i){if(r.is(i,e))return n[e]||(c(t,function(t){t(!0,{node:i,selector:e,parents:o})}),n[e]=t),a[e]=t,!1})}),c(n,function(t,i){a[i]||(delete n[i],c(t,function(t){t(!1,{node:e,selector:i,parents:o})}))})})),i.selectorChangedData[t]||(i.selectorChangedData[t]=[]),i.selectorChangedData[t].push(e),i},getScrollContainer:function(){for(var t,e=this.dom.getRoot();e&&"BODY"!=e.nodeName;){if(e.scrollHeight>e.clientHeight){t=e;break}e=e.parentNode}return t},scrollIntoView:function(t,e){function n(t){for(var e=0,n=0,i=t;i&&i.nodeType;)e+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:e,y:n}}var i,r,o,s,l=this,u=l.dom,c=u.getRoot(),d=0;if(a.isElement(t)){if(e===!1&&(d=t.offsetHeight),"BODY"!=c.nodeName){var h=l.getScrollContainer();if(h)return i=n(t).y-n(h).y+d,s=h.clientHeight,o=h.scrollTop,void((i<o||i+25>o+s)&&(h.scrollTop=i<o?i:i-s+25))}r=u.getViewPort(l.editor.getWin()),i=u.getPos(t).y+d,o=r.y,s=r.h,(i<r.y||i+25>o+s)&&l.editor.getWin().scrollTo(0,i<o?i:i-s+25)}},placeCaretAt:function(t,e){this.setRng(r.getCaretRangeFromPoint(t,e,this.editor.getDoc()))},_moveEndPoint:function(e,n,i){var r=n,o=new t(n,r),a=this.dom.schema.getNonEmptyElements();do{if(3==n.nodeType&&0!==d(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"==n.nodeName?e.setEndBefore(n):e.setEndAfter(n));if(s.ie&&s.ie<11&&this.dom.isBlock(n)&&this.dom.isEmpty(n))return void(i?e.setStart(n,0):e.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"==r.nodeName&&(i?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},destroy:function(){this.win=null,this.controlSelection.destroy()}},u}),i("tinymce/dom/ElementUtils",["tinymce/dom/BookmarkManager","tinymce/util/Tools"],function(t,e){function n(e){this.compare=function(n,r){function o(t){var n={};return i(e.getAttribs(t),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&"data-mce-style"!==r&&"data-mce-fragment"!=r&&(n[r]=e.getAttrib(t,r))}),n}function a(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(n=e[i],"undefined"==typeof n)return!1;if(t[i]!=n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0}return n.nodeName==r.nodeName&&(!!a(o(n),o(r))&&(!!a(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(r,"style")))&&(!t.isBookmarkNode(n)&&!t.isBookmarkNode(r))))}}var i=e.each;return n}),i("tinymce/fmt/Preview",["tinymce/util/Tools"],function(t){function e(t,e){function i(t){return t.replace(/%(\w+)/g,"")}var r,o,a,s,l=t.dom,u="";if(s=t.settings.preview_styles,s===!1)return"";if(s||(s="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),"string"==typeof e){if(e=t.formatter.get(e),!e)return;e=e[0]}return r=e.block||e.inline||"span",o=l.create(r),n(e.styles,function(t,e){t=i(t),t&&l.setStyle(o,e,t)}),n(e.attributes,function(t,e){t=i(t),t&&l.setAttrib(o,e,t)}),n(e.classes,function(t){t=i(t),l.hasClass(o,t)||l.addClass(o,t)}),t.fire("PreviewFormats"),l.setStyles(o,{position:"absolute",left:-65535}),t.getBody().appendChild(o),a=l.getStyle(t.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,n(s.split(" "),function(e){var n=l.getStyle(o,e,!0);if(!("background-color"==e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=l.getStyle(t.getBody(),e,!0),"#ffffff"==l.toHex(n).toLowerCase())||"color"==e&&"#000000"==l.toHex(n).toLowerCase())){if("font-size"==e&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n,10)/(/%$/.test(n)?100:1),n=n*a+"px"}"border"==e&&n&&(u+="padding:0 2px;"),u+=e+":"+n+";"}}),t.fire("AfterPreviewFormats"),l.remove(o),u}var n=t.each;return{getCssText:e}}),i("tinymce/fmt/Hooks",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/DomQuery"],function(t,e,n){function i(t,e){var n=o[t];n||(o[t]=n=[]),o[t].push(e)}function r(t,e){s(o[t],function(t){t(e)})}var o=[],a=t.filter,s=t.each;return i("pre",function(i){function r(e){return l(e.previousSibling)&&t.indexOf(u,e.previousSibling)!=-1}function o(t,e){n(e).remove(),n(t).append("<br><br>").append(e.childNodes)}var l,u,c=i.selection.getRng();l=e.matchNodeNames("pre"),c.collapsed||(u=i.selection.getSelectedBlocks(),s(a(a(u,l),r),function(t){o(t.previousSibling,t)}))}),{postProcess:r}}),i("tinymce/Formatter",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/dom/BookmarkManager","tinymce/dom/ElementUtils","tinymce/util/Tools","tinymce/fmt/Preview","tinymce/fmt/Hooks"],function(t,e,n,i,r,o,a){return function(s){function l(t){return t.nodeType&&(t=t.nodeName),!!s.schema.getTextBlockElements()[t.toLowerCase()]}function u(t){return/^(TH|TD)$/.test(t.nodeName)}function c(t){return t&&/^(IMG)$/.test(t.nodeName)}function d(t,e){return X.getParents(t,e,X.getRoot())}function h(t){return 1===t.nodeType&&"_mce_caret"===t.id}function p(){m({valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"}}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"}},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"}}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"}}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0},fontname:{inline:"span",styles:{fontFamily:"%value"}},fontsize:{inline:"span",styles:{fontSize:"%value"}},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,e,n){ct(n,function(e,n){X.setAttrib(t,n,e)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]}),ct("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(t){m(t,{block:t,remove:"all"})}),m(s.settings.formats)}function f(){s.addShortcut("meta+b","bold_desc","Bold"),s.addShortcut("meta+i","italic_desc","Italic"),s.addShortcut("meta+u","underline_desc","Underline");for(var t=1;t<=6;t++)s.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);s.addShortcut("access+7","",["FormatBlock",!1,"p"]),s.addShortcut("access+8","",["FormatBlock",!1,"div"]),s.addShortcut("access+9","",["FormatBlock",!1,"address"])}function g(t){return t?Z[t]:Z}function m(t,e){t&&("string"!=typeof t?ct(t,function(t,e){m(e,t)}):(e=e.length?e:[e],ct(e,function(t){t.deep===q&&(t.deep=!t.selector),t.split===q&&(t.split=!t.selector||t.inline),t.remove===q&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))}),Z[t]=e))}function v(t){return t&&Z[t]&&delete Z[t],Z}function y(t,e){var n=g(e);if(n)for(var i=0;i<n.length;i++)if(n[i].inherit===!1&&X.is(t,n[i].selector))return!0;return!1}function b(t){var e;return s.dom.getParent(t,function(t){return e=s.dom.getStyle(t,"text-decoration"),e&&"none"!==e}),e}function w(t){var e;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(e=b(t.parentNode),s.dom.getStyle(t,"color")&&e?s.dom.setStyle(t,"text-decoration",e):s.dom.getStyle(t,"text-decoration")===e&&s.dom.setStyle(t,"text-decoration",null))}function _(e,n,i){function r(t,e){if(e=e||f,t){if(e.onformat&&e.onformat(t,e,n,i),ct(e.styles,function(e,i){X.setStyle(t,i,N(e,n))}),e.styles){var r=X.getAttrib(t,"style");r&&t.setAttribute("data-mce-style",r)}ct(e.attributes,function(e,i){X.setAttrib(t,i,N(e,n))}),ct(e.classes,function(e){e=N(e,n),X.hasClass(t,e)||X.addClass(t,e)})}}function o(){function e(e,n){var r=new t(n);for(i=r.prev2();i;i=r.prev2()){if(3==i.nodeType&&i.data.length>0)return i;if(i.childNodes.length>1||i==e||"BR"==i.tagName)return i}}var n=s.selection.getRng(),r=n.startContainer,o=n.endContainer;if(r!=o&&0===n.endOffset){var a=e(r,o),l=3==a.nodeType?a.data.length:a.childNodes.length;n.setEnd(a,l)}return n}function u(t,i,o){var a,s,u=[],c=!0;a=f.inline||f.block,s=X.create(a),r(s),J.walk(t,function(t){function i(t){var g,v,y,b,w;return w=c,g=t.nodeName.toLowerCase(),v=t.parentNode.nodeName.toLowerCase(),1===t.nodeType&&lt(t)&&(w=c,c="true"===lt(t),b=!0),O(g,"br")?(d=0,void(f.block&&X.remove(t))):f.wrapper&&C(t,e,n)?void(d=0):c&&!b&&f.block&&!f.wrapper&&l(g)&&tt(v,a)?(t=X.rename(t,a),r(t),u.push(t),void(d=0)):f.selector&&(ct(p,function(e){if(!("collapsed"in e&&e.collapsed!==m))return X.is(t,e.selector)&&!h(t)?(r(t,e),y=!0,!1):void 0}),!f.inline||y)?void(d=0):void(!c||b||!tt(a,g)||!tt(v,a)||!o&&3===t.nodeType&&1===t.nodeValue.length&&65279===t.nodeValue.charCodeAt(0)||h(t)||f.inline&&et(t)?(d=0,ct(dt(t.childNodes),i),b&&(c=w),d=0):(d||(d=X.clone(s,at),t.parentNode.insertBefore(d,t),u.push(d)),d.appendChild(t)))}var d;ct(t,i)}),f.links===!0&&ct(u,function(t){function e(t){"A"===t.nodeName&&r(t,f),ct(dt(t.childNodes),e)}e(t)}),ct(u,function(t){function i(t){var e=0;return ct(t.childNodes,function(t){I(t)||ut(t)||e++}),e}function o(t){var e,n;return ct(t.childNodes,function(t){if(1==t.nodeType&&!ut(t)&&!h(t))return e=t,at}),e&&!ut(e)&&E(e,f)&&(n=X.clone(e,at),r(n),X.replace(n,t,st),X.remove(e,1)),n||t}var a;if(a=i(t),(u.length>1||!et(t))&&0===a)return void X.remove(t,1);if(f.inline||f.wrapper){if(f.exact||1!==a||(t=o(t)),ct(p,function(e){ct(X.select(e.inline,t),function(t){ut(t)||H(e,n,t,e.exact?t:null)})}),C(t.parentNode,e,n))return X.remove(t,1),t=0,st;f.merge_with_parents&&X.getParent(t.parentNode,function(i){if(C(i,e,n))return X.remove(t,1),t=0,st}),t&&f.merge_siblings!==!1&&(t=j(W(t),t),t=j(t,W(t,st)))}})}var c,d,p=g(e),f=p[0],m=!i&&Q.isCollapsed();if("false"!==lt(Q.getNode())){if(f){if(i)i.nodeType?(d=X.createRng(),d.setStartBefore(i),d.setEndAfter(i),u(L(d,p),null,!0)):u(i,null,!0);else if(m&&f.inline&&!X.select("td[data-mce-selected],th[data-mce-selected]").length)G("apply",e,n);else{var v=s.selection.getNode();nt||!p[0].defaultBlock||X.getParent(v,X.isBlock)||_(p[0].defaultBlock),s.selection.setRng(o()),c=Q.getBookmark(),u(L(Q.getRng(st),p),c),f.styles&&(f.styles.color||f.styles.textDecoration)&&(ht(v,w,"childNodes"),w(v)),Q.moveToBookmark(c),V(Q.getRng(st)),s.nodeChanged()}a.postProcess(e,s)}}else{i=Q.getNode();for(var y=0,b=p.length;y<b;y++)if(p[y].ceFalseOverride&&X.is(i,p[y].selector))return void r(i,p[y])}}function x(t,e,n,i){function r(t){var n,i,o,a,s;if(1===t.nodeType&&lt(t)&&(a=y,y="true"===lt(t),s=!0),n=dt(t.childNodes),y&&!s)for(i=0,o=m.length;i<o&&!H(m[i],e,t,t);i++);if(v.deep&&n.length){for(i=0,o=n.length;i<o;i++)r(n[i]);s&&(y=a)}}function o(n){var r;return ct(d(n.parentNode).reverse(),function(n){var o;r||"_start"==n.id||"_end"==n.id||(o=C(n,t,e,i),o&&o.split!==!1&&(r=n))}),r}function a(t,n,i,r){var o,a,s,l,u,c;if(t){for(c=t.parentNode,o=n.parentNode;o&&o!=c;o=o.parentNode){for(a=X.clone(o,at),u=0;u<m.length;u++)if(H(m[u],e,a,a)){a=0;break}a&&(s&&a.appendChild(s),l||(l=a),s=a)}!r||v.mixed&&et(t)||(n=X.split(t,n)),s&&(i.parentNode.insertBefore(s,i),l.appendChild(i))}return n}function l(t){return a(o(t),t,t,!0)}function c(t){var e=X.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return ut(n)&&(n=n[t?"firstChild":"lastChild"]),3==n.nodeType&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),X.remove(e,!0),n}function h(t){var e,n,i=t.commonAncestorContainer;if(t=L(t,m,st),v.split){if(e=z(t,st),n=z(t),e!=n){if(/^(TR|TH|TD)$/.test(e.nodeName)&&e.firstChild&&(e="TR"==e.nodeName?e.firstChild.firstChild||e:e.firstChild||e),i&&/^T(HEAD|BODY|FOOT|R)$/.test(i.nodeName)&&u(n)&&n.firstChild&&(n=n.firstChild||n),X.isChildOf(e,n)&&!et(n)&&!u(e)&&!u(n))return e=R(e,"span",{id:"_start","data-mce-type":"bookmark"}),l(e),void(e=c(st));e=R(e,"span",{id:"_start","data-mce-type":"bookmark"}),n=R(n,"span",{id:"_end","data-mce-type":"bookmark"}),l(e),l(n),e=c(st),n=c()}else e=n=l(e);t.startContainer=e.parentNode?e.parentNode:e,t.startOffset=it(e),t.endContainer=n.parentNode?n.parentNode:n,t.endOffset=it(n)+1}J.walk(t,function(t){ct(t,function(t){r(t),1===t.nodeType&&"underline"===s.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===b(t.parentNode)&&H({deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})}var p,f,m=g(t),v=m[0],y=!0;if(n)return void(n.nodeType?(f=X.createRng(),f.setStartBefore(n),f.setEndAfter(n),h(f)):h(n));if("false"!==lt(Q.getNode()))Q.isCollapsed()&&v.inline&&!X.select("td[data-mce-selected],th[data-mce-selected]").length?G("remove",t,e,i):(p=Q.getBookmark(),h(Q.getRng(st)),Q.moveToBookmark(p),v.inline&&$(t,e,Q.getStart())&&V(Q.getRng(!0)),s.nodeChanged());else{n=Q.getNode();for(var w=0,_=m.length;w<_&&(!m[w].ceFalseOverride||!H(m[w],e,n,n));w++);}}function k(t,e,n){var i=g(t);!$(t,e,n)||"toggle"in i[0]&&!i[0].toggle?_(t,e,n):x(t,e,n)}function C(t,e,n,i){function r(t,e,r){var o,a,s,l=e[r];if(e.onmatch)return e.onmatch(t,e,r);if(l)if(l.length===q){for(o in l)if(l.hasOwnProperty(o)){if(a="attributes"===r?X.getAttrib(t,o):P(t,o),i&&!a&&!e.exact)return;if((!i||e.exact)&&!O(a,A(N(l[o],n),o)))return}}else for(s=0;s<l.length;s++)if("attributes"===r?X.getAttrib(t,l[s]):P(t,l[s]))return e;return e}var o,a,s,l=g(e);if(l&&t)for(a=0;a<l.length;a++)if(o=l[a],E(t,o)&&r(t,o,"attributes")&&r(t,o,"styles")){if(s=o.classes)for(a=0;a<s.length;a++)if(!X.hasClass(t,s[a]))return;return o}}function $(t,e,n){function i(n){var i=X.getRoot();return n!==i&&(n=X.getParent(n,function(n){return!!y(n,t)||(n.parentNode===i||!!C(n,t,e,!0))}),C(n,t,e))}var r;return n?i(n):(n=Q.getNode(),i(n)?st:(r=Q.getStart(),r!=n&&i(r)?st:at))}function M(t,e){var n,i=[],r={};return n=Q.getStart(),X.getParent(n,function(n){var o,a;for(o=0;o<t.length;o++)a=t[o],!r[a]&&C(n,a,e)&&(r[a]=!0,i.push(a))},X.getRoot()),i}function S(t){var e,n,i,r,o,a=g(t);if(a)for(e=Q.getStart(),n=d(e),r=a.length-1;r>=0;r--){if(o=a[r].selector,!o||a[r].defaultBlock)return st;for(i=n.length-1;i>=0;i--)if(X.is(n[i],o))return st}return at}function T(t,e,n){var i;return U||(U={},i={},s.on("NodeChange",function(t){var e=d(t.element),n={};e=r.grep(e,function(t){return 1==t.nodeType&&!t.getAttribute("data-mce-bogus")}),ct(U,function(t,r){ct(e,function(o){return C(o,r,{},t.similar)?(i[r]||(ct(t,function(t){t(!0,{node:o,format:r,parents:e})}),i[r]=t),n[r]=t,!1):!y(o,r)&&void 0})}),ct(i,function(r,o){n[o]||(delete i[o],ct(r,function(n){n(!1,{node:t.element,format:o,parents:e})}))})})),ct(t.split(","),function(t){U[t]||(U[t]=[],U[t].similar=n),U[t].push(e)}),this}function D(t){return o.getCssText(s,t)}function E(t,e){return O(t,e.inline)?st:O(t,e.block)?st:e.selector?1==t.nodeType&&X.is(t,e.selector):void 0}function O(t,e){return t=t||"",e=e||"",t=""+(t.nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()==e.toLowerCase()}function P(t,e){return A(X.getStyle(t,e),e)}function A(t,e){return"color"!=e&&"backgroundColor"!=e||(t=X.toHex(t)),"fontWeight"==e&&700==t&&(t="bold"),"fontFamily"==e&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t}function N(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(t,n){return e[n]||t})),t}function I(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)}function R(t,e,n){var i=X.create(e,n);return t.parentNode.insertBefore(i,t),i.appendChild(t),i}function L(e,n,i){function r(t){function e(t){return"BR"==t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling}var i,r,o,a,s;if(i=r=t?m:y,a=t?"previousSibling":"nextSibling",s=X.getRoot(),3==i.nodeType&&!I(i)&&(t?v>0:b<i.nodeValue.length))return i;for(;;){if(!n[0].block_expand&&et(r))return r;for(o=r[a];o;o=o[a])if(!ut(o)&&!I(o)&&!e(o))return r;if(r==s||r.parentNode==s){i=r;break}r=r.parentNode}return i}function o(t,e){for(e===q&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)t=t.childNodes[e],t&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}}function a(t){for(var e=t;e;){if(1===e.nodeType&&lt(e))return"false"===lt(e)?e:t;e=e.parentNode}return t}function u(e,n,r){function o(t,e){var n,o,a=t.nodeValue;return"undefined"==typeof e&&(e=r?a.length:0),r?(n=a.lastIndexOf(" ",e),o=a.lastIndexOf(" ",e),n=n>o?n:o,n===-1||i||n++):(n=a.indexOf(" ",e),o=a.indexOf(" ",e),n=n!==-1&&(o===-1||n<o)?n:o),n}var a,l,u,c;if(3===e.nodeType){if(u=o(e,n),u!==-1)return{container:e,offset:u};c=e}for(a=new t(e,X.getParent(e,et)||s.getBody());l=a[r?"prev":"next"]();)if(3===l.nodeType){if(c=l,u=o(l),u!==-1)return{container:l,offset:u}}else if(et(l))break;if(c)return n=r?0:c.length,{container:c,offset:n}}function c(t,i){var r,o,a,s;for(3==t.nodeType&&0===t.nodeValue.length&&t[i]&&(t=t[i]),r=d(t),o=0;o<r.length;o++)for(a=0;a<n.length;a++)if(s=n[a],!("collapsed"in s&&s.collapsed!==e.collapsed)&&X.is(r[o],s.selector))return r[o];return t}function h(t,e){var i,r=X.getRoot();if(n[0].wrapper||(i=X.getParent(t,n[0].block,r)),i||(i=X.getParent(3==t.nodeType?t.parentNode:t,function(t){return t!=r&&l(t)})),i&&n[0].wrapper&&(i=d(i,"ul,ol").reverse()[0]||i),!i)for(i=t;i[e]&&!et(i[e])&&(i=i[e],!O(i,"br")););return i||t}var p,f,g,m=e.startContainer,v=e.startOffset,y=e.endContainer,b=e.endOffset;if(1==m.nodeType&&m.hasChildNodes()&&(p=m.childNodes.length-1,m=m.childNodes[v>p?p:v],3==m.nodeType&&(v=0)),1==y.nodeType&&y.hasChildNodes()&&(p=y.childNodes.length-1,y=y.childNodes[b>p?p:b-1],3==y.nodeType&&(b=y.nodeValue.length)),m=a(m),y=a(y),(ut(m.parentNode)||ut(m))&&(m=ut(m)?m:m.parentNode,m=m.nextSibling||m,3==m.nodeType&&(v=0)),(ut(y.parentNode)||ut(y))&&(y=ut(y)?y:y.parentNode,y=y.previousSibling||y,3==y.nodeType&&(b=y.length)),n[0].inline&&(e.collapsed&&(g=u(m,v,!0),g&&(m=g.container,v=g.offset),g=u(y,b),g&&(y=g.container,b=g.offset)),f=o(y,b),f.node)){for(;f.node&&0===f.offset&&f.node.previousSibling;)f=o(f.node.previousSibling);f.node&&f.offset>0&&3===f.node.nodeType&&" "===f.node.nodeValue.charAt(f.offset-1)&&f.offset>1&&(y=f.node,y.splitText(f.offset-1))}return(n[0].inline||n[0].block_expand)&&(n[0].inline&&3==m.nodeType&&0!==v||(m=r(!0)),n[0].inline&&3==y.nodeType&&b!==y.nodeValue.length||(y=r())),n[0].selector&&n[0].expand!==at&&!n[0].inline&&(m=c(m,"previousSibling"),y=c(y,"nextSibling")),(n[0].block||n[0].selector)&&(m=h(m,"previousSibling"),y=h(y,"nextSibling"),n[0].block&&(et(m)||(m=r(!0)),et(y)||(y=r()))),1==m.nodeType&&(v=it(m),m=m.parentNode),1==y.nodeType&&(b=it(y)+1,y=y.parentNode),{startContainer:m,startOffset:v,endContainer:y,endOffset:b}}function B(t,e){return e.links&&"A"==t.tagName}function H(t,e,n,i){var r,o,a;if(!E(n,t)&&!B(n,t))return at;if("all"!=t.remove)for(ct(t.styles,function(r,o){r=A(N(r,e),o),"number"==typeof o&&(o=r,i=0),(t.remove_similar||!i||O(P(i,o),r))&&X.setStyle(n,o,""),a=1}),a&&""===X.getAttrib(n,"style")&&(n.removeAttribute("style"),n.removeAttribute("data-mce-style")),ct(t.attributes,function(t,r){var o;if(t=N(t,e),"number"==typeof r&&(r=t,i=0),!i||O(X.getAttrib(i,r),t)){if("class"==r&&(t=X.getAttrib(n,r),t&&(o="",ct(t.split(/\s+/),function(t){/mce\-\w+/.test(t)&&(o+=(o?" ":"")+t)}),o)))return void X.setAttrib(n,r,o);"class"==r&&n.removeAttribute("className"),ot.test(r)&&n.removeAttribute("data-mce-"+r),n.removeAttribute(r)}}),ct(t.classes,function(t){t=N(t,e),i&&!X.hasClass(i,t)||X.removeClass(n,t)}),o=X.getAttribs(n),r=0;r<o.length;r++)if(0!==o[r].nodeName.indexOf("_"))return at;return"none"!=t.remove?(F(n,t),st):void 0}function F(t,e){function n(t,e,n){return t=W(t,e,n),!t||"BR"==t.nodeName||et(t)}var i,r=t.parentNode;e.block&&(nt?r==X.getRoot()&&(e.list_block&&O(t,e.list_block)||ct(dt(t.childNodes),function(t){tt(nt,t.nodeName.toLowerCase())?i?i.appendChild(t):(i=R(t,nt),X.setAttribs(i,s.settings.forced_root_block_attrs)):i=0})):et(t)&&!et(r)&&(n(t,at)||n(t.firstChild,st,1)||t.insertBefore(X.create("br"),t.firstChild),n(t,st)||n(t.lastChild,at,1)||t.appendChild(X.create("br")))),e.selector&&e.inline&&!O(e.inline,t)||X.remove(t,1)}function W(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1==t.nodeType||!I(t))return t}function j(t,e){function n(t,e){for(r=t;r;r=r[e]){if(3==r.nodeType&&0!==r.nodeValue.length)return t;if(1==r.nodeType&&!ut(r))return r}return t}var r,o,a=new i(X);if(t&&e&&(t=n(t,"previousSibling"),e=n(e,"nextSibling"),a.compare(t,e))){for(r=t.nextSibling;r&&r!=e;)o=r,r=r.nextSibling,t.appendChild(o);return X.remove(e),ct(dt(e.childNodes),function(e){t.appendChild(e)}),t}return e}function z(e,n){var i,r,o;return i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],1==i.nodeType&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),3===i.nodeType&&n&&r>=i.nodeValue.length&&(i=new t(i,s.getBody()).next()||i),3!==i.nodeType||n||0!==r||(i=new t(i,s.getBody()).prev()||i),i}function G(e,n,i,r){function o(t){var e=X.create("span",{id:m,"data-mce-bogus":!0,style:v?"color:red":""});return t&&e.appendChild(s.getDoc().createTextNode(rt)),e}function a(t,e){for(;t;){if(3===t.nodeType&&t.nodeValue!==rt||t.childNodes.length>1)return!1;e&&1===t.nodeType&&e.push(t),t=t.firstChild}return!0}function u(t){for(;t;){if(t.id===m)return t;t=t.parentNode}}function c(e){var n;if(e)for(n=new t(e,e),e=n.current();e;e=n.next())if(3===e.nodeType)return e}function d(t,e){var n,i;if(t)i=Q.getRng(!0),a(t)?(e!==!1&&(i.setStartBefore(t),i.setEndBefore(t)),X.remove(t)):(n=c(t),n.nodeValue.charAt(0)===rt&&(n.deleteData(0,1),i.startContainer==n&&i.startOffset>0&&i.setStart(n,i.startOffset-1),i.endContainer==n&&i.endOffset>0&&i.setEnd(n,i.endOffset-1)),X.remove(t,1)),Q.setRng(i);else if(t=u(Q.getStart()),!t)for(;t=X.get(m);)d(t,!1)}function h(){var t,e,r,a,s,l,d;t=Q.getRng(!0),a=t.startOffset,l=t.startContainer,d=l.nodeValue,e=u(Q.getStart()),e&&(r=c(e)),d&&a>0&&a<d.length&&/\w/.test(d.charAt(a))&&/\w/.test(d.charAt(a-1))?(s=Q.getBookmark(),t.collapse(!0),t=L(t,g(n)),t=J.split(t),_(n,i,t),Q.moveToBookmark(s)):(e&&r.nodeValue===rt?_(n,i,e):(e=o(!0),r=e.firstChild,t.insertNode(e),a=1,_(n,i,e)),Q.setCursorLocation(r,a))}function p(){var t,e,a,s,u,c,d,h,p=Q.getRng(!0),f=[];for(t=p.startContainer,e=p.startOffset,u=t,3==t.nodeType&&(e!=t.nodeValue.length&&(s=!0),u=u.parentNode);u;){if(C(u,n,i,r)){c=u;break}u.nextSibling&&(s=!0),f.push(u),u=u.parentNode}if(c)if(s)a=Q.getBookmark(),p.collapse(!0),p=L(p,g(n),!0),p=J.split(p),x(n,i,p),Q.moveToBookmark(a);else{for(h=o(),u=h,d=f.length-1;d>=0;d--)u.appendChild(X.clone(f[d],!1)),u=u.firstChild;u.appendChild(X.doc.createTextNode(rt)),u=u.firstChild;var m=X.getParent(c,l);m&&X.isEmpty(m)?c.parentNode.replaceChild(h,c):X.insertAfter(h,c),Q.setCursorLocation(u,1),X.isEmpty(c)&&X.remove(c)}}function f(){var t;t=u(Q.getStart()),t&&!X.isEmpty(t)&&ht(t,function(t){1!=t.nodeType||t.id===m||X.isEmpty(t)||X.setAttrib(t,"data-mce-bogus",null)},"childNodes")}var m="_mce_caret",v=s.settings.caret_debug;s._hasCaretEvents||(K=function(){var t,e=[];if(a(u(Q.getStart()),e))for(t=e.length;t--;)X.setAttrib(e[t],"data-mce-bogus","1")},Y=function(t){var e=t.keyCode;d(),8==e&&Q.isCollapsed()&&Q.getStart().innerHTML==rt&&d(u(Q.getStart())),37!=e&&39!=e||d(u(Q.getStart())),f()},s.on("SetContent",function(t){t.selection&&f()}),s._hasCaretEvents=!0),"apply"==e?h():p()}function V(e){var n,i,r,o,a,s=e.startContainer,l=e.startOffset;if((e.startContainer!=e.endContainer||!c(e.startContainer.childNodes[e.startOffset]))&&(3==s.nodeType&&l>=s.nodeValue.length&&(l=it(s),s=s.parentNode,n=!0),1==s.nodeType))for(o=s.childNodes,s=o[Math.min(l,o.length-1)],i=new t(s,X.getParent(s,X.isBlock)),(l>o.length-1||n)&&i.next(),r=i.current();r;r=i.next())if(3==r.nodeType&&!I(r))return a=X.create("a",{"data-mce-bogus":"all"},rt),r.parentNode.insertBefore(a,r),e.setStart(r,0),Q.setRng(e),void X.remove(a)}var U,q,Y,K,Z={},X=s.dom,Q=s.selection,J=new e(X),tt=s.schema.isValidChild,et=X.isBlock,nt=s.settings.forced_root_block,it=X.nodeIndex,rt="\ufeff",ot=/^(src|href|style)$/,at=!1,st=!0,lt=X.getContentEditable,ut=n.isBookmarkNode,ct=r.each,dt=r.grep,ht=r.walk,pt=r.extend;pt(this,{get:g,register:m,unregister:v,apply:_,remove:x,toggle:k,match:$,matchAll:M,matchNode:C,canApply:S,formatChanged:T,getCssText:D}),p(),f(),s.on("BeforeGetContent",function(t){K&&"raw"!=t.format&&K()}),s.on("mouseup keydown",function(t){Y&&Y(t)})}}),i("tinymce/UndoManager",["tinymce/util/VK","tinymce/Env"],function(t,e){return function(t){function n(){return t.serializer.getTrimmedContent()}function i(e){t.setDirty(e)}function r(t){s.typing=!1,s.add({},t)}var o,a,s=this,l=0,u=[],c=0;return t.on("init",function(){s.add()}),t.on("BeforeExecCommand",function(t){var e=t.command;"Undo"!=e&&"Redo"!=e&&"mceRepaint"!=e&&s.beforeChange()}),t.on("ExecCommand",function(t){var e=t.command;"Undo"!=e&&"Redo"!=e&&"mceRepaint"!=e&&r(t)}),t.on("ObjectResizeStart Cut",function(){s.beforeChange()}),t.on("SaveContent ObjectResized blur",r),t.on("DragEnd",r),t.on("KeyUp",function(o){var l=o.keyCode;o.isDefaultPrevented()||((l>=33&&l<=36||l>=37&&l<=40||45==l||13==l||o.ctrlKey)&&(r(),t.nodeChanged()),(46==l||8==l||e.mac&&(91==l||93==l))&&t.nodeChanged(),a&&s.typing&&(t.isDirty()||(i(u[0]&&n()!=u[0].content),t.isDirty()&&t.fire("change",{level:u[0],lastLevel:null})),t.fire("TypingUndo"),a=!1,t.nodeChanged()))}),t.on("KeyDown",function(t){var e=t.keyCode;if(!t.isDefaultPrevented()){if(e>=33&&e<=36||e>=37&&e<=40||45==e)return void(s.typing&&r(t));var n=t.ctrlKey&&!t.altKey||t.metaKey;!(e<16||e>20)||224==e||91==e||s.typing||n||(s.beforeChange(),s.typing=!0,s.add({},t),a=!0)}}),t.on("MouseDown",function(t){s.typing&&r(t)}),t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos",function(e){e.isDefaultPrevented()||t.nodeChanged()}),s={data:u,typing:!1,beforeChange:function(){c||(o=t.selection.getBookmark(2,!0))},add:function(e,r){var a,s,d=t.settings;if(e=e||{},e.content=n(),c||t.removed)return null;if(s=u[l],t.fire("BeforeAddUndo",{level:e,lastLevel:s,originalEvent:r}).isDefaultPrevented())return null;if(s&&s.content==e.content)return null;if(u[l]&&(u[l].beforeBookmark=o),d.custom_undo_redo_levels&&u.length>d.custom_undo_redo_levels){for(a=0;a<u.length-1;a++)u[a]=u[a+1];u.length--,l=u.length}e.bookmark=t.selection.getBookmark(2,!0),l<u.length-1&&(u.length=l+1),u.push(e),l=u.length-1;var h={level:e,lastLevel:s,originalEvent:r};return t.fire("AddUndo",h),l>0&&(i(!0),t.fire("change",h)),e},undo:function(){var e;return s.typing&&(s.add(),s.typing=!1),l>0&&(e=u[--l],t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.beforeBookmark),i(!0),t.fire("undo",{level:e})),e},redo:function(){var e;return l<u.length-1&&(e=u[++l],t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(e.bookmark),i(!0),t.fire("redo",{level:e})),e},clear:function(){u=[],l=0,s.typing=!1,t.fire("ClearUndos")},hasUndo:function(){return l>0||s.typing&&u[0]&&n()!=u[0].content},hasRedo:function(){return l<u.length-1&&!this.typing},transact:function(t){s.beforeChange();try{c++,t()}finally{c--}s.add()}}}}),i("tinymce/EnterKey",["tinymce/dom/TreeWalker","tinymce/dom/RangeUtils","tinymce/Env"],function(t,e,n){var i=n.ie&&n.ie<11;return function(r){function o(o){function p(t){return t&&a.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==a.getContentEditable(t)}function f(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}function g(t){var e;a.isBlock(t)&&(e=s.getRng(),t.appendChild(a.create("span",null," ")),s.select(t),t.lastChild.outerHTML="",s.setRng(e))}function m(t){var e,n=t,i=[];if(n){for(;n=n.firstChild;){if(a.isBlock(n))return;1!=n.nodeType||d[n.nodeName.toLowerCase()]||i.push(n)}for(e=i.length;e--;)n=i[e],!n.hasChildNodes()||n.firstChild==n.lastChild&&""===n.firstChild.nodeValue?a.remove(n):"A"==n.nodeName&&" "===(n.innerText||n.textContent)&&a.remove(n)}}function v(e){function i(t){for(;t;){if(1==t.nodeType||3==t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}var r,o,l,u,c=e;if(e){if(n.ie&&n.ie<9&&N&&N.firstChild&&N.firstChild==N.lastChild&&"BR"==N.firstChild.tagName&&a.remove(N.firstChild),/^(LI|DT|DD)$/.test(e.nodeName)){var d=i(e.firstChild);d&&/^(UL|OL|DL)$/.test(d.nodeName)&&e.insertBefore(a.doc.createTextNode(" "),e.firstChild);
}if(l=a.createRng(),n.ie||e.normalize(),e.hasChildNodes()){for(r=new t(e,e);o=r.current();){if(3==o.nodeType){l.setStart(o,0),l.setEnd(o,0);break}if(h[o.nodeName.toLowerCase()]){l.setStartBefore(o),l.setEndBefore(o);break}c=o,o=r.next()}o||(l.setStart(c,0),l.setEnd(c,0))}else"BR"==e.nodeName?e.nextSibling&&a.isBlock(e.nextSibling)?((!I||I<9)&&(u=a.create("br"),e.parentNode.insertBefore(u,e)),l.setStartBefore(e),l.setEndBefore(e)):(l.setStartAfter(e),l.setEndAfter(e)):(l.setStart(e,0),l.setEnd(e,0));s.setRng(l),a.remove(u),s.scrollIntoView(e)}}function y(t){var e=l.forced_root_block;e&&e.toLowerCase()===t.tagName.toLowerCase()&&a.setAttribs(t,l.forced_root_block_attrs)}function b(t){t.innerHTML=i?"":'<br data-mce-bogus="1">'}function w(t){var e,n,r,o=P,s=c.getTextInlineElements();if(t||"TABLE"==F?(e=a.create(t||j),y(e)):e=N.cloneNode(!1),r=e,l.keep_styles!==!1)do if(s[o.nodeName]){if("_mce_caret"==o.id)continue;n=o.cloneNode(!1),a.setAttrib(n,"id",""),e.hasChildNodes()?(n.appendChild(e.firstChild),e.appendChild(n)):(r=n,e.appendChild(n))}while((o=o.parentNode)&&o!=O);return i||(r.innerHTML='<br data-mce-bogus="1">'),e}function _(e){var n,i,r;if(3==P.nodeType&&(e?A>0:A<P.nodeValue.length))return!1;if(P.parentNode==N&&z&&!e)return!0;if(e&&1==P.nodeType&&P==N.firstChild)return!0;if("TABLE"===P.nodeName||P.previousSibling&&"TABLE"==P.previousSibling.nodeName)return z&&!e||!z&&e;for(n=new t(P,N),3==P.nodeType&&(e&&0===A?n.prev():e||A!=P.nodeValue.length||n.next());i=n.current();){if(1===i.nodeType){if(!i.getAttribute("data-mce-bogus")&&(r=i.nodeName.toLowerCase(),d[r]&&"br"!==r))return!1}else if(3===i.nodeType&&!/^[ \t\r\n]*$/.test(i.nodeValue))return!1;e?n.prev():n.next()}return!0}function x(t,e){var n,i,o,s,l,u,d=j||"P";if(i=a.getParent(t,a.isBlock),!i||!p(i)){if(i=i||O,u=i==r.getBody()||f(i)?i.nodeName.toLowerCase():i.parentNode.nodeName.toLowerCase(),!i.hasChildNodes())return n=a.create(d),y(n),i.appendChild(n),D.setStart(n,0),D.setEnd(n,0),n;for(s=t;s.parentNode!=i;)s=s.parentNode;for(;s&&!a.isBlock(s);)o=s,s=s.previousSibling;if(o&&c.isValidChild(u,d.toLowerCase())){for(n=a.create(d),y(n),o.parentNode.insertBefore(n,o),s=o;s&&!a.isBlock(s);)l=s.nextSibling,n.appendChild(s),s=l;D.setStart(t,e),D.setEnd(t,e)}}return t}function k(){function t(t){for(var e=H[t?"firstChild":"lastChild"];e&&1!=e.nodeType;)e=e[t?"nextSibling":"previousSibling"];return e===N}function e(){var t=H.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:H}if(H!=r.getBody()){var n=H.parentNode.nodeName;/^(OL|UL|LI)$/.test(n)&&(j="LI"),L=j?w(j):a.create("BR"),t(!0)&&t()?"LI"==n?a.insertAfter(L,e()):a.replace(L,H):t(!0)?"LI"==n?(a.insertAfter(L,e()),L.appendChild(a.doc.createTextNode(" ")),L.appendChild(H)):H.parentNode.insertBefore(L,H):t()?(a.insertAfter(L,e()),g(L)):(H=e(),E=D.cloneRange(),E.setStartAfter(N),E.setEndAfter(H),B=E.extractContents(),"LI"==j&&"LI"==B.firstChild.nodeName?(L=B.firstChild,a.insertAfter(B,H)):(a.insertAfter(B,H),a.insertAfter(L,H))),a.remove(N),v(L),u.add()}}function C(){r.execCommand("InsertLineBreak",!1,o)}function $(t){do 3===t.nodeType&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)}function M(t){var e,n,i=a.getRoot();for(e=t;e!==i&&"false"!==a.getContentEditable(e);)"true"===a.getContentEditable(e)&&(n=e),e=e.parentNode;return e!==i?n:i}function S(t){var e;i||(t.normalize(),e=t.lastChild,e&&!/^(left|right)$/gi.test(a.getStyle(e,"float",!0))||a.add(t,"br"))}function T(){L=/^(H[1-6]|PRE|FIGURE)$/.test(F)&&"HGROUP"!=W?w(j):w(),l.end_container_on_empty_block&&p(H)&&a.isEmpty(N)?L=a.split(H,N):a.insertAfter(L,N),v(L)}var D,E,O,P,A,N,I,R,L,B,H,F,W,j,z;if(D=s.getRng(!0),!o.isDefaultPrevented()){if(!D.collapsed)return void r.execCommand("Delete");if(new e(a).normalize(D),P=D.startContainer,A=D.startOffset,j=(l.force_p_newlines?"p":"")||l.forced_root_block,j=j?j.toUpperCase():"",I=a.doc.documentMode,R=o.shiftKey,1==P.nodeType&&P.hasChildNodes()&&(z=A>P.childNodes.length-1,P=P.childNodes[Math.min(A,P.childNodes.length-1)]||P,A=z&&3==P.nodeType?P.nodeValue.length:0),O=M(P)){if(u.beforeChange(),!a.isBlock(O)&&O!=a.getRoot())return void(j&&!R||C());if((j&&!R||!j&&R)&&(P=x(P,A)),N=a.getParent(P,a.isBlock),H=N?a.getParent(N.parentNode,a.isBlock):null,F=N?N.nodeName.toUpperCase():"",W=H?H.nodeName.toUpperCase():"","LI"!=W||o.ctrlKey||(N=H,F=W),/^(LI|DT|DD)$/.test(F)){if(!j&&R)return void C();if(a.isEmpty(N))return void k()}if("PRE"==F&&l.br_in_pre!==!1){if(!R)return void C()}else if(!j&&!R&&"LI"!=F||j&&R)return void C();j&&N===r.getBody()||(j=j||"P",_()?T():_(!0)?(L=N.parentNode.insertBefore(w(),N),g(L),v(N)):(E=D.cloneRange(),E.setEndAfter(N),B=E.extractContents(),$(B),L=B.firstChild,a.insertAfter(B,N),m(L),S(N),a.isEmpty(N)&&b(N),L.normalize(),a.isEmpty(L)?(a.remove(L),T()):v(L)),a.setAttrib(L,"id",""),r.fire("NewBlock",{newBlock:L}),u.add())}}}var a=r.dom,s=r.selection,l=r.settings,u=r.undoManager,c=r.schema,d=c.getNonEmptyElements(),h=c.getMoveCaretBeforeOnEnterElements();r.on("keydown",function(t){13==t.keyCode&&o(t)!==!1&&t.preventDefault()})}}),i("tinymce/ForceBlocks",[],function(){return function(t){function e(){var e,s,l,u,c,d,h,p,f,g,m,v,y=r.getStart(),b=t.getBody(),w=-16777215;if(v=n.forced_root_block,y&&1===y.nodeType&&v){for(;y&&y!=b;){if(a[y.nodeName])return;y=y.parentNode}if(e=r.getRng(),e.setStart){s=e.startContainer,l=e.startOffset,u=e.endContainer,c=e.endOffset;try{f=t.getDoc().activeElement===b}catch(_){}}else e.item&&(y=e.item(0),e=t.getDoc().body.createTextRange(),e.moveToElementText(y)),f=e.parentElement().ownerDocument===t.getDoc(),g=e.duplicate(),g.collapse(!0),l=g.move("character",w)*-1,g.collapsed||(g=e.duplicate(),g.collapse(!1),c=g.move("character",w)*-1-l);for(y=b.firstChild,m=b.nodeName.toLowerCase();y;)if((3===y.nodeType||1==y.nodeType&&!a[y.nodeName])&&o.isValidChild(m,v.toLowerCase())){if(3===y.nodeType&&0===y.nodeValue.length){h=y,y=y.nextSibling,i.remove(h);continue}d||(d=i.create(v,t.settings.forced_root_block_attrs),y.parentNode.insertBefore(d,y),p=!0),h=y,y=y.nextSibling,d.appendChild(h)}else d=null,y=y.nextSibling;if(p&&f){if(e.setStart)e.setStart(s,l),e.setEnd(u,c),r.setRng(e);else try{e=t.getDoc().body.createTextRange(),e.moveToElementText(b),e.collapse(!0),e.moveStart("character",l),c>0&&e.moveEnd("character",c),e.select()}catch(_){}t.nodeChanged()}}}var n=t.settings,i=t.dom,r=t.selection,o=t.schema,a=o.getBlockElements();n.forced_root_block&&t.on("NodeChange",e)}}),i("tinymce/caret/CaretUtils",["tinymce/util/Fun","tinymce/dom/TreeWalker","tinymce/dom/NodeType","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretCandidate"],function(t,e,n,i,r,o){function a(t){return t>0}function s(t){return t<0}function l(t,n,i,r,o){var l=new e(t,r);if(s(n)){if(w(t)&&(t=l.prev(!0),i(t)))return t;for(;t=l.prev(o);)if(i(t))return t}if(a(n)){if(w(t)&&(t=l.next(!0),i(t)))return t;for(;t=l.next(o);)if(i(t))return t}return null}function u(t,e){for(t=t.parentNode;t&&t!=e;t=t.parentNode)if(b(t))return t;return e}function c(t,e){for(;t&&t!=e;){if(_(t))return t;t=t.parentNode}return null}function d(t,e,n){return c(t.container(),n)==c(e.container(),n)}function h(t,e,n){return u(t.container(),n)==u(e.container(),n)}function p(t,e){var n,i;return e?(n=e.container(),i=e.offset(),C(n)?n.childNodes[i+t]:null):null}function f(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n}function g(t,e,n){return c(e,t)==c(n,t)}function m(t,e,n){var i,r;for(r=t?"previousSibling":"nextSibling";n&&n!=e;){if(i=n[r],x(i)&&(i=i[r]),w(i)){if(g(e,i,n))return i;break}if($(i))break;n=n.parentNode}return null}function v(t,e,i){var o,a,s,l,u=k(m,!0,e),c=k(m,!1,e);if(a=i.startContainer,s=i.startOffset,r.isCaretContainerBlock(a)){if(C(a)||(a=a.parentNode),l=a.getAttribute("data-mce-caret"),"before"==l&&(o=a.nextSibling,w(o)))return M(o);if("after"==l&&(o=a.previousSibling,w(o)))return S(o)}if(!i.collapsed)return i;if(n.isText(a)){if(x(a)){if(1===t){if(o=c(a))return M(o);if(o=u(a))return S(o)}if(t===-1){if(o=u(a))return S(o);if(o=c(a))return M(o)}return i}if(r.endsWithCaretContainer(a)&&s>=a.data.length-1)return 1===t&&(o=c(a))?M(o):i;if(r.startsWithCaretContainer(a)&&s<=1)return t===-1&&(o=u(a))?S(o):i;if(s===a.data.length)return o=c(a),o?M(o):i;if(0===s)return o=u(a),o?S(o):i}return i}function y(t,e){return w(p(t,e))}var b=n.isContentEditableTrue,w=n.isContentEditableFalse,_=n.matchStyleValues("display","block table table-cell table-caption"),x=r.isCaretContainer,k=t.curry,C=n.isElement,$=o.isCaretCandidate,M=k(f,!0),S=k(f,!1);return{isForwards:a,isBackwards:s,findNode:l,getEditingHost:u,getParentBlock:c,isInSameBlock:d,isInSameEditingHost:h,isBeforeContentEditableFalse:k(y,0),isAfterContentEditableFalse:k(y,-1),normalizeRange:v}}),i("tinymce/caret/CaretWalker",["tinymce/dom/NodeType","tinymce/caret/CaretCandidate","tinymce/caret/CaretPosition","tinymce/caret/CaretUtils","tinymce/util/Arr","tinymce/util/Fun"],function(t,e,n,i,r,o){function a(t,e){for(var n=[];t&&t!=e;)n.push(t),t=t.parentNode;return n}function s(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null}function l(t,e){if(g(t)){if(v(e.previousSibling)&&!h(e.previousSibling))return n.before(e);if(h(e))return n(e,0)}if(m(t)){if(v(e.nextSibling)&&!h(e.nextSibling))return n.after(e);if(h(e))return n(e,e.data.length)}return m(t)?f(e)?n.before(e):n.after(e):n.before(e)}function u(e,r){var o;return!!t.isBr(e)&&(o=c(1,n.after(e),r),!!o&&!i.isInSameBlock(n.before(e),n.before(o),r))}function c(t,e,f){var w,_,x,k,C,$,M;if(!p(f)||!e)return null;if(M=e,w=M.container(),_=M.offset(),h(w)){if(m(t)&&_>0)return n(w,--_);if(g(t)&&_<w.length)return n(w,++_);x=w}else{if(m(t)&&_>0&&(k=s(w,_-1),v(k)))return!y(k)&&(C=i.findNode(k,t,b,k))?h(C)?n(C,C.data.length):n.after(C):h(k)?n(k,k.data.length):n.before(k);if(g(t)&&_<w.childNodes.length&&(k=s(w,_),v(k)))return u(k,f)?c(t,n.after(k),f):!y(k)&&(C=i.findNode(k,t,b,k))?h(C)?n(C,0):n.before(C):h(k)?n(k,0):n.after(k);x=M.getNode()}return(g(t)&&M.isAtEnd()||m(t)&&M.isAtStart())&&(x=i.findNode(x,t,o.constant(!0),f,!0),b(x))?l(t,x):(k=i.findNode(x,t,b,f),$=r.last(r.filter(a(w,f),d)),!$||k&&$.contains(k)?k?l(t,k):null:M=g(t)?n.after($):n.before($))}var d=t.isContentEditableFalse,h=t.isText,p=t.isElement,f=t.isBr,g=i.isForwards,m=i.isBackwards,v=e.isCaretCandidate,y=e.isAtomic,b=e.isEditableCaretCandidate;return function(t){return{next:function(e){return c(1,e,t)},prev:function(e){return c(-1,e,t)}}}}),i("tinymce/EditorCommands",["tinymce/html/Serializer","tinymce/Env","tinymce/util/Tools","tinymce/dom/ElementUtils","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/dom/NodeType"],function(t,n,i,r,o,a,s,l,u){var c=i.each,d=i.extend,h=i.map,p=i.inArray,f=i.explode,g=n.ie,m=n.ie&&n.ie<11,v=!0,y=!1,b=u.matchNodeNames("td th");return function(u){function w(t,e,n,i){var r,o,a=0;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||i&&i.skip_focus||u.focus(),i=u.fire("BeforeExecCommand",{command:t,ui:e,value:n}),i.isDefaultPrevented())return!1;if(o=t.toLowerCase(),r=B.exec[o])return r(o,e,n),u.fire("ExecCommand",{command:t,ui:e,value:n}),!0;if(c(u.plugins,function(i){if(i.execCommand&&i.execCommand(t,e,n))return u.fire("ExecCommand",{command:t,ui:e,value:n}),a=!0,!1}),a)return a;if(u.theme&&u.theme.execCommand&&u.theme.execCommand(t,e,n))return u.fire("ExecCommand",{command:t,ui:e,value:n}),!0;try{a=u.getDoc().execCommand(t,e,n)}catch(s){}return!!a&&(u.fire("ExecCommand",{command:t,ui:e,value:n}),!0)}function _(t){var e;if(!u.quirks.isHidden()){if(t=t.toLowerCase(),e=B.state[t])return e(t);try{return u.getDoc().queryCommandState(t)}catch(n){}return!1}}function x(t){var e;if(!u.quirks.isHidden()){if(t=t.toLowerCase(),e=B.value[t])return e(t);try{return u.getDoc().queryCommandValue(t)}catch(n){}}}function k(t,e){e=e||"exec",c(t,function(t,n){c(n.toLowerCase().split(","),function(n){B[e][n]=t})})}function C(t,e,n){t=t.toLowerCase(),B.exec[t]=function(t,i,r,o){return e.call(n||u,i,r,o)}}function $(t){if(t=t.toLowerCase(),B.exec[t])return!0;try{return u.getDoc().queryCommandSupported(t)}catch(e){}return!1}function M(t,e,n){t=t.toLowerCase(),B.state[t]=function(){return e.call(n||u)}}function S(t,e,n){t=t.toLowerCase(),B.value[t]=function(){return e.call(n||u)}}function T(t){return t=t.toLowerCase(),!!B.exec[t]}function D(t,n,i){return n===e&&(n=y),i===e&&(i=null),u.getDoc().execCommand(t,n,i)}function E(t){return R.match(t)}function O(t,n){R.toggle(t,n?{value:n}:e),u.nodeChanged()}function P(t){L=I.getBookmark(t)}function A(){I.moveToBookmark(L)}var N,I,R,L,B={state:{},exec:{},value:{}},H=u.settings;u.on("PreInit",function(){N=u.dom,I=u.selection,H=u.settings,R=u.formatter}),d(this,{execCommand:w,queryCommandState:_,queryCommandValue:x,queryCommandSupported:$,addCommands:k,addCommand:C,addQueryStateHandler:M,addQueryValueHandler:S,hasCustomCommand:T}),k({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){u.undoManager.add()},"Cut,Copy,Paste":function(t){var e,i=u.getDoc();try{D(t)}catch(r){e=v}if("paste"!==t||i.queryCommandEnabled(t)||(e=!0),e||!i.queryCommandSupported(t)){var o=u.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");n.mac&&(o=o.replace(/Ctrl\+/g,"⌘+")),u.notificationManager.open({text:o,type:"error"})}},unlink:function(){if(I.isCollapsed()){var t=I.getNode();return void("A"==t.tagName&&u.dom.remove(t,!0))}R.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"==e&&(e="justify"),c("left,center,right,justify".split(","),function(t){e!=t&&R.remove("align"+t)}),"none"!=e&&O("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var e,n;D(t),e=N.getParent(I.getNode(),"ol,ul"),e&&(n=e.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(n.nodeName)&&(P(),N.split(n,e),A()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){O(t)},"ForeColor,HiliteColor,FontName":function(t,e,n){O(t,n)},FontSize:function(t,e,n){var i,r;n>=1&&n<=7&&(r=f(H.font_size_style_values),i=f(H.font_size_classes),n=i?i[n-1]||n:r[n-1]||n),O(t,n)},RemoveFormat:function(t){R.remove(t)},mceBlockQuote:function(){O("blockquote")},FormatBlock:function(t,e,n){return O(n||"p")},mceCleanup:function(){var t=I.getBookmark();u.setContent(u.getContent({cleanup:v}),{cleanup:v}),I.moveToBookmark(t)},mceRemoveNode:function(t,e,n){var i=n||I.getNode();i!=u.getBody()&&(P(),u.dom.remove(i,v),A())},mceSelectNodeDepth:function(t,e,n){var i=0;N.getParent(I.getNode(),function(t){if(1==t.nodeType&&i++==n)return I.select(t),y},u.getBody())},mceSelectNode:function(t,e,n){I.select(n)},mceInsertContent:function(e,n,o){function a(t){function e(t){return i[t]&&3==i[t].nodeType}var n,i,r;return n=I.getRng(!0),i=n.startContainer,r=n.startOffset,3==i.nodeType&&(r>0?t=t.replace(/^&nbsp;/," "):e("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<i.length?t=t.replace(/&nbsp;(<br>|)$/," "):e("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t}function d(){var t,e,n;t=I.getRng(!0),e=t.startContainer,n=t.startOffset,3==e.nodeType&&t.collapsed&&(" "===e.data[n]?(e.deleteData(n,1),/[\u00a0| ]$/.test(o)||(o+=" ")):" "===e.data[n-1]&&(e.deleteData(n-1,1),/[\u00a0| ]$/.test(o)||(o=" "+o)))}function h(t){if(P)for(D=t.firstChild;D;D=D.walk(!0))R[D.name]&&D.attr("data-mce-new","true")}function p(){if(P){var t=u.getBody(),e=new r(N);c(N.select("*[data-mce-new]"),function(n){n.removeAttribute("data-mce-new");for(var i=n.parentNode;i&&i!=t;i=i.parentNode)e.compare(i,n)&&N.remove(n,!0)})}}function f(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}function m(t){i.each(t.getElementsByTagName("*"),function(t){t.removeAttribute("data-mce-fragment")})}function v(t){return!!t.getAttribute("data-mce-fragment")}function y(t){return t&&!u.schema.getShortEndedElements()[t.nodeName]}function w(t){function e(t){for(var e=u.getBody();t&&t!==e;t=t.parentNode)if("false"===u.dom.getContentEditable(t))return t;return null}function n(t){var e=l.fromRangeStart(t),n=new s(u.getBody());if(e=n.next(e))return e.toRange()}var i,r,o;if(t){if(I.scrollIntoView(t),i=e(t))return N.remove(t),void I.select(i);T=N.createRng(),D=t.previousSibling,D&&3==D.nodeType?(T.setStart(D,D.nodeValue.length),g||(E=t.nextSibling,E&&3==E.nodeType&&(D.appendData(E.data),E.parentNode.removeChild(E)))):(T.setStartBefore(t),T.setEndBefore(t)),r=N.getParent(t,N.isBlock),N.remove(t),r&&N.isEmpty(r)&&(u.$(r).empty(),T.setStart(r,0),T.setEnd(r,0),b(r)||v(r)||!(o=n(T))?N.add(r,N.create("br",{"data-mce-bogus":"1"})):(T=o,N.remove(r))),I.setRng(T)}}var _,x,k,C,$,M,S,T,D,E,O,P,A,R=u.schema.getTextInlineElements();"string"!=typeof o&&(P=o.merge,A=o.data,o=o.content),/^ | $/.test(o)&&(o=a(o)),_=u.parser,x=new t({validate:H.validate},u.schema),O='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',M={content:o,format:"html",selection:!0},u.fire("BeforeSetContent",M),o=M.content,o.indexOf("{$caret}")==-1&&(o+="{$caret}"),o=o.replace(/\{\$caret\}/,O),T=I.getRng();var L=T.startContainer||(T.parentElement?T.parentElement():null),B=u.getBody();L===B&&I.isCollapsed()&&N.isBlock(B.firstChild)&&y(B.firstChild)&&N.isEmpty(B.firstChild)&&(T=N.createRng(),T.setStart(B.firstChild,0),T.setEnd(B.firstChild,0),I.setRng(T)),I.isCollapsed()||(u.selection.setRng(u.selection.getRng()),u.getDoc().execCommand("Delete",!1,null),d()),k=I.getNode();var F={context:k.nodeName.toLowerCase(),data:A};if($=_.parse(o,F),f($),h($),D=$.lastChild,"mce_marker"==D.attr("id"))for(S=D,D=D.prev;D;D=D.walk(!0))if(3==D.type||!N.isBlock(D.name)){u.schema.isValidChild(D.parent.name,"span")&&D.parent.insert(S,D,"br"===D.name);break}if(u._selectionOverrides.showBlockCaretContainer(k),F.invalid){for(I.setContent(O),k=I.getNode(),C=u.getBody(),9==k.nodeType?k=D=C:D=k;D!==C;)k=D,D=D.parentNode;o=k==C?C.innerHTML:N.getOuterHTML(k),o=x.serialize(_.parse(o.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return x.serialize($)}))),k==C?N.setHTML(C,o):N.setOuterHTML(k,o)}else o=x.serialize($),D=k.firstChild,E=k.lastChild,!D||D===E&&"BR"===D.nodeName?N.setHTML(k,o):I.setContent(o);p(),w(N.get("mce_marker")),m(u.getBody()),u.fire("SetContent",M),u.addVisual()},mceInsertRawHTML:function(t,e,n){I.setContent("tiny_mce_marker"),u.setContent(u.getContent().replace(/tiny_mce_marker/g,function(){return n}))},mceToggleFormat:function(t,e,n){O(n)},mceSetContent:function(t,e,n){u.setContent(n)},"Indent,Outdent":function(t){var e,n,i;e=H.indentation,n=/[a-z%]+$/i.exec(e),e=parseInt(e,10),_("InsertUnorderedList")||_("InsertOrderedList")?D(t):(H.forced_root_block||N.getParent(I.getNode(),N.isBlock)||R.apply("div"),c(I.getSelectedBlocks(),function(r){if("false"!==N.getContentEditable(r)&&"LI"!=r.nodeName){var o=u.getParam("indent_use_margin",!1)?"margin":"padding";o+="rtl"==N.getStyle(r,"direction",!0)?"Right":"Left","outdent"==t?(i=Math.max(0,parseInt(r.style[o]||0,10)-e),N.setStyle(r,o,i?i+n:"")):(i=parseInt(r.style[o]||0,10)+e+n,N.setStyle(r,o,i))}}))},mceRepaint:function(){},InsertHorizontalRule:function(){u.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){u.hasVisual=!u.hasVisual,u.addVisual()},mceReplaceContent:function(t,e,n){u.execCommand("mceInsertContent",!1,n.replace(/\{\$selection\}/g,I.getContent({format:"text"})))},mceInsertLink:function(t,e,n){var i;"string"==typeof n&&(n={href:n}),i=N.getParent(I.getNode(),"a"),n.href=n.href.replace(" ","%20"),i&&n.href||R.remove("link"),n.href&&R.apply("link",n,i)},selectAll:function(){var t,e=N.getRoot();I.getRng().setStart?(t=N.createRng(),t.setStart(e,0),t.setEnd(e,e.childNodes.length),I.setRng(t)):(t=I.getRng(),t.item||(t.moveToElementText(e),t.select()))},"delete":function(){D("Delete");var t=u.getBody();N.isEmpty(t)&&(u.setContent(""),t.firstChild&&N.isBlock(t.firstChild)?u.selection.setCursorLocation(t.firstChild,0):u.selection.setCursorLocation(t,0))},mceNewDocument:function(){u.setContent("")},InsertLineBreak:function(t,e,n){function i(){for(var t,e=new a(p,g),n=u.schema.getNonEmptyElements();t=e.next();)if(n[t.nodeName.toLowerCase()]||t.length>0)return!0}var r,s,l,c=n,d=I.getRng(!0);new o(N).normalize(d);var h=d.startOffset,p=d.startContainer;if(1==p.nodeType&&p.hasChildNodes()){var f=h>p.childNodes.length-1;p=p.childNodes[Math.min(h,p.childNodes.length-1)]||p,h=f&&3==p.nodeType?p.nodeValue.length:0}var g=N.getParent(p,N.isBlock),y=g?g.nodeName.toUpperCase():"",b=g?N.getParent(g.parentNode,N.isBlock):null,w=b?b.nodeName.toUpperCase():"",_=c&&c.ctrlKey;"LI"!=w||_||(g=b,y=w),p&&3==p.nodeType&&h>=p.nodeValue.length&&(m||i()||(r=N.create("br"),d.insertNode(r),d.setStartAfter(r),d.setEndAfter(r),s=!0)),r=N.create("br"),d.insertNode(r);var x=N.doc.documentMode;return m&&"PRE"==y&&(!x||x<8)&&r.parentNode.insertBefore(N.doc.createTextNode("\r"),r),l=N.create("span",{},"&nbsp;"),r.parentNode.insertBefore(l,r),I.scrollIntoView(l),N.remove(l),s?(d.setStartBefore(r),d.setEndBefore(r)):(d.setStartAfter(r),d.setEndAfter(r)),I.setRng(d),u.undoManager.add(),v}}),k({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(t){var e="align"+t.substring(7),n=I.isCollapsed()?[N.getParent(I.getNode(),N.isBlock)]:I.getSelectedBlocks(),i=h(n,function(t){return!!R.matchNode(t,e)});return p(i,v)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return E(t)},mceBlockQuote:function(){return E("blockquote")},Outdent:function(){var t;if(H.inline_styles){if((t=N.getParent(I.getStart(),N.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return v;if((t=N.getParent(I.getEnd(),N.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return v}return _("InsertUnorderedList")||_("InsertOrderedList")||!H.inline_styles&&!!N.getParent(I.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var e=N.getParent(I.getNode(),"ul,ol");return e&&("insertunorderedlist"===t&&"UL"===e.tagName||"insertorderedlist"===t&&"OL"===e.tagName)}},"state"),k({"FontSize,FontName":function(t){var e,n=0;return(e=N.getParent(I.getNode(),"span"))&&(n="fontsize"==t?e.style.fontSize:e.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),n}},"value"),k({Undo:function(){u.undoManager.undo()},Redo:function(){u.undoManager.redo()}})}}),i("tinymce/util/URI",["tinymce/util/Tools"],function(t){function e(t,o){var a,s,l=this;if(t=i(t),o=l.settings=o||{},a=o.base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(l.source=t);var u=0===t.indexOf("//");0!==t.indexOf("/")||u||(t=(a?a.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(s=o.base_uri?o.base_uri.path:new e(location.href).directory,""===o.base_uri.protocol?t="//mce_host"+l.toAbsPath(s,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(a&&a.protocol||"http")+"://mce_host"+l.toAbsPath(s,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),n(r,function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),l[e]=i}),a&&(l.protocol||(l.protocol=a.protocol),l.userInfo||(l.userInfo=a.userInfo),l.port||"mce_host"!==l.host||(l.port=a.port),l.host&&"mce_host"!==l.host||(l.host=a.host),l.source=""),u&&(l.protocol="")}var n=t.each,i=t.trim,r="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),o={ftp:21,http:80,https:443,mailto:25};return e.prototype={setPath:function(t){var e=this;t=/^(.*?)\/?(\w+)?$/.exec(t),e.path=t[0],e.directory=t[1],e.file=t[2],e.source="",e.getURI()},toRelative:function(t){var n,i=this;if("./"===t)return t;if(t=new e(t,{base_uri:i}),"mce_host"!=t.host&&i.host!=t.host&&t.host||i.port!=t.port||i.protocol!=t.protocol&&""!==t.protocol)return t.getURI();var r=i.getURI(),o=t.getURI();return r==o||"/"==r.charAt(r.length-1)&&r.substr(0,r.length-1)==o?r:(n=i.toRelPath(i.path,t.path),t.query&&(n+="?"+t.query),t.anchor&&(n+="#"+t.anchor),n)},toAbsolute:function(t,n){return t=new e(t,{base_uri:this}),t.getURI(n&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=o[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},toRelPath:function(t,e){var n,i,r,o=0,a="";if(t=t.substring(0,t.lastIndexOf("/")),t=t.split("/"),n=e.split("/"),t.length>=n.length)for(i=0,r=t.length;i<r;i++)if(i>=n.length||t[i]!=n[i]){o=i+1;break}if(t.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=t.length||t[i]!=n[i]){o=i+1;break}if(1===o)return e;for(i=0,r=t.length-(o-1);i<r;i++)a+="../";for(i=o-1,r=n.length;i<r;i++)a+=i!=o-1?"/"+n[i]:n[i];return a},toAbsPath:function(t,e){var i,r,o,a=0,s=[];for(r=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),n(t,function(t){t&&s.push(t)}),t=s,i=e.length-1,s=[];i>=0;i--)0!==e[i].length&&"."!==e[i]&&(".."!==e[i]?a>0?a--:s.push(e[i]):a++);return i=t.length-a,o=i<=0?s.reverse().join("/"):t.slice(0,i).join("/")+"/"+s.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(t){var e,n=this;return n.source&&!t||(e="",t||(e+=n.protocol?n.protocol+"://":"//",n.userInfo&&(e+=n.userInfo+"@"),n.host&&(e+=n.host),n.port&&(e+=":"+n.port)),n.path&&(e+=n.path),n.query&&(e+="?"+n.query),n.anchor&&(e+="#"+n.anchor),n.source=e),n.source}},e.parseDataUri=function(t){var e,n;return t=decodeURIComponent(t).split(","),n=/data:([^;]+)/.exec(t[0]),n&&(e=n[1]),{type:e,data:t[1]}},e.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e},e}),i("tinymce/util/Class",["tinymce/util/Tools"],function(t){function e(){}var n,i,r=t.each,o=t.extend;return e.extend=n=function(t){function e(){var t,e,n,r=this;if(!i&&(r.init&&r.init.apply(r,arguments),e=r.Mixins))for(t=e.length;t--;)n=e[t],n.init&&n.init.apply(r,arguments)}function a(){return this}function s(t,e){return function(){var n,i=this,r=i._super;return i._super=h[t],n=e.apply(i,arguments),i._super=r,n}}var l,u,c,d=this,h=d.prototype;i=!0,l=new d,i=!1,t.Mixins&&(r(t.Mixins,function(e){for(var n in e)"init"!==n&&(t[n]=e[n])}),h.Mixins&&(t.Mixins=h.Mixins.concat(t.Mixins))),t.Methods&&r(t.Methods.split(","),function(e){t[e]=a}),t.Properties&&r(t.Properties.split(","),function(e){var n="_"+e;t[e]=function(t){var e,i=this;return t!==e?(i[n]=t,i):i[n]}}),t.Statics&&r(t.Statics,function(t,n){e[n]=t}),t.Defaults&&h.Defaults&&(t.Defaults=o({},h.Defaults,t.Defaults));for(u in t)c=t[u],"function"==typeof c&&h[u]?l[u]=s(u,c):l[u]=c;return e.prototype=l,e.constructor=e,e.extend=n,e},e}),i("tinymce/util/EventDispatcher",["tinymce/util/Tools"],function(t){function e(e){function n(){return!1}function i(){return!0}function r(t,r){var o,s,l,c;if(t=t.toLowerCase(),r=r||{},r.type=t,r.target||(r.target=u),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=i},r.stopPropagation=function(){r.isPropagationStopped=i},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=i},r.isDefaultPrevented=n,r.isPropagationStopped=n,r.isImmediatePropagationStopped=n),e.beforeFire&&e.beforeFire(r),o=h[t])for(s=0,l=o.length;s<l;s++){if(c=o[s],c.once&&a(t,c.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(c.func.call(u,r)===!1)return r.preventDefault(),r}return r}function o(e,i,r,o){var a,s,l;if(i===!1&&(i=n),i)for(i={func:i},o&&t.extend(i,o),s=e.toLowerCase().split(" "),l=s.length;l--;)e=s[l],a=h[e],a||(a=h[e]=[],c(e,!0)),r?a.unshift(i):a.push(i);return d}function a(t,e){var n,i,r,o,a;if(t)for(o=t.toLowerCase().split(" "),n=o.length;n--;){if(t=o[n],i=h[t],!t){for(r in h)c(r,!1),delete h[r];return d}if(i){if(e)for(a=i.length;a--;)i[a].func===e&&(i=i.slice(0,a).concat(i.slice(a+1)),h[t]=i);else i.length=0;i.length||(c(t,!1),delete h[t])}}else{for(t in h)c(t,!1);h={}}return d}function s(t,e,n){return o(t,e,n,{once:!0})}function l(t){return t=t.toLowerCase(),!(!h[t]||0===h[t].length)}var u,c,d=this,h={};e=e||{},u=e.scope||d,c=e.toggleEvent||n,d.fire=r,d.on=o,d.off=a,d.once=s,d.has=l}var n=t.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchend"," ");return e.isNative=function(t){return!!n[t.toLowerCase()]},e}),i("tinymce/data/Binding",[],function(){function t(t){this.create=t.create}return t.create=function(e,n){return new t({create:function(t,i){function r(e){t.set(i,e.value)}function o(t){e.set(n,t.value)}var a;return t.on("change:"+i,o),e.on("change:"+n,r),a=t._bindings,a||(a=t._bindings=[],t.on("destroy",function(){for(var t=a.length;t--;)a[t]()})),a.push(function(){e.off("change:"+n,r)}),e.get(n)}})},t}),i("tinymce/util/Observable",["tinymce/util/EventDispatcher"],function(t){function e(e){return e._eventDispatcher||(e._eventDispatcher=new t({scope:e,toggleEvent:function(n,i){t.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,i)}})),e._eventDispatcher}return{fire:function(t,n,i){var r=this;if(r.removed&&"remove"!==t)return n;if(n=e(r).fire(t,n,i),i!==!1&&r.parent)for(var o=r.parent();o&&!n.isPropagationStopped();)o.fire(t,n,!1),o=o.parent();return n},on:function(t,n,i){return e(this).on(t,n,i)},off:function(t,n){return e(this).off(t,n)},once:function(t,n){return e(this).once(t,n)},hasEventListeners:function(t){return e(this).has(t)}}}),i("tinymce/data/ObservableObject",["tinymce/data/Binding","tinymce/util/Observable","tinymce/util/Class","tinymce/util/Tools"],function(t,e,n,i){function r(t){return t.nodeType>0}function o(t,e){var n,a;if(t===e)return!0;if(null===t||null===e)return t===e;if("object"!=typeof t||"object"!=typeof e)return t===e;if(i.isArray(e)){if(t.length!==e.length)return!1;for(n=t.length;n--;)if(!o(t[n],e[n]))return!1}if(r(t)||r(e))return t===e;a={};for(n in e){if(!o(t[n],e[n]))return!1;a[n]=!0}for(n in t)if(!a[n]&&!o(t[n],e[n]))return!1;return!0}return n.extend({Mixins:[e],init:function(e){var n,i;e=e||{};for(n in e)i=e[n],i instanceof t&&(e[n]=i.create(this,n));this.data=e},set:function(e,n){var i,r,a=this.data[e];if(n instanceof t&&(n=n.create(this,e)),"object"==typeof e){for(i in e)this.set(i,e[i]);return this}return o(a,n)||(this.data[e]=n,r={target:this,name:e,value:n,oldValue:a},this.fire("change:"+e,r),this.fire("change",r)),this},get:function(t){return this.data[t]},has:function(t){return t in this.data},bind:function(e){return t.create(this,e)},destroy:function(){this.fire("destroy")}})}),i("tinymce/ui/Selector",["tinymce/util/Class"],function(t){function e(t){for(var e,n=[],i=t.length;i--;)e=t[i],e.__checked||(n.push(e),e.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}var n,i=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,o=/^\s*|\s*$/g,a=t.extend({init:function(t){function e(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t}}function n(t){if(t)return function(e){return e._name===t}}function a(t){if(t)return t=t.split("."),function(e){for(var n=t.length;n--;)if(!e.classes.contains(t[n]))return!1;return!0}}function s(t,e,n){if(t)return function(i){var r=i[t]?i[t]():"";return e?"="===e?r===n:"*="===e?r.indexOf(n)>=0:"~="===e?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===e?r!=n:"^="===e?0===r.indexOf(n):"$="===e&&r.substr(r.length-n.length)===n:!!n}}function l(t){var e;if(t)return t=/(?:not\((.+)\))|(.+)/i.exec(t),
t[1]?(e=c(t[1],[]),function(t){return!d(t,e)}):(t=t[2],function(e,n,i){return"first"===t?0===n:"last"===t?n===i-1:"even"===t?n%2===0:"odd"===t?n%2===1:!!e[t]&&e[t]()})}function u(t,r,u){function c(t){t&&r.push(t)}var d;return d=i.exec(t.replace(o,"")),c(e(d[1])),c(n(d[2])),c(a(d[3])),c(s(d[4],d[5],d[6])),c(l(d[7])),r.pseudo=!!d[7],r.direct=u,r}function c(t,e){var n,i,o,a=[];do if(r.exec(""),i=r.exec(t),i&&(t=i[3],a.push(i[1]),i[2])){n=i[3];break}while(i);for(n&&c(n,e),t=[],o=0;o<a.length;o++)">"!=a[o]&&t.push(u(a[o],[],">"===a[o-1]));return e.push(t),e}var d=this.match;this._selectors=c(t,[])},match:function(t,e){var n,i,r,o,a,s,l,u,c,d,h,p,f;for(e=e||this._selectors,n=0,i=e.length;n<i;n++){for(a=e[n],o=a.length,f=t,p=0,r=o-1;r>=0;r--)for(u=a[r];f;){if(u.pseudo)for(h=f.parent().items(),c=d=h.length;c--&&h[c]!==f;);for(s=0,l=u.length;s<l;s++)if(!u[s](f,c,d)){s=l+1;break}if(s===l){p++;break}if(r===o-1)break;f=f.parent()}if(p===o)return!0}return!1},find:function(t){function i(t,e,n){var r,o,a,l,u,c=e[n];for(r=0,o=t.length;r<o;r++){for(u=t[r],a=0,l=c.length;a<l;a++)if(!c[a](u,r,o)){a=l+1;break}if(a===l)n==e.length-1?s.push(u):u.items&&i(u.items(),e,n+1);else if(c.direct)return;u.items&&i(u.items(),e,n)}}var r,o,s=[],l=this._selectors;if(t.items){for(r=0,o=l.length;r<o;r++)i(t.items(),l[r],0);o>1&&(s=e(s))}return n||(n=a.Collection),new n(s)}});return a}),i("tinymce/ui/Collection",["tinymce/util/Tools","tinymce/ui/Selector","tinymce/util/Class"],function(t,e,n){var i,r,o=Array.prototype.push,a=Array.prototype.slice;return r={length:0,init:function(t){t&&this.add(t)},add:function(e){var n=this;return t.isArray(e)?o.apply(n,e):e instanceof i?n.add(e.toArray()):o.call(n,e),n},set:function(t){var e,n=this,i=n.length;for(n.length=0,n.add(t),e=n.length;e<i;e++)delete n[e];return n},filter:function(t){var n,r,o,a,s=this,l=[];for("string"==typeof t?(t=new e(t),a=function(e){return t.match(e)}):a=t,n=0,r=s.length;n<r;n++)o=s[n],a(o)&&l.push(o);return new i(l)},slice:function(){return new i(a.apply(this,arguments))},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},each:function(e){return t.each(this,e),this},toArray:function(){return t.toArray(this)},indexOf:function(t){for(var e=this,n=e.length;n--&&e[n]!==t;);return n},reverse:function(){return new i(t.toArray(this).reverse())},hasClass:function(t){return!!this[0]&&this[0].classes.contains(t)},prop:function(t,e){var n,i,r=this;return e!==n?(r.each(function(n){n[t]&&n[t](e)}),r):(i=r[0],i&&i[t]?i[t]():void 0)},exec:function(e){var n=this,i=t.toArray(arguments).slice(1);return n.each(function(t){t[e]&&t[e].apply(t,i)}),n},remove:function(){for(var t=this.length;t--;)this[t].remove();return this},addClass:function(t){return this.each(function(e){e.classes.add(t)})},removeClass:function(t){return this.each(function(e){e.classes.remove(t)})}},t.each("fire on off show hide append prepend before after reflow".split(" "),function(e){r[e]=function(){var n=t.toArray(arguments);return this.each(function(t){e in t&&t[e].apply(t,n)}),this}}),t.each("text name disabled active selected checked visible parent value data".split(" "),function(t){r[t]=function(e){return this.prop(t,e)}}),i=n.extend(r),e.Collection=i,i}),i("tinymce/ui/DomUtils",["tinymce/util/Tools","tinymce/dom/DOMUtils"],function(t,e){var n=0;return{id:function(){return"mceu_"+n++},create:function(n,i,r){var o=document.createElement(n);return e.DOM.setAttribs(o,i),"string"==typeof r?o.innerHTML=r:t.each(r,function(t){t.nodeType&&o.appendChild(t)}),o},createFragment:function(t){return e.DOM.createFragment(t)},getWindowSize:function(){return e.DOM.getViewPort()},getSize:function(t){var e,n;if(t.getBoundingClientRect){var i=t.getBoundingClientRect();e=Math.max(i.width||i.right-i.left,t.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,t.offsetHeight)}else e=t.offsetWidth,n=t.offsetHeight;return{width:e,height:n}},getPos:function(t,n){return e.DOM.getPos(t,n)},getViewPort:function(t){return e.DOM.getViewPort(t)},get:function(t){return document.getElementById(t)},addClass:function(t,n){return e.DOM.addClass(t,n)},removeClass:function(t,n){return e.DOM.removeClass(t,n)},hasClass:function(t,n){return e.DOM.hasClass(t,n)},toggleClass:function(t,n,i){return e.DOM.toggleClass(t,n,i)},css:function(t,n,i){return e.DOM.setStyle(t,n,i)},getRuntimeStyle:function(t,n){return e.DOM.getStyle(t,n,!0)},on:function(t,n,i,r){return e.DOM.bind(t,n,i,r)},off:function(t,n,i){return e.DOM.unbind(t,n,i)},fire:function(t,n,i){return e.DOM.fire(t,n,i)},innerHtml:function(t,n){e.DOM.setHTML(t,n)}}}),i("tinymce/ui/BoxUtils",[],function(){return{parseBox:function(t){var e,n=10;if(t)return"number"==typeof t?(t=t||0,{top:t,left:t,bottom:t,right:t}):(t=t.split(" "),e=t.length,1===e?t[1]=t[2]=t[3]=t[0]:2===e?(t[2]=t[0],t[3]=t[1]):3===e&&(t[3]=t[1]),{top:parseInt(t[0],n)||0,right:parseInt(t[1],n)||0,bottom:parseInt(t[2],n)||0,left:parseInt(t[3],n)||0})},measureBox:function(t,e){function n(e){var n=document.defaultView;return n?(e=e.replace(/[A-Z]/g,function(t){return"-"+t}),n.getComputedStyle(t,null).getPropertyValue(e)):t.currentStyle[e]}function i(t){var e=parseFloat(n(t),10);return isNaN(e)?0:e}return{top:i(e+"TopWidth"),right:i(e+"RightWidth"),bottom:i(e+"BottomWidth"),left:i(e+"LeftWidth")}}}}),i("tinymce/ui/ClassList",["tinymce/util/Tools"],function(t){function e(){}function n(t){this.cls=[],this.cls._map={},this.onchange=t||e,this.prefix=""}return t.extend(n.prototype,{add:function(t){return t&&!this.contains(t)&&(this.cls._map[t]=!0,this.cls.push(t),this._change()),this},remove:function(t){if(this.contains(t)){for(var e=0;e<this.cls.length&&this.cls[e]!==t;e++);this.cls.splice(e,1),delete this.cls._map[t],this._change()}return this},toggle:function(t,e){var n=this.contains(t);return n!==e&&(n?this.remove(t):this.add(t),this._change()),this},contains:function(t){return!!this.cls._map[t]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var t;if(this.clsValue)return this.clsValue;t="";for(var e=0;e<this.cls.length;e++)e>0&&(t+=" "),t+=this.prefix+this.cls[e];return t},n}),i("tinymce/ui/ReflowQueue",["tinymce/util/Delay"],function(t){var e,n={};return{add:function(i){var r=i.parent();if(r){if(!r._layout||r._layout.isNative())return;n[r._id]||(n[r._id]=r),e||(e=!0,t.requestAnimationFrame(function(){var t,i;e=!1;for(t in n)i=n[t],i.state.get("rendered")&&i.reflow();n={}},document.body))}},remove:function(t){n[t._id]&&delete n[t._id]}}}),i("tinymce/ui/Control",["tinymce/util/Class","tinymce/util/Tools","tinymce/util/EventDispatcher","tinymce/data/ObservableObject","tinymce/ui/Collection","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/BoxUtils","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(t,e,n,i,r,o,a,s,l,u){function c(t){return t._eventDispatcher||(t._eventDispatcher=new n({scope:t,toggleEvent:function(e,i){i&&n.isNative(e)&&(t._nativeEvents||(t._nativeEvents={}),t._nativeEvents[e]=!0,t.state.get("rendered")&&d(t))}})),t._eventDispatcher}function d(t){function e(e){var n=t.getParentCtrl(e.target);n&&n.fire(e.type,e)}function n(){var t=u._lastHoverCtrl;t&&(t.fire("mouseleave",{target:t.getEl()}),t.parents().each(function(t){t.fire("mouseleave",{target:t.getEl()})}),u._lastHoverCtrl=null)}function i(e){var n,i,r,o=t.getParentCtrl(e.target),a=u._lastHoverCtrl,s=0;if(o!==a){if(u._lastHoverCtrl=o,i=o.parents().toArray().reverse(),i.push(o),a){for(r=a.parents().toArray().reverse(),r.push(a),s=0;s<r.length&&i[s]===r[s];s++);for(n=r.length-1;n>=s;n--)a=r[n],a.fire("mouseleave",{target:a.getEl()})}for(n=s;n<i.length;n++)o=i[n],o.fire("mouseenter",{target:o.getEl()})}}function r(e){e.preventDefault(),"mousewheel"==e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=t.fire("wheel",e)}var o,s,l,u,c,d;if(c=t._nativeEvents){for(l=t.parents().toArray(),l.unshift(t),o=0,s=l.length;!u&&o<s;o++)u=l[o]._eventsRoot;for(u||(u=l[l.length-1]||t),t._eventsRoot=u,s=o,o=0;o<s;o++)l[o]._eventsRoot=u;var h=u._delegates;h||(h=u._delegates={});for(d in c){if(!c)return!1;"wheel"!==d||f?("mouseenter"===d||"mouseleave"===d?u._hasMouseEnter||(a(u.getEl()).on("mouseleave",n).on("mouseover",i),u._hasMouseEnter=1):h[d]||(a(u.getEl()).on(d,e),h[d]=!0),c[d]=!1):p?a(t.getEl()).on("mousewheel",r):a(t.getEl()).on("DOMMouseScroll",r)}}}var h,p="onmousewheel"in document,f=!1,g="mce-",m=0,v={Statics:{classPrefix:g},isRtl:function(){return h.rtl},classPrefix:g,init:function(t){function n(t){var e;for(t=t.split(" "),e=0;e<t.length;e++)u.classes.add(t[e])}var r,o,u=this;u.settings=t=e.extend({},u.Defaults,t),u._id=t.id||"mceu_"+m++,u._aria={role:t.role},u._elmCache={},u.$=a,u.state=new i({visible:!0,active:!1,disabled:!1,value:""}),u.data=new i(t.data),u.classes=new l(function(){u.state.get("rendered")&&(u.getEl().className=this.toString())}),u.classes.prefix=u.classPrefix,r=t.classes,r&&(u.Defaults&&(o=u.Defaults.classes,o&&r!=o&&n(o)),n(r)),e.each("title text name visible disabled active value".split(" "),function(e){e in t&&u[e](t[e])}),u.on("click",function(){if(u.disabled())return!1}),u.settings=t,u.borderBox=s.parseBox(t.border),u.paddingBox=s.parseBox(t.padding),u.marginBox=s.parseBox(t.margin),t.hidden&&u.hide()},Properties:"parent,name",getContainerElm:function(){return document.body},getParentCtrl:function(t){for(var e,n=this.getRoot().controlIdLookup;t&&n&&!(e=n[t.id]);)t=t.parentNode;return e},initLayoutRect:function(){var t,e,n,i,r,a,l,u,c,d,h=this,p=h.settings,f=h.getEl();t=h.borderBox=h.borderBox||s.measureBox(f,"border"),h.paddingBox=h.paddingBox||s.measureBox(f,"padding"),h.marginBox=h.marginBox||s.measureBox(f,"margin"),d=o.getSize(f),u=p.minWidth,c=p.minHeight,r=u||d.width,a=c||d.height,n=p.width,i=p.height,l=p.autoResize,l="undefined"!=typeof l?l:!n&&!i,n=n||r,i=i||a;var g=t.left+t.right,m=t.top+t.bottom,v=p.maxWidth||65535,y=p.maxHeight||65535;return h._layoutRect=e={x:p.x||0,y:p.y||0,w:n,h:i,deltaW:g,deltaH:m,contentW:n-g,contentH:i-m,innerW:n-g,innerH:i-m,startMinWidth:u||0,startMinHeight:c||0,minW:Math.min(r,v),minH:Math.min(a,y),maxW:v,maxH:y,autoResize:l,scrollW:0},h._lastLayoutRect={},e},layoutRect:function(t){var e,n,i,r,o,a,s=this,l=s._layoutRect;return l||(l=s.initLayoutRect()),t?(i=l.deltaW,r=l.deltaH,t.x!==o&&(l.x=t.x),t.y!==o&&(l.y=t.y),t.minW!==o&&(l.minW=t.minW),t.minH!==o&&(l.minH=t.minH),n=t.w,n!==o&&(n=n<l.minW?l.minW:n,n=n>l.maxW?l.maxW:n,l.w=n,l.innerW=n-i),n=t.h,n!==o&&(n=n<l.minH?l.minH:n,n=n>l.maxH?l.maxH:n,l.h=n,l.innerH=n-r),n=t.innerW,n!==o&&(n=n<l.minW-i?l.minW-i:n,n=n>l.maxW-i?l.maxW-i:n,l.innerW=n,l.w=n+i),n=t.innerH,n!==o&&(n=n<l.minH-r?l.minH-r:n,n=n>l.maxH-r?l.maxH-r:n,l.innerH=n,l.h=n+r),t.contentW!==o&&(l.contentW=t.contentW),t.contentH!==o&&(l.contentH=t.contentH),e=s._lastLayoutRect,e.x===l.x&&e.y===l.y&&e.w===l.w&&e.h===l.h||(a=h.repaintControls,a&&a.map&&!a.map[s._id]&&(a.push(s),a.map[s._id]=!0),e.x=l.x,e.y=l.y,e.w=l.w,e.h=l.h),s):l},repaint:function(){var t,e,n,i,r,o,a,s,l,u,c=this;l=document.createRange?function(t){return t}:Math.round,t=c.getEl().style,i=c._layoutRect,s=c._lastRepaintRect||{},r=c.borderBox,o=r.left+r.right,a=r.top+r.bottom,i.x!==s.x&&(t.left=l(i.x)+"px",s.x=i.x),i.y!==s.y&&(t.top=l(i.y)+"px",s.y=i.y),i.w!==s.w&&(u=l(i.w-o),t.width=(u>=0?u:0)+"px",s.w=i.w),i.h!==s.h&&(u=l(i.h-a),t.height=(u>=0?u:0)+"px",s.h=i.h),c._hasBody&&i.innerW!==s.innerW&&(u=l(i.innerW),n=c.getEl("body"),n&&(e=n.style,e.width=(u>=0?u:0)+"px"),s.innerW=i.innerW),c._hasBody&&i.innerH!==s.innerH&&(u=l(i.innerH),n=n||c.getEl("body"),n&&(e=e||n.style,e.height=(u>=0?u:0)+"px"),s.innerH=i.innerH),c._lastRepaintRect=s,c.fire("repaint",{},!1)},updateLayoutRect:function(){var t=this;t.parent()._lastRect=null,o.css(t.getEl(),{width:"",height:""}),t._layoutRect=t._lastRepaintRect=t._lastLayoutRect=null,t.initLayoutRect()},on:function(t,e){function n(t){var e,n;return"string"!=typeof t?t:function(r){return e||i.parentsAndSelf().each(function(i){var r=i.settings.callbacks;if(r&&(e=r[t]))return n=i,!1}),e?e.call(n,r):(r.action=t,void this.fire("execute",r))}}var i=this;return c(i).on(t,n(e)),i},off:function(t,e){return c(this).off(t,e),this},fire:function(t,e,n){var i=this;if(e=e||{},e.control||(e.control=i),e=c(i).fire(t,e),n!==!1&&i.parent)for(var r=i.parent();r&&!e.isPropagationStopped();)r.fire(t,e,!1),r=r.parent();return e},hasEventListeners:function(t){return c(this).has(t)},parents:function(t){var e,n=this,i=new r;for(e=n.parent();e;e=e.parent())i.add(e);return t&&(i=i.filter(t)),i},parentsAndSelf:function(t){return new r(this).add(this.parents(t))},next:function(){var t=this.parent().items();return t[t.indexOf(this)+1]},prev:function(){var t=this.parent().items();return t[t.indexOf(this)-1]},innerHtml:function(t){return this.$el.html(t),this},getEl:function(t){var e=t?this._id+"-"+t:this._id;return this._elmCache[e]||(this._elmCache[e]=a("#"+e)[0]),this._elmCache[e]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(t){}return this},blur:function(){return this.getEl().blur(),this},aria:function(t,e){var n=this,i=n.getEl(n.ariaTarget);return"undefined"==typeof e?n._aria[t]:(n._aria[t]=e,n.state.get("rendered")&&i.setAttribute("role"==t?t:"aria-"+t,e),n)},encode:function(t,e){return e!==!1&&(t=this.translate(t)),(t||"").replace(/[&<>"]/g,function(t){return"&#"+t.charCodeAt(0)+";"})},translate:function(t){return h.translate?h.translate(t):t},before:function(t){var e=this,n=e.parent();return n&&n.insert(t,n.items().indexOf(e),!0),e},after:function(t){var e=this,n=e.parent();return n&&n.insert(t,n.items().indexOf(e)),e},remove:function(){var t,e,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(e=o.length;e--;)o[e].remove()}r&&r.items&&(t=[],r.items().each(function(e){e!==n&&t.push(e)}),r.items().set(t),r._lastRect=null),n._eventsRoot&&n._eventsRoot==n&&a(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(t){return a(t).before(this.renderHtml()),this.postRender(),this},renderTo:function(t){return a(t||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var t,e,n,i,r,o=this,s=o.settings;o.$el=a(o.getEl()),o.state.set("rendered",!0);for(i in s)0===i.indexOf("on")&&o.on(i.substr(2),s[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}d(o),s.style&&(t=o.getEl(),t&&(t.setAttribute("style",s.style),t.style.cssText=s.style)),o.settings.border&&(e=o.borderBox,o.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left}));var l=o.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[o._id]=o;for(var c in o._aria)o.aria(c,o._aria[c]);o.state.get("visible")===!1&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(t){var e,n=t.value;o.state.get("rendered")&&(o.getEl().style.display=n===!1?"none":"",o.getEl().getBoundingClientRect()),e=o.parent(),e&&(e._lastRect=null),o.fire(n?"show":"hide"),u.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(t){function e(t,e){var n,i,r=t;for(n=i=0;r&&r!=e&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}var n,i,r,o,a,s,l=this.getEl(),u=l.parentNode,c=e(l,u);return n=c.x,i=c.y,r=l.offsetWidth,o=l.offsetHeight,a=u.clientWidth,s=u.clientHeight,"end"==t?(n-=a-r,i-=s-o):"center"==t&&(n-=a/2-r/2,i-=s/2-o/2),u.scrollLeft=n,u.scrollTop=i,this},getRoot:function(){for(var t,e=this,n=[];e;){if(e.rootControl){t=e.rootControl;break}n.push(e),t=e,e=e.parent()}t||(t=this);for(var i=n.length;i--;)n[i].rootControl=t;return t},reflow:function(){u.remove(this);var t=this.parent();return t._layout&&!t._layout.isNative()&&t.reflow(),this}};return e.each("text title visible disabled active value".split(" "),function(t){v[t]=function(e){return 0===arguments.length?this.state.get(t):("undefined"!=typeof e&&this.state.set(t,e),this)}}),h=t.extend(v)}),i("tinymce/ui/Factory",[],function(){var t,e={};return{add:function(t,n){e[t.toLowerCase()]=n},has:function(t){return!!e[t.toLowerCase()]},create:function(n,i){var r,o,a;if(!t){a=tinymce.ui;for(o in a)e[o.toLowerCase()]=a[o];t=!0}if("string"==typeof n?(i=i||{},i.type=n):(i=n,n=i.type),n=n.toLowerCase(),r=e[n],!r)throw new Error("Could not find control by type: "+n);return r=new r(i),r.type=n,r}}}),i("tinymce/ui/KeyboardNavigation",[],function(){return function(t){function e(t){return t&&1===t.nodeType}function n(t){return t=t||b,e(t)?t.getAttribute("role"):null}function i(t){for(var e,i=t||b;i=i.parentNode;)if(e=n(i))return e}function r(t){var n=b;if(e(n))return n.getAttribute("aria-"+t)}function o(t){var e=t.tagName.toUpperCase();return"INPUT"==e||"TEXTAREA"==e||"SELECT"==e}function a(t){return!(!o(t)||t.hidden)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(t))}function s(t){function e(t){if(1==t.nodeType&&"none"!=t.style.display){a(t)&&n.push(t);for(var i=0;i<t.childNodes.length;i++)e(t.childNodes[i])}}var n=[];return e(t||_.getEl()),n}function l(t){var e,n;t=t||w,n=t.parents().toArray(),n.unshift(t);for(var i=0;i<n.length&&(e=n[i],!e.settings.ariaRoot);i++);return e}function u(t){var e=l(t),n=s(e.getEl());e.settings.ariaRemember&&"lastAriaIndex"in e?c(e.lastAriaIndex,n):c(0,n)}function c(t,e){return t<0?t=e.length-1:t>=e.length&&(t=0),e[t]&&e[t].focus(),t}function d(t,e){var n=-1,i=l();e=e||s(i.getEl());for(var r=0;r<e.length;r++)e[r]===b&&(n=r);n+=t,i.lastAriaIndex=c(n,e)}function h(){var t=i();"tablist"==t?d(-1,s(b.parentNode)):w.parent().submenu?v():d(-1)}function p(){var t=n(),e=i();"tablist"==e?d(1,s(b.parentNode)):"menuitem"==t&&"menu"==e&&r("haspopup")?y():d(1)}function f(){d(-1)}function g(){var t=n(),e=i();"menuitem"==t&&"menubar"==e?y():"button"==t&&r("haspopup")?y({key:"down"}):d(1)}function m(t){var e=i();if("tablist"==e){var n=s(w.getEl("body"))[0];n&&n.focus()}else d(t.shiftKey?-1:1)}function v(){w.fire("cancel")}function y(t){t=t||{},w.fire("click",{target:b,aria:t})}var b,w,_=t.root;try{b=document.activeElement}catch(x){b=document.body}return w=_.getParentCtrl(b),_.on("keydown",function(t){function e(t,e){o(b)||"slider"!==n(b)&&e(t)!==!1&&t.preventDefault()}if(!t.isDefaultPrevented())switch(t.keyCode){case 37:e(t,h);break;case 39:e(t,p);break;case 38:e(t,f);break;case 40:e(t,g);break;case 27:v();break;case 14:case 13:case 32:e(t,y);break;case 9:m(t)!==!1&&t.preventDefault()}}),_.on("focusin",function(t){b=t.target,w=t.control}),{focusFirst:u}}}),i("tinymce/ui/Container",["tinymce/ui/Control","tinymce/ui/Collection","tinymce/ui/Selector","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/ui/ClassList","tinymce/ui/ReflowQueue"],function(t,e,n,i,r,o,a,s,l){var u={};return t.extend({init:function(t){var n=this;n._super(t),t=n.settings,t.fixed&&n.state.set("fixed",!0),n._items=new e,n.isRtl()&&n.classes.add("rtl"),n.bodyClasses=new s(function(){n.state.get("rendered")&&(n.getEl("body").className=this.toString())}),n.bodyClasses.prefix=n.classPrefix,n.classes.add("container"),n.bodyClasses.add("container-body"),t.containerCls&&n.classes.add(t.containerCls),n._layout=i.create((t.layout||"")+"layout"),n.settings.items?n.add(n.settings.items):n.add(n.render()),n._hasBody=!0},items:function(){return this._items},find:function(t){return t=u[t]=u[t]||new n(t),t.find(this)},add:function(t){var e=this;return e.items().add(e.create(t)).parent(e),e},focus:function(t){var e,n,i,r=this;return t&&(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(r):(i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each(function(t){return t.settings.autofocus?(e=null,!1):void(t.canFocus&&(e=e||t))}),e&&e.focus(),r)},replace:function(t,e){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===t){i[r]=e;break}r>=0&&(n=e.getEl(),n&&n.parentNode.removeChild(n),n=t.getEl(),n&&n.parentNode.removeChild(n)),e.parent(this)},create:function(e){var n,r=this,a=[];return o.isArray(e)||(e=[e]),o.each(e,function(e){e&&(e instanceof t||("string"==typeof e&&(e={type:e}),n=o.extend({},r.settings.defaults,e),e.type=n.type=n.type||e.type||r.settings.defaultType||(n.defaults?n.defaults.type:null),e=i.create(n)),a.push(e))}),a},renderNew:function(){var t=this;return t.items().each(function(e,n){var i;e.parent(t),e.state.get("rendered")||(i=t.getEl("body"),i.hasChildNodes()&&n<=i.childNodes.length-1?a(i.childNodes[n]).before(e.renderHtml()):a(i).append(e.renderHtml()),e.postRender(),l.add(e))}),t._layout.applyClasses(t.items().filter(":visible")),t._lastRect=null,t},append:function(t){return this.add(t).renderNew()},prepend:function(t){var e=this;return e.items().set(e.create(t).concat(e.items().toArray())),e.renderNew()},insert:function(t,e,n){var i,r,o,a=this;return t=a.create(t),i=a.items(),!n&&e<i.length-1&&(e+=1),e>=0&&e<i.length&&(r=i.slice(0,e).toArray(),o=i.slice(e).toArray(),i.set(r.concat(t,o))),a.renderNew()},fromJSON:function(t){var e=this;for(var n in t)e.find("#"+n).value(t[n]);return e},toJSON:function(){var t=this,e={};return t.find("*").each(function(t){var n=t.name(),i=t.value();n&&"undefined"!=typeof i&&(e[n]=i)}),e},renderHtml:function(){var t=this,e=t._layout,n=this.settings.role;return t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"},postRender:function(){var t,e=this;return e.items().exec("postRender"),e._super(),e._layout.postRender(e),e.state.set("rendered",!0),e.settings.style&&e.$el.css(e.settings.style),e.settings.border&&(t=e.borderBox,e.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),e.parent()||(e.keyboardNav=new r({root:e})),e},initLayoutRect:function(){var t=this,e=t._super();return t._layout.recalc(t),e},recalc:function(){var t=this,e=t._layoutRect,n=t._lastRect;if(!n||n.w!=e.w||n.h!=e.h)return t._layout.recalc(t),e=t.layoutRect(),t._lastRect={x:e.x,y:e.y,w:e.w,h:e.h},!0},reflow:function(){var e;if(l.remove(this),this.visible()){for(t.repaintControls=[],t.repaintControls.map={},this.recalc(),e=t.repaintControls.length;e--;)t.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),t.repaintControls=[]}return this}})}),i("tinymce/ui/DragHelper",["tinymce/dom/DomQuery"],function(t){function e(t){var e,n,i,r,o,a,s,l,u=Math.max;return e=t.documentElement,n=t.body,i=u(e.scrollWidth,n.scrollWidth),r=u(e.clientWidth,n.clientWidth),o=u(e.offsetWidth,n.offsetWidth),a=u(e.scrollHeight,n.scrollHeight),s=u(e.clientHeight,n.clientHeight),l=u(e.offsetHeight,n.offsetHeight),{width:i<o?r:i,height:a<l?s:a}}function n(t){var e,n;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}return function(i,r){function o(){return p.getElementById(r.handle||i)}var a,s,l,u,c,d,h,p=r.document||document;r=r||{},l=function(i){var l,f,g=e(p);n(i),i.preventDefault(),s=i.button,l=o(),d=i.screenX,h=i.screenY,f=window.getComputedStyle?window.getComputedStyle(l,null).getPropertyValue("cursor"):l.runtimeStyle.cursor,a=t("<div>").css({position:"absolute",top:0,left:0,width:g.width,height:g.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(p.body),t(p).on("mousemove touchmove",c).on("mouseup touchend",u),r.start(i)},c=function(t){return n(t),t.button!==s?u(t):(t.deltaX=t.screenX-d,t.deltaY=t.screenY-h,t.preventDefault(),void r.drag(t))},u=function(e){n(e),t(p).off("mousemove touchmove",c).off("mouseup touchend",u),a.remove(),r.stop&&r.stop(e)},this.destroy=function(){t(o()).off()},t(o()).on("mousedown touchstart",l)}}),i("tinymce/ui/Scrollable",["tinymce/dom/DomQuery","tinymce/ui/DragHelper"],function(t,e){return{init:function(){var t=this;t.on("repaint",t.renderScroll)},renderScroll:function(){function n(){function e(e,a,s,l,u,c){var d,h,p,f,g,m,v,y,b;if(h=r.getEl("scroll"+e)){if(y=a.toLowerCase(),b=s.toLowerCase(),t(r.getEl("absend")).css(y,r.layoutRect()[l]-1),!u)return void t(h).css("display","none");t(h).css("display","block"),d=r.getEl("body"),p=r.getEl("scroll"+e+"t"),f=d["client"+s]-2*o,f-=n&&i?h["client"+c]:0,g=d["scroll"+s],m=f/g,v={},v[y]=d["offset"+a]+o,v[b]=f,t(h).css(v),v={},v[y]=d["scroll"+a]*m,v[b]=f*m,t(p).css(v)}}var n,i,a;a=r.getEl("body"),n=a.scrollWidth>a.clientWidth,i=a.scrollHeight>a.clientHeight,e("h","Left","Width","contentW",n,"Height"),e("v","Top","Height","contentH",i,"Width")}function i(){function n(n,i,a,s,l){var u,c=r._id+"-scroll"+n,d=r.classPrefix;t(r.getEl()).append('<div id="'+c+'" class="'+d+"scrollbar "+d+"scrollbar-"+n+'"><div id="'+c+'t" class="'+d+'scrollbar-thumb"></div></div>'),r.draghelper=new e(c+"t",{start:function(){u=r.getEl("body")["scroll"+i],t("#"+c).addClass(d+"active")},drag:function(t){var e,c,d,h,p=r.layoutRect();c=p.contentW>p.innerW,d=p.contentH>p.innerH,h=r.getEl("body")["client"+a]-2*o,h-=c&&d?r.getEl("scroll"+n)["client"+l]:0,e=h/r.getEl("body")["scroll"+a],r.getEl("body")["scroll"+i]=u+t["delta"+s]/e},stop:function(){t("#"+c).removeClass(d+"active")}})}r.classes.add("scroll"),n("v","Top","Height","Y","Width"),n("h","Left","Width","X","Height")}var r=this,o=2;r.settings.autoScroll&&(r._hasScroll||(r._hasScroll=!0,i(),r.on("wheel",function(t){var e=r.getEl("body");e.scrollLeft+=10*(t.deltaX||0),e.scrollTop+=10*t.deltaY,n()}),t(r.getEl("body")).on("scroll",n)),n())}}}),i("tinymce/ui/Panel",["tinymce/ui/Container","tinymce/ui/Scrollable"],function(t,e){return t.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[e],renderHtml:function(){var t=this,e=t._layout,n=t.settings.html;return t.preRender(),e.preRender(t),"undefined"==typeof n?n='<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+e.renderHtml(t)+"</div>":("function"==typeof n&&(n=n.call(t)),t._hasBody=!1),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1" role="group">'+(t._preBodyHtml||"")+n+"</div>"}})}),i("tinymce/ui/Movable",["tinymce/ui/DomUtils"],function(t){function e(e,n,i){var r,o,a,s,l,u,c,d,h,p;return h=t.getViewPort(),o=t.getPos(n),a=o.x,s=o.y,e.state.get("fixed")&&"static"==t.getRuntimeStyle(document.body,"position")&&(a-=h.x,s-=h.y),r=e.getEl(),p=t.getSize(r),l=p.width,u=p.height,p=t.getSize(n),c=p.width,d=p.height,i=(i||"").split(""),"b"===i[0]&&(s+=d),"r"===i[1]&&(a+=c),"c"===i[0]&&(s+=Math.round(d/2)),"c"===i[1]&&(a+=Math.round(c/2)),"b"===i[3]&&(s-=u),"r"===i[4]&&(a-=l),"c"===i[3]&&(s-=Math.round(u/2)),"c"===i[4]&&(a-=Math.round(l/2)),{x:a,y:s,w:l,h:u}}return{testMoveRel:function(n,i){for(var r=t.getViewPort(),o=0;o<i.length;o++){var a=e(this,n,i[o]);if(this.state.get("fixed")){if(a.x>0&&a.x+a.w<r.w&&a.y>0&&a.y+a.h<r.h)return i[o]}else if(a.x>r.x&&a.x+a.w<r.w+r.x&&a.y>r.y&&a.y+a.h<r.h+r.y)return i[o]}return i[0]},moveRel:function(t,n){"string"!=typeof n&&(n=this.testMoveRel(t,n));var i=e(this,t,n);return this.moveTo(i.x,i.y)},moveBy:function(t,e){var n=this,i=n.layoutRect();return n.moveTo(i.x+t,i.y+e),n},moveTo:function(e,n){function i(t,e,n){return t<0?0:t+n>e?(t=e-n,t<0?0:t):t}var r=this;if(r.settings.constrainToViewport){var o=t.getViewPort(window),a=r.layoutRect();e=i(e,o.w+o.x,a.w),n=i(n,o.h+o.y,a.h)}return r.state.get("rendered")?r.layoutRect({x:e,y:n}).repaint():(r.settings.x=e,r.settings.y=n),r.fire("move",{x:e,y:n}),r}}}),i("tinymce/ui/Resizable",["tinymce/ui/DomUtils"],function(t){return{resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,n){if(e<=1||n<=1){var i=t.getWindowSize();e=e<=1?e*i.w:e,n=n<=1?n*i.h:n}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:n,w:e,h:n}).reflow()},resizeBy:function(t,e){var n=this,i=n.layoutRect();return n.resizeTo(i.w+t,i.h+e)}}}),i("tinymce/ui/FloatPanel",["tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/util/Delay"],function(t,e,n,i,r,o){function a(t,e){for(;t;){if(t==e)return!0;t=t.parent()}}function s(t){for(var e=y.length;e--;){var n=y[e],i=n.getParentCtrl(t.target);if(n.settings.autohide){if(i&&(a(i,n)||n.parent()===i))continue;t=n.fire("autohide",{target:t.target}),t.isDefaultPrevented()||n.hide()}}}function l(){f||(f=function(t){2!=t.button&&s(t)},r(document).on("click touchstart",f))}function u(){g||(g=function(){var t;for(t=y.length;t--;)d(y[t])},r(window).on("scroll",g))}function c(){if(!m){var t=document.documentElement,e=t.clientWidth,n=t.clientHeight;m=function(){document.all&&e==t.clientWidth&&n==t.clientHeight||(e=t.clientWidth,n=t.clientHeight,w.hideAll())},r(window).on("resize",m)}}function d(t){function e(e,n){for(var i,r=0;r<y.length;r++)if(y[r]!=t)for(i=y[r].parent();i&&(i=i.parent());)i==t&&y[r].fixed(e).moveBy(0,n).repaint()}var n=i.getViewPort().y;t.settings.autofix&&(t.state.get("fixed")?t._autoFixY>n&&(t.fixed(!1).layoutRect({y:t._autoFixY}).repaint(),e(!1,t._autoFixY-n)):(t._autoFixY=t.layoutRect().y,t._autoFixY<n&&(t.fixed(!0).layoutRect({y:0}).repaint(),e(!0,n-t._autoFixY))))}function h(t,e){var n,i,o=w.zIndex||65535;if(t)b.push(e);else for(n=b.length;n--;)b[n]===e&&b.splice(n,1);if(b.length)for(n=0;n<b.length;n++)b[n].modal&&(o++,i=b[n]),b[n].getEl().style.zIndex=o,b[n].zIndex=o,o++;var a=r("#"+e.classPrefix+"modal-block",e.getContainerElm())[0];i?r(a).css("z-index",i.zIndex-1):a&&(a.parentNode.removeChild(a),v=!1),w.currentZIndex=o}function p(t){var e;for(e=y.length;e--;)y[e]===t&&y.splice(e,1);for(e=b.length;e--;)b[e]===t&&b.splice(e,1)}var f,g,m,v,y=[],b=[],w=t.extend({Mixins:[e,n],init:function(t){var e=this;e._super(t),e._eventsRoot=e,e.classes.add("floatpanel"),t.autohide&&(l(),c(),y.push(e)),t.autofix&&(u(),e.on("move",function(){d(this)})),e.on("postrender show",function(t){if(t.control==e){var n,i=e.classPrefix;e.modal&&!v&&(n=r("#"+i+"modal-block",e.getContainerElm()),n[0]||(n=r('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(e.getContainerElm())),o.setTimeout(function(){n.addClass(i+"in"),r(e.getEl()).addClass(i+"in")}),v=!0),h(!0,e)}}),e.on("show",function(){e.parents().each(function(t){if(t.state.get("fixed"))return e.fixed(!0),!1})}),t.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?"end":"start")),e.aria("label",t.ariaLabel),e.aria("labelledby",e._id),e.aria("describedby",e.describedBy||e._id+"-none")},fixed:function(t){var e=this;if(e.state.get("fixed")!=t){if(e.state.get("rendered")){var n=i.getViewPort();t?e.layoutRect().y-=n.y:e.layoutRect().y+=n.y}e.classes.toggle("fixed",t),e.state.set("fixed",t)}return e},show:function(){var t,e=this,n=e._super();for(t=y.length;t--&&y[t]!==e;);return t===-1&&y.push(e),n},hide:function(){return p(this),h(!1,this),this._super()},hideAll:function(){w.hideAll()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||(t.remove(),h(!1,t)),t},remove:function(){p(this),this._super()},postRender:function(){var t=this;return t.settings.bodyRole&&this.getEl("body").setAttribute("role",t.settings.bodyRole),t._super()}});return w.hideAll=function(){for(var t=y.length;t--;){var e=y[t];e&&e.settings.autohide&&(e.hide(),y.splice(t,1))}},w}),i("tinymce/ui/Window",["tinymce/ui/FloatPanel","tinymce/ui/Panel","tinymce/ui/DomUtils","tinymce/dom/DomQuery","tinymce/ui/DragHelper","tinymce/ui/BoxUtils","tinymce/Env","tinymce/util/Delay"],function(t,e,n,i,r,o,a,s){function l(t){var e,n="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",r=i("meta[name=viewport]")[0];
a.overrideViewPort!==!1&&(r||(r=document.createElement("meta"),r.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(r)),e=r.getAttribute("content"),e&&"undefined"!=typeof h&&(h=e),r.setAttribute("content",t?n:h))}function u(t){for(var e=0;e<d.length;e++)if(d[e]._fullscreen)return;i([document.documentElement,document.body]).removeClass(t+"fullscreen")}function c(){function t(){var t,e,i=n.getWindowSize();for(t=0;t<d.length;t++)e=d[t].layoutRect(),d[t].moveTo(d[t].settings.x||Math.max(0,i.w/2-e.w/2),d[t].settings.y||Math.max(0,i.h/2-e.h/2))}if(!a.desktop){var e={w:window.innerWidth,h:window.innerHeight};s.setInterval(function(){var t=window.innerWidth,n=window.innerHeight;e.w==t&&e.h==n||(e={w:t,h:n},i(window).trigger("resize"))},100)}i(window).on("resize",t)}var d=[],h="",p=t.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(t){var i=this;i._super(t),i.isRtl()&&i.classes.add("rtl"),i.classes.add("window"),i.bodyClasses.add("window-body"),i.state.set("fixed",!0),t.buttons&&(i.statusbar=new e({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:i.isRtl()?"start":"end",defaults:{type:"button"},items:t.buttons}),i.statusbar.classes.add("foot"),i.statusbar.parent(i)),i.on("click",function(t){var e=i.classPrefix+"close";(n.hasClass(t.target,e)||n.hasClass(t.target.parentNode,e))&&i.close()}),i.on("cancel",function(){i.close()}),i.aria("describedby",i.describedBy||i._id+"-none"),i.aria("label",t.title),i._fullscreen=!1},recalc:function(){var t,e,i,r,o=this,a=o.statusbar;o._fullscreen&&(o.layoutRect(n.getWindowSize()),o.layoutRect().contentH=o.layoutRect().innerH),o._super(),t=o.layoutRect(),o.settings.title&&!o._fullscreen&&(e=t.headerW,e>t.w&&(i=t.x-Math.max(0,e/2),o.layoutRect({w:e,x:i}),r=!0)),a&&(a.layoutRect({w:o.layoutRect().innerW}).recalc(),e=a.layoutRect().minW+t.deltaW,e>t.w&&(i=t.x-Math.max(0,e-t.w),o.layoutRect({w:e,x:i}),r=!0)),r&&o.recalc()},initLayoutRect:function(){var t,e=this,i=e._super(),r=0;if(e.settings.title&&!e._fullscreen){t=e.getEl("head");var o=n.getSize(t);i.headerW=o.width,i.headerH=o.height,r+=i.headerH}e.statusbar&&(r+=e.statusbar.layoutRect().h),i.deltaH+=r,i.minH+=r,i.h+=r;var a=n.getWindowSize();return i.x=e.settings.x||Math.max(0,a.w/2-i.w/2),i.y=e.settings.y||Math.max(0,a.h/2-i.h/2),i},renderHtml:function(){var t=this,e=t._layout,n=t._id,i=t.classPrefix,r=t.settings,o="",a="",s=r.html;return t.preRender(),e.preRender(t),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+t.encode(r.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(s='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),"undefined"==typeof s&&(s=e.renderHtml(t)),t.statusbar&&(a=t.statusbar.renderHtml()),'<div id="'+n+'" class="'+t.classes+'" hidefocus="1"><div class="'+t.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+t.bodyClasses+'">'+s+"</div>"+a+"</div></div>"},fullscreen:function(t){var e,r,a=this,l=document.documentElement,u=a.classPrefix;if(t!=a._fullscreen)if(i(window).on("resize",function(){var t;if(a._fullscreen)if(e)a._timer||(a._timer=s.setTimeout(function(){var t=n.getWindowSize();a.moveTo(0,0).resizeTo(t.w,t.h),a._timer=0},50));else{t=(new Date).getTime();var i=n.getWindowSize();a.moveTo(0,0).resizeTo(i.w,i.h),(new Date).getTime()-t>50&&(e=!0)}}),r=a.layoutRect(),a._fullscreen=t,t){a._initial={x:r.x,y:r.y,w:r.w,h:r.h},a.borderBox=o.parseBox("0"),a.getEl("head").style.display="none",r.deltaH-=r.headerH+2,i([l,document.body]).addClass(u+"fullscreen"),a.classes.add("fullscreen");var c=n.getWindowSize();a.moveTo(0,0).resizeTo(c.w,c.h)}else a.borderBox=o.parseBox(a.settings.border),a.getEl("head").style.display="",r.deltaH+=r.headerH,i([l,document.body]).removeClass(u+"fullscreen"),a.classes.remove("fullscreen"),a.moveTo(a._initial.x,a._initial.y).resizeTo(a._initial.w,a._initial.h);return a.reflow()},postRender:function(){var t,e=this;setTimeout(function(){e.classes.add("in"),e.fire("open")},0),e._super(),e.statusbar&&e.statusbar.postRender(),e.focus(),this.dragHelper=new r(e._id+"-dragh",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}}),e.on("submit",function(t){t.isDefaultPrevented()||e.close()}),d.push(e),l(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var t,e=this;for(e.dragHelper.destroy(),e._super(),e.statusbar&&this.statusbar.remove(),t=d.length;t--;)d[t]===e&&d.splice(t,1);l(d.length>0),u(e.classPrefix)},getContentWindow:function(){var t=this.getEl().getElementsByTagName("iframe")[0];return t?t.contentWindow:null}});return c(),p}),i("tinymce/ui/MessageBox",["tinymce/ui/Window"],function(t){var e=t.extend({init:function(t){t={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(t)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(n){function i(t,e,n){return{type:"button",text:t,subtype:n?"primary":"",onClick:function(t){t.control.parents()[1].close(),o(e)}}}var r,o=n.callback||function(){};switch(n.buttons){case e.OK_CANCEL:r=[i("Ok",!0,!0),i("Cancel",!1)];break;case e.YES_NO:case e.YES_NO_CANCEL:r=[i("Yes",1,!0),i("No",0)],n.buttons==e.YES_NO_CANCEL&&r.push(i("Cancel",-1));break;default:r=[i("Ok",!0,!0)]}return new t({padding:20,x:n.x,y:n.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:r,title:n.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:n.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:n.onClose,onCancel:function(){o(!1)}}).renderTo(document.body).reflow()},alert:function(t,n){return"string"==typeof t&&(t={text:t}),t.callback=n,e.msgBox(t)},confirm:function(t,n){return"string"==typeof t&&(t={text:t}),t.callback=n,t.buttons=e.OK_CANCEL,e.msgBox(t)}}});return e}),i("tinymce/WindowManager",["tinymce/ui/Window","tinymce/ui/MessageBox"],function(t,e){return function(n){function i(){if(s.length)return s[s.length-1]}function r(t){n.fire("OpenWindow",{win:t})}function o(t){n.fire("CloseWindow",{win:t})}var a=this,s=[];a.windows=s,n.on("remove",function(){for(var t=s.length;t--;)s[t].close()}),a.open=function(e,i){var a;return n.editorManager.setActive(n),e.title=e.title||" ",e.url=e.url||e.file,e.url&&(e.width=parseInt(e.width||320,10),e.height=parseInt(e.height||240,10)),e.body&&(e.items={defaults:e.defaults,type:e.bodyType||"form",items:e.body,data:e.data,callbacks:e.commands}),e.url||e.buttons||(e.buttons=[{text:"Ok",subtype:"primary",onclick:function(){a.find("form")[0].submit()}},{text:"Cancel",onclick:function(){a.close()}}]),a=new t(e),s.push(a),a.on("close",function(){for(var t=s.length;t--;)s[t]===a&&s.splice(t,1);s.length||n.focus(),o(a)}),e.data&&a.on("postRender",function(){this.find("*").each(function(t){var n=t.name();n in e.data&&t.value(e.data[n])})}),a.features=e||{},a.params=i||{},1===s.length&&n.nodeChanged(),a=a.renderTo().reflow(),r(a),a},a.alert=function(t,i,a){var s;s=e.alert(t,function(){i?i.call(a||this):n.focus()}),s.on("close",function(){o(s)}),r(s)},a.confirm=function(t,n,i){var a;a=e.confirm(t,function(t){n.call(i||this,t)}),a.on("close",function(){o(a)}),r(a)},a.close=function(){i()&&i().close()},a.getParams=function(){return i()?i().params:null},a.setParams=function(t){i()&&(i().params=t)},a.getWindows=function(){return s}}}),i("tinymce/ui/Tooltip",["tinymce/ui/Control","tinymce/ui/Movable"],function(t,e){return t.extend({Mixins:[e],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var t=this,e=t.classPrefix;return'<div id="'+t._id+'" class="'+t.classes+'" role="presentation"><div class="'+e+'tooltip-arrow"></div><div class="'+e+'tooltip-inner">'+t.encode(t.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)}),t._super()},repaint:function(){var t,e,n=this;t=n.getEl().style,e=n._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=131070}})}),i("tinymce/ui/Widget",["tinymce/ui/Control","tinymce/ui/Tooltip"],function(t,e){var n,i=t.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.canFocus=!0,t.tooltip&&i.tooltips!==!1&&(e.on("mouseenter",function(n){var i=e.tooltip().moveTo(-65535);if(n.control==e){var r=i.text(t.tooltip).show().testMoveRel(e.getEl(),["bc-tc","bc-tl","bc-tr"]);i.classes.toggle("tooltip-n","bc-tc"==r),i.classes.toggle("tooltip-nw","bc-tl"==r),i.classes.toggle("tooltip-ne","bc-tr"==r),i.moveRel(e.getEl(),r)}else i.hide()}),e.on("mouseleave mousedown click",function(){e.tooltip().hide()})),e.aria("label",t.ariaLabel||t.tooltip)},tooltip:function(){return n||(n=new e({type:"tooltip"}),n.renderTo()),n},postRender:function(){var t=this,e=t.settings;t._super(),t.parent()||!e.width&&!e.height||(t.initLayoutRect(),t.repaint()),e.autofocus&&t.focus()},bindStates:function(){function t(t){n.aria("disabled",t),n.classes.toggle("disabled",t)}function e(t){n.aria("pressed",t),n.classes.toggle("active",t)}var n=this;return n.state.on("change:disabled",function(e){t(e.value)}),n.state.on("change:active",function(t){e(t.value)}),n.state.get("disabled")&&t(!0),n.state.get("active")&&e(!0),n._super()},remove:function(){this._super(),n&&(n.remove(),n=null)}});return i}),i("tinymce/ui/Progress",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{value:0},init:function(t){var e=this;e._super(t),e.classes.add("progress"),e.settings.filter||(e.settings.filter=function(t){return Math.round(t)})},renderHtml:function(){var t=this,e=t._id,n=this.classPrefix;return'<div id="'+e+'" class="'+t.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var t=this;return t._super(),t.value(t.settings.value),t},bindStates:function(){function t(t){t=e.settings.filter(t),e.getEl().lastChild.innerHTML=t+"%",e.getEl().firstChild.firstChild.style.width=t+"%"}var e=this;return e.state.on("change:value",function(e){t(e.value)}),t(e.state.get("value")),e._super()}})}),i("tinymce/ui/Notification",["tinymce/ui/Control","tinymce/ui/Movable","tinymce/ui/Progress","tinymce/util/Delay"],function(t,e,n,i){return t.extend({Mixins:[e],Defaults:{classes:"widget notification"},init:function(t){var e=this;e._super(t),t.text&&e.text(t.text),t.icon&&(e.icon=t.icon),t.color&&(e.color=t.color),t.type&&e.classes.add("notification-"+t.type),t.timeout&&(t.timeout<0||t.timeout>0)&&!t.closeButton?e.closeButton=!1:(e.classes.add("has-close"),e.closeButton=!0),t.progressBar&&(e.progressBar=new n),e.on("click",function(t){t.target.className.indexOf(e.classPrefix+"close")!=-1&&e.close()})},renderHtml:function(){var t=this,e=t.classPrefix,n="",i="",r="",o="";return t.icon&&(n='<i class="'+e+"ico "+e+"i-"+t.icon+'"></i>'),t.color&&(o=' style="background-color: '+t.color+'"'),t.closeButton&&(i='<button type="button" class="'+e+'close" aria-hidden="true">×</button>'),t.progressBar&&(r=t.progressBar.renderHtml()),'<div id="'+t._id+'" class="'+t.classes+'"'+o+' role="presentation">'+n+'<div class="'+e+'notification-inner">'+t.state.get("text")+"</div>"+r+i+"</div>"},postRender:function(){var t=this;return i.setTimeout(function(){t.$el.addClass(t.classPrefix+"in")}),t._super()},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl().childNodes[1].innerHTML=e.value}),t.progressBar&&t.progressBar.bindStates(),t._super()},close:function(){var t=this;return t.fire("close").isDefaultPrevented()||t.remove(),t},repaint:function(){var t,e,n=this;t=n.getEl().style,e=n._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=131070}})}),i("tinymce/NotificationManager",["tinymce/ui/Notification","tinymce/util/Delay"],function(t,e){return function(n){function i(){if(l.length)return l[l.length-1]}function r(){e.requestAnimationFrame(function(){o(),a()})}function o(){for(var t=0;t<l.length;t++)l[t].moveTo(0,0)}function a(){if(l.length>0){var t=l.slice(0,1)[0],e=n.inline?n.getElement():n.getContentAreaContainer();if(t.moveRel(e,"tc-tc"),l.length>1)for(var i=1;i<l.length;i++)l[i].moveRel(l[i-1].getEl(),"bc-tc")}}var s=this,l=[];s.notifications=l,n.on("remove",function(){for(var t=l.length;t--;)l[t].close()}),n.on("ResizeEditor",a),n.on("ResizeWindow",r),s.open=function(e){var i;return n.editorManager.setActive(n),i=new t(e),l.push(i),e.timeout>0&&(i.timer=setTimeout(function(){i.close()},e.timeout)),i.on("close",function(){var t=l.length;for(i.timer&&n.getWin().clearTimeout(i.timer);t--;)l[t]===i&&l.splice(t,1);a()}),i.renderTo(),a(),i},s.close=function(){i()&&i().close()},s.getNotifications=function(){return l},n.on("SkinLoaded",function(){var t=n.settings.service_message;t&&n.notificationManager.open({text:t,type:"warning",timeout:0,icon:""})})}}),i("tinymce/dom/NodePath",["tinymce/dom/DOMUtils"],function(t){function e(e,n,i){for(var r=[];n&&n!=e;n=n.parentNode)r.push(t.nodeIndex(n,i));return r}function n(t,e){var n,i,r;for(i=t,n=e.length-1;n>=0;n--){if(r=i.childNodes,e[n]>r.length-1)return null;i=r[e[n]]}return i}return{create:e,resolve:n}}),i("tinymce/util/Quirks",["tinymce/util/VK","tinymce/dom/RangeUtils","tinymce/dom/TreeWalker","tinymce/dom/NodePath","tinymce/html/Node","tinymce/html/Entities","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/caret/CaretContainer"],function(t,e,n,i,r,o,a,s,l,u){return function(c){function d(t,e){try{c.getDoc().execCommand(t,!1,e)}catch(n){}}function h(){var t=c.getDoc().documentMode;return t?t:6}function p(t){return t.isDefaultPrevented()}function f(t){var e,n;t.dataTransfer&&(c.selection.isCollapsed()&&"IMG"==t.target.tagName&&tt.select(t.target),e=c.selection.getContent(),e.length>0&&(n=st+escape(c.id)+","+escape(e),t.dataTransfer.setData(lt,n)))}function g(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(lt),e&&e.indexOf(st)>=0)?(e=e.substr(st.length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}function m(t){c.queryCommandSupported("mceInsertClipboardContent")?c.execCommand("mceInsertClipboardContent",!1,{content:t}):c.execCommand("mceInsertContent",!1,t)}function v(){function r(t){var e=x.schema.getBlockElements(),n=c.getBody();if("BR"!=t.nodeName)return!1;for(;t!=n&&!e[t.nodeName];t=t.parentNode)if(t.nextSibling)return!1;return!0}function o(t,e){var n;for(n=t.nextSibling;n&&n!=e;n=n.nextSibling)if((3!=n.nodeType||0!==Z.trim(n.data).length)&&n!==e)return!1;return n===e}function a(t,e,i){var o,a,s;for(s=x.schema.getNonEmptyElements(),o=new n(i||t,t);a=o[e?"next":"prev"]();){if(s[a.nodeName]&&!r(a))return a;if(3==a.nodeType&&a.data.length>0)return a}}function u(t){var n,i,r,o,s;if(!t.collapsed&&(n=x.getParent(e.getNode(t.startContainer,t.startOffset),x.isBlock),i=x.getParent(e.getNode(t.endContainer,t.endOffset),x.isBlock),s=c.schema.getTextBlockElements(),n!=i&&s[n.nodeName]&&s[i.nodeName]&&"false"!==x.getContentEditable(n)&&"false"!==x.getContentEditable(i)))return t.deleteContents(),r=a(n,!1),o=a(i,!0),x.isEmpty(i)||Z(n).append(i.childNodes),Z(i).remove(),r?1==r.nodeType?"BR"==r.nodeName?(t.setStartBefore(r),t.setEndBefore(r)):(t.setStartAfter(r),t.setEndAfter(r)):(t.setStart(r,r.data.length),t.setEnd(r,r.data.length)):o&&(1==o.nodeType?(t.setStartBefore(o),t.setEndBefore(o)):(t.setStart(o,0),t.setEnd(o,0))),k.setRng(t),!0}function d(t,n){var i,r,s,l,u,d;if(!t.collapsed)return t;if(u=t.startContainer,d=t.startOffset,3==u.nodeType)if(n){if(d<u.data.length)return t}else if(d>0)return t;if(i=e.getNode(t.startContainer,t.startOffset),s=x.getParent(i,x.isBlock),r=a(c.getBody(),n,i),l=x.getParent(r,x.isBlock),!i||!r)return t;if(l&&s!=l)if(n){if(!o(s,l))return t;1==i.nodeType?"BR"==i.nodeName?t.setStartBefore(i):t.setStartAfter(i):t.setStart(i,i.data.length),1==r.nodeType?t.setEnd(r,0):t.setEndBefore(r)}else{if(!o(l,s))return t;1==r.nodeType?"BR"==r.nodeName?t.setStartBefore(r):t.setStartAfter(r):t.setStart(r,r.data.length),1==i.nodeType?t.setEnd(i,0):t.setEndBefore(i)}return t}function h(t){var e=k.getRng();if(e=d(e,t),u(e))return!0}function v(t,e){function n(t,n){return g=Z(n).parents().filter(function(t,e){return!!c.schema.getTextInlineElements()[e.nodeName]}),l=t.cloneNode(!1),g=s.map(g,function(t){return t=t.cloneNode(!1),l.hasChildNodes()?(t.appendChild(l.firstChild),l.appendChild(t)):l.appendChild(t),l.appendChild(t),t}),g.length?(f=x.create("br"),g[0].appendChild(f),x.replace(l,t),e.setStartBefore(f),e.setEndBefore(f),c.selection.setRng(e),f):null}function r(t){return t&&c.schema.getTextBlockElements()[t.tagName]}var o,a,l,u,d,h,p,f,g;if(e.collapsed&&(h=e.startContainer,p=e.startOffset,a=x.getParent(h,x.isBlock),r(a)))if(1==h.nodeType){if(h=h.childNodes[p],h&&"BR"!=h.tagName)return;if(d=t?a.nextSibling:a.previousSibling,x.isEmpty(a)&&r(d)&&x.isEmpty(d)&&n(a,h))return x.remove(d),!0}else if(3==h.nodeType){if(o=i.create(a,h),u=a.cloneNode(!0),h=i.resolve(u,o),t){if(p>=h.data.length)return;h.deleteData(p,1)}else{if(p<=0)return;h.deleteData(p-1,1)}if(x.isEmpty(u))return n(a,h)}}function y(t){var e,n,i;h(t)||(s.each(c.getBody().getElementsByTagName("*"),function(t){"SPAN"==t.tagName&&t.setAttribute("mce-data-marked",1),!t.hasAttribute("data-mce-style")&&t.hasAttribute("style")&&c.dom.setAttrib(t,"style",c.dom.getAttrib(t,"style"))}),e=new C(function(){}),e.observe(c.getDoc(),{childList:!0,attributes:!0,subtree:!0,attributeFilter:["style"]}),c.getDoc().execCommand(t?"ForwardDelete":"Delete",!1,null),n=c.selection.getRng(),i=n.startContainer.parentNode,s.each(e.takeRecords(),function(t){if(x.isChildOf(t.target,c.getBody())){if("style"==t.attributeName){var e=t.target.getAttribute("data-mce-style");e?t.target.setAttribute("style",e):t.target.removeAttribute("style")}s.each(t.addedNodes,function(t){if("SPAN"==t.nodeName&&!t.getAttribute("mce-data-marked")){var e,r;t==i&&(e=n.startOffset,r=t.firstChild),x.remove(t,!0),r&&(n.setStart(r,e),n.setEnd(r,e),c.selection.setRng(n))}})}}),e.disconnect(),s.each(c.dom.select("span[mce-data-marked]"),function(t){t.removeAttribute("mce-data-marked")}))}var b,w,_=c.getDoc(),x=c.dom,k=c.selection,C=window.MutationObserver;C||(b=!0,C=function(){function t(t){var e=t.relatedNode||t.target;i.push({target:e,addedNodes:[e]})}function e(t){var e=t.relatedNode||t.target;i.push({target:e,attributeName:t.attrName})}var n,i=[];this.observe=function(i){n=i,n.addEventListener("DOMSubtreeModified",t,!1),n.addEventListener("DOMNodeInsertedIntoDocument",t,!1),n.addEventListener("DOMNodeInserted",t,!1),n.addEventListener("DOMAttrModified",e,!1)},this.disconnect=function(){n.removeEventListener("DOMSubtreeModified",t,!1),n.removeEventListener("DOMNodeInsertedIntoDocument",t,!1),n.removeEventListener("DOMNodeInserted",t,!1),n.removeEventListener("DOMAttrModified",e,!1)},this.takeRecords=function(){return i}}),c.on("keydown",function(t){var e=t.keyCode==Q,n=t.ctrlKey||t.metaKey;if(!p(t)&&(e||t.keyCode==X)){var i=c.selection.getRng(),r=i.startContainer,o=i.startOffset;if(e&&t.shiftKey)return;if(v(e,i))return void t.preventDefault();if(!n&&i.collapsed&&3==r.nodeType&&(e?o<r.data.length:o>0))return;t.preventDefault(),n&&c.selection.getSel().modify("extend",e?"forward":"backward",t.metaKey?"lineboundary":"word"),y(e)}}),c.on("keypress",function(e){if(!p(e)&&!k.isCollapsed()&&e.charCode>31&&!t.metaKeyPressed(e)){var n,i,r,o,a,s;n=c.selection.getRng(),s=String.fromCharCode(e.charCode),e.preventDefault(),i=Z(n.startContainer).parents().filter(function(t,e){return!!c.schema.getTextInlineElements()[e.nodeName]}),y(!0),i=i.filter(function(t,e){return!Z.contains(c.getBody(),e)}),i.length?(r=x.createFragment(),i.each(function(t,e){e=e.cloneNode(!1),r.hasChildNodes()?(e.appendChild(r.firstChild),r.appendChild(e)):(a=e,r.appendChild(e)),r.appendChild(e)}),a.appendChild(c.getDoc().createTextNode(s)),o=x.getParent(n.startContainer,x.isBlock),x.isEmpty(o)?Z(o).empty().append(r):n.insertNode(r),n.setStart(a.firstChild,1),n.setEnd(a.firstChild,1),c.selection.setRng(n)):c.selection.setContent(s)}}),c.addCommand("Delete",function(){y()}),c.addCommand("ForwardDelete",function(){y(!0)}),b||(c.on("dragstart",function(t){w=k.getRng(),f(t)}),c.on("drop",function(t){if(!p(t)){var n=g(t);n&&(t.preventDefault(),l.setEditorTimeout(c,function(){var i=e.getCaretRangeFromPoint(t.x,t.y,_);w&&(k.setRng(w),w=null),y(),k.setRng(i),m(n.html)}))}}),c.on("cut",function(t){p(t)||!t.clipboardData||c.selection.isCollapsed()||(t.preventDefault(),t.clipboardData.clearData(),t.clipboardData.setData("text/html",c.selection.getContent()),t.clipboardData.setData("text/plain",c.selection.getContent({format:"text"})),l.setEditorTimeout(c,function(){y(!0)}))}))}function y(){function t(t){var e=J.create("body"),n=t.cloneContents();return e.appendChild(n),tt.serializer.serialize(e,{format:"html"})}function n(n){if(!n.setStart){if(n.item)return!1;var i=n.duplicate();return i.moveToElementText(c.getBody()),e.compareRanges(n,i)}var r=t(n),o=J.createRng();o.selectNode(c.getBody());var a=t(o);return r===a}c.on("keydown",function(t){var e,i,r=t.keyCode;if(!p(t)&&(r==Q||r==X)){if(e=c.selection.isCollapsed(),i=c.getBody(),e&&!J.isEmpty(i))return;if(!e&&!n(c.selection.getRng()))return;t.preventDefault(),c.setContent(""),i.firstChild&&J.isBlock(i.firstChild)?c.selection.setCursorLocation(i.firstChild,0):c.selection.setCursorLocation(i,0),c.nodeChanged()}})}function b(){c.shortcuts.add("meta+a",null,"SelectAll")}function w(){c.settings.content_editable||J.bind(c.getDoc(),"mousedown mouseup",function(t){var e;if(t.target==c.getDoc().documentElement)if(e=tt.getRng(),c.getBody().focus(),"mousedown"==t.type){if(u.isCaretContainer(e.startContainer))return;tt.placeCaretAt(t.clientX,t.clientY)}else tt.setRng(e)})}function _(){c.on("keydown",function(t){if(!p(t)&&t.keyCode===X){if(!c.getBody().getElementsByTagName("hr").length)return;if(tt.isCollapsed()&&0===tt.getRng(!0).startOffset){var e=tt.getNode(),n=e.previousSibling;if("HR"==e.nodeName)return J.remove(e),void t.preventDefault();n&&n.nodeName&&"hr"===n.nodeName.toLowerCase()&&(J.remove(n),t.preventDefault())}}})}function x(){window.Range.prototype.getClientRects||c.on("mousedown",function(t){if(!p(t)&&"HTML"===t.target.nodeName){var e=c.getBody();e.blur(),l.setEditorTimeout(c,function(){e.focus()})}})}function k(){c.on("click",function(t){var e=t.target;/^(IMG|HR)$/.test(e.nodeName)&&"false"!==J.getContentEditableParent(e)&&(t.preventDefault(),tt.getSel().setBaseAndExtent(e,0,e,1),c.nodeChanged()),"A"==e.nodeName&&J.hasClass(e,"mce-item-anchor")&&(t.preventDefault(),tt.select(e))})}function C(){function t(){var t=J.getAttribs(tt.getStart().cloneNode(!1));return function(){var e=tt.getStart();e!==c.getBody()&&(J.setAttrib(e,"style",null),K(t,function(t){e.setAttributeNode(t.cloneNode(!0))}))}}function e(){return!tt.isCollapsed()&&J.getParent(tt.getStart(),J.isBlock)!=J.getParent(tt.getEnd(),J.isBlock)}c.on("keypress",function(n){var i;if(!p(n)&&(8==n.keyCode||46==n.keyCode)&&e())return i=t(),c.getDoc().execCommand("delete",!1,null),i(),n.preventDefault(),!1}),J.bind(c.getDoc(),"cut",function(n){var i;!p(n)&&e()&&(i=t(),l.setEditorTimeout(c,function(){i()}))})}function $(){document.body.setAttribute("role","application")}function M(){c.on("keydown",function(t){if(!p(t)&&t.keyCode===X&&tt.isCollapsed()&&0===tt.getRng(!0).startOffset){var e=tt.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}})}function S(){h()>7||(d("RespectVisibilityInDesign",!0),c.contentStyles.push(".mceHideBrInPre pre br {display: none}"),J.addClass(c.getBody(),"mceHideBrInPre"),nt.addNodeFilter("pre",function(t){for(var e,n,i,o,a=t.length;a--;)for(e=t[a].getAll("br"),n=e.length;n--;)i=e[n],o=i.prev,o&&3===o.type&&"\n"!=o.value.charAt(o.value-1)?o.value+="\n":i.parent.insert(new r("#text",3),i,!0).value="\n"}),it.addNodeFilter("pre",function(t){for(var e,n,i,r,o=t.length;o--;)for(e=t[o].getAll("br"),n=e.length;n--;)i=e[n],r=i.prev,r&&3==r.type&&(r.value=r.value.replace(/\r?\n$/,""))}))}function T(){J.bind(c.getBody(),"mouseup",function(){var t,e=tt.getNode();"IMG"==e.nodeName&&((t=J.getStyle(e,"width"))&&(J.setAttrib(e,"width",t.replace(/[^0-9%]+/g,"")),J.setStyle(e,"width","")),(t=J.getStyle(e,"height"))&&(J.setAttrib(e,"height",t.replace(/[^0-9%]+/g,"")),J.setStyle(e,"height","")))})}function D(){c.on("keydown",function(e){var n,i,r,o,a;if(!p(e)&&e.keyCode==t.BACKSPACE&&(n=tt.getRng(),i=n.startContainer,r=n.startOffset,o=J.getRoot(),a=i,n.collapsed&&0===r)){for(;a&&a.parentNode&&a.parentNode.firstChild==a&&a.parentNode!=o;)a=a.parentNode;"BLOCKQUOTE"===a.tagName&&(c.formatter.toggle("blockquote",null,a),n=J.createRng(),n.setStart(i,0),n.setEnd(i,0),tt.setRng(n))}})}function E(){function t(){q(),d("StyleWithCSS",!1),d("enableInlineTableEditing",!1),et.object_resizing||d("enableObjectResizing",!1)}et.readonly||c.on("BeforeExecCommand MouseDown",t)}function O(){function t(){K(J.select("a"),function(t){var e=t.parentNode,n=J.getRoot();if(e.lastChild===t){for(;e&&!J.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}J.add(e,"br",{"data-mce-bogus":1})}})}c.on("SetContent ExecCommand",function(e){"setcontent"!=e.type&&"mceInsertLink"!==e.command||t()})}function P(){et.forced_root_block&&c.on("init",function(){d("DefaultParagraphSeparator",et.forced_root_block)})}function A(){c.on("keydown",function(t){var e;p(t)||t.keyCode!=X||(e=c.getDoc().selection.createRange(),e&&e.item&&(t.preventDefault(),c.undoManager.beforeChange(),J.remove(e.item(0)),c.undoManager.add()))})}function N(){var t;h()>=10&&(t="",K("p div h1 h2 h3 h4 h5 h6".split(" "),function(e,n){t+=(n>0?",":"")+e+":empty"}),c.contentStyles.push(t+"{padding-right: 1px !important}"))}function I(){h()<9&&(nt.addNodeFilter("noscript",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.firstChild,n&&e.attr("data-mce-innertext",n.value)}),it.addNodeFilter("noscript",function(t){for(var e,n,i,a=t.length;a--;)e=t[a],n=t[a].firstChild,n?n.value=o.decode(n.value):(i=e.attributes.map["data-mce-innertext"],i&&(e.attr("data-mce-innertext",null),n=new r("#text",3),n.value=i,n.raw=!0,e.append(n)))}))}function R(){function t(t,e){var n=s.createTextRange();try{n.moveToPoint(t,e)}catch(i){n=null}return n}function e(e){var i;e.button?(i=t(e.x,e.y),i&&(i.compareEndPoints("StartToStart",r)>0?i.setEndPoint("StartToStart",r):i.setEndPoint("EndToEnd",r),i.select())):n()}function n(){var t=a.selection.createRange();r&&!t.item&&0===t.compareEndPoints("StartToEnd",t)&&r.select(),J.unbind(a,"mouseup",n),J.unbind(a,"mousemove",e),r=i=0}var i,r,o,a=J.doc,s=a.body;a.documentElement.unselectable=!0,J.bind(a,"mousedown contextmenu",function(s){if("HTML"===s.target.nodeName){if(i&&n(),o=a.documentElement,o.scrollHeight>o.clientHeight)return;i=1,r=t(s.x,s.y),r&&(J.bind(a,"mouseup",n),J.bind(a,"mousemove",e),J.getRoot().focus(),r.select())}})}function L(){c.on("keyup focusin mouseup",function(e){65==e.keyCode&&t.metaKeyPressed(e)||tt.normalize()},!0)}function B(){c.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")}function H(){c.inline||c.on("keydown",function(){document.activeElement==document.body&&c.getWin().focus()})}function F(){c.inline||(c.contentStyles.push("body {min-height: 150px}"),c.on("click",function(t){var e;if("HTML"==t.target.nodeName){if(a.ie>11)return void c.getBody().focus();e=c.selection.getRng(),c.getBody().focus(),c.selection.setRng(e),c.selection.normalize(),c.nodeChanged()}}))}function W(){a.mac&&c.on("keydown",function(e){!t.metaKeyPressed(e)||e.shiftKey||37!=e.keyCode&&39!=e.keyCode||(e.preventDefault(),c.selection.getSel().modify("move",37==e.keyCode?"backward":"forward","lineboundary"))})}function j(){d("AutoUrlDetect",!1)}function z(){c.on("click",function(t){var e=t.target;do if("A"===e.tagName)return void t.preventDefault();while(e=e.parentNode)}),c.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")}function G(){c.on("init",function(){c.dom.bind(c.getBody(),"submit",function(t){t.preventDefault()})})}function V(){nt.addNodeFilter("br",function(t){for(var e=t.length;e--;)"Apple-interchange-newline"==t[e].attr("class")&&t[e].remove()})}function U(){c.on("dragstart",function(t){f(t)}),c.on("drop",function(t){if(!p(t)){var n=g(t);if(n&&n.id!=c.id){t.preventDefault();var i=e.getCaretRangeFromPoint(t.x,t.y,c.getDoc());tt.setRng(i),m(n.html)}}})}function q(){var t,e;Y()&&(t=c.getBody(),e=t.parentNode,e.removeChild(t),e.appendChild(t),t.focus())}function Y(){var t;return rt?(t=c.selection.getSel(),!t||!t.rangeCount||0===t.rangeCount):0}var K=s.each,Z=c.$,X=t.BACKSPACE,Q=t.DELETE,J=c.dom,tt=c.selection,et=c.settings,nt=c.parser,it=c.serializer,rt=a.gecko,ot=a.ie,at=a.webkit,st="data:text/mce-internal,",lt=ot?"Text":"URL";return D(),y(),a.windowsPhone||L(),at&&(v(),w(),k(),P(),G(),M(),V(),a.iOS?(H(),F(),z()):b()),ot&&a.ie<11&&(_(),$(),S(),T(),A(),N(),I(),R()),a.ie>=11&&(F(),M()),a.ie&&(b(),j(),U()),rt&&(_(),x(),C(),E(),O(),B(),W(),M()),{refreshContentEditable:q,isHidden:Y}}}),i("tinymce/EditorObservable",["tinymce/util/Observable","tinymce/dom/DOMUtils","tinymce/util/Tools"],function(t,e,n){function i(t,e){return"selectionchange"==e?t.getDoc():!t.inline&&/^mouse|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=a.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()}function r(t,e){function n(t){return!t.hidden&&!t.readonly}var r,s=i(t,e);if(t.delegates||(t.delegates={}),!t.delegates[e])if(t.settings.event_root){if(o||(o={},t.editorManager.on("removeEditor",function(){var e;if(!t.editorManager.activeEditor&&o){for(e in o)t.dom.unbind(i(t,e));o=null}})),o[e])return;r=function(i){for(var r=i.target,o=t.editorManager.editors,s=o.length;s--;){var l=o[s].getBody();(l===r||a.isChildOf(r,l))&&n(o[s])&&o[s].fire(e,i)}},o[e]=r,a.bind(s,e,r)}else r=function(i){n(t)&&t.fire(e,i)},a.bind(s,e,r),t.delegates[e]=r}var o,a=e.DOM,s={bindPendingEventDelegates:function(){var t=this;n.each(t._pendingNativeEvents,function(e){r(t,e)})},toggleNativeEvent:function(t,e){var n=this;"focus"!=t&&"blur"!=t&&(e?n.initialized?r(n,t):n._pendingNativeEvents?n._pendingNativeEvents.push(t):n._pendingNativeEvents=[t]:n.initialized&&(n.dom.unbind(i(n,t),t,n.delegates[t]),delete n.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this;if(e.delegates){for(t in e.delegates)e.dom.unbind(i(e,t),t,e.delegates[t]);delete e.delegates}e.inline||(e.getBody().onload=null,e.dom.unbind(e.getWin()),e.dom.unbind(e.getDoc())),e.dom.unbind(e.getBody()),e.dom.unbind(e.getContainer())}};return s=n.extend({},t,s)}),i("tinymce/Mode",[],function(){function t(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(i){}}function e(t){var e,n;return e=t.getBody(),n=function(e){t.dom.getParents(e.target,"a").length>0&&e.preventDefault()},t.dom.bind(e,"click",n),{unbind:function(){t.dom.unbind(e,"click",n)}}}function n(n,i){n._clickBlocker&&(n._clickBlocker.unbind(),n._clickBlocker=null),i?(n._clickBlocker=e(n),n.selection.controlSelection.hideResizeRect(),n.readonly=!0,n.getBody().contentEditable=!1):(n.readonly=!1,n.getBody().contentEditable=!0,t(n,"StyleWithCSS",!1),t(n,"enableInlineTableEditing",!1),t(n,"enableObjectResizing",!1),n.focus(),n.nodeChanged())}function i(t,e){var i=t.readonly?"readonly":"design";e!=i&&(t.initialized?n(t,"readonly"==e):t.on("init",function(){n(t,"readonly"==e)}),t.fire("SwitchMode",{mode:e}))}return{setMode:i}}),i("tinymce/Shortcuts",["tinymce/util/Tools","tinymce/Env"],function(t,e){var n=t.each,i=t.explode,r={f9:120,f10:121,f11:122},o=t.makeMap("alt,ctrl,shift,meta,access");return function(a){
function s(t){var a,s,l={};n(i(t,"+"),function(t){t in o?l[t]=!0:/^[0-9]{2,}$/.test(t)?l.keyCode=parseInt(t,10):(l.charCode=t.charCodeAt(0),l.keyCode=r[t]||t.toUpperCase().charCodeAt(0))}),a=[l.keyCode];for(s in o)l[s]?a.push(s):l[s]=!1;return l.id=a.join(","),l.access&&(l.alt=!0,e.mac?l.ctrl=!0:l.shift=!0),l.meta&&(e.mac?l.meta=!0:(l.ctrl=!0,l.meta=!1)),l}function l(e,n,r,o){var l;return l=t.map(i(e,">"),s),l[l.length-1]=t.extend(l[l.length-1],{func:r,scope:o||a}),t.extend(l[0],{desc:a.translate(n),subpatterns:l.slice(1)})}function u(t){return t.altKey||t.ctrlKey||t.metaKey}function c(t){return t.keyCode>=112&&t.keyCode<=123}function d(t,e){return!!e&&(e.ctrl==t.ctrlKey&&e.meta==t.metaKey&&(e.alt==t.altKey&&e.shift==t.shiftKey&&(!!(t.keyCode==e.keyCode||t.charCode&&t.charCode==e.charCode)&&(t.preventDefault(),!0))))}function h(t){return t.func?t.func.call(t.scope):null}var p=this,f={},g=[];a.on("keyup keypress keydown",function(t){!u(t)&&!c(t)||t.isDefaultPrevented()||(n(f,function(e){if(d(t,e))return g=e.subpatterns.slice(0),"keydown"==t.type&&h(e),!0}),d(t,g[0])&&(1===g.length&&"keydown"==t.type&&h(g[0]),g.shift()))}),p.add=function(e,r,o,s){var u;return u=o,"string"==typeof o?o=function(){a.execCommand(u,!1,null)}:t.isArray(u)&&(o=function(){a.execCommand(u[0],u[1],u[2])}),n(i(t.trim(e.toLowerCase())),function(t){var e=l(t,r,o,s);f[e.id]=e}),!0},p.remove=function(t){var e=l(t);return!!f[e.id]&&(delete f[e.id],!0)}}}),i("tinymce/file/Uploader",["tinymce/util/Promise","tinymce/util/Tools","tinymce/util/Fun"],function(t,e,n){return function(i){function r(t){var e,n;return n={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"},e=n[t.blob().type.toLowerCase()]||"dat",t.id()+"."+e}function o(t,e){return t?t.replace(/\/$/,"")+"/"+e.replace(/^\//,""):e}function a(t){return{id:t.id,blob:t.blob,base64:t.base64,filename:n.constant(r(t))}}function s(t,e,n,a){var s,l,u;s=new XMLHttpRequest,s.open("POST",i.url),s.withCredentials=i.credentials,u=a(),s.upload.onprogress=function(t){var e=Math.round(t.loaded/t.total*100);u.progressBar.value(e)},s.onerror=function(){u.close(),n("Image upload failed due to a XHR Transport error. Code: "+s.status)},s.onload=function(){var t;return u.close(),200!=s.status?void n("HTTP Error: "+s.status):(t=JSON.parse(s.responseText),t&&"string"==typeof t.location?void e(o(i.basePath,t.location)):void n("Invalid JSON: "+s.responseText))},l=new FormData,l.append("file",t.blob(),r(t)),s.send(l)}function l(){return new t(function(t){t([])})}function u(t){return t.then(function(t){return t})["catch"](function(t){return t})}function c(t,e,n){var i=t(n),r=u(i);return delete f[e],f[e]=r,r}function d(t,n){return e.map(t,function(t){var e=t.id();return f[e]?f[e]:c(n,e,t)})}function h(e,n){function r(e){return new t(function(t){var r=i.handler;try{r(a(e),function(n){t({url:n,blobInfo:e,status:!0})},function(n){t({url:"",blobInfo:e,status:!1,error:n})},n)}catch(o){t({url:"",blobInfo:e,status:!1,error:o.message})}})}var o=d(e,r);return t.all(o)}function p(t,e){return i.url||i.handler!==s?h(t,e):l()}var f={};return i=e.extend({credentials:!1,handler:s},i),{upload:p}}}),i("tinymce/file/Conversions",["tinymce/util/Promise"],function(t){function e(e){return new t(function(t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){200==this.status&&t(this.response)},n.send()})}function n(t){var e,n;return t=decodeURIComponent(t).split(","),n=/data:([^;]+)/.exec(t[0]),n&&(e=n[1]),{type:e,data:t[1]}}function i(e){return new t(function(t){var i,r,o;e=n(e);try{i=atob(e.data)}catch(a){return void t(new Blob([]))}for(r=new Uint8Array(i.length),o=0;o<r.length;o++)r[o]=i.charCodeAt(o);t(new Blob([r],{type:e.type}))})}function r(t){return 0===t.indexOf("blob:")?e(t):0===t.indexOf("data:")?i(t):null}function o(e){return new t(function(t){var n=new FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})}return{uriToBlob:r,blobToDataUri:o,parseDataUri:n}}),i("tinymce/file/ImageScanner",["tinymce/util/Promise","tinymce/util/Arr","tinymce/util/Fun","tinymce/file/Conversions","tinymce/Env"],function(t,e,n,i,r){var o=0;return function(a){function s(s,u){function c(t,e){var n,r;return 0===t.src.indexOf("blob:")?(r=a.getByUri(t.src),void(r&&e({image:t,blobInfo:r}))):(n=i.parseDataUri(t.src).data,r=a.findFirst(function(t){return t.base64()===n}),void(r?e({image:t,blobInfo:r}):i.uriToBlob(t.src).then(function(i){var r="blobid"+o++,s=a.create(r,i,n);a.add(s),e({image:t,blobInfo:s})})))}var d,h;return u||(u=n.constant(!0)),d=e.filter(s.getElementsByTagName("img"),function(t){var e=t.src;return!!r.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!e||e==r.transparentSrc)&&(0===e.indexOf("blob:")||0===e.indexOf("data:")&&u(t)))))}),h=e.map(d,function(e){var n;return l[e.src]?new t(function(t){l[e.src].then(function(n){t({image:e,blobInfo:n.blobInfo})})}):(n=new t(function(t){c(e,t)}).then(function(t){return delete l[t.image.src],t})["catch"](function(t){return delete l[e.src],t}),l[e.src]=n,n)}),t.all(h)}var l={};return{findAll:s}}}),i("tinymce/file/BlobCache",["tinymce/util/Arr","tinymce/util/Fun"],function(t,e){return function(){function n(t,e,n){return{id:u(t),blob:u(e),base64:u(n),blobUri:u(URL.createObjectURL(e))}}function i(t){r(t.id())||l.push(t)}function r(t){return o(function(e){return e.id()===t})}function o(e){return t.filter(l,e)[0]}function a(t){return o(function(e){return e.blobUri()==t})}function s(){t.each(l,function(t){URL.revokeObjectURL(t.blobUri())}),l=[]}var l=[],u=e.constant;return{create:n,add:i,get:r,getByUri:a,findFirst:o,destroy:s}}}),i("tinymce/EditorUpload",["tinymce/util/Arr","tinymce/file/Uploader","tinymce/file/ImageScanner","tinymce/file/BlobCache"],function(t,e,n,i){return function(r){function o(t){return function(e){return r.selection?t(e):[]}}function a(t,e,n){var i=0;do i=t.indexOf(e,i),i!==-1&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1);while(i!==-1);return t}function s(t,e,n){return t=a(t,'src="'+e+'"','src="'+n+'"'),t=a(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')}function l(e,n){t.each(r.undoManager.data,function(t){t.content=s(t.content,e,n)})}function u(){return r.notificationManager.open({text:r.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}function c(n){return g||(g=new e({url:y.images_upload_url,basePath:y.images_upload_base_path,credentials:y.images_upload_credentials,handler:y.images_upload_handler})),h().then(o(function(e){var i;return i=t.map(e,function(t){return t.blobInfo}),g.upload(i,u).then(o(function(i){return i=t.map(i,function(t,n){var i=e[n].image;return t.status&&(l(i.src,t.url),r.$(i).attr({src:t.url,"data-mce-src":r.convertURL(t.url,"src")})),{element:i,status:t.status}}),n&&n(i),i}))}))}function d(t){if(y.automatic_uploads!==!1)return c(t)}function h(){return m||(m=new n(v)),m.findAll(r.getBody(),y.images_dataimg_filter).then(o(function(e){return t.each(e,function(t){l(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri()}),e}))}function p(){v.destroy(),m=g=null}function f(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var i=v.getByUri(n);return i||(i=t.reduce(r.editorManager.editors,function(t,e){return t||e.editorUpload.blobCache.getByUri(n)},null)),i?'src="data:'+i.blob().type+";base64,"+i.base64()+'"':e})}var g,m,v=new i,y=r.settings;return r.on("setContent",function(){r.settings.automatic_uploads!==!1?d():h()}),r.on("RawSaveContent",function(t){t.content=f(t.content)}),r.on("getContent",function(t){t.source_view||"raw"==t.format||(t.content=f(t.content))}),{blobCache:v,uploadImages:c,uploadImagesAuto:d,scanForImages:h,destroy:p}}}),i("tinymce/caret/FakeCaret",["tinymce/caret/CaretContainer","tinymce/caret/CaretPosition","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/dom/DomQuery","tinymce/geom/ClientRect","tinymce/util/Delay"],function(t,e,n,i,r,o,a){var s=n.isContentEditableFalse;return function(e,n){function i(t,n){var i,r,a,s,l,u=o.collapse(t.getBoundingClientRect(),n);return"BODY"==e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,a=e.scrollTop||i.scrollTop):(l=e.getBoundingClientRect(),r=e.scrollLeft-l.left,a=e.scrollTop-l.top),u.left+=r,u.right+=r,u.top+=a,u.bottom+=a,u.width=1,s=t.offsetWidth-t.clientWidth,s>0&&(n&&(s*=-1),u.left+=s,u.right+=s),u}function l(){var n,i,o,a,s;for(n=r("*[contentEditable=false]",e),a=0;a<n.length;a++)i=n[a],o=i.previousSibling,t.endsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(s.length-1,1)),o=i.nextSibling,t.startsWithCaretContainer(o)&&(s=o.data,1==s.length?o.parentNode.removeChild(o):o.deleteData(0,1));return null}function u(o,a){var l,u,h;return c(),n(a)?(m=t.insertBlock("p",a,o),l=i(a,o),r(m).css("top",l.top),g=r('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(e),o&&g.addClass("mce-visual-caret-before"),d(),u=a.ownerDocument.createRange(),h=m.firstChild,u.setStart(h,0),u.setEnd(h,1),u):(m=t.insertInline(a,o),u=a.ownerDocument.createRange(),s(m.nextSibling)?(u.setStart(m,0),u.setEnd(m,0)):(u.setStart(m,1),u.setEnd(m,1)),u)}function c(){l(),m&&(t.remove(m),m=null),g&&(g.remove(),g=null),clearInterval(f)}function d(){f=a.setInterval(function(){r("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden")},500)}function h(){a.clearInterval(f)}function p(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"}var f,g,m;return{show:u,hide:c,getCss:p,destroy:h}}}),i("tinymce/dom/Dimensions",["tinymce/util/Arr","tinymce/dom/NodeType","tinymce/geom/ClientRect"],function(t,e,n){function i(r){function o(e){return t.map(e,function(t){return t=n.clone(t),t.node=r,t})}if(t.isArray(r))return t.reduce(r,function(t,e){return t.concat(i(e))},[]);if(e.isElement(r))return o(r.getClientRects());if(e.isText(r)){var a=r.ownerDocument.createRange();return a.setStart(r,0),a.setEnd(r,r.data.length),o(a.getClientRects())}}return{getClientRects:i}}),i("tinymce/caret/LineWalker",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/Dimensions","tinymce/caret/CaretCandidate","tinymce/caret/CaretUtils","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/geom/ClientRect"],function(t,e,n,i,r,o,a,s){function l(t,e,n,o){for(;o=r.findNode(o,t,i.isEditableCaretCandidate,e);)if(n(o))return}function u(t,i,r,o,a,s){function u(o){var s,l,u;for(u=n.getClientRects(o),t==-1&&(u=u.reverse()),s=0;s<u.length;s++)if(l=u[s],!r(l,d)){if(p.length>0&&i(l,e.last(p))&&h++,l.line=h,a(l))return!0;p.push(l)}}var c,d,h=0,p=[];return(d=e.last(s.getClientRects()))?(c=s.getNode(),u(c),l(t,o,u,c),p):p}function c(t,e){return e.line>t}function d(t,e){return e.line===t}function h(t,n,i,r){function l(n){return 1==t?e.last(n.getClientRects()):e.last(n.getClientRects())}var u,c,d,h,p,f,g=new o(n),m=[],v=0;1==t?(u=g.next,c=s.isBelow,d=s.isAbove,h=a.after(r)):(u=g.prev,c=s.isAbove,d=s.isBelow,h=a.before(r)),f=l(h);do if(h.isVisible()&&(p=l(h),!d(p,f))){if(m.length>0&&c(p,e.last(m))&&v++,p=s.clone(p),p.position=h,p.line=v,i(p))return m;m.push(p)}while(h=u(h));return m}var p=t.curry,f=p(u,-1,s.isAbove,s.isBelow),g=p(u,1,s.isBelow,s.isAbove);return{upUntil:f,downUntil:g,positionsUntil:h,isAboveLine:p(c),isLine:p(d)}}),i("tinymce/caret/LineUtils",["tinymce/util/Fun","tinymce/util/Arr","tinymce/dom/NodeType","tinymce/dom/Dimensions","tinymce/geom/ClientRect","tinymce/caret/CaretUtils","tinymce/caret/CaretCandidate"],function(t,e,n,i,r,o,a){function s(t,e){return Math.abs(t.left-e)}function l(t,e){return Math.abs(t.right-e)}function u(t,n){function i(t,e){return t>=e.left&&t<=e.right}return e.reduce(t,function(t,e){var r,o;return r=Math.min(s(t,n),l(t,n)),o=Math.min(s(e,n),l(e,n)),i(n,e)?e:i(n,t)?t:o==r&&g(e.node)?e:o<r?e:t})}function c(t,e,n,i){for(;i=m(i,t,a.isEditableCaretCandidate,e);)if(n(i))return}function d(t,n){function o(t,r){var o;return o=e.filter(i.getClientRects(r),function(e){return!t(e,n)}),a=a.concat(o),0===o.length}var a=[];return a.push(n),c(-1,t,v(o,r.isAbove),n.node),c(1,t,v(o,r.isBelow),n.node),a}function h(t){return e.filter(e.toArray(t.getElementsByTagName("*")),g)}function p(t,e){return{node:t.node,before:s(t,e)<l(t,e)}}function f(t,n,r){var o,a;return o=i.getClientRects(h(t)),o=e.filter(o,function(t){return r>=t.top&&r<=t.bottom}),a=u(o,n),a&&(a=u(d(t,a),n),a&&g(a.node))?p(a,n):null}var g=n.isContentEditableFalse,m=o.findNode,v=t.curry;return{findClosestClientRect:u,findLineNodeRects:d,closestCaret:f}}),i("tinymce/DragDropOverrides",["tinymce/dom/NodeType","tinymce/util/Arr","tinymce/util/Fun"],function(t,e,n){function i(t){function i(t){return r(t)}function a(e){h(t.getBody()).css("cursor",e)}function s(e){return e!=m.element&&!t.dom.isChildOf(e,m.element)&&!r(e)}function l(e){var n,i,r,o,s,l,u,c,d=0,p=0;0===e.button&&(n=e.screenX-m.screenX,i=e.screenY-m.screenY,s=Math.max(Math.abs(n),Math.abs(i)),!m.dragging&&s>10&&(m.dragging=!0,a("default"),m.clone=m.element.cloneNode(!0),r=g.getPos(m.element),m.relX=m.clientX-r.x,m.relY=m.clientY-r.y,m.width=m.element.offsetWidth,m.height=m.element.offsetHeight,h(m.clone).css({width:m.width,height:m.height}).removeAttr("data-mce-selected"),m.ghost=h("<div>").css({position:"absolute",opacity:.5,overflow:"hidden",width:m.width,height:m.height}).attr({"data-mce-bogus":"all",unselectable:"on",contenteditable:"false"}).addClass("mce-drag-container mce-reset").append(m.clone).appendTo(t.getBody())[0],o=t.dom.getViewPort(t.getWin()),m.maxX=o.w,m.maxY=o.h),m.dragging&&(t.selection.placeCaretAt(e.clientX,e.clientY),l=m.clientX+n-m.relX,u=m.clientY+i+5,l+m.width>m.maxX&&(d=l+m.width-m.maxX),u+m.height>m.maxY&&(p=u+m.height-m.maxY),c="BODY"!=t.getBody().nodeName?t.getBody().getBoundingClientRect():{left:0,top:0},h(m.ghost).css({left:l-c.left,top:u-c.top,width:m.width-d,height:m.height-p})))}function u(){var e;if(m.dragging&&(t.selection.setRng(t.selection.getSel().getRangeAt(0)),s(t.selection.getNode()))){var n=m.element;if(e=t.fire("drop",{targetClone:n}),e.isDefaultPrevented())return;n=e.targetClone,t.undoManager.transact(function(){t.insertContent(g.getOuterHTML(n)),h(m.element).remove()})}d()}function c(a){var s,c;if(d(),0===a.button&&(s=e.find(t.dom.getParents(a.target),n.or(r,o)),i(s))){if(c=t.fire("dragstart",{target:s}),c.isDefaultPrevented())return;t.on("mousemove",l),t.on("mouseup",u),p!=f&&(g.bind(p,"mousemove",l),g.bind(p,"mouseup",u)),m={screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY,element:s}}}function d(){h(m.ghost).remove(),a(null),t.off("mousemove",l),t.off("mouseup",d),p!=f&&(g.unbind(p,"mousemove",l),g.unbind(p,"mouseup",d)),m={}}var h=t.$,p=document,f=t.getDoc(),g=t.dom,m={};t.on("mousedown",c),t.on("drop",function(e){var n=t.getDoc().elementFromPoint(e.clientX,e.clientY);(r(n)||r(t.dom.getContentEditableParent(n)))&&e.preventDefault()})}var r=t.isContentEditableFalse,o=t.isContentEditableTrue;return{init:i}}),i("tinymce/SelectionOverrides",["tinymce/Env","tinymce/caret/CaretWalker","tinymce/caret/CaretPosition","tinymce/caret/CaretContainer","tinymce/caret/CaretUtils","tinymce/caret/FakeCaret","tinymce/caret/LineWalker","tinymce/caret/LineUtils","tinymce/dom/NodeType","tinymce/dom/RangeUtils","tinymce/geom/ClientRect","tinymce/util/VK","tinymce/util/Fun","tinymce/util/Arr","tinymce/util/Delay","tinymce/DragDropOverrides","tinymce/text/Zwsp"],function(t,e,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m){function v(t,e){for(;e=t(e);)if(e.isVisible())return e;return e}function y(u){function y(t){return u.dom.isBlock(t)}function M(t){t&&u.selection.setRng(t)}function S(){return u.selection.getRng()}function T(t,e){u.selection.scrollIntoView(t,e)}function D(t,e,n){var i;return i=u.fire("ShowCaret",{target:e,direction:t,before:n}),i.isDefaultPrevented()?null:(T(e,t===-1),rt.show(n,e))}function E(t){var e;return rt.hide(),e=u.fire("BeforeObjectSelected",{target:t}),e.isDefaultPrevented()?null:O(t)}function O(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}function P(t,e){var n=r.isInSameBlock(t,e);return!(n||!l.isBr(t.getNode()))||n}function A(t,e){return e=r.normalizeRange(t,tt,e),t==-1?n.fromRangeStart(e):n.fromRangeEnd(e)}function N(t){return i.isCaretContainerBlock(t.startContainer)}function I(t,e,n,i){var r,o,a,s;return!i.collapsed&&(r=$(i),_(r))?D(t,r,t==-1):(s=N(i),o=A(t,i),n(o)?E(o.getNode(t==-1)):(o=e(o))?n(o)?D(t,o.getNode(t==-1),1==t):(a=e(o),n(a)&&P(o,a)?D(t,a.getNode(t==-1),1==t):s?z(o.toRange()):null):s?i:null)}function R(t,e,n){var i,r,o,l,u,c,d,h,f;if(f=$(n),i=A(t,n),r=e(tt,a.isAboveLine(1),i),o=p.filter(r,a.isLine(1)),u=p.last(i.getClientRects()),C(i)&&(f=i.getNode()),k(i)&&(f=i.getNode(!0)),!u)return null;if(c=u.left,l=s.findClosestClientRect(o,c),l&&_(l.node))return d=Math.abs(c-l.left),h=Math.abs(c-l.right),D(t,l.node,d<h);if(f){var g=a.positionsUntil(t,tt,a.isAboveLine(1),f);if(l=s.findClosestClientRect(p.filter(g,a.isLine(1)),c))return z(l.position.toRange());if(l=p.last(p.filter(g,a.isLine(0))))return z(l.position.toRange())}}function L(e,i){function r(){var e=u.dom.create(u.settings.forced_root_block);return(!t.ie||t.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e}var o,a,s;if(i.collapsed&&u.settings.forced_root_block){if(o=u.dom.getParent(i.startContainer,"PRE"),!o)return;a=1==e?nt(n.fromRangeStart(i)):it(n.fromRangeStart(i)),a||(s=r(),1==e?u.$(o).after(s):u.$(o).before(s),u.selection.select(s,!0),u.selection.collapse())}}function B(t,e,n,i){var r;return(r=I(t,e,n,i))?r:(r=L(t,i),r?r:null)}function H(t,e,n){var i;return(i=R(t,e,n))?i:(i=L(t,n),i?i:null)}function F(){return at("*[data-mce-caret]")[0]}function W(t){t=at(t),t.attr("data-mce-caret")&&(rt.hide(),t.removeAttr("data-mce-caret"),t.removeAttr("data-mce-bogus"),t.removeAttr("style"),M(S()),T(t[0]))}function j(t){var e,i;return t=r.normalizeRange(1,tt,t),e=n.fromRangeStart(t),_(e.getNode())?D(1,e.getNode(),!e.isAtEnd()):_(e.getNode(!0))?D(1,e.getNode(!0),!1):(i=u.dom.getParent(e.getNode(),h.or(_,w)),_(i)?D(1,i,!1):(rt.hide(),null))}function z(t){var e;return t&&t.collapsed?(e=j(t),e?e:t):t}function G(t){var e,r,o,a;return _(t)?(_(t.previousSibling)&&(o=t.previousSibling),r=it(n.before(t)),r||(e=nt(n.after(t))),e&&x(e.getNode())&&(a=e.getNode()),i.remove(t.previousSibling),i.remove(t.nextSibling),u.dom.remove(t),X(),u.dom.isEmpty(u.getBody())?(u.setContent(""),void u.focus()):o?n.after(o).toRange():a?n.before(a).toRange():r?r.toRange():e?e.toRange():null):null}function V(t,e,n){var i,r,o,a,s=u.dom;if(t===-1){if(k(n)&&y(n.getNode(!0)))return G(n.getNode(!0))}else if(C(e)&&y(e.getNode()))return G(e.getNode());if(a=u.schema.getTextBlockElements(),i=s.getParent(e.getNode(),s.isBlock),r=s.getParent(n.getNode(),s.isBlock),i===r||!a[i.nodeName]||!a[r.nodeName])return null;for(;o=i.firstChild;)r.appendChild(o);return u.dom.remove(i),n.toRange()}function U(t,e,n){var i,r,o;return!n.collapsed&&(i=$(n),_(i))?z(G(i)):(r=A(t,n),e(r)?z(G(r.getNode(t==-1))):(o=t==-1?et.prev(r):et.next(r),e(o)?t===-1?V(t,r,o):V(t,o,r):void 0))}function q(){function t(t,e){var n=e(S());n&&!t.isDefaultPrevented()&&(t.preventDefault(),M(n))}function e(t){for(var e=u.getBody();t&&t!=e;){if(w(t)||_(t))return t;t=t.parentNode}return null}function i(t,e,n){return!n.collapsed&&p.reduce(n.getClientRects(),function(n,i){return n||c.containsXY(i,t,e)},!1)}function r(){var t,i=e(u.selection.getNode());w(i)&&y(i)&&u.dom.isEmpty(i)&&(t=u.dom.create("br",{"data-mce-bogus":"1"}),u.$(i).empty().append(t),u.selection.setRng(n.before(t).toRange()))}function o(t){var e=F();if(e)return"compositionstart"==t.type?(t.preventDefault(),t.stopPropagation(),void W(e)):void("&nbsp;"!=e.innerHTML&&W(e))}function l(t){var e;switch(t.keyCode){case d.DELETE:e=r();break;case d.BACKSPACE:e=r()}e&&t.preventDefault()}var h=b(B,1,nt,C),m=b(B,-1,it,k),v=b(U,1,C),x=b(U,-1,k),$=b(H,-1,a.upUntil),T=b(H,1,a.downUntil);u.on("mouseup",function(){var t=S();t.collapsed&&M(j(t))}),u.on("click",function(t){var n;n=e(t.target),n&&_(n)&&t.preventDefault()}),u.on("mousedown",function(t){var n;if(n=e(t.target))_(n)?(t.preventDefault(),Z(E(n))):(X(),i(t.clientX,t.clientY,u.selection.getRng())||u.selection.placeCaretAt(t.clientX,t.clientY));else{X(),rt.hide();var r=s.closestCaret(tt,t.clientX,t.clientY);r&&(t.preventDefault(),u.getBody().focus(),M(D(1,r.node,r.before)))}}),u.on("keydown",function(e){if(!d.modifierPressed(e))switch(e.keyCode){case d.RIGHT:t(e,h);break;case d.DOWN:t(e,T);break;case d.LEFT:t(e,m);break;case d.UP:t(e,$);break;case d.DELETE:t(e,v);break;case d.BACKSPACE:t(e,x);break;default:_(u.selection.getNode())&&e.preventDefault()}}),u.on("keyup compositionstart",function(t){o(t),l(t)},!0),u.on("cut",function(){var t=u.selection.getNode();_(t)&&f.setEditorTimeout(u,function(){M(z(G(t)))})}),u.on("getSelectionRange",function(t){var e=t.range;if(J){if(!J.parentNode)return void(J=null);e=e.cloneRange(),e.selectNode(J),t.range=e}}),u.on("setSelectionRange",function(t){var e;e=Z(t.range),e&&(t.range=e)}),u.on("focus",function(){f.setEditorTimeout(u,function(){u.selection.setRng(z(u.selection.getRng()))},0)}),g.init(u)}function Y(){var t=u.contentStyles,e=".mce-content-body";t.push(rt.getCss()),t.push(e+" .mce-offscreen-selection {position: absolute;left: -9999999999px;width: 100px;height: 100px;}"+e+" *[contentEditable=false] {cursor: default;}"+e+" *[contentEditable=true] {cursor: text;}")}function K(t){return i.isCaretContainer(t.startContainer)||i.isCaretContainer(t.endContainer)}function Z(e){var n,i,r,o,a,s,l,c,d,h,p=u.$,f=u.dom;if(!e)return X(),null;if(e.collapsed){if(X(),!K(e)){if(c=A(1,e),_(c.getNode()))return D(1,c.getNode(),!c.isAtEnd());if(_(c.getNode(!0)))return D(1,c.getNode(!0),!1)}return null}return o=e.startContainer,a=e.startOffset,s=e.endOffset,3==o.nodeType&&0==a&&_(o.parentNode)&&(o=o.parentNode,a=f.nodeIndex(o),o=o.parentNode),1!=o.nodeType?(X(),null):(s==a+1&&(n=o.childNodes[a]),_(n)?(d=h=n.cloneNode(!0),l=u.fire("ObjectSelected",{target:n,targetClone:d}),l.isDefaultPrevented()?(X(),null):(d=l.targetClone,i=p("#"+ot),0===i.length&&(i=p('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",ot),i.appendTo(u.getBody())),e=u.dom.createRng(),d===h&&t.ie?(i.empty().append(m.ZWSP).append(d).append(m.ZWSP),e.setStart(i[0].firstChild,0),e.setEnd(i[0].lastChild,1)):(i.empty().append(" ").append(d).append(" "),e.setStart(i[0].firstChild,1),e.setEnd(i[0].lastChild,0)),i.css({top:f.getPos(n,u.getBody()).y}),u.getBody().focus(),i[0].focus(),r=u.selection.getSel(),r.removeAllRanges(),r.addRange(e),u.$("*[data-mce-selected]").removeAttr("data-mce-selected"),n.setAttribute("data-mce-selected",1),J=n,e)):(X(),null))}function X(){J&&(J.removeAttribute("data-mce-selected"),u.$("#"+ot).remove(),J=null)}function Q(){rt.destroy(),J=null}var J,tt=u.getBody(),et=new e(tt),nt=b(v,et.next),it=b(v,et.prev),rt=new o(u.getBody(),y),ot="sel-"+u.dom.uniqueId(),at=u.$;return t.ceFalse&&(q(),Y()),{showBlockCaretContainer:W,destroy:Q}}var b=h.curry,w=l.isContentEditableTrue,_=l.isContentEditableFalse,x=l.isElement,k=r.isAfterContentEditableFalse,C=r.isBeforeContentEditableFalse,$=u.getSelectedNode;return y}),i("tinymce/Editor",["tinymce/dom/DOMUtils","tinymce/dom/DomQuery","tinymce/AddOnManager","tinymce/NodeChange","tinymce/html/Node","tinymce/dom/Serializer","tinymce/html/Serializer","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EnterKey","tinymce/ForceBlocks","tinymce/EditorCommands","tinymce/util/URI","tinymce/dom/ScriptLoader","tinymce/dom/EventUtils","tinymce/WindowManager","tinymce/NotificationManager","tinymce/html/Schema","tinymce/html/DomParser","tinymce/util/Quirks","tinymce/Env","tinymce/util/Tools","tinymce/util/Delay","tinymce/EditorObservable","tinymce/Mode","tinymce/Shortcuts","tinymce/EditorUpload","tinymce/SelectionOverrides"],function(t,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w,_,x,k,C,$,M,S,T,D){function E(t,e,r){var o,a,s,l=this;o=l.documentBaseUrl=r.documentBaseURL,a=r.baseURI,s=r.defaultSettings,e=N({id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",validate:!0,entity_encoding:"named",url_converter:l.convertURL,url_converter_scope:l,ie7_compat:!0},s,e),s&&s.external_plugins&&e.external_plugins&&(e.external_plugins=N({},s.external_plugins,e.external_plugins)),l.settings=e,i.language=e.language||"en",i.languageLoad=e.language_load,i.baseURL=r.baseURL,l.id=e.id=t,l.setDirty(!1),l.plugins={},l.documentBaseURI=new f(e.document_base_url||o,{base_uri:a}),l.baseURI=a,l.contentCSS=[],l.contentStyles=[],l.shortcuts=new S(l),l.loadedCSS={},l.editorCommands=new p(l),e.target&&(l.targetElm=e.target),l.suffix=r.suffix,l.editorManager=r,l.inline=e.inline,e.cache_suffix&&(x.cacheSuffix=e.cache_suffix.replace(/^[\?\&]+/,"")),e.override_viewport===!1&&(x.overrideViewPort=!1),r.fire("SetupEditor",l),l.execCallback("setup",l),l.$=n.overrideDefaults(function(){return{context:l.inline?l.getBody():l.getDoc(),element:l.getBody()}})}var O=t.DOM,P=i.ThemeManager,A=i.PluginManager,N=k.extend,I=k.each,R=k.explode,L=k.inArray,B=k.trim,H=k.resolve,F=m.Event,W=x.gecko,j=x.ie;return E.prototype={render:function(){function t(){O.unbind(window,"ready",t),n.render()}function e(){var t=g.ScriptLoader;if(i.language&&"en"!=i.language&&!i.language_url&&(i.language_url=n.editorManager.baseURL+"/langs/"+i.language+".js"),i.language_url&&t.add(i.language_url),i.theme&&"function"!=typeof i.theme&&"-"!=i.theme.charAt(0)&&!P.urls[i.theme]){var e=i.theme_url;e=e?n.documentBaseURI.toAbsolute(e):"themes/"+i.theme+"/theme"+o+".js",P.load(i.theme,e)}k.isArray(i.plugins)&&(i.plugins=i.plugins.join(" ")),I(i.external_plugins,function(t,e){A.load(e,t),i.plugins+=" "+e}),I(i.plugins.split(/[ ,]/),function(t){if(t=B(t),t&&!A.urls[t])if("-"==t.charAt(0)){t=t.substr(1,t.length);var e=A.dependencies(t);I(e,function(t){var e={prefix:"plugins/",resource:t,suffix:"/plugin"+o+".js"};t=A.createUrl(e,t),A.load(t.resource,t)})}else A.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+o+".js"})}),t.loadQueue(function(){n.removed||n.init()})}var n=this,i=n.settings,r=n.id,o=n.suffix;if(!F.domLoaded)return void O.bind(window,"ready",t);if(n.getElement()&&x.contentEditable){i.inline?n.inline=!0:(n.orgVisibility=n.getElement().style.visibility,n.getElement().style.visibility="hidden");var a=n.getElement().form||O.getParent(r,"form");a&&(n.formElement=a,i.hidden_input&&!/TEXTAREA|INPUT/i.test(n.getElement().nodeName)&&(O.insertAfter(O.create("input",{type:"hidden",name:r}),r),n.hasHiddenInput=!0),n.formEventDelegate=function(t){n.fire(t.type,t)},O.bind(a,"submit reset",n.formEventDelegate),n.on("reset",function(){n.setContent(n.startContent,{format:"raw"})}),!i.submit_patch||a.submit.nodeType||a.submit.length||a._mceOldSubmit||(a._mceOldSubmit=a.submit,a.submit=function(){return n.editorManager.triggerSave(),n.setDirty(!1),a._mceOldSubmit(a)})),n.windowManager=new v(n),n.notificationManager=new y(n),"xml"==i.encoding&&n.on("GetContent",function(t){t.save&&(t.content=O.encode(t.content))}),i.add_form_submit_trigger&&n.on("submit",function(){n.initialized&&n.save()}),i.add_unload_trigger&&(n._beforeUnload=function(){!n.initialized||n.destroyed||n.isHidden()||n.save({format:"raw",no_events:!0,set_dirty:!1})},n.editorManager.on("BeforeUnload",n._beforeUnload)),e()}},init:function(){function t(e){var n,i,r=A.get(e);if(n=A.urls[e]||h.documentBaseUrl.replace(/\/$/,""),e=B(e),r&&L(g,e)===-1){if(I(A.dependencies(e),function(e){t(e)}),h.plugins[e])return;i=new r(h,n,h.$),h.plugins[e]=i,i.init&&(i.init(h,n),g.push(e))}}var e,n,i,r,o,a,s,l,u,c,d,h=this,p=h.settings,f=h.getElement(),g=[];if(this.editorManager.i18n.setCode(p.language),h.rtl=p.rtl_ui||this.editorManager.i18n.rtl,h.editorManager.add(h),p.aria_label=p.aria_label||O.getAttrib(f,"aria-label",h.getLang("aria.rich_text_area")),p.theme&&("function"!=typeof p.theme?(p.theme=p.theme.replace(/-/,""),a=P.get(p.theme),h.theme=new a(h,P.urls[p.theme]),h.theme.init&&h.theme.init(h,P.urls[p.theme]||h.documentBaseUrl.replace(/\/$/,""),h.$)):h.theme=p.theme),I(p.plugins.replace(/\-/g,"").split(/[ ,]/),t),p.render_ui&&h.theme&&(h.orgDisplay=f.style.display,"function"!=typeof p.theme?(e=p.width||f.style.width||f.offsetWidth,n=p.height||f.style.height||f.offsetHeight,i=p.min_height||100,c=/^[0-9\.]+(|px)$/i,c.test(""+e)&&(e=Math.max(parseInt(e,10),100)),c.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=h.theme.renderUI({targetNode:f,width:e,height:n,deltaWidth:p.delta_width,deltaHeight:p.delta_height}),p.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""),n<i&&(n=i))):(o=p.theme(h,f),o.editorContainer.nodeType&&(o.editorContainer=o.editorContainer.id=o.editorContainer.id||h.id+"_parent"),o.iframeContainer.nodeType&&(o.iframeContainer=o.iframeContainer.id=o.iframeContainer.id||h.id+"_iframecontainer"),n=o.iframeHeight||f.offsetHeight),h.editorContainer=o.editorContainer),p.content_css&&I(R(p.content_css),function(t){h.contentCSS.push(h.documentBaseURI.toAbsolute(t))}),p.content_style&&h.contentStyles.push(p.content_style),p.content_editable)return f=r=o=null,h.initContentBody();if(h.iframeHTML=p.doctype+"<html><head>",p.document_base_url!=h.documentBaseUrl&&(h.iframeHTML+='<base href="'+h.documentBaseURI.getURI()+'" />'),!x.caretAfter&&p.ie7_compat&&(h.iframeHTML+='<meta http-equiv="X-UA-Compatible" content="IE=7" />'),h.iframeHTML+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',!/#$/.test(document.location.href))for(d=0;d<h.contentCSS.length;d++){var m=h.contentCSS[d];h.iframeHTML+='<link type="text/css" rel="stylesheet" href="'+k._addCacheSuffix(m)+'" />',h.loadedCSS[m]=!0}l=p.body_id||"tinymce",l.indexOf("=")!=-1&&(l=h.getParam("body_id","","hash"),l=l[h.id]||l),u=p.body_class||"",u.indexOf("=")!=-1&&(u=h.getParam("body_class","","hash"),u=u[h.id]||""),p.content_security_policy&&(h.iframeHTML+='<meta http-equiv="Content-Security-Policy" content="'+p.content_security_policy+'" />'),h.iframeHTML+='</head><body id="'+l+'" class="mce-content-body '+u+'" data-id="'+h.id+'"><br></body></html>';var v='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+h.id+'");document.write(ed.iframeHTML);document.close();ed.initContentBody(true);})()';document.domain!=location.hostname&&x.ie&&x.ie<12&&(s=v);var y=O.create("iframe",{id:h.id+"_ifr",frameBorder:"0",allowTransparency:"true",title:h.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),style:{width:"100%",height:n,display:"block"}});if(y.onload=function(){y.onload=null,h.fire("load")},O.setAttrib(y,"src",s||'javascript:""'),h.contentAreaContainer=o.iframeContainer,h.iframeElement=y,r=O.add(o.iframeContainer,y),j)try{h.getDoc()}catch(b){r.src=s=v}o.editorContainer&&(O.get(o.editorContainer).style.display=h.orgDisplay,h.hidden=O.isHidden(o.editorContainer)),h.getElement().style.display="none",O.setAttrib(h.id,"aria-hidden",!0),s||h.initContentBody(),f=r=o=null;
},initContentBody:function(e){var n,i,s=this,p=s.settings,f=s.getElement(),g=s.getDoc();p.inline||(s.getElement().style.visibility=s.orgVisibility),e||p.content_editable||(g.open(),g.write(s.iframeHTML),g.close()),p.content_editable&&(s.on("remove",function(){var t=this.getBody();O.removeClass(t,"mce-content-body"),O.removeClass(t,"mce-edit-focus"),O.setAttrib(t,"contentEditable",null)}),O.addClass(f,"mce-content-body"),s.contentDocument=g=p.content_document||document,s.contentWindow=p.content_window||window,s.bodyElement=f,p.content_document=p.content_window=null,p.root_name=f.nodeName.toLowerCase()),n=s.getBody(),n.disabled=!0,s.readonly=p.readonly,s.readonly||(s.inline&&"static"==O.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=s.getParam("content_editable_state",!0)),n.disabled=!1,s.editorUpload=new T(s),s.schema=new b(p),s.dom=new t(g,{keep_values:!0,url_converter:s.convertURL,url_converter_scope:s,hex_colors:p.force_hex_style_colors,class_filter:p.class_filter,update_styles:!0,root_element:s.inline?s.getBody():null,collect:p.content_editable,schema:s.schema,onSetAttrib:function(t){s.fire("SetAttrib",t)}}),s.parser=new w(p,s.schema),s.parser.addAttributeFilter("src,href,style,tabindex",function(t,e){for(var n,i,r,o=t.length,a=s.dom;o--;)if(n=t[o],i=n.attr(e),r="data-mce-"+e,!n.attributes.map[r]){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===e?(i=a.serializeStyle(a.parseStyle(i),n.name),i.length||(i=null),n.attr(r,i),n.attr(e,i)):"tabindex"===e?(n.attr(r,i),n.attr(e,null)):n.attr(r,s.convertURL(i,e,n.name))}}),s.parser.addNodeFilter("script",function(t){for(var e,n,i=t.length;i--;)e=t[i],n=e.attr("type")||"no/type",0!==n.indexOf("mce-")&&e.attr("type","mce-"+n)}),s.parser.addNodeFilter("#cdata",function(t){for(var e,n=t.length;n--;)e=t[n],e.type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"}),s.parser.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var e,n=t.length,i=s.schema.getNonEmptyElements();n--;)e=t[n],e.isEmpty(i)&&(e.append(new o("br",1)).shortEnded=!0)}),s.serializer=new a(p,s),s.selection=new l(s.dom,s.getWin(),s.serializer,s),s.formatter=new u(s),s.undoManager=new c(s),s.forceBlocks=new h(s),s.enterKey=new d(s),s._nodeChangeDispatcher=new r(s),s._selectionOverrides=new D(s),s.fire("PreInit"),p.browser_spellcheck||p.gecko_spellcheck||(g.body.spellcheck=!1,O.setAttrib(n,"spellcheck","false")),s.quirks=new _(s),s.fire("PostRender"),p.directionality&&(n.dir=p.directionality),p.nowrap&&(n.style.whiteSpace="nowrap"),p.protect&&s.on("BeforeSetContent",function(t){I(p.protect,function(e){t.content=t.content.replace(e,function(t){return"<!--mce:protected "+escape(t)+"-->"})})}),s.on("SetContent",function(){s.addVisual(s.getBody())}),p.padd_empty_editor&&s.on("PostProcess",function(t){t.content=t.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),s.load({initial:!0,format:"html"}),s.startContent=s.getContent({format:"raw"}),s.initialized=!0,s.bindPendingEventDelegates(),s.fire("init"),s.focus(!0),s.nodeChanged({initial:!0}),s.execCallback("init_instance_callback",s),s.on("compositionstart compositionend",function(t){s.composing="compositionstart"===t.type}),s.contentStyles.length>0&&(i="",I(s.contentStyles,function(t){i+=t+"\r\n"}),s.dom.addStyle(i)),I(s.contentCSS,function(t){s.loadedCSS[t]||(s.dom.loadCSS(t),s.loadedCSS[t]=!0)}),p.auto_focus&&C.setEditorTimeout(s,function(){var t;t=p.auto_focus===!0?s:s.editorManager.get(p.auto_focus),t.destroyed||t.focus()},100),f=g=n=null},focus:function(t){function e(t){return o.dom.getParent(t,function(t){return"true"===o.dom.getContentEditable(t)})}var n,i,r,o=this,a=o.selection,s=o.settings.content_editable,l=o.getDoc(),u=o.getBody();if(!t){if(n=a.getRng(),n.item&&(i=n.item(0)),o.quirks.refreshContentEditable(),r=e(a.getNode()),o.$.contains(u,r))return r.focus(),a.normalize(),void o.editorManager.setActive(o);if(s||(x.opera||o.getBody().focus(),o.getWin().focus()),W||s){if(u.setActive)try{u.setActive()}catch(c){u.focus()}else u.focus();s&&a.normalize()}i&&i.ownerDocument==l&&(n=l.body.createControlRange(),n.addElement(i),n.select())}o.editorManager.setActive(o)},execCallback:function(t){var e,n=this,i=n.settings[t];if(i)return n.callbackLookup&&(e=n.callbackLookup[t])&&(i=e.func,e=e.scope),"string"==typeof i&&(e=i.replace(/\.\w+$/,""),e=e?H(e):0,i=H(i),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[t]={func:i,scope:e}),i.apply(e||n,Array.prototype.slice.call(arguments,1))},translate:function(t){var e=this.settings.language||"en",n=this.editorManager.i18n;return t?(t=n.data[e+"."+t]||t.replace(/\{\#([^\}]+)\}/g,function(t,i){return n.data[e+"."+i]||"{#"+i+"}"}),this.editorManager.translate(t)):""},getLang:function(t,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(n!==e?n:"{#"+t+"}")},getParam:function(t,e,n){var i,r=t in this.settings?this.settings[t]:e;return"hash"===n?(i={},"string"==typeof r?I(r.indexOf("=")>0?r.split(/[;,](?![^=;,]*(?:[;,]|$))/):r.split(","),function(t){t=t.split("="),t.length>1?i[B(t[0])]=B(t[1]):i[B(t[0])]=B(t)}):i=r,i):r},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),e.text||e.icon||(e.icon=t),n.buttons=n.buttons||{},e.tooltip=e.tooltip||e.title,n.buttons[t]=e},addMenuItem:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),n.menuItems=n.menuItems||{},n.menuItems[t]=e},addContextToolbar:function(t,e){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof t&&(n=t,t=function(t){return i.dom.is(t,n)}),i.contextToolbars.push({predicate:t,items:e})},addCommand:function(t,e,n){this.editorCommands.addCommand(t,e,n)},addQueryStateHandler:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},addQueryValueHandler:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},addShortcut:function(t,e,n,i){this.shortcuts.add(t,e,n,i)},execCommand:function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){var t=this;t.hidden&&(t.hidden=!1,t.inline?t.getBody().contentEditable=!0:(O.show(t.getContainer()),O.hide(t.id)),t.load(),t.fire("show"))},hide:function(){var t=this,e=t.getDoc();t.hidden||(j&&e&&!t.inline&&e.execCommand("SelectAll"),t.save(),t.inline?(t.getBody().contentEditable=!1,t==t.editorManager.focusedEditor&&(t.editorManager.focusedEditor=null)):(O.hide(t.getContainer()),O.setStyle(t.id,"display",t.orgDisplay)),t.hidden=!0,t.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var n,i=this,r=i.getElement();if(r)return t=t||{},t.load=!0,n=i.setContent(r.value!==e?r.value:r.innerHTML,t),t.element=r,t.no_events||i.fire("LoadContent",t),t.element=r=null,n},save:function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized)return t=t||{},t.save=!0,t.element=r,e=t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"==t.format&&i.fire("RawSaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=e:(i.inline||(r.innerHTML=e),(n=O.getParent(i.id,"form"))&&I(n.elements,function(t){if(t.name==i.id)return t.value=e,!1})),t.element=r=null,t.set_dirty!==!1&&i.setDirty(!1),e},setContent:function(t,e){var n,i,r=this,o=r.getBody();return e=e||{},e.format=e.format||"html",e.set=!0,e.content=t,e.no_events||r.fire("BeforeSetContent",e),t=e.content,0===t.length||/^\s+$/.test(t)?(i=j&&j<11?"":'<br data-mce-bogus="1">',"TABLE"==o.nodeName?t="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(t="<li>"+i+"</li>"),n=r.settings.forced_root_block,n&&r.schema.isValidChild(o.nodeName.toLowerCase(),n.toLowerCase())?(t=i,t=r.dom.createHTML(n,r.settings.forced_root_block_attrs,t)):j||t||(t='<br data-mce-bogus="1">'),r.dom.setHTML(o,t),r.fire("SetContent",e)):("raw"!==e.format&&(t=new s({validate:r.validate},r.schema).serialize(r.parser.parse(t,{isRootContent:!0}))),e.content=B(t),r.dom.setHTML(o,e.content),e.no_events||r.fire("SetContent",e)),e.content},getContent:function(t){var e,n=this,i=n.getBody();return t=t||{},t.format=t.format||"html",t.get=!0,t.getInner=!0,t.no_events||n.fire("BeforeGetContent",t),e="raw"==t.format?n.serializer.getTrimmedContent():"text"==t.format?i.innerText||i.textContent:n.serializer.serialize(i,t),"text"!=t.format?t.content=B(e):t.content=e,t.no_events||n.fire("GetContent",t),t.content},insertContent:function(t,e){e&&(t=N({content:t},e)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!=e&&this.fire("dirty")},setMode:function(t){M.setMode(this,t)},getContainer:function(){var t=this;return t.container||(t.container=O.get(t.editorContainer||t.id+"_parent")),t.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=O.get(this.id)),this.targetElm},getWin:function(){var t,e=this;return e.contentWindow||(t=e.iframeElement,t&&(e.contentWindow=t.contentWindow)),e.contentWindow},getDoc:function(){var t,e=this;return e.contentDocument||(t=e.getWin(),t&&(e.contentDocument=t.document)),e.contentDocument},getBody:function(){return this.bodyElement||this.getDoc().body},convertURL:function(t,e,n){var i=this,r=i.settings;return r.urlconverter_callback?i.execCallback("urlconverter_callback",t,n,!0,e):!r.convert_urls||n&&"LINK"==n.nodeName||0===t.indexOf("file:")||0===t.length?t:r.relative_urls?i.documentBaseURI.toRelative(t):t=i.documentBaseURI.toAbsolute(t,r.remove_script_host)},addVisual:function(t){var n,i=this,r=i.settings,o=i.dom;t=t||i.getBody(),i.hasVisual===e&&(i.hasVisual=r.visual),I(o.select("table,a",t),function(t){var e;switch(t.nodeName){case"TABLE":return n=r.visual_table_class||"mce-item-table",e=o.getAttrib(t,"border"),void(e&&"0"!=e||!i.hasVisual?o.removeClass(t,n):o.addClass(t,n));case"A":return void(o.getAttrib(t,"href",!1)||(e=o.getAttrib(t,"name")||t.id,n=r.visual_anchor_class||"mce-item-anchor",e&&i.hasVisual?o.addClass(t,n):o.removeClass(t,n)))}}),i.fire("VisualAid",{element:t,hasVisual:i.hasVisual})},remove:function(){var t=this;t.removed||(t.save(),t.removed=1,t.unbindAllNativeEvents(),t.hasHiddenInput&&O.remove(t.getElement().nextSibling),t.inline||(j&&j<10&&t.getDoc().execCommand("SelectAll",!1,null),O.setStyle(t.id,"display",t.orgDisplay),t.getBody().onload=null),t.fire("remove"),t.editorManager.remove(t),O.remove(t.getContainer()),t._selectionOverrides.destroy(),t.editorUpload.destroy(),t.destroy())},destroy:function(t){var e,n=this;if(!n.destroyed){if(!t&&!n.removed)return void n.remove();t||(n.editorManager.off("beforeunload",n._beforeUnload),n.theme&&n.theme.destroy&&n.theme.destroy(),n.selection.destroy(),n.dom.destroy()),e=n.formElement,e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),O.unbind(e,"submit reset",n.formEventDelegate)),n.contentAreaContainer=n.formElement=n.container=n.editorContainer=null,n.bodyElement=n.contentDocument=n.contentWindow=null,n.iframeElement=n.targetElm=null,n.selection&&(n.selection=n.selection.win=n.selection.dom=n.selection.dom.doc=null),n.destroyed=1}},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()}},N(E.prototype,$),E}),i("tinymce/util/I18n",[],function(){var t={},e="en";return{setCode:function(t){t&&(e=t,this.rtl=!!this.data[t]&&"rtl"===this.data[t]._dir)},getCode:function(){return e},rtl:!1,add:function(e,n){var i=t[e];i||(t[e]=i={});for(var r in n)i[r]=n[r];this.setCode(e)},translate:function(n){var i;if(i=t[e],i||(i={}),"undefined"==typeof n)return n;if("string"!=typeof n&&n.raw)return n.raw;if(n.push){var r=n.slice(1);n=(i[n[0]]||n[0]).replace(/\{([0-9]+)\}/g,function(t,e){return r[e]})}return(i[n]||n).replace(/{context:\w+}$/,"")},data:t}}),i("tinymce/FocusManager",["tinymce/dom/DOMUtils","tinymce/util/Delay","tinymce/Env"],function(t,e,n){function i(t){function l(){try{return document.activeElement}catch(t){return document.body}}function u(t,e){if(e&&e.startContainer){if(!t.isChildOf(e.startContainer,t.getRoot())||!t.isChildOf(e.endContainer,t.getRoot()))return;return{startContainer:e.startContainer,startOffset:e.startOffset,endContainer:e.endContainer,endOffset:e.endOffset}}return e}function c(t,e){var n;return e.startContainer?(n=t.getDoc().createRange(),n.setStart(e.startContainer,e.startOffset),n.setEnd(e.endContainer,e.endOffset)):n=e,n}function d(t){return!!s.getParent(t,i.isEditorUIElement)}function h(i){var h=i.editor;h.on("init",function(){(h.inline||n.ie)&&("onbeforedeactivate"in document&&n.ie<9?h.dom.bind(h.getBody(),"beforedeactivate",function(t){if(t.target==h.getBody())try{h.lastRng=h.selection.getRng()}catch(e){}}):h.on("nodechange mouseup keyup",function(t){var e=l();"nodechange"==t.type&&t.selectionChange||(e&&e.id==h.id+"_ifr"&&(e=h.getBody()),h.dom.isChildOf(e,h.getBody())&&(h.lastRng=h.selection.getRng()))}),n.webkit&&!r&&(r=function(){var e=t.activeEditor;if(e&&e.selection){var n=e.selection.getRng();n&&!n.collapsed&&(h.lastRng=n)}},s.bind(document,"selectionchange",r)))}),h.on("setcontent",function(){h.lastRng=null}),h.on("mousedown",function(){h.selection.lastFocusBookmark=null}),h.on("focusin",function(){var e,n=t.focusedEditor;h.selection.lastFocusBookmark&&(e=c(h,h.selection.lastFocusBookmark),h.selection.lastFocusBookmark=null,h.selection.setRng(e)),n!=h&&(n&&n.fire("blur",{focusedEditor:h}),t.setActive(h),t.focusedEditor=h,h.fire("focus",{blurredEditor:n}),h.focus(!0)),h.lastRng=null}),h.on("focusout",function(){e.setEditorTimeout(h,function(){var e=t.focusedEditor;d(l())||e!=h||(h.fire("blur",{focusedEditor:null}),t.focusedEditor=null,h.selection&&(h.selection.lastFocusBookmark=null))})}),o||(o=function(e){var n,i=t.activeEditor;n=e.target,i&&n.ownerDocument==document&&(i.selection&&n!=i.getBody()&&(i.selection.lastFocusBookmark=u(i.dom,i.lastRng)),n==document.body||d(n)||t.focusedEditor!=i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},s.bind(document,"focusin",o)),h.inline&&!a&&(a=function(e){var n=t.activeEditor;if(n.inline&&!n.dom.isChildOf(e.target,n.getBody())){var i=n.selection.getRng();i.collapsed||(n.lastRng=i)}},s.bind(document,"mouseup",a))}function p(e){t.focusedEditor==e.editor&&(t.focusedEditor=null),t.activeEditor||(s.unbind(document,"selectionchange",r),s.unbind(document,"focusin",o),s.unbind(document,"mouseup",a),r=o=a=null)}t.on("AddEditor",h),t.on("RemoveEditor",p)}var r,o,a,s=t.DOM;return i.isEditorUIElement=function(t){return t.className.toString().indexOf("mce-")!==-1},i}),i("tinymce/EditorManager",["tinymce/Editor","tinymce/dom/DomQuery","tinymce/dom/DOMUtils","tinymce/util/URI","tinymce/Env","tinymce/util/Tools","tinymce/util/Promise","tinymce/util/Observable","tinymce/util/I18n","tinymce/FocusManager"],function(t,e,n,i,r,o,a,s,l,u){function c(t){y(g.editors,function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)})}function d(t,n){n!==_&&(n?e(window).on("resize scroll",c):e(window).off("resize scroll",c),_=n)}function h(t){var e,n=g.editors;delete n[t.id];for(var i=0;i<n.length;i++)if(n[i]==t){n.splice(i,1),e=!0;break}return g.activeEditor==t&&(g.activeEditor=n[0]),g.focusedEditor==t&&(g.focusedEditor=null),e}function p(t){return t&&!(t.getContainer()||t.getBody()).parentNode&&(h(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t}var f,g,m=n.DOM,v=o.explode,y=o.each,b=o.extend,w=0,_=!1;return g={$:e,majorVersion:"4",minorVersion:"3.12",releaseDate:"2016-05-10",editors:[],i18n:l,activeEditor:null,setup:function(){var t,e,n,r,o=this,a="";if(e=i.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),n=window.tinymce||window.tinyMCEPreInit)t=n.base||n.baseURL,a=n.suffix;else{for(var s=document.getElementsByTagName("script"),l=0;l<s.length;l++){r=s[l].src;var c=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){c.indexOf(".min")!=-1&&(a=".min"),t=r.substring(0,r.lastIndexOf("/"));break}}!t&&document.currentScript&&(r=document.currentScript.src,r.indexOf(".min")!=-1&&(a=".min"),t=r.substring(0,r.lastIndexOf("/")))}o.baseURL=new i(e).toAbsolute(t),o.documentBaseURL=e,o.baseURI=new i(o.baseURL),o.suffix=a,o.focusManager=new u(o)},overrideDefaults:function(t){var e,n;e=t.base_url,e&&(this.baseURL=new i(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new i(this.baseURL)),n=t.suffix,t.suffix&&(this.suffix=n),this.defaultSettings=t},init:function(n){function i(t){var e=t.id;return e||(e=t.name,e=e&&!m.get(e)?t.name:m.uniqueId(),t.setAttribute("id",e)),e}function r(t){var e=n[t];if(e)return e.apply(d,Array.prototype.slice.call(arguments,2))}function s(t,e){return e.constructor===RegExp?e.test(t.className):m.hasClass(t,e)}function l(t){var e,n=[];if(t.types)return y(t.types,function(t){n=n.concat(m.select(t.selector))}),n;if(t.selector)return m.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":e=t.elements||"",e.length>0&&y(v(e),function(t){var e;(e=m.get(t))?n.push(e):y(document.forms,function(e){y(e.elements,function(e){e.name===t&&(t="mce_editor_"+w++,m.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":y(m.select("textarea"),function(e){t.editor_deselector&&s(e,t.editor_deselector)||t.editor_selector&&!s(e,t.editor_selector)||n.push(e)})}return n}function u(){function a(e,n,i){if(!p(d.get(e))){var r=new t(e,n,d);f.push(r),r.on("init",function(){++c===s.length&&h(f)}),r.targetElm=r.targetElm||i,r.render()}}var s,c=0,f=[];return m.unbind(window,"ready",u),r("onpageload"),s=e.unique(l(n)),n.types?void y(n.types,function(t){o.each(s,function(e){return!m.is(e,t.selector)||(a(i(e),b({},n,t),e),!1)})}):void y(s,function(t){a(i(t),n,t)})}var c,d=this,h=function(t){c=t};return d.settings=n,m.bind(window,"ready",u),new a(function(t){c?t(c):h=function(e){t(e)}})},get:function(t){return arguments.length?t in this.editors?this.editors[t]:null:this.editors},add:function(t){var e=this,n=e.editors;return n[t.id]=t,n.push(t),d(n,!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),f||(f=function(){e.fire("BeforeUnload")},m.bind(window,"beforeunload",f)),t},createEditor:function(e,n){return this.add(new t(e,n,this))},remove:function(t){var e,n,i=this,r=i.editors;{if(t)return"string"==typeof t?(t=t.selector||t,void y(m.select(t),function(t){n=r[t.id],n&&i.remove(n)})):(n=t,r[n.id]?(h(n)&&i.fire("RemoveEditor",{editor:n}),r.length||m.unbind(window,"beforeunload",f),n.remove(),d(r,r.length>0),n):null);for(e=r.length-1;e>=0;e--)i.remove(r[e])}},execCommand:function(e,n,i){var r=this,o=r.get(i);switch(e){case"mceAddEditor":return r.get(i)||new t(i,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,i),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,n,i)},triggerSave:function(){y(this.editors,function(t){t.save()})},addI18n:function(t,e){l.add(t,e)},translate:function(t){return l.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!=t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t}},b(g,s),g.setup(),window.tinymce=window.tinyMCE=g,g}),i("tinymce/LegacyInput",["tinymce/EditorManager","tinymce/util/Tools"],function(t,e){var n=e.each,i=e.explode;t.on("AddEditor",function(t){var e=t.editor;e.on("preInit",function(){function t(t,e){n(e,function(e,n){e&&s.setStyle(t,n,e)}),s.rename(t,"span")}function r(t){s=e.dom,l.convert_fonts_to_spans&&n(s.select("font,u,strike",t.node),function(t){o[t.nodeName.toLowerCase()](s,t)})}var o,a,s,l=e.settings;l.inline_styles&&(a=i(l.font_size_legacy_values),o={font:function(e,n){t(n,{backgroundColor:n.style.backgroundColor,color:n.color,fontFamily:n.face,fontSize:a[parseInt(n.size,10)-1]})},u:function(n,i){"html4"===e.settings.schema&&t(i,{textDecoration:"underline"})},strike:function(e,n){t(n,{textDecoration:"line-through"})}},e.on("PreProcess SetContent",r))})})}),i("tinymce/util/XHR",["tinymce/util/Observable","tinymce/util/Tools"],function(t,e){var n={send:function(t){function i(){!t.async||4==r.readyState||o++>1e4?(t.success&&o<1e4&&200==r.status?t.success.call(t.success_scope,""+r.responseText,r,t):t.error&&t.error.call(t.error_scope,o>1e4?"TIMED_OUT":"GENERAL",r,t),r=null):setTimeout(i,10)}var r,o=0;if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=t.async!==!1,t.data=t.data||"",n.fire("beforeInitialize",{settings:t}),r=new XMLHttpRequest){if(r.overrideMimeType&&r.overrideMimeType(t.content_type),r.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(r.withCredentials=!0),t.content_type&&r.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&e.each(t.requestheaders,function(t){r.setRequestHeader(t.key,t.value)}),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r=n.fire("beforeSend",{xhr:r,settings:t}).xhr,r.send(t.data),!t.async)return i();setTimeout(i,10)}}};return e.extend(n,t),n}),i("tinymce/util/JSON",[],function(){function t(e,n){var i,r,o,a;if(n=n||'"',null===e)return"null";if(o=typeof e,"string"==o)return r="\bb\tt\nn\ff\rr\"\"''\\\\",n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(t,e){return'"'===n&&"'"===t?t:(i=r.indexOf(e),i+1?"\\"+r.charAt(i+1):(t=e.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t))})+n;if("object"==o){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(i=0,r="[";i<e.length;i++)r+=(i>0?",":"")+t(e[i],n);return r+"]"}r="{";for(a in e)e.hasOwnProperty(a)&&(r+="function"!=typeof e[a]?(r.length>1?","+n:n)+a+n+":"+t(e[a],n):"");return r+"}"}return""+e}return{serialize:t,parse:function(t){try{return window[String.fromCharCode(101)+"val"]("("+t+")")}catch(e){}}}}),i("tinymce/util/JSONRequest",["tinymce/util/JSON","tinymce/util/XHR","tinymce/util/Tools"],function(t,e,n){function i(t){this.settings=r({},t),this.count=0}var r=n.extend;return i.sendRPC=function(t){return(new i).send(t)},i.prototype={send:function(n){var i=n.error,o=n.success;n=r(this.settings,n),n.success=function(e,r){e=t.parse(e),"undefined"==typeof e&&(e={error:"JSON Parse error."}),e.error?i.call(n.error_scope||n.scope,e.error,r):o.call(n.success_scope||n.scope,e.result)},n.error=function(t,e){i&&i.call(n.error_scope||n.scope,t,e)},n.data=t.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),n.content_type="application/json",e.send(n)}},i}),i("tinymce/util/JSONP",["tinymce/dom/DOMUtils"],function(t){return{callbacks:{},count:0,send:function(n){var i=this,r=t.DOM,o=n.count!==e?n.count:i.count,a="tinymce_jsonp_"+o;i.callbacks[o]=function(t){r.remove(a),delete i.callbacks[o],n.callback(t)},r.add(r.doc.body,"script",{id:a,src:n.url,type:"text/javascript"}),i.count++}}}),i("tinymce/util/LocalStorage",[],function(){function t(){s=[];for(var t in a)s.push(t);r.length=s.length}function n(){function n(t){var n,i;return i=t!==e?c+t:r.indexOf(",",c),i===-1||i>r.length?null:(n=r.substring(c,i),c=i+1,n)}var i,r,s,c=0;if(a={},u){o.load(l),r=o.getAttribute(l)||"";do{var d=n();if(null===d)break;if(i=n(parseInt(d,32)||0),null!==i){if(d=n(),null===d)break;s=n(parseInt(d,32)||0),i&&(a[i]=s)}}while(null!==i);t()}}function i(){var e,n="";if(u){for(var i in a)e=a[i],n+=(n?",":"")+i.length.toString(32)+","+i+","+e.length.toString(32)+","+e;o.setAttribute(l,n);try{o.save(l)}catch(r){}t()}}var r,o,a,s,l,u;try{if(window.localStorage)return localStorage}catch(c){}return l="tinymce",o=document.documentElement,u=!!o.addBehavior,u&&o.addBehavior("#default#userData"),r={key:function(t){return s[t]},getItem:function(t){return t in a?a[t]:null},setItem:function(t,e){a[t]=""+e,i()},removeItem:function(t){delete a[t],i()},clear:function(){a={},i()}},n(),r}),i("tinymce/Compat",["tinymce/dom/DOMUtils","tinymce/dom/EventUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/util/Tools","tinymce/Env"],function(t,e,n,i,r,o){var a=window.tinymce;return a.DOM=t.DOM,a.ScriptLoader=n.ScriptLoader,a.PluginManager=i.PluginManager,a.ThemeManager=i.ThemeManager,a.dom=a.dom||{},a.dom.Event=e.Event,r.each(r,function(t,e){a[e]=t}),r.each("isOpera isWebKit isIE isGecko isMac".split(" "),function(t){a[t]=o[t.substr(2).toLowerCase()]}),{}}),i("tinymce/ui/Layout",["tinymce/util/Class","tinymce/util/Tools"],function(t,e){return t.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(t){this.settings=e.extend({},this.Defaults,t)},preRender:function(t){t.bodyClasses.add(this.settings.containerClass)},applyClasses:function(t){var e,n,i,r,o=this,a=o.settings;e=a.firstControlClass,n=a.lastControlClass,t.each(function(t){t.classes.remove(e).remove(n).add(a.controlClass),t.visible()&&(i||(i=t),r=t)}),i&&i.classes.add(e),r&&r.classes.add(n)},renderHtml:function(t){var e=this,n="";return e.applyClasses(t.items()),t.items().each(function(t){n+=t.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}})}),i("tinymce/ui/AbsoluteLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(t){t.items().filter(":visible").each(function(t){var e=t.settings;t.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h}),t.recalc&&t.recalc()})},renderHtml:function(t){return'<div id="'+t._id+'-absend" class="'+t.classPrefix+'abs-end"></div>'+this._super(t)}})}),i("tinymce/ui/Button",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"widget btn",role:"button"},init:function(t){var e,n=this;n._super(t),t=n.settings,e=n.settings.size,n.on("click mousedown",function(t){t.preventDefault()}),n.on("touchstart",function(t){n.fire("click",t),t.preventDefault()}),t.subtype&&n.classes.add(t.subtype),e&&n.classes.add("btn-"+e),t.icon&&n.icon(t.icon)},icon:function(t){return arguments.length?(this.state.set("icon",t),this):this.state.get("icon")},repaint:function(){var t,e=this.getEl().firstChild;e&&(t=e.style,t.width=t.height="100%"),this._super()},renderHtml:function(){var t,e=this,n=e._id,i=e.classPrefix,r=e.state.get("icon"),o=e.state.get("text"),a="";return t=e.settings.image,t?(r="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",o&&(e.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+e.encode(o)+"</span>"),r=e.settings.icon?i+"ico "+i+"i-"+r:"",'<div id="'+n+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+t+"></i>":"")+a+"</button></div>"},bindStates:function(){function t(t){var r=n("span."+i,e.getEl());t?(r[0]||(n("button:first",e.getEl()).append('<span class="'+i+'"></span>'),r=n("span."+i,e.getEl())),r.html(e.encode(t))):r.remove(),e.classes.toggle("btn-has-text",!!t)}var e=this,n=e.$,i=e.classPrefix+"txt";return e.state.on("change:text",function(e){t(e.value)}),e.state.on("change:icon",function(n){var i=n.value,r=e.classPrefix;e.settings.icon=i,i=i?r+"ico "+r+"i-"+e.settings.icon:"";var o=e.getEl().firstChild,a=o.getElementsByTagName("i")[0];i?(a&&a==o.firstChild||(a=document.createElement("i"),o.insertBefore(a,o.firstChild)),a.className=i):a&&o.removeChild(a),t(e.state.get("text"))}),e._super()}})}),i("tinymce/ui/ButtonGroup",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var t=this,e=t._layout;return t.classes.add("btn-group"),t.preRender(),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'"><div id="'+t._id+'-body">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"}})}),i("tinymce/ui/Checkbox",["tinymce/ui/Widget"],function(t){return t.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(t){var e=this;e._super(t),e.on("click mousedown",function(t){t.preventDefault()}),e.on("click",function(t){t.preventDefault(),e.disabled()||e.checked(!e.checked())}),e.checked(e.settings.checked)},checked:function(t){return arguments.length?(this.state.set("checked",t),this):this.state.get("checked")},value:function(t){return arguments.length?this.checked(t):this.checked()},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix;return'<div id="'+e+'" class="'+t.classes+'" unselectable="on" aria-labelledby="'+e+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+e+'-al" class="'+n+'label">'+t.encode(t.state.get("text"))+"</span></div>"},bindStates:function(){function t(t){e.classes.toggle("checked",t),e.aria("checked",t)}var e=this;return e.state.on("change:text",function(t){e.getEl("al").firstChild.data=e.translate(t.value)}),e.state.on("change:checked change:value",function(n){e.fire("change"),t(n.value)}),e.state.on("change:icon",function(t){var n=t.value,i=e.classPrefix;if("undefined"==typeof n)return e.settings.icon;e.settings.icon=n,n=n?i+"ico "+i+"i-"+e.settings.icon:"";var r=e.getEl().firstChild,o=r.getElementsByTagName("i")[0];n?(o&&o==r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=n):o&&r.removeChild(o)}),e.state.get("checked")&&t(!0),e._super()}})}),i("tinymce/ui/ComboBox",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(t,e,n,i){return t.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.classes.add("combobox"),e.subinput=!0,e.ariaTarget="inp",t.menu=t.menu||t.values,t.menu&&(t.icon="caret"),e.on("click",function(n){var r=n.target,o=e.getEl();if(i.contains(o,r)||r==o)for(;r&&r!=o;)r.id&&r.id.indexOf("-open")!=-1&&(e.fire("action"),t.menu&&(e.showMenu(),n.aria&&e.menu.items()[0].focus())),r=r.parentNode}),e.on("keydown",function(t){"INPUT"==t.target.nodeName&&13==t.keyCode&&e.parents().reverse().each(function(n){var i=e.state.get("value"),r=e.getEl("inp").value;if(t.preventDefault(),e.state.set("value",r),i!=r&&e.fire("change"),n.hasEventListeners("submit")&&n.toJSON)return n.fire("submit",{data:n.toJSON()}),!1})}),e.on("keyup",function(t){"INPUT"==t.target.nodeName&&e.state.set("value",t.target.value)})},showMenu:function(){var t,n=this,i=n.settings;n.menu||(t=i.menu||[],t.length?t={type:"menu",items:t}:t.type=t.type||"menu",n.menu=e.create(t).parent(n).renderTo(n.getContainerElm()),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(t){t.control===n.menu&&n.focus()}),n.menu.on("show hide",function(t){t.control.items().each(function(t){t.active(t.value()==n.value())})}).fire("show"),n.menu.on("select",function(t){n.value(t.control.value())}),n.on("focusin",function(t){"INPUT"==t.target.tagName.toUpperCase()&&n.menu.hide()}),n.aria("expanded",!0)),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var t,e,r=this,o=r.getEl(),a=r.getEl("open"),s=r.layoutRect();t=a?s.w-n.getSize(a).width-10:s.w-10;var l=document;return l.all&&(!l.documentMode||l.documentMode<=8)&&(e=r.layoutRect().h-2+"px"),i(o.firstChild).css({width:t,lineHeight:e}),r._super(),r},postRender:function(){var t=this;return i(this.getEl("inp")).on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)}),t._super()},renderHtml:function(){var t,e,n=this,i=n._id,r=n.settings,o=n.classPrefix,a=n.state.get("value")||"",s="",l="";return"spellcheck"in r&&(l+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(l+=' maxlength="'+r.maxLength+'"'),r.size&&(l+=' size="'+r.size+'"'),r.subtype&&(l+=' type="'+r.subtype+'"'),n.disabled()&&(l+=' disabled="disabled"'),
t=r.icon,t&&"caret"!=t&&(t=o+"ico "+o+"i-"+r.icon),e=n.state.get("text"),(t||e)&&(s='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!=t?'<i class="'+t+'"></i>':'<i class="'+o+'caret"></i>')+(e?(t?" ":"")+e:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+i+'" class="'+n.classes+'"><input id="'+i+'-inp" class="'+o+'textbox" value="'+n.encode(a,!1)+'" hidefocus="1"'+l+' placeholder="'+n.encode(r.placeholder)+'" />'+s+"</div>"},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl("inp").value!=e.value&&(t.getEl("inp").value=e.value)}),t.state.on("change:disabled",function(e){t.getEl("inp").disabled=e.value}),t._super()},remove:function(){i(this.getEl("inp")).off(),this._super()}})}),i("tinymce/ui/ColorBox",["tinymce/ui/ComboBox"],function(t){return t.extend({init:function(t){var e=this;t.spellcheck=!1,t.onaction&&(t.icon="none"),e._super(t),e.classes.add("colorbox"),e.on("change keyup postrender",function(){e.repaintColor(e.value())})},repaintColor:function(t){var e=this.getEl().getElementsByTagName("i")[0];if(e)try{e.style.background=t}catch(n){}},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.state.get("rendered")&&t.repaintColor(e.value)}),t._super()}})}),i("tinymce/ui/PanelButton",["tinymce/ui/Button","tinymce/ui/FloatPanel"],function(t,e){return t.extend({showPanel:function(){var t=this,n=t.settings;if(t.active(!0),t.panel)t.panel.show();else{var i=n.panel;i.type&&(i={layout:"grid",items:i}),i.role=i.role||"dialog",i.popover=!0,i.autohide=!0,i.ariaRoot=!0,t.panel=new e(i).on("hide",function(){t.active(!1)}).on("cancel",function(e){e.stopPropagation(),t.focus(),t.hidePanel()}).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}t.panel.moveRel(t.getEl(),n.popoverAlign||(t.isRtl()?["bc-tr","bc-tc"]:["bc-tl","bc-tc"]))},hidePanel:function(){var t=this;t.panel&&t.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))}),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}})}),i("tinymce/ui/ColorButton",["tinymce/ui/PanelButton","tinymce/dom/DOMUtils"],function(t,e){var n=e.DOM;return t.extend({init:function(t){this._super(t),this.classes.add("colorbutton")},color:function(t){return t?(this._color=t,this.getEl("preview").style.backgroundColor=t,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix,i=t.state.get("text"),r=t.settings.icon?n+"ico "+n+"i-"+t.settings.icon:"",o=t.settings.image?" style=\"background-image: url('"+t.settings.image+"')\"":"",a="";return i&&(t.classes.add("btn-has-text"),a='<span class="'+n+'txt">'+t.encode(i)+"</span>"),'<div id="'+e+'" class="'+t.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+e+'-preview" class="'+n+'preview"></span>'+a+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(i){i.aria&&"down"==i.aria.key||i.control!=t||n.getParent(i.target,"."+t.classPrefix+"open")||(i.stopImmediatePropagation(),e.call(t,i))}),delete t.settings.onclick,t._super()}})}),i("tinymce/util/Color",[],function(){function t(t){function r(t,r,o){var a,s,l,u,c,d;return a=0,s=0,l=0,t/=255,r/=255,o/=255,c=e(t,e(r,o)),d=n(t,n(r,o)),c==d?(l=c,{h:0,s:0,v:100*l}):(u=t==c?r-o:o==c?t-r:o-t,a=t==c?3:o==c?1:5,a=60*(a-u/(d-c)),s=(d-c)/d,l=d,{h:i(a),s:i(100*s),v:i(100*l)})}function o(t,r,o){var a,s,l,u;if(t=(parseInt(t,10)||0)%360,r=parseInt(r,10)/100,o=parseInt(o,10)/100,r=n(0,e(r,1)),o=n(0,e(o,1)),0===r)return void(d=h=p=i(255*o));switch(a=t/60,s=o*r,l=s*(1-Math.abs(a%2-1)),u=o-s,Math.floor(a)){case 0:d=s,h=l,p=0;break;case 1:d=l,h=s,p=0;break;case 2:d=0,h=s,p=l;break;case 3:d=0,h=l,p=s;break;case 4:d=l,h=0,p=s;break;case 5:d=s,h=0,p=l;break;default:d=h=p=0}d=i(255*(d+u)),h=i(255*(h+u)),p=i(255*(p+u))}function a(){function t(t){return t=parseInt(t,10).toString(16),t.length>1?t:"0"+t}return"#"+t(d)+t(h)+t(p)}function s(){return{r:d,g:h,b:p}}function l(){return r(d,h,p)}function u(t){var e;return"object"==typeof t?"r"in t?(d=t.r,h=t.g,p=t.b):"v"in t&&o(t.h,t.s,t.v):(e=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(d=parseInt(e[1],10),h=parseInt(e[2],10),p=parseInt(e[3],10)):(e=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(d=parseInt(e[1],16),h=parseInt(e[2],16),p=parseInt(e[3],16)):(e=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(d=parseInt(e[1]+e[1],16),h=parseInt(e[2]+e[2],16),p=parseInt(e[3]+e[3],16)),d=d<0?0:d>255?255:d,h=h<0?0:h>255?255:h,p=p<0?0:p>255?255:p,c}var c=this,d=0,h=0,p=0;t&&u(t),c.toRgb=s,c.toHsv=l,c.toHex=a,c.parse=u}var e=Math.min,n=Math.max,i=Math.round;return t}),i("tinymce/ui/ColorPicker",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils","tinymce/util/Color"],function(t,e,n,i){return t.extend({Defaults:{classes:"widget colorpicker"},init:function(t){this._super(t)},postRender:function(){function t(t,e){var i,r,o=n.getPos(t);return i=e.pageX-o.x,r=e.pageY-o.y,i=Math.max(0,Math.min(i/t.clientWidth,1)),r=Math.max(0,Math.min(r/t.clientHeight,1)),{x:i,y:r}}function r(t,e){var r=(360-t.h)/360;n.css(u,{top:100*r+"%"}),e||n.css(d,{left:t.s+"%",top:100-t.v+"%"}),c.style.background=new i({s:100,v:100,h:t.h}).toHex(),h.color().parse({s:t.s,v:t.v,h:t.h})}function o(e){var n;n=t(c,e),s.s=100*n.x,s.v=100*(1-n.y),r(s),h.fire("change")}function a(e){var n;n=t(l,e),s=p.toHsv(),s.h=360*(1-n.y),r(s,!0),h.fire("change")}var s,l,u,c,d,h=this,p=h.color();l=h.getEl("h"),u=h.getEl("hp"),c=h.getEl("sv"),d=h.getEl("svp"),h._repaint=function(){s=p.toHsv(),r(s)},h._super(),h._svdraghelper=new e(h._id+"-sv",{start:o,drag:o}),h._hdraghelper=new e(h._id+"-h",{start:a,drag:a}),h._repaint()},rgb:function(){return this.color().toRgb()},value:function(t){var e=this;return arguments.length?(e.color().parse(t),void(e._rendered&&e._repaint())):e.color().toHex()},color:function(){return this._color||(this._color=new i),this._color},renderHtml:function(){function t(){var t,e,n,i,a="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",i=o.split(","),t=0,e=i.length-1;t<e;t++)a+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/e+"%;"+n+i[t]+",endColorstr="+i[t+1]+");-ms-"+n+i[t]+",endColorstr="+i[t+1]+')"></div>';return a}var e,n=this,i=n._id,r=n.classPrefix,o="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",a="background: -ms-linear-gradient(top,"+o+");background: linear-gradient(to bottom,"+o+");";return e='<div id="'+i+'-h" class="'+r+'colorpicker-h" style="'+a+'">'+t()+'<div id="'+i+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+i+'" class="'+n.classes+'"><div id="'+i+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+i+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+e+"</div>"}})}),i("tinymce/ui/Path",["tinymce/ui/Widget"],function(t){return t.extend({init:function(t){var e=this;t.delimiter||(t.delimiter="»"),e._super(t),e.classes.add("path"),e.canFocus=!0,e.on("click",function(t){var n,i=t.target;(n=i.getAttribute("data-index"))&&e.fire("select",{value:e.row()[n],index:n})}),e.row(e.settings.row)},focus:function(){var t=this;return t.getEl().firstChild.focus(),t},row:function(t){return arguments.length?(this.state.set("row",t),this):this.state.get("row")},renderHtml:function(){var t=this;return'<div id="'+t._id+'" class="'+t.classes+'">'+t._getDataPathHtml(t.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",function(e){t.innerHtml(t._getDataPathHtml(e.value))}),t._super()},_getDataPathHtml:function(t){var e,n,i=this,r=t||[],o="",a=i.classPrefix;for(e=0,n=r.length;e<n;e++)o+=(e>0?'<div class="'+a+'divider" aria-hidden="true"> '+i.settings.delimiter+" </div>":"")+'<div role="button" class="'+a+"path-item"+(e==n-1?" "+a+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+i._id+"-"+e+'" aria-level="'+e+'">'+r[e].name+"</div>";return o||(o='<div class="'+a+'path-item"> </div>'),o}})}),i("tinymce/ui/ElementPath",["tinymce/ui/Path","tinymce/EditorManager"],function(t,e){return t.extend({postRender:function(){function t(t){if(1===t.nodeType){if("BR"==t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1}var n=this,i=e.activeEditor;return i.settings.elementpath!==!1&&(n.on("select",function(t){i.focus(),i.selection.select(this.row()[t.index].element),i.nodeChanged()}),i.on("nodeChange",function(e){for(var r=[],o=e.parents,a=o.length;a--;)if(1==o[a].nodeType&&!t(o[a])){var s=i.fire("ResolveName",{name:o[a].nodeName.toLowerCase(),target:o[a]});if(s.isDefaultPrevented()||r.push({name:s.name,element:o[a]}),s.isPropagationStopped())break}n.row(r)})),n._super()}})}),i("tinymce/ui/FormItem",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var t=this,e=t._layout,n=t.classPrefix;return t.classes.add("formitem"),e.preRender(t),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1">'+(t.settings.title?'<div id="'+t._id+'-title" class="'+n+'title">'+t.settings.title+"</div>":"")+'<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></div>"}})}),i("tinymce/ui/Form",["tinymce/ui/Container","tinymce/ui/FormItem","tinymce/util/Tools"],function(t,e,n){return t.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:20,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var t=this,i=t.items();t.settings.formItemDefaults||(t.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),i.each(function(i){var r,o=i.settings.label;o&&(r=new e(n.extend({items:{type:"label",id:i._id+"-l",text:o,flex:0,forId:i._id,disabled:i.disabled()}},t.settings.formItemDefaults)),r.type="formitem",i.aria("labelledby",i._id+"-l"),"undefined"==typeof i.settings.flex&&(i.settings.flex=1),t.replace(i,r),r.add(i))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var t=this;t._super(),t.fromJSON(t.settings.data)},bindStates:function(){function t(){var t,n,i,r=0,o=[];if(e.settings.labelGapCalc!==!1)for(i="children"==e.settings.labelGapCalc?e.find("formitem"):e.items(),i.filter("formitem").each(function(t){var e=t.items()[0],n=e.getEl().clientWidth;r=n>r?n:r,o.push(e)}),n=e.settings.labelGap||0,t=o.length;t--;)o[t].settings.minWidth=r+n}var e=this;e._super(),e.on("show",t),t()}})}),i("tinymce/ui/FieldSet",["tinymce/ui/Form"],function(t){return t.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var t=this,e=t._layout,n=t.classPrefix;return t.preRender(),e.preRender(t),'<fieldset id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1">'+(t.settings.title?'<legend id="'+t._id+'-title" class="'+n+'fieldset-title">'+t.settings.title+"</legend>":"")+'<div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+(t.settings.html||"")+e.renderHtml(t)+"</div></fieldset>"}})}),i("tinymce/ui/FilePicker",["tinymce/ui/ComboBox","tinymce/util/Tools"],function(t,e){return t.extend({init:function(t){var n,i,r,o=this,a=tinymce.activeEditor,s=a.settings;t.spellcheck=!1,r=s.file_picker_types||s.file_browser_callback_types,r&&(r=e.makeMap(r,/[, ]/)),r&&!r[t.filetype]||(i=s.file_picker_callback,!i||r&&!r[t.filetype]?(i=s.file_browser_callback,!i||r&&!r[t.filetype]||(n=function(){i(o.getEl("inp").id,o.value(),t.filetype,window)})):n=function(){var n=o.fire("beforecall").meta;n=e.extend({filetype:t.filetype},n),i.call(a,function(t,e){o.value(t).fire("change",{meta:e})},o.value(),n)}),n&&(t.icon="browse",t.onaction=n),o._super(t)}})}),i("tinymce/ui/FitLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e=t.layoutRect(),n=t.paddingBox;t.items().filter(":visible").each(function(t){t.layoutRect({x:n.left,y:n.top,w:e.innerW-n.right-n.left,h:e.innerH-n.top-n.bottom}),t.recalc&&t.recalc()})}})}),i("tinymce/ui/FlexLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w,_,x,k,C,$,M,S,T,D,E,O,P,A,N,I,R,L,B,H=[],F=Math.max,W=Math.min;for(i=t.items().filter(":visible"),r=t.layoutRect(),o=t.paddingBox,a=t.settings,h=t.isRtl()?a.direction||"row-reversed":a.direction,s=a.align,l=t.isRtl()?a.pack||"end":a.pack,u=a.spacing||0,"row-reversed"!=h&&"column-reverse"!=h||(i=i.set(i.toArray().reverse()),h=h.split("-")[0]),"column"==h?($="y",k="h",C="minH",M="maxH",T="innerH",S="top",D="deltaH",E="contentH",I="left",A="w",O="x",P="innerW",N="minW",R="right",L="deltaW",B="contentW"):($="x",k="w",C="minW",M="maxW",T="innerW",S="left",D="deltaW",E="contentW",I="top",A="h",O="y",P="innerH",N="minH",R="bottom",L="deltaH",B="contentH"),d=r[T]-o[S]-o[S],x=c=0,e=0,n=i.length;e<n;e++)p=i[e],f=p.layoutRect(),g=p.settings,m=g.flex,d-=e<n-1?u:0,m>0&&(c+=m,f[M]&&H.push(p),f.flex=m),d-=f[C],v=o[I]+f[N]+o[R],v>x&&(x=v);if(w={},d<0?w[C]=r[C]-d+r[D]:w[C]=r[T]-d+r[D],w[N]=x+r[L],w[E]=r[T]-d,w[B]=x,w.minW=W(w.minW,r.maxW),w.minH=W(w.minH,r.maxH),w.minW=F(w.minW,r.startMinWidth),w.minH=F(w.minH,r.startMinHeight),!r.autoResize||w.minW==r.minW&&w.minH==r.minH){for(b=d/c,e=0,n=H.length;e<n;e++)p=H[e],f=p.layoutRect(),y=f[M],v=f[C]+f.flex*b,v>y?(d-=f[M]-f[C],c-=f.flex,f.flex=0,f.maxFlexSize=y):f.maxFlexSize=0;for(b=d/c,_=o[S],w={},0===c&&("end"==l?_=d+o[S]:"center"==l?(_=Math.round(r[T]/2-(r[T]-d)/2)+o[S],_<0&&(_=o[S])):"justify"==l&&(_=o[S],u=Math.floor(d/(i.length-1)))),w[O]=o[I],e=0,n=i.length;e<n;e++)p=i[e],f=p.layoutRect(),v=f.maxFlexSize||f[C],"center"===s?w[O]=Math.round(r[P]/2-f[A]/2):"stretch"===s?(w[A]=F(f[N]||0,r[P]-o[I]-o[R]),w[O]=o[I]):"end"===s&&(w[O]=r[P]-f[A]-o.top),f.flex>0&&(v+=f.flex*b),w[k]=v,w[$]=_,p.layoutRect(w),p.recalc&&p.recalc(),_+=v+u}else if(w.w=w.minW,w.h=w.minH,t.layoutRect(w),this.recalc(t),null===t._lastRect){var j=t.parent();j&&(j._lastRect=null,j.recalc())}}})}),i("tinymce/ui/FlowLayout",["tinymce/ui/Layout"],function(t){return t.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(t){t.items().filter(":visible").each(function(t){t.recalc&&t.recalc()})},isNative:function(){return!0}})}),i("tinymce/ui/FormatControls",["tinymce/ui/Control","tinymce/ui/Widget","tinymce/ui/FloatPanel","tinymce/util/Tools","tinymce/EditorManager","tinymce/Env"],function(t,e,n,i,r,o){function a(t){function e(e,n){return function(){var i=this;t.on("nodeChange",function(r){var o=t.formatter,a=null;s(r.parents,function(t){if(s(e,function(e){if(n?o.matchNode(t,n,{value:e.value})&&(a=e.value):o.matchNode(t,e.value)&&(a=e.value),a)return!1}),a)return!1}),i.value(a)})}}function i(t){t=t.replace(/;$/,"").split(";");for(var e=t.length;e--;)t[e]=t[e].split("=");return t}function r(){function e(t){var n=[];if(t)return s(t,function(t){var o={text:t.title,icon:t.icon};if(t.items)o.menu=e(t.items);else{var a=t.format||"custom"+i++;t.format||(t.name=a,r.push(t)),o.format=a,o.cmd=t.cmd}n.push(o)}),n}function n(){var n;return n=e(t.settings.style_formats_merge?t.settings.style_formats?o.concat(t.settings.style_formats):o:t.settings.style_formats||o)}var i=0,r=[],o=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}];return t.on("init",function(){s(r,function(e){t.formatter.register(e.name,e)})}),{type:"menu",items:n(),onPostRender:function(e){t.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return t.formatter.getCssText(this.settings.format)},onPostRender:function(){var e=this;e.parent().on("show",function(){var n,i;n=e.settings.format,n&&(e.disabled(!t.formatter.canApply(n)),e.active(t.formatter.match(n))),i=e.settings.cmd,i&&e.active(t.queryCommandState(i))})},onclick:function(){this.settings.format&&u(this.settings.format),this.settings.cmd&&t.execCommand(this.settings.cmd)}}}}function o(e){return function(){var n=this;t.formatter?t.formatter.formatChanged(e,function(t){n.active(t)}):t.on("init",function(){t.formatter.formatChanged(e,function(t){n.active(t)})})}}function a(e){return function(){function n(){return!!t.undoManager&&t.undoManager[e]()}var i=this;e="redo"==e?"hasRedo":"hasUndo",i.disabled(!n()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){i.disabled(t.readonly||!n())})}}function l(){var e=this;t.on("VisualAid",function(t){e.active(t.hasVisual)}),e.active(t.hasVisual)}function u(e){e.control&&(e=e.control.value()),e&&t.execCommand("mceToggleFormat",!1,e)}var c;c=r(),s({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(e,n){t.addButton(n,{tooltip:e,onPostRender:o(n),onclick:function(){u(n)}})}),s({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],removeformat:["Clear formatting","RemoveFormat"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"]},function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1]})}),s({blockquote:["Blockquote","mceBlockQuote"],numlist:["Numbered list","InsertOrderedList"],bullist:["Bullet list","InsertUnorderedList"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1],onPostRender:o(n)})}),t.addButton("undo",{tooltip:"Undo",onPostRender:a("undo"),cmd:"undo"}),t.addButton("redo",{tooltip:"Redo",onPostRender:a("redo"),cmd:"redo"}),t.addMenuItem("newdocument",{text:"New document",icon:"newdocument",cmd:"mceNewDocument"}),t.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:a("undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:a("redo"),cmd:"redo"}),t.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:l,cmd:"mceToggleVisualAid"}),t.addButton("remove",{tooltip:"Remove",icon:"remove",cmd:"Delete"}),s({cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"],bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"]},function(e,n){t.addMenuItem(n,{text:e[0],icon:n,shortcut:e[2],cmd:e[1]})}),t.on("mousedown",function(){n.hideAll()}),t.addButton("styleselect",{type:"menubutton",text:"Formats",menu:c}),t.addButton("formatselect",function(){var n=[],r=i(t.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");return s(r,function(e){n.push({text:e[0],value:e[1],textStyle:function(){return t.formatter.getCssText(e[1])}})}),{type:"listbox",text:r[0][0],values:n,fixedWidth:!0,onselect:u,onPostRender:e(n)}}),t.addButton("fontselect",function(){var n="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",r=[],o=i(t.settings.font_formats||n);return s(o,function(t){r.push({text:{raw:t[0]},value:t[1],textStyle:t[1].indexOf("dings")==-1?"font-family:"+t[1]:""})}),{type:"listbox",text:"Font Family",tooltip:"Font Family",values:r,fixedWidth:!0,onPostRender:e(r,"fontname"),onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}}),t.addButton("fontsizeselect",function(){var n=[],i="8pt 10pt 12pt 14pt 18pt 24pt 36pt",r=t.settings.fontsize_formats||i;return s(r.split(" "),function(t){var e=t,i=t,r=t.split("=");r.length>1&&(e=r[0],i=r[1]),n.push({text:e,value:i})}),{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:n,fixedWidth:!0,onPostRender:e(n,"fontsize"),onclick:function(e){e.control.settings.value&&t.execCommand("FontSize",!1,e.control.settings.value)}}}),t.addMenuItem("formats",{text:"Formats",menu:c})}var s=i.each;r.on("AddEditor",function(e){e.editor.rtl&&(t.rtl=!0),a(e.editor)}),t.translate=function(t){return r.translate(t)},e.tooltips=!o.iOS}),i("tinymce/ui/GridLayout",["tinymce/ui/AbsoluteLayout"],function(t){return t.extend({recalc:function(t){var e,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w,_,x,k,C,$,M,S,T,D,E=[],O=[];e=t.settings,r=t.items().filter(":visible"),o=t.layoutRect(),i=e.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),y=e.spacingH||e.spacing||0,b=e.spacingV||e.spacing||0,w=e.alignH||e.align,_=e.alignV||e.align,m=t.paddingBox,T="reverseRows"in e?e.reverseRows:t.isRtl(),w&&"string"==typeof w&&(w=[w]),_&&"string"==typeof _&&(_=[_]);for(d=0;d<i;d++)E.push(0);for(h=0;h<n;h++)O.push(0);for(h=0;h<n;h++)for(d=0;d<i&&(c=r[h*i+d],c);d++)u=c.layoutRect(),C=u.minW,$=u.minH,E[d]=C>E[d]?C:E[d],O[h]=$>O[h]?$:O[h];for(M=o.innerW-m.left-m.right,x=0,d=0;d<i;d++)x+=E[d]+(d>0?y:0),M-=(d>0?y:0)+E[d];for(S=o.innerH-m.top-m.bottom,k=0,h=0;h<n;h++)k+=O[h]+(h>0?b:0),S-=(h>0?b:0)+O[h];if(x+=m.left+m.right,k+=m.top+m.bottom,l={},l.minW=x+(o.w-o.innerW),l.minH=k+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW==o.minW&&l.minH==o.minH){o.autoResize&&(l=t.layoutRect(l),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH);var P;P="start"==e.packV?0:S>0?Math.floor(S/n):0;var A=0,N=e.flexWidths;if(N)for(d=0;d<N.length;d++)A+=N[d];else A=i;var I=M/A;for(d=0;d<i;d++)E[d]+=N?N[d]*I:I;for(f=m.top,h=0;h<n;h++){for(p=m.left,s=O[h]+P,d=0;d<i&&(D=T?h*i+i-1-d:h*i+d,c=r[D],c);d++)g=c.settings,u=c.layoutRect(),a=Math.max(E[d],u.startMinWidth),u.x=p,u.y=f,v=g.alignH||(w?w[d]||w[0]:null),"center"==v?u.x=p+a/2-u.w/2:"right"==v?u.x=p+a-u.w:"stretch"==v&&(u.w=a),v=g.alignV||(_?_[d]||_[0]:null),"center"==v?u.y=f+s/2-u.h/2:"bottom"==v?u.y=f+s-u.h:"stretch"==v&&(u.h=s),c.layoutRect(u),p+=a+y,c.recalc&&c.recalc();f+=s+b}}else if(l.w=l.minW,l.h=l.minH,t.layoutRect(l),this.recalc(t),null===t._lastRect){var R=t.parent();R&&(R._lastRect=null,R.recalc())}}})}),i("tinymce/ui/Iframe",["tinymce/ui/Widget","tinymce/util/Delay"],function(t,e){return t.extend({renderHtml:function(){var t=this;return t.classes.add("iframe"),t.canFocus=!1,'<iframe id="'+t._id+'" class="'+t.classes+'" tabindex="-1" src="'+(t.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(t){this.getEl().src=t},html:function(t,n){var i=this,r=this.getEl().contentWindow.document.body;return r?(r.innerHTML=t,n&&n()):e.setTimeout(function(){i.html(t)}),this}})}),i("tinymce/ui/InfoBox",["tinymce/ui/Widget"],function(t){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("widget").add("infobox"),e.canFocus=!1},severity:function(t){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(t)},help:function(t){this.state.set("help",t)},renderHtml:function(){var t=this,e=t.classPrefix;return'<div id="'+t._id+'" class="'+t.classes+'"><div id="'+t._id+'-body">'+t.encode(t.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+e+"ico "+e+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t.state.on("change:help",function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),i("tinymce/ui/Label",["tinymce/ui/Widget","tinymce/ui/DomUtils"],function(t,e){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("widget").add("label"),e.canFocus=!1,t.multiline&&e.classes.add("autoscroll"),t.strong&&e.classes.add("strong")},initLayoutRect:function(){var t=this,n=t._super();if(t.settings.multiline){var i=e.getSize(t.getEl());i.width>n.maxW&&(n.minW=n.maxW,t.classes.add("multiline")),t.getEl().style.width=n.minW+"px",n.startMinH=n.h=n.minH=Math.min(n.maxH,e.getSize(t.getEl()).height)}return n},repaint:function(){var t=this;return t.settings.multiline||(t.getEl().style.lineHeight=t.layoutRect().h+"px"),t._super()},severity:function(t){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(t)},renderHtml:function(){var t,e,n=this,i=n.settings.forId;return!i&&(e=n.settings.forName)&&(t=n.getRoot().find("#"+e)[0],t&&(i=t._id)),i?'<label id="'+n._id+'" class="'+n.classes+'"'+(i?' for="'+i+'"':"")+">"+n.encode(n.state.get("text"))+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+n.encode(n.state.get("text"))+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()}),t._super()}})}),i("tinymce/ui/Toolbar",["tinymce/ui/Container"],function(t){return t.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(t){var e=this;e._super(t),e.classes.add("toolbar")},postRender:function(){var t=this;return t.items().each(function(t){t.classes.add("toolbar-item")}),t._super()}})}),i("tinymce/ui/MenuBar",["tinymce/ui/Toolbar"],function(t){return t.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}})}),i("tinymce/ui/MenuButton",["tinymce/ui/Button","tinymce/ui/Factory","tinymce/ui/MenuBar"],function(t,e,n){function i(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1}var r=t.extend({init:function(t){var e=this;e._renderOpen=!0,e._super(t),t=e.settings,e.classes.add("menubtn"),t.fixedWidth&&e.classes.add("fixed-width"),e.aria("haspopup",!0),e.state.set("menu",t.menu||e.render())},showMenu:function(){var t,n=this;return n.menu&&n.menu.visible()?n.hideMenu():(n.menu||(t=n.state.get("menu")||[],t.length?t={type:"menu",items:t}:t.type=t.type||"menu",t.renderTo?n.menu=t.parent(n).show().renderTo():n.menu=e.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(t){t.control.parent()===n.menu&&(t.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(t){t.control==n.menu&&n.activeMenu("show"==t.type),n.aria("expanded","show"==t.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),void n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]))},hideMenu:function(){var t=this;t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide())},activeMenu:function(t){this.classes.toggle("active",t)},renderHtml:function(){var t,e=this,i=e._id,r=e.classPrefix,o=e.settings.icon,a=e.state.get("text"),s="";return t=e.settings.image,t?(o="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",a&&(e.classes.add("btn-has-text"),s='<span class="'+r+'txt">'+e.encode(a)+"</span>"),o=e.settings.icon?r+"ico "+r+"i-"+o:"",e.aria("role",e.parent()instanceof n?"menuitem":"button"),'<div id="'+i+'" class="'+e.classes+'" tabindex="-1" aria-labelledby="'+i+'"><button id="'+i+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+t+"></i>":"")+s+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var t=this;return t.on("click",function(e){e.control===t&&i(e.target,t.getEl())&&(t.showMenu(),e.aria&&t.menu.items()[0].focus())}),t.on("mouseenter",function(e){var n,i=e.control,o=t.parent();i&&o&&i instanceof r&&i.parent()==o&&(o.items().filter("MenuButton").each(function(t){t.hideMenu&&t!=i&&(t.menu&&t.menu.visible()&&(n=!0),t.hideMenu())}),n&&(i.focus(),i.showMenu()))}),t._super()},bindStates:function(){var t=this;return t.state.on("change:menu",function(){t.menu&&t.menu.remove(),t.menu=null}),t._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});return r}),i("tinymce/ui/MenuItem",["tinymce/ui/Widget","tinymce/ui/Factory","tinymce/Env","tinymce/util/Delay"],function(t,e,n,i){return t.extend({Defaults:{border:0,role:"menuitem"},init:function(t){var e,n=this;n._super(t),t=n.settings,n.classes.add("menu-item"),t.menu&&n.classes.add("menu-item-expand"),t.preview&&n.classes.add("menu-item-preview"),e=n.state.get("text"),"-"!==e&&"|"!==e||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),t.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),t.icon="selected"),t.preview||t.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(t){t.preventDefault()}),t.menu&&!t.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,n=this,i=n.settings,r=n.parent();if(r.items().each(function(t){t!==n&&t.hideMenu()}),i.menu){t=n.menu,t?t.show():(t=i.menu,t.length?t={type:"menu",items:t}:t.type=t.type||"menu",r.settings.itemDefaults&&(t.itemDefaults=r.settings.itemDefaults),t=n.menu=e.create(t).parent(n).renderTo(),t.reflow(),t.on("cancel",function(e){e.stopPropagation(),n.focus(),t.hide()}),t.on("show hide",function(t){t.control.items().each(function(t){t.active(t.settings.selected)})}).fire("show"),t.on("hide",function(e){e.control===t&&n.classes.remove("selected")}),t.submenu=!0),t._parentMenu=r,t.classes.add("menu-sub");var o=t.testMoveRel(n.getEl(),n.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);
t.moveRel(n.getEl(),o),t.rel=o,o="menu-sub-"+o,t.classes.remove(t._lastRel).add(o),t._lastRel=o,n.classes.add("selected"),n.aria("expanded",!0)}},hideMenu:function(){var t=this;return t.menu&&(t.menu.items().each(function(t){t.hideMenu&&t.hideMenu()}),t.menu.hide(),t.aria("expanded",!1)),t},renderHtml:function(){function t(t){var e,i,r={};for(r=n.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},t=t.split("+"),e=0;e<t.length;e++)i=r[t[e].toLowerCase()],i&&(t[e]=i);return t.join("+")}var e=this,i=e._id,r=e.settings,o=e.classPrefix,a=e.encode(e.state.get("text")),s=e.settings.icon,l="",u=r.shortcut;return s&&e.parent().classes.add("menu-has-icons"),r.image&&(l=" style=\"background-image: url('"+r.image+"')\""),u&&(u=t(u)),s=o+"ico "+o+"i-"+(e.settings.icon||"none"),'<div id="'+i+'" class="'+e.classes+'" tabindex="-1">'+("-"!==a?'<i class="'+s+'"'+l+"></i> ":"")+("-"!==a?'<span id="'+i+'-text" class="'+o+'text">'+a+"</span>":"")+(u?'<div id="'+i+'-shortcut" class="'+o+'menu-shortcut">'+u+"</div>":"")+(r.menu?'<div class="'+o+'caret"></div>':"")+"</div>"},postRender:function(){var t=this,e=t.settings,n=e.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var r=t.getEl("text");r&&r.setAttribute("style",n)}return t.on("mouseenter click",function(n){n.control===t&&(e.menu||"click"!==n.type?(t.showMenu(),n.aria&&t.menu.focus(!0)):(t.fire("select"),i.requestAnimationFrame(function(){t.parent().hideAll()})))}),t._super(),t},hover:function(){var t=this;return t.parent().items().each(function(t){t.classes.remove("selected")}),t.classes.toggle("selected",!0),t},active:function(t){return"undefined"!=typeof t&&this.aria("checked",t),this._super(t)},remove:function(){this._super(),this.menu&&this.menu.remove()}})}),i("tinymce/ui/Throbber",["tinymce/dom/DomQuery","tinymce/ui/Control","tinymce/util/Delay"],function(t,e,n){return function(i,r){var o,a,s=this,l=e.classPrefix;s.show=function(e,u){function c(){o&&(t(i).append('<div class="'+l+"throbber"+(r?" "+l+"throbber-inline":"")+'"></div>'),u&&u())}return s.hide(),o=!0,e?a=n.setTimeout(c,e):c(),s},s.hide=function(){var t=i.lastChild;return n.clearTimeout(a),t&&t.className.indexOf("throbber")!=-1&&t.parentNode.removeChild(t),o=!1,s}}}),i("tinymce/ui/Menu",["tinymce/ui/FloatPanel","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/util/Tools"],function(t,e,n,i){return t.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(t){var e=this;if(t.autohide=!0,t.constrainToViewport=!0,"function"==typeof t.items&&(t.itemsFactory=t.items,t.items=[]),t.itemDefaults)for(var n=t.items,r=n.length;r--;)n[r]=i.extend({},t.itemDefaults,n[r]);e._super(t),e.classes.add("menu")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var t=this;t.hideAll(),t.fire("select")},load:function(){function t(){r.throbber&&(r.throbber.hide(),r.throbber=null)}var e,i,r=this;i=r.settings.itemsFactory,i&&(r.throbber||(r.throbber=new n(r.getEl("body"),(!0)),0===r.items().length?(r.throbber.show(),r.fire("loading")):r.throbber.show(100,function(){r.items().remove(),r.fire("loading")}),r.on("hide close",t)),r.requestTime=e=(new Date).getTime(),r.settings.itemsFactory(function(n){return 0===n.length?void r.hide():void(r.requestTime===e&&(r.getEl().style.width="",r.getEl("body").style.width="",t(),r.items().remove(),r.getEl("body").innerHTML="",r.add(n),r.renderNew(),r.fire("loaded")))}))},hideAll:function(){var t=this;return this.find("menuitem").exec("hideMenu"),t._super()},preRender:function(){var t=this;return t.items().each(function(e){var n=e.settings;if(n.icon||n.image||n.selectable)return t._hasIcons=!0,!1}),t.settings.itemsFactory&&t.on("postrender",function(){t.settings.itemsFactory&&t.load()}),t._super()}})}),i("tinymce/ui/ListBox",["tinymce/ui/MenuButton","tinymce/ui/Menu"],function(t,e){return t.extend({init:function(t){function e(n){for(var o=0;o<n.length;o++){if(i=n[o].selected||t.value===n[o].value)return r=r||n[o].text,a.state.set("value",n[o].value),!0;if(n[o].menu&&e(n[o].menu))return!0}}var n,i,r,o,a=this;a._super(t),t=a.settings,a._values=n=t.values,n&&("undefined"!=typeof t.value&&e(n),!i&&n.length>0&&(r=n[0].text,a.state.set("value",n[0].value)),a.state.set("menu",n)),a.state.set("text",t.text||r),a.classes.add("listbox"),a.on("select",function(e){var n=e.control;o&&(e.lastControl=o),t.multiple?n.active(!n.active()):a.value(e.control.value()),o=n})},bindStates:function(){function t(t,n){t instanceof e&&t.items().each(function(t){t.hasMenus()||t.active(t.value()===n)})}function n(t,e){var i;if(t)for(var r=0;r<t.length;r++){if(t[r].value===e)return t[r];if(t[r].menu&&(i=n(t[r].menu,e)))return i}}var i=this;return i.on("show",function(e){t(e.control,i.value())}),i.state.on("change:value",function(t){var e=n(i.state.get("menu"),t.value);e?i.text(e.text):i.text(i.settings.text)}),i._super()}})}),i("tinymce/ui/Radio",["tinymce/ui/Checkbox"],function(t){return t.extend({Defaults:{classes:"radio",role:"radio"}})}),i("tinymce/ui/ResizeHandle",["tinymce/ui/Widget","tinymce/ui/DragHelper"],function(t,e){return t.extend({renderHtml:function(){var t=this,e=t.classPrefix;return t.classes.add("resizehandle"),"both"==t.settings.direction&&t.classes.add("resizehandle-both"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes+'"><i class="'+e+"ico "+e+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new e(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!=t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}})}),i("tinymce/ui/SelectBox",["tinymce/ui/Widget"],function(t){function e(t){var e="";if(t)for(var n=0;n<t.length;n++)e+='<option value="'+t[n]+'">'+t[n]+"</option>";return e}return t.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(t){var e=this;e._super(t),e.settings.size&&(e.size=e.settings.size),e.settings.options&&(e._options=e.settings.options),e.on("keydown",function(t){var n;13==t.keyCode&&(t.preventDefault(),e.parents().reverse().each(function(t){if(t.toJSON)return n=t,!1}),e.fire("submit",{data:n.toJSON()}))})},options:function(t){return arguments.length?(this.state.set("options",t),this):this.state.get("options")},renderHtml:function(){var t,n=this,i="";return t=e(n._options),n.size&&(i=' size = "'+n.size+'"'),'<select id="'+n._id+'" class="'+n.classes+'"'+i+">"+t+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",function(n){t.getEl().innerHTML=e(n.value)}),t._super()}})}),i("tinymce/ui/Slider",["tinymce/ui/Widget","tinymce/ui/DragHelper","tinymce/ui/DomUtils"],function(t,e,n){function i(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}function r(t,e,n){t.setAttribute("aria-"+e,n)}function o(t,e){var i,o,a,s,l,u;"v"==t.settings.orientation?(s="top",a="height",o="h"):(s="left",a="width",o="w"),u=t.getEl("handle"),i=(t.layoutRect()[o]||100)-n.getSize(u)[a],l=i*((e-t._minValue)/(t._maxValue-t._minValue))+"px",u.style[s]=l,u.style.height=t.layoutRect().h+"px",r(u,"valuenow",e),r(u,"valuetext",""+t.settings.previewFilter(e)),r(u,"valuemin",t._minValue),r(u,"valuemax",t._maxValue)}return t.extend({init:function(t){var e=this;t.previewFilter||(t.previewFilter=function(t){return Math.round(100*t)/100}),e._super(t),e.classes.add("slider"),"v"==t.orientation&&e.classes.add("vertical"),e._minValue=t.minValue||0,e._maxValue=t.maxValue||100,e._initValue=e.state.get("value")},renderHtml:function(){var t=this,e=t._id,n=t.classPrefix;return'<div id="'+e+'" class="'+t.classes+'"><div id="'+e+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function t(t,e,n){return(n+t)/(e-t)}function r(t,e,n){return n*(e-t)-t}function o(e,n){function o(o){var a;a=p.value(),a=r(e,n,t(e,n,a)+.05*o),a=i(a,e,n),p.value(a),p.fire("dragstart",{value:a}),p.fire("drag",{value:a}),p.fire("dragend",{value:a})}p.on("keydown",function(t){switch(t.keyCode){case 37:case 38:o(-1);break;case 39:case 40:o(1)}})}function a(t,r,o){var a,s,l,f,g;p._dragHelper=new e(p._id,{handle:p._id+"-handle",start:function(t){a=t[u],s=parseInt(p.getEl("handle").style[c],10),l=(p.layoutRect()[h]||100)-n.getSize(o)[d],p.fire("dragstart",{value:g})},drag:function(e){var n=e[u]-a;f=i(s+n,0,l),o.style[c]=f+"px",g=t+f/l*(r-t),p.value(g),p.tooltip().text(""+p.settings.previewFilter(g)).show().moveRel(o,"bc tc"),p.fire("drag",{value:g})},stop:function(){p.tooltip().hide(),p.fire("dragend",{value:g})}})}var s,l,u,c,d,h,p=this;s=p._minValue,l=p._maxValue,"v"==p.settings.orientation?(u="screenY",c="top",d="height",h="h"):(u="screenX",c="left",d="width",h="w"),p._super(),o(s,l,p.getEl("handle")),a(s,l,p.getEl("handle"))},repaint:function(){this._super(),o(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",function(e){o(t,e.value)}),t._super()}})}),i("tinymce/ui/Spacer",["tinymce/ui/Widget"],function(t){return t.extend({renderHtml:function(){var t=this;return t.classes.add("spacer"),t.canFocus=!1,'<div id="'+t._id+'" class="'+t.classes+'"></div>'}})}),i("tinymce/ui/SplitButton",["tinymce/ui/MenuButton","tinymce/ui/DomUtils","tinymce/dom/DomQuery"],function(t,e,n){return t.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var t,i,r=this,o=r.getEl(),a=r.layoutRect();return r._super(),t=o.firstChild,i=o.lastChild,n(t).css({width:a.w-e.getSize(i).width,height:a.h-2}),n(i).css({height:a.h-2}),r},activeMenu:function(t){var e=this;n(e.getEl().lastChild).toggleClass(e.classPrefix+"active",t)},renderHtml:function(){var t,e=this,n=e._id,i=e.classPrefix,r=e.state.get("icon"),o=e.state.get("text"),a="";return t=e.settings.image,t?(r="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",r=e.settings.icon?i+"ico "+i+"i-"+r:"",o&&(e.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+e.encode(o)+"</span>"),'<div id="'+n+'" class="'+e.classes+'" role="button" tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+t+"></i>":"")+a+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(e._menuBtnText?(r?" ":"")+e._menuBtnText:"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",function(t){var n=t.target;if(t.control==this)for(;n;){if(t.aria&&"down"!=t.aria.key||"BUTTON"==n.nodeName&&n.className.indexOf("open")==-1)return t.stopImmediatePropagation(),void(e&&e.call(this,t));n=n.parentNode}}),delete t.settings.onclick,t._super()}})}),i("tinymce/ui/StackLayout",["tinymce/ui/FlowLayout"],function(t){return t.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}})}),i("tinymce/ui/TabPanel",["tinymce/ui/Panel","tinymce/dom/DomQuery","tinymce/ui/DomUtils"],function(t,e,n){return t.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(t){var n;this.activeTabId&&(n=this.getEl(this.activeTabId),e(n).removeClass(this.classPrefix+"active"),n.setAttribute("aria-selected","false")),this.activeTabId="t"+t,n=this.getEl("t"+t),n.setAttribute("aria-selected","true"),e(n).addClass(this.classPrefix+"active"),this.items()[t].show().fire("showtab"),this.reflow(),this.items().each(function(e,n){t!=n&&e.hide()})},renderHtml:function(){var t=this,e=t._layout,n="",i=t.classPrefix;return t.preRender(),e.preRender(t),t.items().each(function(e,r){var o=t._id+"-t"+r;e.aria("role","tabpanel"),e.aria("labelledby",o),n+='<div id="'+o+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+t.encode(e.settings.title)+"</div>"}),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1"><div id="'+t._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+e.renderHtml(t)+"</div></div>"},postRender:function(){var t=this;t._super(),t.settings.activeTab=t.settings.activeTab||0,t.activateTab(t.settings.activeTab),this.on("click",function(e){var n=e.target.parentNode;if(e.target.parentNode.id==t._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]==e.target&&t.activateTab(i)})},initLayoutRect:function(){var t,e,i,r=this;e=n.getSize(r.getEl("head")).width,e=e<0?0:e,i=0,r.items().each(function(t){e=Math.max(e,t.layoutRect().minW),i=Math.max(i,t.layoutRect().minH)}),r.items().each(function(t){t.settings.x=0,t.settings.y=0,t.settings.w=e,t.settings.h=i,t.layoutRect({x:0,y:0,w:e,h:i})});var o=n.getSize(r.getEl("head")).height;return r.settings.minWidth=e,r.settings.minHeight=i+o,t=r._super(),t.deltaH+=o,t.innerH=t.h-t.deltaH,t}})}),i("tinymce/ui/TextBox",["tinymce/ui/Widget","tinymce/util/Tools","tinymce/ui/DomUtils"],function(t,e,n){return t.extend({init:function(t){var e=this;e._super(t),e.classes.add("textbox"),t.multiline?e.classes.add("multiline"):(e.on("keydown",function(t){var n;13==t.keyCode&&(t.preventDefault(),e.parents().reverse().each(function(t){if(t.toJSON)return n=t,!1}),e.fire("submit",{data:n.toJSON()}))}),e.on("keyup",function(t){e.state.set("value",t.target.value)}))},repaint:function(){var t,e,n,i,r,o=this,a=0;t=o.getEl().style,e=o._layoutRect,r=o._lastRepaintRect||{};var s=document;return!o.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(t.lineHeight=e.h-a+"px"),n=o.borderBox,i=n.left+n.right+8,a=n.top+n.bottom+(o.settings.multiline?8:0),e.x!==r.x&&(t.left=e.x+"px",r.x=e.x),e.y!==r.y&&(t.top=e.y+"px",r.y=e.y),e.w!==r.w&&(t.width=e.w-i+"px",r.w=e.w),e.h!==r.h&&(t.height=e.h-a+"px",r.h=e.h),o._lastRepaintRect=r,o.fire("repaint",{},!1),o},renderHtml:function(){var t,i,r=this,o=r.settings;return t={id:r._id,hidefocus:"1"},e.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(e){t[e]=o[e]}),r.disabled()&&(t.disabled="disabled"),o.subtype&&(t.type=o.subtype),i=n.create(o.multiline?"textarea":"input",t),i.value=r.state.get("value"),i.className=r.classes,i.outerHTML},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",function(e){t.state.set("value",e.target.value),t.fire("change",e)})},bindStates:function(){var t=this;return t.state.on("change:value",function(e){t.getEl().value!=e.value&&(t.getEl().value=e.value)}),t.state.on("change:disabled",function(e){t.getEl().disabled=e.value}),t._super()},remove:function(){this.$el.off(),this._super()}})}),i("tinymce/Register",[],function(){var t=this||window,e=function(){return t.tinymce};return"function"==typeof t.define&&(t.define.amd||t.define("ephox/tinymce",[],e)),{}}),o(["tinymce/geom/Rect","tinymce/util/Promise","tinymce/util/Delay","tinymce/Env","tinymce/dom/EventUtils","tinymce/dom/Sizzle","tinymce/util/Tools","tinymce/dom/DomQuery","tinymce/html/Styles","tinymce/dom/TreeWalker","tinymce/html/Entities","tinymce/dom/DOMUtils","tinymce/dom/ScriptLoader","tinymce/AddOnManager","tinymce/dom/RangeUtils","tinymce/html/Node","tinymce/html/Schema","tinymce/html/SaxParser","tinymce/html/DomParser","tinymce/html/Writer","tinymce/html/Serializer","tinymce/dom/Serializer","tinymce/util/VK","tinymce/dom/ControlSelection","tinymce/dom/BookmarkManager","tinymce/dom/Selection","tinymce/Formatter","tinymce/UndoManager","tinymce/EditorCommands","tinymce/util/URI","tinymce/util/Class","tinymce/util/EventDispatcher","tinymce/util/Observable","tinymce/ui/Selector","tinymce/ui/Collection","tinymce/ui/ReflowQueue","tinymce/ui/Control","tinymce/ui/Factory","tinymce/ui/KeyboardNavigation","tinymce/ui/Container","tinymce/ui/DragHelper","tinymce/ui/Scrollable","tinymce/ui/Panel","tinymce/ui/Movable","tinymce/ui/Resizable","tinymce/ui/FloatPanel","tinymce/ui/Window","tinymce/ui/MessageBox","tinymce/WindowManager","tinymce/ui/Tooltip","tinymce/ui/Widget","tinymce/ui/Progress","tinymce/ui/Notification","tinymce/NotificationManager","tinymce/EditorObservable","tinymce/Shortcuts","tinymce/Editor","tinymce/util/I18n","tinymce/FocusManager","tinymce/EditorManager","tinymce/util/XHR","tinymce/util/JSON","tinymce/util/JSONRequest","tinymce/util/JSONP","tinymce/util/LocalStorage","tinymce/Compat","tinymce/ui/Layout","tinymce/ui/AbsoluteLayout","tinymce/ui/Button","tinymce/ui/ButtonGroup","tinymce/ui/Checkbox","tinymce/ui/ComboBox","tinymce/ui/ColorBox","tinymce/ui/PanelButton","tinymce/ui/ColorButton","tinymce/util/Color","tinymce/ui/ColorPicker","tinymce/ui/Path","tinymce/ui/ElementPath","tinymce/ui/FormItem","tinymce/ui/Form","tinymce/ui/FieldSet","tinymce/ui/FilePicker","tinymce/ui/FitLayout","tinymce/ui/FlexLayout","tinymce/ui/FlowLayout","tinymce/ui/FormatControls","tinymce/ui/GridLayout","tinymce/ui/Iframe","tinymce/ui/InfoBox","tinymce/ui/Label","tinymce/ui/Toolbar","tinymce/ui/MenuBar","tinymce/ui/MenuButton","tinymce/ui/MenuItem","tinymce/ui/Throbber","tinymce/ui/Menu","tinymce/ui/ListBox","tinymce/ui/Radio","tinymce/ui/ResizeHandle","tinymce/ui/SelectBox","tinymce/ui/Slider","tinymce/ui/Spacer","tinymce/ui/SplitButton","tinymce/ui/StackLayout","tinymce/ui/TabPanel","tinymce/ui/TextBox"])}(this),function(t,e,n){"use strict";function i(t){return function(){var e,n=arguments[0];for(e="["+(t?t+":":"")+n+"] http://errors.angularjs.org/1.4.1/"+(t?t+"/":"")+n,n=1;n<arguments.length;n++){e=e+(1==n?"?":"&")+"p"+(n-1)+"=";var i,r=encodeURIComponent;i=arguments[n],i="function"==typeof i?i.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof i?"undefined":"string"!=typeof i?JSON.stringify(i):i,e+=r(i)}return Error(e)}}function r(t){if(null==t||S(t))return!1;var e="length"in Object(t)&&t.length;return!(t.nodeType!==di||!e)||(x(t)||ni(t)||0===e||"number"==typeof e&&0<e&&e-1 in t)}function o(t,e,n){var i,a;if(t)if($(t))for(i in t)"prototype"==i||"length"==i||"name"==i||t.hasOwnProperty&&!t.hasOwnProperty(i)||e.call(n,t[i],i,t);else if(ni(t)||r(t)){var s="object"!=typeof t;for(i=0,a=t.length;i<a;i++)(s||i in t)&&e.call(n,t[i],i,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(_(t))for(i in t)e.call(n,t[i],i,t);else if("function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t);else for(i in t)Vn.call(t,i)&&e.call(n,t[i],i,t);return t}function a(t,e,n){for(var i=Object.keys(t).sort(),r=0;r<i.length;r++)e.call(n,t[i[r]],i[r]);return i}function s(t){return function(e,n){t(n,e)}}function l(){return++ti}function u(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function c(t,e,n){for(var i=t.$$hashKey,r=0,o=e.length;r<o;++r){var a=e[r];if(w(a)||$(a))for(var s=Object.keys(a),l=0,d=s.length;l<d;l++){var h=s[l],p=a[h];n&&w(p)?(w(t[h])||(t[h]=ni(p)?[]:{}),c(t[h],[p],!0)):t[h]=p}}return u(t,i),t}function d(t){return c(t,qn.call(arguments,1),!1)}function h(t){return c(t,qn.call(arguments,1),!0)}function p(t){return parseInt(t,10)}function f(t,e){return d(Object.create(t),e)}function g(){}function m(t){return t}function v(t){return function(){return t}}function y(t){return"undefined"==typeof t}function b(t){return"undefined"!=typeof t}function w(t){return null!==t&&"object"==typeof t}function _(t){return null!==t&&"object"==typeof t&&!Xn(t)}function x(t){return"string"==typeof t}function k(t){return"number"==typeof t}function C(t){return"[object Date]"===Zn.call(t)}function $(t){return"function"==typeof t}function M(t){return"[object RegExp]"===Zn.call(t)}function S(t){return t&&t.window===t}function T(t){return t&&t.$evalAsync&&t.$watch}function D(t){return"boolean"==typeof t}function E(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function O(t){var e={};t=t.split(",");var n;for(n=0;n<t.length;n++)e[t[n]]=!0;return e}function P(t){return Gn(t.nodeName||t[0]&&t[0].nodeName)}function A(t,e){var n=t.indexOf(e);return 0<=n&&t.splice(n,1),n}function N(t,e,n,i){if(S(t)||T(t))throw Qn("cpws");if(ii.test(Zn.call(e)))throw Qn("cpta");if(e){if(t===e)throw Qn("cpi");n=n||[],i=i||[],w(t)&&(n.push(t),i.push(e));var r;if(ni(t))for(r=e.length=0;r<t.length;r++)e.push(N(t[r],null,n,i));else{var a=e.$$hashKey;if(ni(e)?e.length=0:o(e,function(t,n){delete e[n]}),_(t))for(r in t)e[r]=N(t[r],null,n,i);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=N(t[r],null,n,i));else for(r in t)Vn.call(t,r)&&(e[r]=N(t[r],null,n,i));u(e,a)}}else if(e=t,w(t)){if(n&&-1!==(a=n.indexOf(t)))return i[a];if(ni(t))return N(t,[],n,i);if(ii.test(Zn.call(t)))e=new t.constructor(t);else if(C(t))e=new Date(t.getTime());else{if(!M(t))return r=Object.create(Xn(t)),N(t,r,n,i);e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex}i&&(n.push(t),i.push(e))}return e}function I(t,e){if(ni(t)){e=e||[];for(var n=0,i=t.length;n<i;n++)e[n]=t[n]}else if(w(t))for(n in e=e||{},t)"$"===n.charAt(0)&&"$"===n.charAt(1)||(e[n]=t[n]);return e||t}function R(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var i,r=typeof t;if(r==typeof e&&"object"==r){if(!ni(t)){if(C(t))return!!C(e)&&R(t.getTime(),e.getTime());if(M(t))return!!M(e)&&t.toString()==e.toString();if(T(t)||T(e)||S(t)||S(e)||ni(e)||C(e)||M(e))return!1;r=lt();for(i in t)if("$"!==i.charAt(0)&&!$(t[i])){if(!R(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!(i in r||"$"===i.charAt(0)||e[i]===n||$(e[i])))return!1;return!0}if(!ni(e))return!1;if((r=t.length)==e.length){for(i=0;i<r;i++)if(!R(t[i],e[i]))return!1;return!0}}return!1}function L(t,e,n){return t.concat(qn.call(e,n))}function B(t,e){var n=2<arguments.length?qn.call(arguments,2):[];return!$(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,L(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function H(t,i){var r=i;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?r=n:S(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":T(i)&&(r="$SCOPE"),r}function F(t,e){return"undefined"==typeof t?n:(k(e)||(e=e?2:null),JSON.stringify(t,H,e))}function W(t){return x(t)?JSON.parse(t):t}function j(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function z(t,e,n){n=n?-1:1;var i=j(e,t.getTimezoneOffset());return e=t,t=n*(i-t.getTimezoneOffset()),e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function G(t){t=Fn(t).clone();try{t.empty()}catch(e){}var n=Fn("<div>").append(t).html();try{return t[0].nodeType===hi?Gn(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+Gn(e)})}catch(i){return Gn(n)}}function V(t){try{return decodeURIComponent(t)}catch(e){}}function U(t){var e,n,i={};return o((t||"").split("&"),function(t){t&&(e=t.replace(/\+/g,"%20").split("="),n=V(e[0]),b(n)&&(t=!b(e[1])||V(e[1]),Vn.call(i,n)?ni(i[n])?i[n].push(t):i[n]=[i[n],t]:i[n]=t))}),i}function q(t){var e=[];return o(t,function(t,n){ni(t)?o(t,function(t){e.push(K(n,!0)+(!0===t?"":"="+K(t,!0)))}):e.push(K(n,!0)+(!0===t?"":"="+K(t,!0)))}),e.length?e.join("&"):""}function Y(t){return K(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function K(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function Z(t,e){var n,i,r=li.length;for(i=0;i<r;++i)if(n=li[i]+e,x(n=t.getAttribute(n)))return n;return null}function X(t,e){var n,i,r={};o(li,function(e){e+="app",!n&&t.hasAttribute&&t.hasAttribute(e)&&(n=t,i=t.getAttribute(e))}),o(li,function(e){e+="app";var r;!n&&(r=t.querySelector("["+e.replace(":","\\:")+"]"))&&(n=r,i=r.getAttribute(e))}),n&&(r.strictDi=null!==Z(n,"strict-di"),e(n,i?[i]:[],r))}function Q(n,i,r){w(r)||(r={}),r=d({strictDi:!1},r);var a=function(){if(n=Fn(n),n.injector()){var t=n[0]===e?"document":G(n);throw Qn("btstrpd",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}return i=i||[],i.unshift(["$provide",function(t){t.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),i.unshift("ng"),t=Lt(i,r.strictDi),t.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),t},s=/^NG_ENABLE_DEBUG_INFO!/,l=/^NG_DEFER_BOOTSTRAP!/;return t&&s.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!l.test(t.name)?a():(t.name=t.name.replace(l,""),Jn.resumeBootstrap=function(t){return o(t,function(t){i.push(t)}),a()},void($(Jn.resumeDeferredBootstrap)&&Jn.resumeDeferredBootstrap()))}function J(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function tt(t){if(t=Jn.element(t).injector(),!t)throw Qn("test");return t.get("$$testability")}function et(t,e){return e=e||"_",t.replace(ui,function(t,n){return(n?e:"")+t.toLowerCase()})}function nt(){var e;if(!ci){var i=si();Wn=t.jQuery,b(i)&&(Wn=null===i?n:t[i]),Wn&&Wn.fn.on?(Fn=Wn,d(Wn.fn,{scope:$i.scope,isolateScope:$i.isolateScope,controller:$i.controller,injector:$i.injector,inheritedData:$i.inheritedData}),e=Wn.cleanData,Wn.cleanData=function(t){var n;if(ei)ei=!1;else for(var i,r=0;null!=(i=t[r]);r++)(n=Wn._data(i,"events"))&&n.$destroy&&Wn(i).triggerHandler("$destroy");e(t)}):Fn=ft,Jn.element=Fn,ci=!0}}function it(t,e,n){if(!t)throw Qn("areq",e||"?",n||"required");return t}function rt(t,e,n){return n&&ni(t)&&(t=t[t.length-1]),it($(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ot(t,e){if("hasOwnProperty"===t)throw Qn("badname",e)}function at(t,e,n){if(!e)return t;e=e.split(".");for(var i,r=t,o=e.length,a=0;a<o;a++)i=e[a],t&&(t=(r=t)[i]);return!n&&$(t)?B(r,t):t}function st(t){var e=t[0];t=t[t.length-1];var n=[e];do{if(e=e.nextSibling,!e)break;n.push(e)}while(e!==t);return Fn(n)}function lt(){return Object.create(null)}function ut(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=i("$injector"),r=i("ng");return t=e(t,"angular",Object),t.$$minErr=t.$$minErr||i,e(t,"module",function(){var t={};return function(i,o,a){if("hasOwnProperty"===i)throw r("badname","module");return o&&t.hasOwnProperty(i)&&(t[i]=null),e(t,i,function(){function t(t,e,n,i){return i||(i=r),function(){return i[n||"push"]([t,e,arguments]),c}}function e(t,e){return function(n,o){return o&&$(o)&&(o.$$moduleName=i),r.push([t,e,arguments]),c}}if(!o)throw n("nomod",i);var r=[],s=[],l=[],u=t("$injector","invoke","push",s),c={_invokeQueue:r,_configBlocks:s,_runBlocks:l,requires:o,name:i,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:u,run:function(t){return l.push(t),this}};return a&&u(a),c})}})}function ct(e){d(e,{bootstrap:Q,copy:N,extend:d,merge:h,equals:R,element:Fn,forEach:o,injector:Lt,noop:g,bind:B,toJson:F,fromJson:W,identity:m,isUndefined:y,isDefined:b,isString:x,isFunction:$,isObject:w,isNumber:k,isElement:E,isArray:ni,version:pi,isDate:C,lowercase:Gn,uppercase:Un,callbacks:{counter:0},getTestability:tt,$$minErr:i,$$csp:ai,reloadWithDebugInfo:J}),jn=ut(t);try{jn("ngLocale")}catch(n){jn("ngLocale",[]).provider("$locale",pe)}jn("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:Ke}),t.provider("$compile",qt).directive({a:br,input:Ir,textarea:Ir,form:kr,script:Co,select:So,style:Do,option:To,ngBind:Br,ngBindHtml:Fr,ngBindTemplate:Hr,ngClass:jr,ngClassEven:Gr,ngClassOdd:zr,ngCloak:Vr,ngController:Ur,ngForm:Cr,ngHide:yo,ngIf:Kr,ngInclude:Zr,ngInit:Qr,ngNonBindable:co,ngPluralize:go,ngRepeat:mo,ngShow:vo,ngStyle:bo,ngSwitch:wo,ngSwitchWhen:_o,ngSwitchDefault:xo,ngOptions:fo,ngTransclude:ko,ngModel:so,ngList:Jr,ngChange:Wr,pattern:Oo,ngPattern:Oo,required:Eo,ngRequired:Eo,minlength:Ao,ngMinlength:Ao,maxlength:Po,ngMaxlength:Po,ngValue:Lr,ngModelOptions:uo}).directive({ngInclude:Xr}).directive(wr).directive(qr),t.provider({$anchorScroll:Bt,$animate:Bi,$$animateQueue:Li,$$AnimateRunner:Ri,$browser:Gt,$cacheFactory:Vt,$controller:Xt,$document:Qt,$exceptionHandler:Jt,$filter:cn,$interpolate:de,$interval:he,$http:se,$httpParamSerializer:ee,$httpParamSerializerJQLike:ne,$httpBackend:ue,$location:Me,$log:Se,$parse:ze,$rootScope:Ye,$q:Ge,$$q:Ve,$sce:Je,$sceDelegate:Qe,$sniffer:tn,$templateCache:Ut,$templateRequest:en,$$testability:nn,$timeout:rn,$window:sn,$$rAF:qe,$$asyncCallback:jt,$$jqLite:At,$$HashMap:Di,$$cookieReader:un})}])}function dt(t){return t.replace(mi,function(t,e,n,i){return i?n.toUpperCase():n}).replace(vi,"Moz$1")}function ht(t){return t=t.nodeType,t===di||!t||9===t}function pt(t,e){var n,i,r=e.createDocumentFragment(),a=[];if(_i.test(t)){for(n=n||r.appendChild(e.createElement("div")),i=(xi.exec(t)||["",""])[1].toLowerCase(),i=Ci[i]||Ci._default,n.innerHTML=i[1]+t.replace(ki,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;a=L(a,n.childNodes),n=r.firstChild,n.textContent=""}else a.push(e.createTextNode(t));return r.textContent="",r.innerHTML="",o(a,function(t){r.appendChild(t)}),r}function ft(t){if(t instanceof ft)return t;var n;if(x(t)&&(t=ri(t),n=!0),!(this instanceof ft)){if(n&&"<"!=t.charAt(0))throw bi("nosel");return new ft(t)}if(n){n=e;var i;t=(i=wi.exec(t))?[n.createElement(i[1])]:(i=pt(t,n))?i.childNodes:[]}Ct(this,t)}function gt(t){return t.cloneNode(!0)}function mt(t,e){if(e||yt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),i=0,r=n.length;i<r;i++)yt(n[i])}function vt(t,e,n,i){if(b(i))throw bi("offargs");var r=(i=bt(t))&&i.events,a=i&&i.handle;if(a)if(e)o(e.split(" "),function(e){if(b(n)){var i=r[e];if(A(i||[],n),i&&0<i.length)return}t.removeEventListener(e,a,!1),delete r[e]});else for(e in r)"$destroy"!==e&&t.removeEventListener(e,a,!1),delete r[e]}function yt(t,e){var i=t.ng339,r=i&&fi[i];r&&(e?delete r.data[e]:(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),vt(t)),delete fi[i],t.ng339=n))}function bt(t,e){var i=t.ng339,i=i&&fi[i];return e&&!i&&(t.ng339=i=++gi,i=fi[i]={events:{},data:{},handle:n}),i}function wt(t,e,n){if(ht(t)){var i=b(n),r=!i&&e&&!w(e),o=!e;if(t=(t=bt(t,!r))&&t.data,i)t[e]=n;else{if(o)return t;if(r)return t&&t[e];d(t,e)}}}function _t(t,e){return!!t.getAttribute&&-1<(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")}function xt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",ri((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ri(e)+" "," ")))})}function kt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=ri(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",ri(n))}}function Ct(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var i=0;i<n;i++)t[t.length++]=e[i]}else t[t.length++]=e}}function $t(t,e){return Mt(t,"$"+(e||"ngController")+"Controller")}function Mt(t,e,i){for(9==t.nodeType&&(t=t.documentElement),e=ni(e)?e:[e];t;){for(var r=0,o=e.length;r<o;r++)if((i=Fn.data(t,e[r]))!==n)return i;t=t.parentNode||11===t.nodeType&&t.host}}function St(t){for(mt(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Tt(t,e){e||mt(t);var n=t.parentNode;n&&n.removeChild(t)}function Dt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Fn(n).on("load",e)}function Et(t,e){var n=Mi[e.toLowerCase()];return n&&Si[P(t)]&&n}function Ot(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&Ti[e]}function Pt(t,e){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=e[i||n.type],o=r?r.length:0;
if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped},1<o&&(r=I(r));for(var s=0;s<o;s++)n.isImmediatePropagationStopped()||r[s].call(t,n)}};return n.elem=t,n}function At(){this.$get=function(){return d(ft,{hasClass:function(t,e){return t.attr&&(t=t[0]),_t(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),kt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),xt(t,e)}})}}function Nt(t,e){var n=t&&t.$$hashKey;return n?("function"==typeof n&&(n=t.$$hashKey()),n):(n=typeof t,n="function"==n||"object"==n&&null!==t?t.$$hashKey=n+":"+(e||l)():n+":"+t)}function It(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Rt(t){return(t=t.toString().replace(Ai,"").match(Ei))?"function("+(t[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Lt(t,e){function i(t){return function(e,n){return w(e)?void o(e,s(t)):t(e,n)}}function r(t,e){if(ot(t,"service"),($(e)||ni(e))&&(e=g.instantiate(e)),!e.$get)throw Ni("pget",t);return f[t+"Provider"]=e}function a(t,e){return function(){var n=b.invoke(e,this);if(y(n))throw Ni("undef",t);return n}}function l(t,e,n){return r(t,{$get:!1!==n?a(t,e):e})}function u(t){var e,n=[];return o(t,function(t){function i(t){var e,n;for(e=0,n=t.length;e<n;e++){var i=t[e],r=g.get(i[0]);r[i[1]].apply(r,i[2])}}if(!p.get(t)){p.put(t,!0);try{x(t)?(e=jn(t),n=n.concat(u(e.requires)).concat(e._runBlocks),i(e._invokeQueue),i(e._configBlocks)):$(t)?n.push(g.invoke(t)):ni(t)?n.push(g.invoke(t)):rt(t,"module")}catch(r){throw ni(t)&&(t=t[t.length-1]),r.message&&r.stack&&-1==r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),Ni("modulerr",t,r.stack||r.message||r)}}}),n}function c(t,n){function i(e,i){if(t.hasOwnProperty(e)){if(t[e]===d)throw Ni("cdep",e+" <- "+h.join(" <- "));return t[e]}try{return h.unshift(e),t[e]=d,t[e]=n(e,i)}catch(r){throw t[e]===d&&delete t[e],r}finally{h.shift()}}function r(t,n,r,o){"string"==typeof r&&(o=r,r=null);var a,s,l,u=[],c=Lt.$$annotate(t,e,o);for(s=0,a=c.length;s<a;s++){if(l=c[s],"string"!=typeof l)throw Ni("itkn",l);u.push(r&&r.hasOwnProperty(l)?r[l]:i(l,o))}return ni(t)&&(t=t[a]),t.apply(n,u)}return{invoke:r,instantiate:function(t,e,n){var i=Object.create((ni(t)?t[t.length-1]:t).prototype||null);return t=r(t,i,e,n),w(t)||$(t)?t:i},get:i,annotate:Lt.$$annotate,has:function(e){return f.hasOwnProperty(e+"Provider")||t.hasOwnProperty(e)}}}e=!0===e;var d={},h=[],p=new It([],(!0)),f={$provide:{provider:i(r),factory:i(l),service:i(function(t,e){return l(t,["$injector",function(t){return t.instantiate(e)}])}),value:i(function(t,e){return l(t,v(e),!1)}),constant:i(function(t,e){ot(t,"constant"),f[t]=e,m[t]=e}),decorator:function(t,e){var n=g.get(t+"Provider"),i=n.$get;n.$get=function(){var t=b.invoke(i,n);return b.invoke(e,null,{$delegate:t})}}}},g=f.$injector=c(f,function(t,e){throw Jn.isString(e)&&h.push(e),Ni("unpr",h.join(" <- "))}),m={},b=m.$injector=c(m,function(t,e){var i=g.get(t+"Provider",e);return b.invoke(i.$get,i,n,t)});return o(u(t),function(t){t&&b.invoke(t)}),b}function Bt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,i){function r(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===P(t))return e=t,!0}),e}function o(t){if(t){t.scrollIntoView();var n;n=a.yOffset,$(n)?n=n():E(n)?(n=n[0],n="fixed"!==e.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):k(n)||(n=0),n&&(t=t.getBoundingClientRect().top,e.scrollBy(0,t-n))}else e.scrollTo(0,0)}function a(t){t=x(t)?t:n.hash();var e;t?(e=s.getElementById(t))?o(e):(e=r(s.getElementsByName(t)))?o(e):"top"===t&&o(null):o(null)}var s=e.document;return t&&i.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Dt(function(){i.$evalAsync(a)})}),a}]}function Ht(t,e){return t||e?t?e?(ni(t)&&(t=t.join(" ")),ni(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function Ft(t){x(t)&&(t=t.split(" "));var e=lt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function Wt(t){return w(t)?t:{}}function jt(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function zt(t,e,n,i){function r(t){try{t.apply(null,qn.call(arguments,1))}finally{if(m--,0===m)for(;v.length;)try{v.pop()()}catch(e){n.error(e)}}}function a(){s(),l()}function s(){t:{try{b=d.state;break t}catch(t){}b=void 0}b=y(b)?null:b,R(b,M)&&(b=M),M=b}function l(){_===u.url()&&w===b||(_=u.url(),w=b,o(C,function(t){t(u.url(),b)}))}var u=this,c=t.location,d=t.history,h=t.setTimeout,p=t.clearTimeout,f={};u.isMock=!1;var m=0,v=[];u.$$completeOutstandingRequest=r,u.$$incOutstandingRequestCount=function(){m++},u.notifyWhenNoOutstandingRequests=function(t){0===m?t():v.push(t)};var b,w,_=c.href,x=e.find("base"),k=null;s(),w=b,u.url=function(e,n,r){if(y(r)&&(r=null),c!==t.location&&(c=t.location),d!==t.history&&(d=t.history),e){var o=w===r;if(_===e&&(!i.history||o))return u;var a=_&&ye(_)===ye(e);return _=e,w=r,!i.history||a&&o?(a&&!k||(k=e),n?c.replace(e):a?(n=c,r=e.indexOf("#"),e=-1===r?"":e.substr(r+1),n.hash=e):c.href=e):(d[n?"replaceState":"pushState"](r,"",e),s(),w=b),u}return k||c.href.replace(/%27/g,"'")},u.state=function(){return b};var C=[],$=!1,M=null;u.onUrlChange=function(e){return $||(i.history&&Fn(t).on("popstate",a),Fn(t).on("hashchange",a),$=!0),C.push(e),e},u.$$applicationDestroyed=function(){Fn(t).off("hashchange popstate",a)},u.$$checkUrlChange=l,u.baseHref=function(){var t=x.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},u.defer=function(t,e){var n;return m++,n=h(function(){delete f[n],r(t)},e||0),f[n]=!0,n},u.defer.cancel=function(t){return!!f[t]&&(delete f[t],p(t),r(g),!0)}}function Gt(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new zt(t,i,e,n)}]}function Vt(){this.$get=function(){function t(t,n){function r(t){t!=h&&(p?p==t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw i("$cacheFactory")("iid",t);var a=0,s=d({},n,{id:t}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},h=null,p=null;return e[t]={put:function(t,e){if(!y(e)){if(u<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});r(n)}return t in l||a++,l[t]=e,a>u&&this.remove(p.key),e}},get:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;r(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;e==h&&(h=e.p),e==p&&(p=e.n),o(e.n,e.p),delete c[t]}delete l[t],a--},removeAll:function(){l={},a=0,c={},h=p=null},destroy:function(){c=s=l=null,delete e[t]},info:function(){return d({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function Ut(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function qt(t,i){function r(t,e,n){var i=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,r={};return o(t,function(t,o){var a=t.match(i);if(!a)throw Hi("iscp",e,o,t,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o}}),r}function a(t){var e=t.charAt(0);if(!e||e!==Gn(e))throw Hi("baddir",t);if(t!==t.trim())throw Hi("baddir",t)}var l={},u=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,c=/(([\w\-]+)(?:\:([^;]+))?;?)/,h=O("ngSrc,ngSrcset,src,srcset"),p=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,y=/^(on[a-z]+|formaction)$/;this.directive=function k(e,n){return ot(e,"directive"),x(e)?(a(e),it(n,"directiveFactory"),l.hasOwnProperty(e)||(l[e]=[],t.factory(e+"Directive",["$injector","$exceptionHandler",function(t,n){var i=[];return o(l[e],function(o,a){try{var s=t.invoke(o);$(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=a,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var l=s,u=s,c=s.name,d={isolateScope:null,bindToController:null};if(w(u.scope)&&(!0===u.bindToController?(d.bindToController=r(u.scope,c,!0),d.isolateScope={}):d.isolateScope=r(u.scope,c,!1)),w(u.bindToController)&&(d.bindToController=r(u.bindToController,c,!0)),w(d.bindToController)){var h=u.controller,p=u.controllerAs;if(!h)throw Hi("noctrl",c);var f;t:if(p&&x(p))f=p;else{if(x(h)){var g=ji.exec(h);if(g){f=g[3];break t}}f=void 0}if(!f)throw Hi("noident",c)}var m=l.$$bindings=d;w(m.isolateScope)&&(s.$$isolateBindings=m.isolateScope),s.$$moduleName=o.$$moduleName,i.push(s)}catch(y){n(y)}}),i}])),l[e].push(n)):o(e,s(k)),this},this.aHrefSanitizationWhitelist=function(t){return b(t)?(i.aHrefSanitizationWhitelist(t),this):i.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(i.imgSrcSanitizationWhitelist(t),this):i.imgSrcSanitizationWhitelist()};var _=!0;this.debugInfoEnabled=function(t){return b(t)?(_=t,this):_},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,i,r,a,s,v,b,k,C,M,S){function D(t,e){try{t.addClass(e)}catch(n){}}function E(t,e,n,i,r){t instanceof Fn||(t=Fn(t)),o(t,function(e,n){e.nodeType==hi&&e.nodeValue.match(/\S+/)&&(t[n]=Fn(e).wrap("<span></span>").parent()[0])});var a=O(t,e,t,n,i,r);E.$$addScopeClass(t);var s=null;return function(e,n,i){it(e,"scope"),i=i||{};var r=i.parentBoundTranscludeFn,o=i.transcludeControllers;if(i=i.futureParentElement,r&&r.$$boundTransclude&&(r=r.$$boundTransclude),s||(s=(i=i&&i[0])&&"foreignobject"!==P(i)&&i.toString().match(/SVG/)?"svg":"html"),i="html"!==s?Fn(K(s,Fn("<div>").append(t).html())):n?$i.clone.call(t):t,o)for(var l in o)i.data("$"+l+"Controller",o[l].instance);return E.$$addScopeInfo(i,e),n&&n(i,e),a&&a(e,i,i,r),i}}function O(t,e,i,r,o,a){function s(t,i,r,o){var a,s,l,u,c,d,f;if(h)for(f=Array(i.length),u=0;u<p.length;u+=3)a=p[u],f[a]=i[a];else f=i;for(u=0,c=p.length;u<c;)s=f[p[u++]],i=p[u++],a=p[u++],i?(i.scope?(l=t.$new(),E.$$addScopeInfo(Fn(s),l),(d=i.$$destroyBindings)&&(i.$$destroyBindings=null,l.$on("$destroyed",d))):l=t,d=i.transcludeOnThisElement?N(t,i.transclude,o):!i.templateOnThisElement&&o?o:!o&&e?N(t,e):null,i(a,l,s,r,d,i)):a&&a(t,s.childNodes,n,o)}for(var l,u,c,d,h,p=[],f=0;f<t.length;f++)l=new rt,u=I(t[f],[],l,0===f?r:n,o),(a=u.length?H(u,t[f],l,e,i,null,[],[],a):null)&&a.scope&&E.$$addScopeClass(l.$$element),l=a&&a.terminal||!(c=t[f].childNodes)||!c.length?null:O(c,a?(a.transcludeOnThisElement||!a.templateOnThisElement)&&a.transclude:e),(a||l)&&(p.push(f,a,l),d=!0,h=h||a),a=null;return d?s:null}function N(t,e,n){return function(i,r,o,a,s){return i||(i=t.$new(!1,s),i.$$transcluded=!0),e(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}}function I(t,e,n,i,r){var o,a=n.$attr;switch(t.nodeType){case di:W(e,Yt(P(t)),"E",i,r);for(var s,l,d,h=t.attributes,p=0,f=h&&h.length;p<f;p++){var g=!1,m=!1;s=h[p],o=s.name,l=ri(s.value),s=Yt(o),(d=ut.test(s))&&(o=o.replace(Fi,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var v=s.replace(/(Start|End)$/,"");j(v)&&s===v+"Start"&&(g=o,m=o.substr(0,o.length-5)+"end",o=o.substr(0,o.length-6)),s=Yt(o.toLowerCase()),a[s]=o,!d&&n.hasOwnProperty(s)||(n[s]=l,Et(t,s)&&(n[s]=!0)),X(t,e,l,s,d),W(e,s,"A",i,r,g,m)}if(t=t.className,w(t)&&(t=t.animVal),x(t)&&""!==t)for(;o=c.exec(t);)s=Yt(o[2]),W(e,s,"C",i,r)&&(n[s]=ri(o[3])),t=t.substr(o.index+o[0].length);break;case hi:if(11===Hn)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===hi;)t.nodeValue+=t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);Y(e,t.nodeValue);break;case 8:try{(o=u.exec(t.nodeValue))&&(s=Yt(o[1]),W(e,s,"M",i,r)&&(n[s]=ri(o[2])))}catch(y){}}return e.sort(U),e}function L(t,e,n){var i=[],r=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Hi("uterdir",e,n);t.nodeType==di&&(t.hasAttribute(e)&&r++,t.hasAttribute(n)&&r--),i.push(t),t=t.nextSibling}while(0<r)}else i.push(t);return Fn(i)}function B(t,e,n){return function(i,r,o,a,s){return r=L(r[0],e,n),t(i,r,o,a,s)}}function H(t,i,o,a,s,l,u,c,d){function h(t,e,n,i){t&&(n&&(t=B(t,n,i)),t.require=b.require,t.directiveName=_,(D===b||b.$$isolateScope)&&(t=J(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=B(e,n,i)),e.require=b.require,e.directiveName=_,(D===b||b.$$isolateScope)&&(e=J(e,{isolateScope:!0})),c.push(e))}function f(t,e,n,i){var r;if(x(e)){var o=e.match(p);e=e.substring(o[0].length);var a=o[1]||o[3],o="?"===o[2];if("^^"===a?n=n.parent():r=(r=i&&i[e])&&r.instance,r||(i="$"+e+"Controller",r=a?n.inheritedData(i):n.data(i)),!r&&!o)throw Hi("ctreq",e,t)}else if(ni(e))for(r=[],a=0,o=e.length;a<o;a++)r[a]=f(t,e[a],n,i);return r||null}function g(t,e,n,i,r,o){var a,s=lt();for(a in i){var l=i[a],u={$scope:l===D||l.$$isolateScope?r:o,$element:t,$attrs:e,$transclude:n},c=l.controller;"@"==c&&(c=e[l.name]),u=v(c,u,!0,l.controllerAs),s[l.name]=u,R||t.data("$"+l.name+"Controller",u.instance)}return s}function m(t,e,r,a,s,l){function d(t,e,i){var r;return T(t)||(i=e,e=t,t=n),R&&(r=b),i||(i=R?_.parent():_),s(t,e,r,i,$)}var h,p,m,v,b,w,_;if(i===r?(a=o,_=o.$$element):(_=Fn(r),a=new rt(_,o)),D&&(v=e.$new(!0)),s&&(w=d,w.$$boundTransclude=s),S&&(b=g(_,a,w,S,v,e)),D&&(E.$$addScopeInfo(_,v,!0,!(O&&(O===D||O===D.$$originalDirective))),E.$$addScopeClass(_,!0),v.$$isolateBindings=D.$$isolateBindings,nt(e,a,v,v.$$isolateBindings,D,v)),b){var x,k=D||y;k&&b[k.name]&&(p=k.$$bindings.bindToController,(m=b[k.name])&&m.identifier&&p&&(x=m,l.$$destroyBindings=nt(e,a,m.instance,p,k)));for(h in b){m=b[h];var C=m();C!==m.instance&&(m.instance=C,_.data("$"+h+"Controller",C),m===x&&(l.$$destroyBindings(),l.$$destroyBindings=nt(e,a,C,p,k)))}}for(h=0,l=u.length;h<l;h++)p=u[h],tt(p,p.isolateScope?v:e,_,a,p.require&&f(p.directiveName,p.require,_,b),w);var $=e;for(D&&(D.template||null===D.templateUrl)&&($=v),t&&t($,r.childNodes,n,s),h=c.length-1;0<=h;h--)p=c[h],tt(p,p.isolateScope?v:e,_,a,p.require&&f(p.directiveName,p.require,_,b),w)}d=d||{};for(var y,b,_,k,C,M=-Number.MAX_VALUE,S=d.controllerDirectives,D=d.newIsolateScopeDirective,O=d.templateDirective,P=d.nonTlbTranscludeDirective,A=!1,N=!1,R=d.hasElementTranscludeDirective,H=o.$$element=Fn(i),W=a,j=0,U=t.length;j<U;j++){b=t[j];var Y=b.$$start,Z=b.$$end;if(Y&&(H=L(i,Y,Z)),k=n,M>b.priority)break;if((k=b.scope)&&(b.templateUrl||(w(k)?(q("new/isolated scope",D||y,b,H),D=b):q("new/isolated scope",D,b,H)),y=y||b),_=b.name,!b.templateUrl&&b.controller&&(k=b.controller,S=S||lt(),q("'"+_+"' controller",S[_],b,H),S[_]=b),(k=b.transclude)&&(A=!0,b.$$tlb||(q("transclusion",P,b,H),P=b),"element"==k?(R=!0,M=b.priority,k=H,H=o.$$element=Fn(e.createComment(" "+_+": "+o[_]+" ")),i=H[0],Q(s,qn.call(k,0),i),W=E(k,a,M,l&&l.name,{nonTlbTranscludeDirective:P})):(k=Fn(gt(i)).contents(),H.empty(),W=E(k,a))),b.template)if(N=!0,q("template",O,b,H),O=b,k=$(b.template)?b.template(H,o):b.template,k=st(k),b.replace){if(l=b,k=_i.test(k)?Zt(K(b.templateNamespace,ri(k))):[],i=k[0],1!=k.length||i.nodeType!==di)throw Hi("tplrt",_,"");Q(s,H,i),U={$attr:{}},k=I(i,[],U);var X=t.splice(j+1,t.length-(j+1));D&&F(k),t=t.concat(k).concat(X),z(o,U),U=t.length}else H.html(k);if(b.templateUrl)N=!0,q("template",O,b,H),O=b,b.replace&&(l=b),m=V(t.splice(j,t.length-j),H,o,s,A&&W,u,c,{controllerDirectives:S,newIsolateScopeDirective:D,templateDirective:O,nonTlbTranscludeDirective:P}),U=t.length;else if(b.compile)try{C=b.compile(H,o,W),$(C)?h(null,C,Y,Z):C&&h(C.pre,C.post,Y,Z)}catch(et){r(et,G(H))}b.terminal&&(m.terminal=!0,M=Math.max(M,b.priority))}return m.scope=y&&!0===y.scope,m.transcludeOnThisElement=A,m.templateOnThisElement=N,m.transclude=W,d.hasElementTranscludeDirective=R,m}function F(t){for(var e=0,n=t.length;e<n;e++)t[e]=f(t[e],{$$isolateScope:!0})}function W(e,i,o,a,s,u,c){if(i===s)return null;if(s=null,l.hasOwnProperty(i)){var d;i=t.get(i+"Directive");for(var h=0,p=i.length;h<p;h++)try{d=i[h],(a===n||a>d.priority)&&-1!=d.restrict.indexOf(o)&&(u&&(d=f(d,{$$start:u,$$end:c})),e.push(d),s=d)}catch(g){r(g)}}return s}function j(e){if(l.hasOwnProperty(e))for(var n=t.get(e+"Directive"),i=0,r=n.length;i<r;i++)if(e=n[i],e.multiElement)return!0;return!1}function z(t,e){var n=e.$attr,i=t.$attr,r=t.$$element;o(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&e[r]!==i&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),o(e,function(e,o){"class"==o?(D(r,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(r.attr("style",r.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,i[o]=n[o])})}function V(t,e,n,i,r,s,l,u){var c,d,h=[],p=e[0],g=t.shift(),m=f(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=$(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),a(C.getTrustedResourceUrl(v)).then(function(a){var f,b;if(a=st(a),g.replace){if(a=_i.test(a)?Zt(K(y,ri(a))):[],f=a[0],1!=a.length||f.nodeType!==di)throw Hi("tplrt",g.name,v);a={$attr:{}},Q(i,e,f);var _=I(f,[],a);w(g.scope)&&F(_),t=_.concat(t),z(n,a)}else f=p,e.html(a);for(t.unshift(m),c=H(t,f,n,r,e,g,s,l,u),o(i,function(t,n){t==f&&(i[n]=e[0])}),d=O(e[0].childNodes,r);h.length;){a=h.shift(),b=h.shift();var x=h.shift(),k=h.shift(),_=e[0];if(!a.$$destroyed){if(b!==p){var C=b.className;u.hasElementTranscludeDirective&&g.replace||(_=gt(f)),Q(x,Fn(b),_),D(Fn(_),C)}b=c.transcludeOnThisElement?N(a,c.transclude,k):k,c(d,a,_,i,b,c)}}h=null}),function(t,e,n,i,r){t=r,e.$$destroyed||(h?h.push(e,n,i,t):(c.transcludeOnThisElement&&(t=N(e,c.transclude,r)),c(d,e,n,i,t,c)))}}function U(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function q(t,e,n,i){function r(t){return t?" (module: "+t+")":""}if(e)throw Hi("multidir",e.name,r(e.$$moduleName),n.name,r(n.$$moduleName),t,G(i))}function Y(t,e){var n=i(e,!0);n&&t.push({priority:0,compile:function(t){t=t.parent();var e=!!t.length;return e&&E.$$addBindingClass(t),function(t,i){var r=i.parent();e||E.$$addBindingClass(r),E.$$addBindingInfo(r,n.expressions),t.$watch(n,function(t){i[0].nodeValue=t})}}})}function K(t,n){switch(t=Gn(t||"html")){case"svg":case"math":var i=e.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function Z(t,e){if("srcdoc"==e)return C.HTML;var n=P(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?C.RESOURCE_URL:void 0}function X(t,e,n,r,o){var a=Z(t,r);o=h[r]||o;var s=i(n,!0,a,o);if(s){if("multiple"===r&&"select"===P(t))throw Hi("selmulti",G(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){if(e=l.$$observers||(l.$$observers={}),y.test(r))throw Hi("nodomevents");var u=l[r];u!==n&&(s=u&&i(u,!0,a,o),n=u),s&&(l[r]=s(t),(e[r]||(e[r]=[])).$$inter=!0,(l.$$observers&&l.$$observers[r].$$scope||t).$watch(s,function(t,e){"class"===r&&t!=e?l.$updateClass(t,e):l.$set(r,t)}))}}}})}}function Q(t,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]==a){t[r++]=i,o=r+s-1;for(var u=t.length;r<u;r++,o++)o<u?t[r]=t[o]:delete t[r];t.length-=s-1,t.context===a&&(t.context=i);break}for(l&&l.replaceChild(i,a),t=e.createDocumentFragment(),t.appendChild(a),Fn.hasData(a)&&(Fn(i).data(Fn(a).data()),Wn?(ei=!0,Wn.cleanData([a])):delete Fn.cache[a[Fn.expando]]),a=1,s=n.length;a<s;a++)l=n[a],Fn(l).remove(),t.appendChild(l),delete n[a];n[0]=i,n.length=1}function J(t,e){return d(function(){return t.apply(null,arguments)},t,e)}function tt(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(s){r(s,G(n))}}function nt(t,e,r,a,l,u){var c;return o(a,function(o,a){var u,d,h,p,f=o.attrName,m=o.optional,v=o.mode;switch(Vn.call(e,f)||(e[f]=n),v){case"@":e[f]||m||(r[a]=n),e.$observe(f,function(t){r[a]=t}),e.$$observers[f].$$scope=t,e[f]&&(r[a]=i(e[f])(t));break;case"=":if(m&&!e[f])break;d=s(e[f]),p=d.literal?R:function(t,e){return t===e||t!==t&&e!==e},h=d.assign||function(){throw u=r[a]=d(t),Hi("nonassign",e[f],l.name)},u=r[a]=d(t),m=function(e){return p(e,r[a])||(p(e,u)?h(t,e=r[a]):r[a]=e),u=e},m.$stateful=!0,m=o.collection?t.$watchCollection(e[f],m):t.$watch(s(e[f],m),null,d.literal),c=c||[],c.push(m);break;case"&":if(d=s(e[f]),d===g&&m)break;r[a]=function(e){return d(t,e)}}}),a=c?function(){for(var t=0,e=c.length;t<e;++t)c[t]()}:g,u&&a!==g?(u.$on("$destroy",a),g):a}var rt=function(t,e){if(e){var n,i,r,o=Object.keys(e);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=e[r]}else this.$attr={};this.$$element=t};rt.prototype={$normalize:Yt,$addClass:function(t){t&&0<t.length&&M.addClass(this.$$element,t)},$removeClass:function(t){t&&0<t.length&&M.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=Kt(t,e);n&&n.length&&M.addClass(this.$$element,n),(n=Kt(e,t))&&n.length&&M.removeClass(this.$$element,n)},$set:function(t,e,i,a){var s=this.$$element[0],l=Et(s,t),u=Ot(s,t),s=t;if(l?(this.$$element.prop(t,e),a=l):u&&(this[u]=e,s=u),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t])||(this.$attr[t]=a=et(t,"-")),l=P(this.$$element),"a"===l&&"href"===t||"img"===l&&"src"===t)this[t]=e=S(e,"src"===t);else if("img"===l&&"srcset"===t){for(var l="",u=ri(e),c=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,c=/\s/.test(u)?c:/(,)/,u=u.split(c),c=Math.floor(u.length/2),d=0;d<c;d++)var h=2*d,l=l+S(ri(u[h]),!0),l=l+(" "+ri(u[h+1]));u=ri(u[2*d]).split(/\s/),l+=S(ri(u[0]),!0),2===u.length&&(l+=" "+ri(u[1])),this[t]=e=l}!1!==i&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e)),(t=this.$$observers)&&o(t[s],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers=lt()),r=i[t]||(i[t]=[]);return r.push(e),b.$evalAsync(function(){!r.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){A(r,e)}}};var ot=i.startSymbol(),at=i.endSymbol(),st="{{"==ot||"}}"==at?m:function(t){return t.replace(/\{\{/g,ot).replace(/}}/g,at)},ut=/^ngAttr[A-Z]/;return E.$$addBindingInfo=_?function(t,e){var n=t.data("$binding")||[];ni(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:g,E.$$addBindingClass=_?function(t){D(t,"ng-binding")}:g,E.$$addScopeInfo=_?function(t,e,n,i){t.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",e)}:g,E.$$addScopeClass=_?function(t,e){D(t,e?"ng-isolate-scope":"ng-scope")}:g,E}]}function Yt(t){return dt(t.replace(Fi,""))}function Kt(t,e){var n="",i=t.split(/\s+/),r=e.split(/\s+/),o=0;t:for(;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a==r[s])continue t;n+=(0<n.length?" ":"")+a}return n}function Zt(t){t=Fn(t);var e=t.length;if(1>=e)return t;for(;e--;)8===t[e].nodeType&&Yn.call(t,e,1);return t}function Xt(){var t={},e=!1;this.register=function(e,n){ot(e,"controller"),w(e)?d(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(r,o){function a(t,e,n,r){if(!t||!w(t.$scope))throw i("$controller")("noscp",r,e);t.$scope[e]=n}return function(i,s,l,u){var c,h,p;if(l=!0===l,u&&x(u)&&(p=u),x(i)){if(u=i.match(ji),!u)throw Wi("ctrlfmt",i);h=u[1],p=p||u[3],i=t.hasOwnProperty(h)?t[h]:at(s.$scope,h,!0)||(e?at(o,h,!0):n),rt(i,h,!0)}return l?(l=(ni(i)?i[i.length-1]:i).prototype,c=Object.create(l||null),p&&a(s,p,c,h||i.name),d(function(){var t=r.invoke(i,c,s,h);return t!==c&&(w(t)||$(t))&&(c=t,p&&a(s,p,c,h||i.name)),c},{instance:c,identifier:p})):(c=r.instantiate(i,s,h),p&&a(s,p,c,h||i.name),c)}}]}function Qt(){this.$get=["$window",function(t){return Fn(t.document)}]}function Jt(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function te(t){return w(t)?C(t)?t.toISOString():F(t):t}function ee(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||y(t)||(ni(t)?o(t,function(t,i){e.push(K(n)+"="+K(te(t)))}):e.push(K(n)+"="+K(te(t))))}),e.join("&")}}}function ne(){this.$get=function(){return function(t){function e(t,i,r){null===t||y(t)||(ni(t)?o(t,function(t){e(t,i+"[]")}):w(t)&&!C(t)?a(t,function(t,n){e(t,i+(r?"":"[")+n+(r?"":"]"))}):n.push(K(i)+"="+K(te(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function ie(t,e){if(x(t)){var n=t.replace(qi,"").trim();if(n){var i=e("Content-Type");(i=i&&0===i.indexOf(zi))||(i=(i=n.match(Vi))&&Ui[i[0]].test(n)),i&&(t=W(n))}}return t}function re(t){var e,n=lt();return x(t)?o(t.split("\n"),function(t){e=t.indexOf(":");var i=Gn(ri(t.substr(0,e)));t=ri(t.substr(e+1)),i&&(n[i]=n[i]?n[i]+", "+t:t)}):w(t)&&o(t,function(t,e){var i=Gn(e),r=ri(t);i&&(n[i]=n[i]?n[i]+", "+r:r)}),n}function oe(t){var e;return function(n){return e||(e=re(t)),n?(n=e[Gn(n)],void 0===n&&(n=null),n):e}}function ae(t,e,n,i){return $(i)?i(t,e,n):(o(i,function(i){t=i(t,e,n)}),t)}function se(){var t=this.defaults={transformResponse:[ie],transformRequest:[function(t){return w(t)&&"[object File]"!==Zn.call(t)&&"[object Blob]"!==Zn.call(t)&&"[object FormData]"!==Zn.call(t)?F(t):t}],headers:{common:{Accept:"application/json, text/plain, */*"},post:I(Gi),put:I(Gi),patch:I(Gi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return b(t)?(e=!!t,this):e};var r=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,u,c,h){function p(e){function r(t){var e=d({},t);return e.data=t.data?ae(t.data,t.headers,t.status,s.transformResponse):t.data,t=t.status,200<=t&&300>t?e:c.reject(e)}function a(t,e){var n,i={};return o(t,function(t,r){$(t)?(n=t(e),null!=n&&(i[r]=n)):i[r]=t}),i}if(!Jn.isObject(e))throw i("$http")("badreq",e);var s=d({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);s.headers=function(e){var n,i,r,o=t.headers,s=d({},e.headers),o=d({},o.common,o[Gn(e.method)]);t:for(n in o){i=Gn(n);for(r in s)if(Gn(r)===i)continue t;s[n]=o[n]}return a(s,I(e))}(e),s.method=Un(s.method),s.paramSerializer=x(s.paramSerializer)?h.get(s.paramSerializer):s.paramSerializer;var l=[function(e){var i=e.headers,a=ae(e.data,oe(i),n,e.transformRequest);return y(a)&&o(i,function(t,e){"content-type"===Gn(e)&&delete i[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),f(e,a).then(r,r)},n],u=c.when(s);for(o(v,function(t){(t.request||t.requestError)&&l.unshift(t.request,t.requestError),(t.response||t.responseError)&&l.push(t.response,t.responseError)});l.length;){e=l.shift();var p=l.shift(),u=u.then(e,p)}return u.success=function(t){return rt(t,"fn"),u.then(function(e){t(e.data,e.status,e.headers,s)}),u},u.error=function(t){return rt(t,"fn"),u.then(null,function(e){t(e.data,e.status,e.headers,s)}),u},u}function f(i,r){function o(t,n,i,r){function o(){l(n,t,i,r)}f&&(200<=t&&300>t?f.put(C,[t,n,re(i),r]):f.remove(C)),e?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function l(t,e,n,r){e=Math.max(e,0),(200<=e&&300>e?_.resolve:_.reject)({data:t,status:e,headers:oe(n),config:i,statusText:r})}function d(t){l(t.data,t.status,I(t.headers()),t.statusText)}function h(){var t=p.pendingRequests.indexOf(i);-1!==t&&p.pendingRequests.splice(t,1)}var f,v,_=c.defer(),x=_.promise,k=i.headers,C=g(i.url,i.paramSerializer(i.params));return p.pendingRequests.push(i),x.then(h,h),!i.cache&&!t.cache||!1===i.cache||"GET"!==i.method&&"JSONP"!==i.method||(f=w(i.cache)?i.cache:w(t.cache)?t.cache:m),f&&(v=f.get(C),b(v)?v&&$(v.then)?v.then(d,d):ni(v)?l(v[1],v[0],I(v[2]),v[3]):l(v,200,{},"OK"):f.put(C,x)),y(v)&&((v=an(i.url)?s()[i.xsrfCookieName||t.xsrfCookieName]:n)&&(k[i.xsrfHeaderName||t.xsrfHeaderName]=v),a(i.method,C,r,o,k,i.timeout,i.withCredentials,i.responseType)),x}function g(t,e){return 0<e.length&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var m=l("$http");t.paramSerializer=x(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var v=[];return o(r,function(t){v.unshift(x(t)?h.get(t):h.invoke(t))}),p.pendingRequests=[],function(t){o(arguments,function(t){p[t]=function(e,n){return p(d({},n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(t){o(arguments,function(t){p[t]=function(e,n,i){return p(d({},i||{},{method:t,url:e,data:n}))}})}("post","put","patch"),p.defaults=t,p}]}function le(){return new t.XMLHttpRequest}function ue(){this.$get=["$browser","$window","$document",function(t,e,n){return ce(t,le,t.defer,e.angular.callbacks,n[0])}]}function ce(t,e,i,r,a){function s(t,e,n){var i=a.createElement("script"),o=null;return i.type="text/javascript",i.src=t,i.async=!0,o=function(t){i.removeEventListener("load",o,!1),i.removeEventListener("error",o,!1),a.body.removeChild(i),i=null;var s=-1,l="unknown";t&&("load"!==t.type||r[e].called||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},i.addEventListener("load",o,!1),i.addEventListener("error",o,!1),a.body.appendChild(i),o}return function(a,l,u,c,d,h,p,f){function m(){w&&w(),_&&_.abort()}function v(e,r,o,a,s){k!==n&&i.cancel(k),w=_=null,e(r,o,a,s),t.$$completeOutstandingRequest(g)}if(t.$$incOutstandingRequestCount(),l=l||t.url(),"jsonp"==Gn(a)){var y="_"+(r.counter++).toString(36);r[y]=function(t){r[y].data=t,r[y].called=!0};var w=s(l.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){v(c,t,r[y].data,"",e),r[y]=g})}else{var _=e();if(_.open(a,l,!0),o(d,function(t,e){b(t)&&_.setRequestHeader(e,t)}),_.onload=function(){var t=_.statusText||"",e="response"in _?_.response:_.responseText,n=1223===_.status?204:_.status;0===n&&(n=e?200:"file"==on(l).protocol?404:0),v(c,n,e,_.getAllResponseHeaders(),t)},a=function(){v(c,-1,null,null,"")},_.onerror=a,_.onabort=a,p&&(_.withCredentials=!0),f)try{_.responseType=f}catch(x){if("json"!==f)throw x}_.send(u)}if(0<h)var k=i(m,h);else h&&$(h.then)&&h.then(m)}}function de(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(t){return"\\\\\\"+t}function a(n){return n.replace(c,t).replace(h,e)}function s(o,s,c,h){function p(t){try{var e=t;t=c?r.getTrusted(c,e):r.valueOf(e);var n;if(h&&!b(t))n=t;else if(null==t)n="";else{switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=F(t)}n=t}return n}catch(a){i(Yi.interr(o,a))}}h=!!h;for(var f,g,m=0,v=[],w=[],_=o.length,x=[],k=[];m<_;){if(-1==(f=o.indexOf(t,m))||-1==(g=o.indexOf(e,f+l))){m!==_&&x.push(a(o.substring(m)));break}m!==f&&x.push(a(o.substring(m,f))),m=o.substring(f+l,g),v.push(m),w.push(n(m,p)),m=g+u,k.push(x.length),x.push("")}if(c&&1<x.length&&Yi.throwNoconcat(o),!s||v.length){var C=function(t){for(var e=0,n=v.length;e<n;e++){if(h&&y(t[e]))return;x[k[e]]=t[e]}return x.join("")};return d(function(t){var e=0,n=v.length,r=Array(n);try{for(;e<n;e++)r[e]=w[e](t);return C(r)}catch(a){i(Yi.interr(o,a))}},{exp:o,expressions:v,$$watchDelegate:function(t,e){var n;return t.$watchGroup(w,function(i,r){var o=C(i);$(e)&&e.call(this,o,i!==r?n:o,t),n=o})}})}}var l=t.length,u=e.length,c=new RegExp(t.replace(/./g,o),"g"),h=new RegExp(e.replace(/./g,o),"g");return s.startSymbol=function(){return t},s.endSymbol=function(){return e},s}]}function he(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,i){function r(r,a,s,l){var u=4<arguments.length,c=u?qn.call(arguments,4):[],d=e.setInterval,h=e.clearInterval,p=0,f=b(l)&&!l,g=(f?i:n).defer(),m=g.promise;return s=b(s)?s:0,m.then(null,null,u?function(){r.apply(null,c)}:r),m.$$intervalId=d(function(){g.notify(p++),0<s&&p>=s&&(g.resolve(p),h(m.$$intervalId),delete o[m.$$intervalId]),f||t.$apply()},a),o[m.$$intervalId]=g,m}var o={};return r.cancel=function(t){return!!(t&&t.$$intervalId in o)&&(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0)},r}]}function pe(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January February March April May June July August September October November December".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function fe(t){t=t.split("/");for(var e=t.length;e--;)t[e]=Y(t[e]);return t.join("/")}function ge(t,e){var n=on(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||Zi[n.protocol]||null}function me(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var i=on(t);e.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),e.$$search=U(i.search),e.$$hash=decodeURIComponent(i.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function ve(t,e){if(0===e.indexOf(t))return e.substr(t.length)}function ye(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function be(t){return t.replace(/(#.+)|#$/,"$1")}function we(t){return t.substr(0,ye(t).lastIndexOf("/")+1)}function _e(t,e){this.$$html5=!0,e=e||"";var i=we(t);ge(t,this),this.$$parse=function(t){var e=ve(i,t);if(!x(e))throw Xi("ipthprfx",t,i);me(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=q(this.$$search),e=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=fe(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=i+this.$$url.substr(1)},this.$$parseLinkUrl=function(r,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s;return(a=ve(t,r))!==n?(s=a,s=(a=ve(e,a))!==n?i+(ve("/",a)||a):t+s):(a=ve(i,r))!==n?s=i+a:i==r+"/"&&(s=i),s&&this.$$parse(s),!!s}}function xe(t,e){var n=we(t);ge(t,this),this.$$parse=function(i){i=ve(t,i)||ve(n,i);var r;"#"===i.charAt(0)?(r=ve(e,i),y(r)&&(r=i)):r=this.$$html5?i:"",me(r,this),i=this.$$path;var o=/^\/[A-Z]:(\/.*)/;0===r.indexOf(t)&&(r=r.replace(t,"")),o.exec(r)||(i=(r=o.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$compose=function(){var n=q(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=fe(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return ye(t)==ye(e)&&(this.$$parse(e),!0)}}function ke(t,e){this.$$html5=!0,xe.apply(this,arguments);var n=we(t);this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return t==ye(i)?o=i:(a=ve(n,i))?o=t+e+a:n===i+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=q(this.$$search),i=this.$$hash?"#"+Y(this.$$hash):"";this.$$url=fe(this.$$path)+(n?"?"+n:"")+i,this.$$absUrl=t+e+this.$$url}}function Ce(t){return function(){return this[t]}}function $e(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Me(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(t){return D(t)?(e.enabled=t,this):w(t)?(D(t.enabled)&&(e.enabled=t.enabled),D(t.requireBase)&&(e.requireBase=t.requireBase),D(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(t,e,n){var r=u.url(),o=u.$$state;try{i.url(t,e,n),u.$$state=i.state()}catch(a){throw u.url(r),u.$$state=o,a}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c;c=i.baseHref();var d,h=i.url();if(e.enabled){if(!c&&e.requireBase)throw Xi("nobase");d=h.substring(0,h.indexOf("/",h.indexOf("//")+2))+(c||"/"),c=r.history?_e:ke}else d=ye(h),c=xe;u=new c(d,"#"+t),u.$$parseLinkUrl(h,h),u.$$state=i.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var r=Fn(t.target);"a"!==P(r[0]);)if(r[0]===o[0]||!(r=r.parent())[0])return;var s=r.prop("href"),l=r.attr("href")||r.attr("xlink:href");w(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=on(s.animVal).href),p.test(s)||!s||r.attr("target")||t.isDefaultPrevented()||!u.$$parseLinkUrl(s,l)||(t.preventDefault(),u.absUrl()!=i.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),be(u.absUrl())!=be(h)&&i.url(u.absUrl(),!0);var f=!0;return i.onUrlChange(function(t,e){n.$evalAsync(function(){var i,r=u.absUrl(),o=u.$$state;u.$$parse(t),u.$$state=e,i=n.$broadcast("$locationChangeStart",t,r,e,o).defaultPrevented,u.absUrl()===t&&(i?(u.$$parse(r),u.$$state=o,s(r,!1,o)):(f=!1,l(r,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=be(i.url()),e=be(u.absUrl()),o=i.state(),a=u.$$replace,c=t!==e||u.$$html5&&r.history&&o!==u.$$state;(f||c)&&(f=!1,n.$evalAsync(function(){var e=u.absUrl(),i=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(i?(u.$$parse(t),u.$$state=o):(c&&s(e,a,o===u.$$state?null:u.$$state),l(t,o)))})),u.$$replace=!1}),u}]}function Se(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function i(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function r(t){var e=n.console||{},r=e[t]||e.log||g;t=!1;try{t=!!r.apply}catch(a){}return t?function(){var t=[];return o(arguments,function(e){t.push(i(e))}),r.apply(e,t)}:function(t,e){r(t,null==e?"":e)}}return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Te(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw Ji("isecfld",e);return t}function De(t,e){if(t){if(t.constructor===t)throw Ji("isecfn",e);if(t.window===t)throw Ji("isecwindow",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw Ji("isecdom",e);if(t===Object)throw Ji("isecobj",e)}return t}function Ee(t,e){if(t){if(t.constructor===t)throw Ji("isecfn",e);if(t===tr||t===er||t===nr)throw Ji("isecff",e)}}function Oe(t,e){return"undefined"!=typeof t?t:e}function Pe(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function Ae(t,e){var n,i;switch(t.type){case ar.Program:n=!0,o(t.body,function(t){Ae(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case ar.Literal:t.constant=!0,t.toWatch=[];break;case ar.UnaryExpression:Ae(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case ar.BinaryExpression:Ae(t.left,e),Ae(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case ar.LogicalExpression:Ae(t.left,e),Ae(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case ar.ConditionalExpression:Ae(t.test,e),Ae(t.alternate,e),Ae(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case ar.Identifier:t.constant=!1,t.toWatch=[t];break;case ar.MemberExpression:Ae(t.object,e),t.computed&&Ae(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case ar.CallExpression:n=!!t.filter&&!e(t.callee.name).$stateful,i=[],o(t.arguments,function(t){Ae(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&!e(t.callee.name).$stateful?i:[t];break;case ar.AssignmentExpression:Ae(t.left,e),Ae(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case ar.ArrayExpression:n=!0,i=[],o(t.elements,function(t){Ae(t,e),n=n&&t.constant,t.constant||i.push.apply(i,t.toWatch)}),t.constant=n,t.toWatch=i;break;case ar.ObjectExpression:n=!0,i=[],o(t.properties,function(t){Ae(t.value,e),n=n&&t.value.constant,t.value.constant||i.push.apply(i,t.value.toWatch)}),t.constant=n,t.toWatch=i;break;case ar.ThisExpression:t.constant=!1,t.toWatch=[]}}function Ne(t){if(1==t.length){t=t[0].expression;var e=t.toWatch;return 1!==e.length?e:e[0]!==t?e:n}}function Ie(t){return t.type===ar.Identifier||t.type===ar.MemberExpression}function Re(t){if(1===t.body.length&&Ie(t.body[0].expression))return{type:ar.AssignmentExpression,left:t.body[0].expression,right:{type:ar.NGValueParameter},operator:"="}}function Le(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===ar.Literal||t.body[0].expression.type===ar.ArrayExpression||t.body[0].expression.type===ar.ObjectExpression)}function Be(t,e){this.astBuilder=t,this.$filter=e}function He(t,e){this.astBuilder=t,this.$filter=e}function Fe(t,e,n,i){De(t,i),e=e.split(".");for(var r,o=0;1<e.length;o++){r=Te(e.shift(),i);var a=De(t[r],i);a||(a={},t[r]=a),t=a}return r=Te(e.shift(),i),De(t[r],i),t[r]=n}function We(t){return"constructor"==t}function je(t){return $(t.valueOf)?t.valueOf():lr.call(t)}function ze(){var t=lt(),e=lt();this.$get=["$filter","$sniffer",function(i,r){function a(t,e){return null==t||null==e?t===e:("object"!=typeof t||(t=je(t),"object"!=typeof t))&&(t===e||t!==t&&e!==e)}function s(t,e,i,r,o){var s,l=r.inputs;if(1===l.length){var u=a,l=l[0];return t.$watch(function(t){var e=l(t);return a(e,u)||(s=r(t,n,n,[e]),u=e&&je(e)),s},e,i,o)}for(var c=[],d=[],h=0,p=l.length;h<p;h++)c[h]=a,d[h]=null;return t.$watch(function(t){for(var e=!1,i=0,o=l.length;i<o;i++){var u=l[i](t);(e||(e=!a(u,c[i])))&&(d[i]=u,c[i]=u&&je(u))}return e&&(s=r(t,n,n,d)),s},e,i,o)}function l(t,e,n,i){var r,o;return r=t.$watch(function(t){return i(t)},function(t,n,i){o=t,$(e)&&e.apply(this,arguments),b(t)&&i.$$postDigest(function(){b(o)&&r()})},n)}function u(t,e,n,i){function r(t){var e=!0;return o(t,function(t){b(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return i(t)},function(t,n,i){s=t,$(e)&&e.call(this,t,n,i),r(t)&&i.$$postDigest(function(){r(s)&&a()})},n)}function c(t,e,n,i){var r;return r=t.$watch(function(t){return i(t)},function(t,n,i){$(e)&&e.apply(this,arguments),r()},n)}function d(t,e){if(!e)return t;var n=t.$$watchDelegate,n=n!==u&&n!==l?function(n,i,r,o){return r=t(n,i,r,o),e(r,n,i)}:function(n,i,r,o){return r=t(n,i,r,o),n=e(r,n,i),b(r)?n:r};return t.$$watchDelegate&&t.$$watchDelegate!==s?n.$$watchDelegate=t.$$watchDelegate:e.$stateful||(n.$$watchDelegate=s,n.inputs=t.inputs?t.inputs:[t]),n}var h={csp:r.csp,expensiveChecks:!1},p={csp:r.csp,expensiveChecks:!0};return function(n,r,o){var a,f,m;switch(typeof n){case"string":m=n=n.trim();var v=o?e:t;return a=v[m],a||(":"===n.charAt(0)&&":"===n.charAt(1)&&(f=!0,n=n.substring(2)),o=o?p:h,a=new or(o),a=new sr(a,i,o).parse(n),a.constant?a.$$watchDelegate=c:f?a.$$watchDelegate=a.literal?u:l:a.inputs&&(a.$$watchDelegate=s),v[m]=a),d(a,r);case"function":return d(n,r);default:return g}}}]}function Ge(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Ue(function(e){t.$evalAsync(e)},e)}]}function Ve(){this.$get=["$browser","$exceptionHandler",function(t,e){return Ue(function(e){t.defer(e)},e)}]}function Ue(t,e){function r(t,e,n){function i(e){return function(n){r||(r=!0,e.call(t,n))}}var r=!1;return[i(e),i(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function l(i){!i.processScheduled&&i.pending&&(i.processScheduled=!0,t(function(){var t,r,o;o=i.pending,i.processScheduled=!1,i.pending=n;for(var a=0,s=o.length;a<s;++a){r=o[a][0],t=o[a][i.status];try{$(t)?r.resolve(t(i.value)):1===i.status?r.resolve(i.value):r.reject(i.value)}catch(l){r.reject(l),e(l)}}}))}function u(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}var c=i("$q",TypeError);a.prototype={then:function(t,e,n){var i=new u;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,t,e,n]),0<this.$$state.status&&l(this.$$state),i.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return h(e,!0,t)},function(e){return h(e,!1,t)},e)}},u.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(c("qcycle",t)):this.$$resolve(t))},$$resolve:function(t){var n,i;i=r(this,this.$$resolve,this.$$reject);try{(w(t)||$(t))&&(n=t&&t.then),$(n)?(this.promise.$$state.status=-1,n.call(t,i[0],i[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,l(this.promise.$$state))}catch(o){i[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,l(this.promise.$$state)},notify:function(n){var i=this.promise.$$state.pending;0>=this.promise.$$state.status&&i&&i.length&&t(function(){for(var t,r,o=0,a=i.length;o<a;o++){r=i[o][0],t=i[o][3];try{r.notify($(t)?t(n):n)}catch(s){e(s)}}})}};var d=function(t,e){var n=new u;return e?n.resolve(t):n.reject(t),n.promise},h=function(t,e,n){var i=null;try{$(n)&&(i=n())}catch(r){return d(r,!1)}return i&&$(i.then)?i.then(function(){return d(t,e)},function(t){return d(t,!1)}):d(t,e)},p=function(t,e,n,i){var r=new u;return r.resolve(t),r.promise.then(e,n,i)},f=function g(t){if(!$(t))throw c("norslvr",t);if(!(this instanceof g))return new g(t);var e=new u;return t(function(t){e.resolve(t)},function(t){e.reject(t)}),e.promise};return f.defer=function(){return new u},f.reject=function(t){var e=new u;return e.reject(t),e.promise},f.when=p,f.resolve=p,f.all=function(t){var e=new u,n=0,i=ni(t)?[]:{};return o(t,function(t,r){n++,p(t).then(function(t){i.hasOwnProperty(r)||(i[r]=t,--n||e.resolve(i))},function(t){i.hasOwnProperty(r)||e.reject(t)})}),0===n&&e.resolve(i),e.promise},f}function qe(){this.$get=["$window","$timeout",function(t,e){function n(){for(var t=0;t<c.length;t++){var e=c[t];e&&(c[t]=null,e())}u=c.length=0}function i(t){var e=c.length;return u++,c.push(t),0===e&&(l=s(n)),function(){0<=e&&(e=c[e]=null,0===--u&&l&&(l(),l=null,c.length=0))}}var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,a=!!r,s=a?function(t){var e=r(t);return function(){o(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};i.supported=a;var l,u=0,c=[];return i}]}function Ye(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++ti,this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=i("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(i,l,u,c){function d(t){t.currentScope.$$destroyed=!0}function h(){this.$id=++ti,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(t){if(x.$$phase)throw n("inprog",x.$$phase);x.$$phase=t}function f(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function m(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function v(){}function b(){for(;M.length;)try{M.shift()()}catch(t){l(t)}s=null}function _(){null===s&&(s=c.defer(function(){x.$apply(b)}))}h.prototype={constructor:h,$new:function(e,n){var i;return n=n||this,e?(i=new h,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(e||n!=this)&&i.$on("$destroy",d),i},$watch:function(t,e,n,i){var r=u(t);if(r.$$watchDelegate)return r.$$watchDelegate(this,e,n,r,t);var o=this,s=o.$$watchers,l={fn:e,last:v,get:r,exp:i||t,eq:!!n};return a=null,$(e)||(l.fn=g),s||(s=o.$$watchers=[]),s.unshift(l),f(this,1),function(){0<=A(s,l)&&f(o,-1),a=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(r,r,s)):e(r,i,s)}var i=Array(t.length),r=Array(t.length),a=[],s=this,l=!1,u=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(r,r,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){r[0]=t,i[0]=n,e(r,t===n?r:i,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){r[e]=t,i[e]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){i=t;var e,n,a,s;if(!y(i)){if(w(i))if(r(i))for(o!==h&&(o=h,g=o.length=0,c++),t=i.length,g!==t&&(c++,o.length=g=t),e=0;e<t;e++)s=o[e],a=i[e],n=s!==s&&a!==a,n||s===a||(c++,o[e]=a);else{o!==p&&(o=p={},g=0,c++),t=0;for(e in i)i.hasOwnProperty(e)&&(t++,a=i[e],s=o[e],e in o?(n=s!==s&&a!==a,n||s===a||(c++,o[e]=a)):(g++,o[e]=a,c++));if(g>t)for(e in c++,o)i.hasOwnProperty(e)||(g--,delete o[e])}else o!==i&&(o=i,c++);return c}}n.$stateful=!0;var i,o,a,s=this,l=1<e.length,c=0,d=u(t,n),h=[],p={},f=!0,g=0;return this.$watch(d,function(){if(f?(f=!1,e(i,i,s)):e(i,a,s),l)if(w(i))if(r(i)){a=Array(i.length);for(var t=0;t<i.length;t++)a[t]=i[t]}else for(t in a={},i)Vn.call(i,t)&&(a[t]=i[t]);else a=i})},$digest:function(){var t,i,r,o,u,d,h,f,g,m=e,y=[];p("$digest"),c.$$checkUrlChange(),this===x&&null!==s&&(c.defer.cancel(s),b()),a=null;do{for(d=!1,h=this;k.length;){try{g=k.shift(),g.scope.$eval(g.expression,g.locals)}catch(w){l(w)}a=null}t:do{if(o=h.$$watchers)for(u=o.length;u--;)try{if(t=o[u])if((i=t.get(h))===(r=t.last)||(t.eq?R(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))){if(t===a){d=!1;break t}}else d=!0,a=t,t.last=t.eq?N(i,null):i,t.fn(i,r===v?i:r,h),5>m&&(f=4-m,y[f]||(y[f]=[]),y[f].push({msg:$(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:r}))}catch(_){l(_)}if(!(o=h.$$watchersCount&&h.$$childHead||h!==this&&h.$$nextSibling))for(;h!==this&&!(o=h.$$nextSibling);)h=h.$parent}while(h=o);if((d||k.length)&&!m--)throw x.$$phase=null,n("infdig",e,y)}while(d||k.length);for(x.$$phase=null;C.length;)try{C.shift()()}catch(M){l(M)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===x&&c.$$applicationDestroyed(),f(this,-this.$$watchersCount);for(var e in this.$$listenerCount)m(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(t,e){return u(t)(this,e)},$evalAsync:function(t,e){x.$$phase||k.length||c.defer(function(){k.length&&x.$digest()}),k.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){C.push(t)},$apply:function(t){try{return p("$apply"),this.$eval(t)}catch(e){l(e)}finally{x.$$phase=null;try{x.$digest()}catch(n){throw l(n),n}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&M.push(e),_()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var i=this;do i.$$listenerCount[t]||(i.$$listenerCount[t]=0),i.$$listenerCount[t]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(e);-1!==i&&(n[i]=null,m(r,1,t))}},$emit:function(t,e){var n,i,r,o=[],a=this,s=!1,u={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=L([u],arguments,1);do{for(n=a.$$listeners[t]||o,u.currentScope=a,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,c)}catch(d){l(d)}else n.splice(i,1),i--,r--;if(s)return u.currentScope=null,u;a=a.$parent}while(a);return u.currentScope=null,u},$broadcast:function(t,e){var n=this,i=this,r={name:t,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[t])return r;for(var o,a,s=L([r],arguments,1);n=i;){for(r.currentScope=n,i=n.$$listeners[t]||[],o=0,a=i.length;o<a;o++)if(i[o])try{i[o].apply(null,s)}catch(u){l(u)}else i.splice(o,1),o--,a--;if(!(i=n.$$listenerCount[t]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var x=new h,k=x.$$asyncQueue=[],C=x.$$postDigestQueue=[],M=x.$$applyAsyncQueue=[];return x}]}function Ke(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,i){var r,o=i?e:t;return r=on(n).href,""===r||r.match(o)?n:"unsafe:"+r}}}function Ze(t){if("self"===t)return t;if(x(t)){if(-1<t.indexOf("***"))throw ur("iwcard",t);return t=oi(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(M(t))return new RegExp("^"+t.source+"$");throw ur("imatcher")}function Xe(t){var e=[];return b(t)&&o(t,function(t){e.push(Ze(t))}),e}function Qe(){this.SCE_CONTEXTS=cr;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Xe(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Xe(t)),e},this.$get=["$injector",function(i){function r(t,e){return"self"===t?an(e):!!t.exec(e.href)}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}var a=function(t){throw ur("unsafe")};i.has("$sanitize")&&(a=i.get("$sanitize"));var s=o(),l={};return l[cr.HTML]=o(s),l[cr.CSS]=o(s),l[cr.URL]=o(s),l[cr.JS]=o(s),l[cr.RESOURCE_URL]=o(l[cr.URL]),{trustAs:function(t,e){var i=l.hasOwnProperty(t)?l[t]:null;if(!i)throw ur("icontext",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw ur("itype",t);return new i(e)},getTrusted:function(i,o){if(null===o||o===n||""===o)return o;var s=l.hasOwnProperty(i)?l[i]:null;if(s&&o instanceof s)return o.$$unwrapTrustedValue();if(i===cr.RESOURCE_URL){var u,c,s=on(o.toString()),d=!1;for(u=0,c=t.length;u<c;u++)if(r(t[u],s)){d=!0;break}if(d)for(u=0,c=e.length;u<c;u++)if(r(e[u],s)){d=!1;break}if(d)return o;throw ur("insecurl",o.toString())}if(i===cr.HTML)return a(o);throw ur("unsafe")},valueOf:function(t){return t instanceof s?t.$$unwrapTrustedValue():t}}}]}function Je(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Hn)throw ur("iequirks");var i=I(cr);i.isEnabled=function(){return t},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,t||(i.trustAs=i.getTrusted=function(t,e){return e},i.valueOf=m),i.parseAs=function(t,n){var r=e(n);return r.literal&&r.constant?r:e(n,function(e){return i.getTrusted(t,e)})};var r=i.parseAs,a=i.getTrusted,s=i.trustAs;return o(cr,function(t,e){var n=Gn(e);i[dt("parse_as_"+n)]=function(e){return r(t,e)},i[dt("get_trusted_"+n)]=function(e){return a(t,e)},i[dt("trust_as_"+n)]=function(e){return s(t,e)}}),i}]}function tn(){this.$get=["$window","$document",function(t,e){var n,i={},r=p((/android (\d+)/.exec(Gn((t.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((t.navigator||{}).userAgent),a=e[0]||{},s=/^(Moz|webkit|ms)(?=[A-Z])/,l=a.body&&a.body.style,u=!1,c=!1;if(l){for(var d in l)if(u=s.exec(d)){n=u[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in l&&"webkit"),u=!!("transition"in l||n+"Transition"in l),c=!!("animation"in l||n+"Animation"in l),!r||u&&c||(u=x(l.webkitTransition),c=x(l.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>r||o),hasEvent:function(t){if("input"===t&&11>=Hn)return!1;if(y(i[t])){var e=a.createElement("div");i[t]="on"+t in e}return i[t]},csp:ai(),vendorPrefix:n,transitions:u,animations:c,android:r}}]}function en(){this.$get=["$templateCache","$http","$q",function(t,e,n){function i(r,o){i.totalPendingRequests++;var a=e.defaults&&e.defaults.transformResponse;return ni(a)?a=a.filter(function(t){return t!==ie}):a===ie&&(a=null),e.get(r,{cache:t,transformResponse:a})["finally"](function(){i.totalPendingRequests--}).then(function(e){return t.put(r,e.data),e.data},function(t){if(!o)throw Hi("tpload",r,t.status,t.statusText);return n.reject(t)})}return i.totalPendingRequests=0,i}]}function nn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){return{findBindings:function(t,e,n){t=t.getElementsByClassName("ng-binding");var i=[];return o(t,function(t){var r=Jn.element(t).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+oi(e)+"(\\s|\\||$)").test(r)&&i.push(t):-1!=r.indexOf(e)&&i.push(t)})}),i},findModels:function(t,e,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=t.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+e+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(e){e!==n.url()&&(n.url(e),t.$digest())},whenStable:function(t){e.notifyWhenNoOutstandingRequests(t)}}}]}function rn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,i,r){function o(o,s,l){$(o)||(l=s,s=o,o=g);var u,c=qn.call(arguments,3),d=b(l)&&!l,h=(d?i:n).defer(),p=h.promise;return u=e.defer(function(){try{h.resolve(o.apply(null,c))}catch(e){h.reject(e),r(e)}finally{delete a[p.$$timeoutId]}d||t.$apply()},s),p.$$timeoutId=u,a[u]=h,p}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function on(t){return Hn&&(dr.setAttribute("href",t),t=dr.href),dr.setAttribute("href",t),{href:dr.href,protocol:dr.protocol?dr.protocol.replace(/:$/,""):"",host:dr.host,search:dr.search?dr.search.replace(/^\?/,""):"",hash:dr.hash?dr.hash.replace(/^#/,""):"",hostname:dr.hostname,port:dr.port,pathname:"/"===dr.pathname.charAt(0)?dr.pathname:"/"+dr.pathname}}function an(t){return t=x(t)?on(t):t,t.protocol===hr.protocol&&t.host===hr.host}function sn(){this.$get=v(t)}function ln(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var i=t[0]||{},r={},o="";return function(){var t,a,s,l,u;if(t=i.cookie||"",t!==o)for(o=t,t=o.split("; "),r={},s=0;s<t.length;s++)a=t[s],l=a.indexOf("="),0<l&&(u=e(a.substring(0,l)),r[u]===n&&(r[u]=e(a.substring(l+1))));return r}}function un(){this.$get=ln}function cn(t){function e(n,i){if(w(n)){var r={};return o(n,function(t,n){r[n]=e(n,t)}),r}return t.factory(n+"Filter",i)}this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+"Filter")}}],e("currency",gn),e("date",Cn),e("filter",dn),e("json",$n),e("limitTo",Mn),e("lowercase",vr),e("number",mn),e("orderBy",Sn),e("uppercase",yr)}function dn(){return function(t,e,n){if(!r(t)){if(null==t)return t;throw i("filter")("notarray",t)}var o;switch(fn(e)){case"function":break;case"boolean":case"null":case"number":case"string":o=!0;case"object":e=hn(e,n,o);break;default:return t}return Array.prototype.filter.call(t,e)}}function hn(t,e,n){var i=w(t)&&"$"in t;return!0===e?e=R:$(e)||(e=function(t,e){if(y(t))return!1;if(null===t||null===e)return t===e;var n;return!(n=w(e))&&(n=w(t))&&(n=t,n=!($(n.toString)&&n.toString!==Object.prototype.toString)),!n&&(t=Gn(""+t),e=Gn(""+e),-1!==t.indexOf(e))}),function(r){return i&&!w(r)?pn(r,t.$,e,!1):pn(r,t,e,n)}}function pn(t,e,n,i,r){var o=fn(t),a=fn(e);if("string"===a&&"!"===e.charAt(0))return!pn(t,e.substring(1),n,i);if(ni(t))return t.some(function(t){return pn(t,e,n,i)});switch(o){case"object":var s;if(i){for(s in t)if("$"!==s.charAt(0)&&pn(t[s],e,n,!0))return!0;return!r&&pn(t,e,n,!1)}if("object"===a){for(s in e)if(r=e[s],!$(r)&&!y(r)&&(o="$"===s,!pn(o?t:t[s],r,n,o,o)))return!1;return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function fn(t){return null===t?"null":typeof t}function gn(t){var e=t.NUMBER_FORMATS;return function(t,n,i){return y(n)&&(n=e.CURRENCY_SYM),y(i)&&(i=e.PATTERNS[1].maxFrac),null==t?t:vn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,i).replace(/\u00A4/g,n)}}function mn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:vn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function vn(t,e,n,i,r){if(w(t))return"";var o=0>t;t=Math.abs(t);var a=1/0===t;if(!a&&!isFinite(t))return"";var s=t+"",l="",u=!1,c=[];if(a&&(l="∞"),!a&&-1!==s.indexOf("e")){var d=s.match(/([\d\.]+)e(-?)(\d+)/);d&&"-"==d[2]&&d[3]>r+1?t=0:(l=s,u=!0)}if(a||u)0<r&&1>t&&(l=t.toFixed(r),t=parseFloat(l));else{a=(s.split(pr)[1]||"").length,y(r)&&(r=Math.min(Math.max(e.minFrac,a),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+r)).toString()+"e"+-r);var a=(""+t).split(pr),s=a[0],a=a[1]||"",d=0,h=e.lgSize,p=e.gSize;if(s.length>=h+p)for(d=s.length-h,u=0;u<d;u++)0===(d-u)%p&&0!==u&&(l+=n),l+=s.charAt(u);for(u=d;u<s.length;u++)0===(s.length-u)%h&&0!==u&&(l+=n),l+=s.charAt(u);for(;a.length<r;)a+="0";r&&"0"!==r&&(l+=i+a.substr(0,r))}return 0===t&&(o=!1),c.push(o?e.negPre:e.posPre,l,o?e.negSuf:e.posSuf),c.join("")}function yn(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function bn(t,e,n,i){return n=n||0,function(r){return r=r["get"+t](),(0<n||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),yn(r,e,i)}}function wn(t,e){return function(n,i){var r=n["get"+t](),o=Un(e?"SHORT"+t:t);return i[o][r]}}function _n(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function xn(t){return function(e){var n=_n(e.getFullYear());return e=+new Date(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))-+n,e=1+Math.round(e/6048e5),yn(e,t)}}function kn(t,e){return 0>=t.getFullYear()?e.ERAS[0]:e.ERAS[1]}function Cn(t){function e(t){var e;if(e=t.match(n)){t=new Date(0);var i=0,r=0,o=e[8]?t.setUTCFullYear:t.setFullYear,a=e[8]?t.setUTCHours:t.setHours;e[9]&&(i=p(e[9]+e[10]),r=p(e[9]+e[11])),o.call(t,p(e[1]),p(e[2])-1,p(e[3])),i=p(e[4]||0)-i,r=p(e[5]||0)-r,o=p(e[6]||0),e=Math.round(1e3*parseFloat("0."+(e[7]||0))),a.call(t,i,r,o,e)}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var a,s,l="",u=[];if(i=i||"mediumDate",i=t.DATETIME_FORMATS[i]||i,x(n)&&(n=mr.test(n)?p(n):e(n)),k(n)&&(n=new Date(n)),!C(n)||!isFinite(n.getTime()))return n;for(;i;)(s=gr.exec(i))?(u=L(u,s,1),i=u.pop()):(u.push(i),i=null);var c=n.getTimezoneOffset();return r&&(c=j(r,n.getTimezoneOffset()),n=z(n,r,!0)),o(u,function(e){a=fr[e],l+=a?a(n,t.DATETIME_FORMATS,c):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function $n(){return function(t,e){return y(e)&&(e=2),F(t,e)}}function Mn(){return function(t,e,n){return e=1/0===Math.abs(Number(e))?Number(e):p(e),isNaN(e)?t:(k(t)&&(t=t.toString()),ni(t)||x(t)?(n=!n||isNaN(n)?0:p(n),n=0>n&&n>=-t.length?t.length+n:n,0<=e?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function Sn(t){return function(e,n,i){function o(t,e){return e?function(e,n){return t(n,e)}:t}function a(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function s(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),a(t))||"function"==typeof t.toString&&(t=t.toString(),a(t))?t:""}function l(t,e){var n=typeof t,i=typeof e;return n===i&&"object"===n&&(t=s(t),e=s(e)),n===i?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:t<e?-1:1):n<i?-1:1}return r(e)?(n=ni(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,i=e||m;if(x(e)){if("+"!=e.charAt(0)&&"-"!=e.charAt(0)||(n="-"==e.charAt(0),e=e.substring(1)),""===e)return o(l,n);if(i=t(e),i.constant){var r=i();return o(function(t,e){return l(t[r],e[r])},n)}}return o(function(t,e){return l(i(t),i(e))},n)}),qn.call(e).sort(o(function(t,e){for(var i=0;i<n.length;i++){var r=n[i](t,e);if(0!==r)return r}return 0},i))):e}}function Tn(t){return $(t)&&(t={link:t}),t.restrict=t.restrict||"AC",
v(t)}function Dn(t,e,i,r,a){var s=this,l=[],u=s.$$parentForm=t.parent().controller("form")||_r;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(i),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,u.$addControl(s),s.$rollbackViewValue=function(){o(l,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(t){t.$commitViewValue()})},s.$addControl=function(t){ot(t.$name,"input"),l.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),o(s.$$success,function(e,n){s.$setValidity(n,null,t)}),A(l,t)},Ln({ctrl:this,$element:t,set:function(t,e,n){var i=t[e];i?-1===i.indexOf(n)&&i.push(n):t[e]=[n]},unset:function(t,e,n){var i=t[e];i&&(A(i,n),0===i.length&&delete t[e])},parentForm:u,$animate:r}),s.$setDirty=function(){r.removeClass(t,no),r.addClass(t,io),s.$dirty=!0,s.$pristine=!1,u.$setDirty()},s.$setPristine=function(){r.setClass(t,no,io+" ng-submitted"),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(t){t.$setPristine()})},s.$setUntouched=function(){o(l,function(t){t.$setUntouched()})},s.$setSubmitted=function(){r.addClass(t,"ng-submitted"),s.$submitted=!0,u.$setSubmitted()}}function En(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function On(t,e,n,i,r,o){var a=Gn(e[0].type);if(!r.android){var s=!1;e.on("compositionstart",function(t){s=!0}),e.on("compositionend",function(){s=!1,l()})}var l=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var r=e.val();t=t&&t.type,"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=ri(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,t)}};if(r.hasEvent("input"))e.on("input",l);else{var u,c=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&19>e||37<=e&&40>=e||c(t,this,this.value)}),r.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",l),i.$render=function(){e.val(i.$isEmpty(i.$viewValue)?"":i.$viewValue)}}function Pn(t,e){return function(n,i){var r,a;if(C(n))return n;if(x(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),$r.test(n))return new Date(n);if(t.lastIndex=0,r=t.exec(n))return r.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function An(t,e,i,r){return function(o,a,s,l,u,c,d){function h(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function p(t){return b(t)?C(t)?t:i(t):n}Nn(o,a,s,l),On(o,a,s,l,u,c);var f,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=t,l.$parsers.push(function(t){return l.$isEmpty(t)?null:e.test(t)?(t=i(t,f),g&&(t=z(t,g)),t):n}),l.$formatters.push(function(t){if(t&&!C(t))throw oo("datefmt",t);return h(t)?((f=t)&&g&&(f=z(f,g,!0)),d("date")(t,r,g)):(f=null,"")}),b(s.min)||s.ngMin){var m;l.$validators.min=function(t){return!h(t)||y(m)||i(t)>=m},s.$observe("min",function(t){m=p(t),l.$validate()})}if(b(s.max)||s.ngMax){var v;l.$validators.max=function(t){return!h(t)||y(v)||i(t)<=v},s.$observe("max",function(t){v=p(t),l.$validate()})}}}function Nn(t,e,i,r){(r.$$hasNativeValidators=w(e[0].validity))&&r.$parsers.push(function(t){var i=e.prop("validity")||{};return i.badInput&&!i.typeMismatch?n:t})}function In(t,e,n,r,o){if(b(r)){if(t=t(r),!t.constant)throw i("ngModel")("constexpr",n,r);return t(e)}return o}function Rn(t,e){return t="ngClass"+t,["$animate",function(n){function i(t,e){var n=[],i=0;t:for(;i<t.length;i++){for(var r=t[i],o=0;o<e.length;o++)if(r==e[o])continue t;n.push(r)}return n}function r(t){var e=[];return ni(t)?(o(t,function(t){e=e.concat(r(t))}),e):x(t)?t.split(" "):w(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,l){function u(t,e){var n=s.data("$classCounts")||lt(),i=[];return o(t,function(t){(0<e||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(0<e)&&i.push(t))}),s.data("$classCounts",n),i.join(" ")}function c(t){if(!0===e||a.$index%2===e){var o=r(t||[]);if(d){if(!R(t,d)){var c=r(d),h=i(o,c),o=i(c,o),h=u(h,1),o=u(o,-1);h&&h.length&&n.addClass(s,h),o&&o.length&&n.removeClass(s,o)}}else{var h=u(o,1);l.$addClass(h)}}d=I(t)}var d;a.$watch(l[t],c,!0),l.$observe("class",function(e){c(a.$eval(l[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,i){var o=1&n;if(o!==(1&i)){var s=r(a.$eval(l[t]));o===e?(o=u(s,1),l.$addClass(o)):(o=u(s,-1),l.$removeClass(o))}})}}}]}function Ln(t){function e(t,e){e&&!a[t]?(c.addClass(o,t),a[t]=!0):!e&&a[t]&&(c.removeClass(o,t),a[t]=!1)}function i(t,n){t=t?"-"+et(t,"-"):"",e(to+t,!0===n),e(eo+t,!1===n)}var r=t.ctrl,o=t.$element,a={},s=t.set,l=t.unset,u=t.parentForm,c=t.$animate;a[eo]=!(a[to]=o.hasClass(to)),r.$setValidity=function(t,o,a){o===n?(r.$pending||(r.$pending={}),s(r.$pending,t,a)):(r.$pending&&l(r.$pending,t,a),Bn(r.$pending)&&(r.$pending=n)),D(o)?o?(l(r.$error,t,a),s(r.$$success,t,a)):(s(r.$error,t,a),l(r.$$success,t,a)):(l(r.$error,t,a),l(r.$$success,t,a)),r.$pending?(e(ro,!0),r.$valid=r.$invalid=n,i("",null)):(e(ro,!1),r.$valid=Bn(r.$error),r.$invalid=!r.$valid,i("",r.$valid)),o=r.$pending&&r.$pending[t]?n:!r.$error[t]&&(!!r.$$success[t]||null),i(t,o),u.$setValidity(t,o,r)}}function Bn(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var Hn,Fn,Wn,jn,zn=/^\/(.+)\/([a-z]*)$/,Gn=function(t){return x(t)?t.toLowerCase():t},Vn=Object.prototype.hasOwnProperty,Un=function(t){return x(t)?t.toUpperCase():t},qn=[].slice,Yn=[].splice,Kn=[].push,Zn=Object.prototype.toString,Xn=Object.getPrototypeOf,Qn=i("ng"),Jn=t.angular||(t.angular={}),ti=0;Hn=e.documentMode,g.$inject=[],m.$inject=[];var ei,ni=Array.isArray,ii=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,ri=function(t){return x(t)?t.trim():t},oi=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},ai=function(){if(b(ai.isActive_))return ai.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return ai.isActive_=t},si=function(){if(b(si.name_))return si.name_;var t,n,i,r,o=li.length;for(n=0;n<o;++n)if(i=li[n],t=e.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return si.name_=r},li=["ng-","data-ng-","ng:","x-ng-"],ui=/[A-Z]/g,ci=!1,di=1,hi=3,pi={full:"1.4.1",major:1,minor:4,dot:1,codeName:"hyperionic-illumination"};ft.expando="ng339";var fi=ft.cache={},gi=1;ft._data=function(t){return this.cache[t[this.expando]]||{}};var mi=/([\:\-\_]+(.))/g,vi=/^moz([A-Z])/,yi={mouseleave:"mouseout",mouseenter:"mouseover"},bi=i("jqLite"),wi=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,_i=/<|&#?\w+;/,xi=/<([\w:]+)/,ki=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ci={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ci.optgroup=Ci.option,Ci.tbody=Ci.tfoot=Ci.colgroup=Ci.caption=Ci.thead,Ci.th=Ci.td;var $i=ft.prototype={ready:function(n){function i(){r||(r=!0,n())}var r=!1;"complete"===e.readyState?setTimeout(i):(this.on("DOMContentLoaded",i),ft(t).on("load",i))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Fn(0<=t?this[t]:this[this.length+t])},length:0,push:Kn,sort:[].sort,splice:[].splice},Mi={};o("multiple selected checked disabled readOnly required open".split(" "),function(t){Mi[Gn(t)]=t});var Si={};o("input select option textarea button form details".split(" "),function(t){Si[t]=!0});var Ti={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:wt,removeData:yt,hasData:function(t){for(var e in fi[t.ng339])return!0;return!1}},function(t,e){ft[e]=t}),o({data:wt,inheritedData:Mt,scope:function(t){return Fn.data(t,"$scope")||Mt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Fn.data(t,"$isolateScope")||Fn.data(t,"$isolateScopeNoTemplate")},controller:$t,injector:function(t){return Mt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:_t,css:function(t,e,n){return e=dt(e),b(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,i){var r=t.nodeType;if(r!==hi&&2!==r&&8!==r)if(r=Gn(e),Mi[r]){if(!b(i))return t[e]||(t.attributes.getNamedItem(e)||g).specified?r:n;i?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(b(i))t.setAttribute(e,i);else if(t.getAttribute)return t=t.getAttribute(e,2),null===t?n:t},prop:function(t,e,n){return b(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return n===di||n===hi?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===P(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return y(e)?t.innerHTML:(mt(t,!0),void(t.innerHTML=e))},empty:St},function(t,e){ft.prototype[e]=function(e,i){var r,o,a=this.length;if(t!==St&&(2==t.length&&t!==_t&&t!==$t?e:i)===n){if(w(e)){for(r=0;r<a;r++)if(t===wt)t(this[r],e);else for(o in e)t(this[r],o,e[o]);return this}for(r=t.$dv,a=r===n?Math.min(a,1):a,o=0;o<a;o++){var s=t(this[o],e,i);r=r?r+s:s}return r}for(r=0;r<a;r++)t(this[r],e,i);return this}}),o({removeData:yt,on:function No(t,e,n,i){if(b(i))throw bi("onargs");if(ht(t)){var r=bt(t,!0);i=r.events;var o=r.handle;o||(o=r.handle=Pt(t,i));for(var r=0<=e.indexOf(" ")?e.split(" "):[e],a=r.length;a--;){e=r[a];var s=i[e];s||(i[e]=[],"mouseenter"===e||"mouseleave"===e?No(t,yi[e],function(t){var n=t.relatedTarget;n&&(n===this||this.contains(n))||o(t,e)}):"$destroy"!==e&&t.addEventListener(e,o,!1),s=i[e]),s.push(n)}}},off:vt,one:function(t,e,n){t=Fn(t),t.on(e,function i(){t.off(e,n),t.off(e,i)}),t.on(e,n)},replaceWith:function(t,e){var n,i=t.parentNode;mt(t),o(new ft(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===di&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===di||11===n){e=new ft(e);for(var n=0,i=e.length;n<i;n++)t.appendChild(e[n])}},prepend:function(t,e){if(t.nodeType===di){var n=t.firstChild;o(new ft(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Fn(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Tt,detach:function(t){Tt(t,!0)},after:function(t,e){var n=t,i=t.parentNode;e=new ft(e);for(var r=0,o=e.length;r<o;r++){var a=e[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:kt,removeClass:xt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var i=n;y(i)&&(i=!_t(t,e)),(i?kt:xt)(t,e)})},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:gt,triggerHandler:function(t,e,n){var i,r,a=e.type||e,s=bt(t);(s=(s=s&&s.events)&&s[a])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:g,type:a,target:t},e.type&&(i=d(i,e)),e=I(s),r=n?[i].concat(n):[i],o(e,function(e){i.isImmediatePropagationStopped()||e.apply(t,r)}))}},function(t,e){ft.prototype[e]=function(e,n,i){for(var r,o=0,a=this.length;o<a;o++)y(r)?(r=t(this[o],e,n,i),b(r)&&(r=Fn(r))):Ct(r,t(this[o],e,n,i));return b(r)?r:this},ft.prototype.bind=ft.prototype.on,ft.prototype.unbind=ft.prototype.off}),It.prototype={put:function(t,e){this[Nt(t,this.nextUid)]=e},get:function(t){return this[Nt(t,this.nextUid)]},remove:function(t){var e=this[t=Nt(t,this.nextUid)];return delete this[t],e}};var Di=[function(){this.$get=[function(){return It}]}],Ei=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Oi=/,/,Pi=/^\s*(_?)(\S+?)\1\s*$/,Ai=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ni=i("$injector");Lt.$$annotate=function(t,e,n){var i;if("function"==typeof t){if(!(i=t.$inject)){if(i=[],t.length){if(e)throw x(n)&&n||(n=t.name||Rt(t)),Ni("strictdi",n);e=t.toString().replace(Ai,""),e=e.match(Ei),o(e[1].split(Oi),function(t){t.replace(Pi,function(t,e,n){i.push(n)})})}t.$inject=i}}else ni(t)?(e=t.length-1,rt(t[e],"fn"),i=t.slice(0,e)):rt(t,"fn",!0);return i};var Ii=i("$animate"),Ri=function(){this.$get=["$q","$$rAF",function(t,e){function n(){}return n.all=g,n.chain=g,n.prototype={end:g,cancel:g,resume:g,pause:g,complete:g,then:function(n,i){return t(function(t){e(function(){t()})}).then(n,i)}},n}]},Li=function(){var t=new It,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(n,r,a){var s=t.get(n);s||(t.put(n,s={}),e.push(n)),r&&o(r.split(" "),function(t){t&&(s[t]=!0)}),a&&o(a.split(" "),function(t){t&&(s[t]=!1)}),1<e.length||i.$$postDigest(function(){o(e,function(e){var n=t.get(e);if(n){var i=Ft(e.attr("class")),r="",a="";o(n,function(t,e){t!==!!i[e]&&(t?r+=(r.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){r&&kt(t,r),a&&xt(t,a)}),t.remove(e)}}),e.length=0})}return{enabled:g,on:g,off:g,pin:g,push:function(t,e,i,o){return o&&o(),i=i||{},i.from&&t.css(i.from),i.to&&t.css(i.to),(i.addClass||i.removeClass)&&r(t,i.addClass,i.removeClass),new n}}}]},Bi=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw Ii("notcsel",n);var r=n+"-animation";e.$$registeredAnimations[n.substr(1)]=r,t.factory(r,i)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null)&&/(\s+|\/)ng-animate(\s+|\/)/.test(this.$$classNameFilter.toString()))throw Ii("nongcls","ng-animate");return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var i;t:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break t}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,i,r,o){return i=i&&Fn(i),r=r&&Fn(r),i=i||r.parent(),e(n,i,r),t.push(n,"enter",Wt(o))},move:function(n,i,r,o){return i=i&&Fn(i),r=r&&Fn(r),i=i||r.parent(),e(n,i,r),t.push(n,"move",Wt(o))},leave:function(e,n){return t.push(e,"leave",Wt(n),function(){e.remove()})},addClass:function(e,n,i){return i=Wt(i),i.addClass=Ht(i.addclass,n),t.push(e,"addClass",i)},removeClass:function(e,n,i){return i=Wt(i),i.removeClass=Ht(i.removeClass,n),t.push(e,"removeClass",i)},setClass:function(e,n,i,r){return r=Wt(r),r.addClass=Ht(r.addClass,n),r.removeClass=Ht(r.removeClass,i),t.push(e,"setClass",r)},animate:function(e,n,i,r,o){return o=Wt(o),o.from=o.from?d(o.from,n):n,o.to=o.to?d(o.to,i):i,o.tempClasses=Ht(o.tempClasses,r||"ng-inline-animate"),t.push(e,"animate",o)}}}]}],Hi=i("$compile");qt.$inject=["$provide","$$sanitizeUriProvider"];var Fi=/^((?:x|data)[\:\-_])/i,Wi=i("$controller"),ji=/^(\S+)(\s+as\s+(\w+))?$/,zi="application/json",Gi={"Content-Type":zi+";charset=utf-8"},Vi=/^\[|^\{(?!\{)/,Ui={"[":/]$/,"{":/}$/},qi=/^\)\]\}',?\n/,Yi=Jn.$interpolateMinErr=i("$interpolate");Yi.throwNoconcat=function(t){throw Yi("noconcat",t)},Yi.interr=function(t,e){return Yi("interr",t,e.toString())};var Ki=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Zi={http:80,https:443,ftp:21},Xi=i("$location"),Qi={$$html5:!1,$$replace:!1,absUrl:Ce("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=Ki.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:Ce("$$protocol"),host:Ce("$$host"),port:Ce("$$port"),path:$e("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(x(t)||k(t))t=t.toString(),this.$$search=U(t);else{if(!w(t))throw Xi("isrcharg");t=N(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:$e("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([ke,xe,_e],function(t){t.prototype=Object.create(Qi),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==_e||!this.$$html5)throw Xi("nostate");return this.$$state=y(e)?null:e,this}});var Ji=i("$parse"),tr=Function.prototype.call,er=Function.prototype.apply,nr=Function.prototype.bind,ir=lt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){ir[t]=!0});var rr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},or=function(t){this.options=t};or.prototype={constructor:or,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;)if(t=this.text.charAt(this.index),'"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(t))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var e=t+this.peek(),n=e+this.peek(2),i=ir[e],r=ir[n];ir[t]||i||r?(t=r?n:i?e:t,this.tokens.push({index:this.index,text:t,operator:!0}),this.index+=t.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){return t=t||1,this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(t){return"0"<=t&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\x0B"===t||" "===t},isIdent:function(t){return"a"<=t&&"z">=t||"A"<=t&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){throw n=n||this.index,e=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n,Ji("lexerr",t,e,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=Gn(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var i=this.peek();if("e"==n&&this.isExpOperator(i))t+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",i=t,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),i=i+o;if(r)"u"===o?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=rr[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var ar=function(t,e){this.lexer=t,this.options=e};ar.Program="Program",ar.ExpressionStatement="ExpressionStatement",ar.AssignmentExpression="AssignmentExpression",ar.ConditionalExpression="ConditionalExpression",ar.LogicalExpression="LogicalExpression",ar.BinaryExpression="BinaryExpression",ar.UnaryExpression="UnaryExpression",ar.CallExpression="CallExpression",ar.MemberExpression="MemberExpression",ar.Identifier="Identifier",ar.Literal="Literal",ar.ArrayExpression="ArrayExpression",ar.Property="Property",ar.ObjectExpression="ObjectExpression",ar.ThisExpression="ThisExpression",ar.NGValueParameter="NGValueParameter",ar.prototype={ast:function(t){return this.text=t,this.tokens=this.lexer.lex(t),t=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var t=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:ar.Program,body:t}},expressionStatement:function(){return{type:ar.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:ar.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:ar.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:ar.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:ar.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:ar.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:ar.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:ar.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:ar.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:ar.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=N(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:ar.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:ar.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:ar.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){t=[t];for(var e={type:ar.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return e},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:ar.Identifier,name:t.text}},constant:function(){return{type:ar.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:ar.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:ar.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:ar.ObjectExpression,properties:e}},throwError:function(t,e){throw Ji("syntax",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Ji("ueoe",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Ji("ueoe",this.text);return this.tokens[0]},peek:function(t,e,n,i){return this.peekAhead(0,t,e,n,i)},peekAhead:function(t,e,n,i,r){if(this.tokens.length>t){t=this.tokens[t];var o=t.text;if(o===e||o===n||o===i||o===r||!(e||n||i||r))return t}return!1},expect:function(t,e,n,i){return!!(t=this.peek(t,e,n,i))&&(this.tokens.shift(),t)},constants:{"true":{type:ar.Literal,value:!0},"false":{type:ar.Literal,value:!1},"null":{type:ar.Literal,value:null},undefined:{type:ar.Literal,value:n},"this":{type:ar.ThisExpression}}},Be.prototype={compile:function(t,e){var i=this,r=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ae(r,i.$filter);var a,s="";return this.stage="assign",(a=Re(r))&&(this.state.computing="assign",s=this.nextId(),this.recurse(a,s),s="fn.assign="+this.generateFunction("assign","s,v,l")),a=Ne(r.body),i.stage="inputs",o(a,function(t,e){var n="fn"+e;i.state[n]={vars:[],body:[],own:{}},i.state.computing=n;var r=i.nextId();i.recurse(t,r),i.return_(r),i.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(r),s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",s=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",s)(this.$filter,Te,De,Ee,Oe,Pe,t),this.state=this.stage=n,s.literal=Le(r),s.constant=r.constant,s},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,i){t.push(n+"=$filter("+e.escape(i)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,i,r,a,s){var l,u,c,d,h=this;if(r=r||g,!s&&b(t.watchId))e=e||this.nextId(),this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,i,r,a,!0));else switch(t.type){case ar.Program:o(t.body,function(e,i){h.recurse(e.expression,n,n,function(t){u=t}),i!==t.body.length-1?h.current().body.push(u,";"):h.return_(u)});break;case ar.Literal:d=this.escape(t.value),this.assign(e,d),r(d);break;case ar.UnaryExpression:this.recurse(t.argument,n,n,function(t){u=t}),d=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,d),r(d);break;case ar.BinaryExpression:this.recurse(t.left,n,n,function(t){l=t}),this.recurse(t.right,n,n,function(t){u=t}),d="+"===t.operator?this.plus(l,u):"-"===t.operator?this.ifDefined(l,0)+t.operator+this.ifDefined(u,0):"("+l+")"+t.operator+"("+u+")",this.assign(e,d),r(d);break;case ar.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),r(e);break;case ar.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),r(e);break;case ar.Identifier:e=e||this.nextId(),i&&(i.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),i.computed=!1,i.name=t.name),Te(t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){a&&1!==a&&h.if_(h.not(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),(h.state.expensiveChecks||We(t.name))&&h.addEnsureSafeObject(e),r(e);break;case ar.MemberExpression:l=i&&(i.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,l,n,function(){h.if_(h.notNull(l),function(){t.computed?(u=h.nextId(),h.recurse(t.property,u),h.addEnsureSafeMemberName(u),a&&1!==a&&h.if_(h.not(h.computedMember(l,u)),h.lazyAssign(h.computedMember(l,u),"{}")),d=h.ensureSafeObject(h.computedMember(l,u)),h.assign(e,d),i&&(i.computed=!0,i.name=u)):(Te(t.property.name),a&&1!==a&&h.if_(h.not(h.nonComputedMember(l,t.property.name)),h.lazyAssign(h.nonComputedMember(l,t.property.name),"{}")),d=h.nonComputedMember(l,t.property.name),(h.state.expensiveChecks||We(t.property.name))&&(d=h.ensureSafeObject(d)),h.assign(e,d),i&&(i.computed=!1,i.name=t.property.name))},function(){h.assign(e,"undefined")}),r(e)},!!a);break;case ar.CallExpression:e=e||this.nextId(),t.filter?(u=h.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),c.push(e)}),d=u+"("+c.join(",")+")",h.assign(e,d),r(e)):(u=h.nextId(),l={},c=[],h.recurse(t.callee,u,l,function(){h.if_(h.notNull(u),function(){h.addEnsureSafeFunction(u),o(t.arguments,function(t){h.recurse(t,h.nextId(),n,function(t){c.push(h.ensureSafeObject(t))})}),l.name?(h.state.expensiveChecks||h.addEnsureSafeObject(l.context),d=h.member(l.context,l.name,l.computed)+"("+c.join(",")+")"):d=u+"("+c.join(",")+")",d=h.ensureSafeObject(d),h.assign(e,d)},function(){h.assign(e,"undefined")}),r(e)}));break;case ar.AssignmentExpression:if(u=this.nextId(),l={},!Ie(t.left))throw Ji("lval");this.recurse(t.left,n,l,function(){h.if_(h.notNull(l.context),function(){h.recurse(t.right,u),h.addEnsureSafeObject(h.member(l.context,l.name,l.computed)),d=h.member(l.context,l.name,l.computed)+t.operator+u,h.assign(e,d),r(e||d)})},1);break;case ar.ArrayExpression:c=[],o(t.elements,function(t){h.recurse(t,h.nextId(),n,function(t){c.push(t)})}),d="["+c.join(",")+"]",this.assign(e,d),r(d);break;case ar.ObjectExpression:c=[],o(t.properties,function(t){h.recurse(t.value,h.nextId(),n,function(e){c.push(h.escape(t.key.type===ar.Identifier?t.key.name:""+t.key.value)+":"+e)})}),d="{"+c.join(",")+"}",this.assign(e,d),r(d);break;case ar.ThisExpression:this.assign(e,"s"),r("s");break;case ar.NGValueParameter:this.assign(e,"v"),r("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),i[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var i=this.current().body;i.push("if(",t,"){"),e(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},ensureSafeObject:function(t){
return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},lazyRecurse:function(t,e,n,i,r,o){var a=this;return function(){a.recurse(t,e,n,i,r,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(x(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(k(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw Ji("esc")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},He.prototype={compile:function(t,e){var n=this,i=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,Ae(i,n.$filter);var r,a;(r=Re(i))&&(a=this.recurse(r)),r=Ne(i.body);var s;r&&(s=[],o(r,function(t,e){var i=n.recurse(t);t.input=i,s.push(i),t.watchId=e}));var l=[];return o(i.body,function(t){l.push(n.recurse(t.expression))}),r=0===i.body.length?function(){}:1===i.body.length?l[0]:function(t,e){var n;return o(l,function(i){n=i(t,e)}),n},a&&(r.assign=function(t,e,n){return a(t,n,e)}),s&&(r.inputs=s),r.literal=Le(i),r.constant=i.constant,r},recurse:function(t,e,i){var r,a,s,l=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case ar.Literal:return this.value(t.value,e);case ar.UnaryExpression:return a=this.recurse(t.argument),this["unary"+t.operator](a,e);case ar.BinaryExpression:return r=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](r,a,e);case ar.LogicalExpression:return r=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](r,a,e);case ar.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case ar.Identifier:return Te(t.name,l.expression),l.identifier(t.name,l.expensiveChecks||We(t.name),e,i,l.expression);case ar.MemberExpression:return r=this.recurse(t.object,!1,!!i),t.computed||(Te(t.property.name,l.expression),a=t.property.name),t.computed&&(a=this.recurse(t.property)),t.computed?this.computedMember(r,a,e,i,l.expression):this.nonComputedMember(r,a,l.expensiveChecks,e,i,l.expression);case ar.CallExpression:return s=[],o(t.arguments,function(t){s.push(l.recurse(t))}),t.filter&&(a=this.$filter(t.callee.name)),t.filter||(a=this.recurse(t.callee,!0)),t.filter?function(t,i,r,o){for(var l=[],u=0;u<s.length;++u)l.push(s[u](t,i,r,o));return t=a.apply(n,l,o),e?{context:n,name:n,value:t}:t}:function(t,n,i,r){var o,u=a(t,n,i,r);if(null!=u.value){De(u.context,l.expression),Ee(u.value,l.expression),o=[];for(var c=0;c<s.length;++c)o.push(De(s[c](t,n,i,r),l.expression));o=De(u.value.apply(u.context,o),l.expression)}return e?{value:o}:o};case ar.AssignmentExpression:return r=this.recurse(t.left,!0,1),a=this.recurse(t.right),function(t,n,i,o){var s=r(t,n,i,o);return t=a(t,n,i,o),De(s.value,l.expression),s.context[s.name]=t,e?{value:t}:t};case ar.ArrayExpression:return s=[],o(t.elements,function(t){s.push(l.recurse(t))}),function(t,n,i,r){for(var o=[],a=0;a<s.length;++a)o.push(s[a](t,n,i,r));return e?{value:o}:o};case ar.ObjectExpression:return s=[],o(t.properties,function(t){s.push({key:t.key.type===ar.Identifier?t.key.name:""+t.key.value,value:l.recurse(t.value)})}),function(t,n,i,r){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(t,n,i,r);return e?{value:o}:o};case ar.ThisExpression:return function(t){return e?{value:t}:t};case ar.NGValueParameter:return function(t,n,i,r){return e?{value:i}:i}}},"unary+":function(t,e){return function(n,i,r,o){return n=t(n,i,r,o),n=b(n)?+n:0,e?{value:n}:n}},"unary-":function(t,e){return function(n,i,r,o){return n=t(n,i,r,o),n=b(n)?-n:0,e?{value:n}:n}},"unary!":function(t,e){return function(n,i,r,o){return n=!t(n,i,r,o),e?{value:n}:n}},"binary+":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a);return i=e(i,r,o,a),s=Pe(s,i),n?{value:s}:s}},"binary-":function(t,e,n){return function(i,r,o,a){var s=t(i,r,o,a);return i=e(i,r,o,a),s=(b(s)?s:0)-(b(i)?i:0),n?{value:s}:s}},"binary*":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)*e(i,r,o,a),n?{value:i}:i}},"binary/":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)/e(i,r,o,a),n?{value:i}:i}},"binary%":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)%e(i,r,o,a),n?{value:i}:i}},"binary===":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)===e(i,r,o,a),n?{value:i}:i}},"binary!==":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)!==e(i,r,o,a),n?{value:i}:i}},"binary==":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)==e(i,r,o,a),n?{value:i}:i}},"binary!=":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)!=e(i,r,o,a),n?{value:i}:i}},"binary<":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)<e(i,r,o,a),n?{value:i}:i}},"binary>":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)>e(i,r,o,a),n?{value:i}:i}},"binary<=":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)<=e(i,r,o,a),n?{value:i}:i}},"binary>=":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)>=e(i,r,o,a),n?{value:i}:i}},"binary&&":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)&&e(i,r,o,a),n?{value:i}:i}},"binary||":function(t,e,n){return function(i,r,o,a){return i=t(i,r,o,a)||e(i,r,o,a),n?{value:i}:i}},"ternary?:":function(t,e,n,i){return function(r,o,a,s){return r=t(r,o,a,s)?e(r,o,a,s):n(r,o,a,s),i?{value:r}:r}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,i,r,o){return function(a,s,l,u){return a=s&&t in s?s:a,r&&1!==r&&a&&!a[t]&&(a[t]={}),s=a?a[t]:n,e&&De(s,o),i?{context:a,name:t,value:s}:s}},computedMember:function(t,e,n,i,r){return function(o,a,s,l){var u,c,d=t(o,a,s,l);return null!=d&&(u=e(o,a,s,l),Te(u,r),i&&1!==i&&d&&!d[u]&&(d[u]={}),c=d[u],De(c,r)),n?{context:d,name:u,value:c}:c}},nonComputedMember:function(t,e,i,r,o,a){return function(s,l,u,c){return s=t(s,l,u,c),o&&1!==o&&s&&!s[e]&&(s[e]={}),l=null!=s?s[e]:n,(i||We(e))&&De(l,a),r?{context:s,name:e,value:l}:l}},inputs:function(t,e){return function(n,i,r,o){return o?o[e]:t(n,i,r)}}};var sr=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new ar(this.lexer),this.astCompiler=n.csp?new He(this.ast,e):new Be(this.ast,e)};sr.prototype={constructor:sr,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}},lt(),lt();var lr=Object.prototype.valueOf,ur=i("$sce"),cr={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Hi=i("$compile"),dr=e.createElement("a"),hr=on(t.location.href);ln.$inject=["$document"],cn.$inject=["$provide"],gn.$inject=["$locale"],mn.$inject=["$locale"];var pr=".",fr={yyyy:bn("FullYear",4),yy:bn("FullYear",2,0,!0),y:bn("FullYear",1),MMMM:wn("Month"),MMM:wn("Month",!0),MM:bn("Month",2,1),M:bn("Month",1,1),dd:bn("Date",2),d:bn("Date",1),HH:bn("Hours",2),H:bn("Hours",1),hh:bn("Hours",2,-12),h:bn("Hours",1,-12),mm:bn("Minutes",2),m:bn("Minutes",1),ss:bn("Seconds",2),s:bn("Seconds",1),sss:bn("Milliseconds",3),EEEE:wn("Day"),EEE:wn("Day",!0),a:function(t,e){return 12>t.getHours()?e.AMPMS[0]:e.AMPMS[1]},Z:function(t,e,n){return t=-1*n,t=(0<=t?"+":"")+(yn(Math[0<t?"floor":"ceil"](t/60),2)+yn(Math.abs(t%60),2))},ww:xn(2),w:xn(1),G:kn,GG:kn,GGG:kn,GGGG:function(t,e){return 0>=t.getFullYear()?e.ERANAMES[0]:e.ERANAMES[1]}},gr=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,mr=/^\-?\d+$/;Cn.$inject=["$locale"];var vr=v(Gn),yr=v(Un);Sn.$inject=["$parse"];var br=v({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Zn.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),wr={};o(Mi,function(t,e){function n(t,n,r){t.$watch(r[i],function(t){r.$set(e,!!t)})}if("multiple"!=t){var i=Yt("ng-"+e),r=n;"checked"===t&&(r=function(t,e,r){r.ngModel!==r[i]&&n(t,e,r)}),wr[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(Ti,function(t,e){wr[e]=function(){return{priority:100,link:function(t,n,i){return"ngPattern"===e&&"/"==i.ngPattern.charAt(0)&&(n=i.ngPattern.match(zn))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void t.$watch(i[e],function(t){i.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Yt("ng-"+t);wr[e]=function(){return{priority:99,link:function(n,i,r){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Zn.call(i.prop("href"))&&(a="xlinkHref",r.$attr[a]="xlink:href",o=null),r.$observe(e,function(e){e?(r.$set(a,e),Hn&&o&&i.prop(o,r[a])):"href"===t&&r.$set(a,null)})}}}});var _r={$addControl:g,$$renameControl:function(t,e){t.$name=e},$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g};Dn.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var xr=function(t){return["$timeout",function(e){return{name:"form",restrict:t?"EAC":"E",controller:Dn,compile:function(i,r){i.addClass(no).addClass(to);var o=r.name?"name":!(!t||!r.ngForm)&&"ngForm";return{pre:function(t,i,r,a){if(!("action"in r)){var s=function(e){t.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),e.preventDefault()};i[0].addEventListener("submit",s,!1),i.on("$destroy",function(){e(function(){i[0].removeEventListener("submit",s,!1)},0,!1)})}var l=a.$$parentForm;o&&(Fe(t,a.$name,a,a.$name),r.$observe(o,function(e){a.$name!==e&&(Fe(t,a.$name,n,a.$name),l.$$renameControl(a,e),Fe(t,a.$name,a,a.$name))})),i.on("$destroy",function(){l.$removeControl(a),o&&Fe(t,r[o],n,a.$name),d(a,_r)})}}}}}]},kr=xr(),Cr=xr(!0),$r=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Mr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Sr=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Tr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Dr=/^(\d{4})-(\d{2})-(\d{2})$/,Er=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Or=/^(\d{4})-W(\d\d)$/,Pr=/^(\d{4})-(\d\d)$/,Ar=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Nr={text:function(t,e,n,i,r,o){On(t,e,n,i,r,o),En(i)},date:An("date",Dr,Pn(Dr,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":An("datetimelocal",Er,Pn(Er,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:An("time",Ar,Pn(Ar,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:An("week",Or,function(t,e){if(C(t))return t;if(x(t)){Or.lastIndex=0;var n=Or.exec(t);if(n){var i=+n[1],r=+n[2],o=n=0,a=0,s=0,l=_n(i),r=7*(r-1);return e&&(n=e.getHours(),o=e.getMinutes(),a=e.getSeconds(),s=e.getMilliseconds()),new Date(i,0,l.getDate()+r,n,o,a,s)}}return NaN},"yyyy-Www"),month:An("month",Pr,Pn(Pr,["yyyy","MM"]),"yyyy-MM"),number:function(t,e,i,r,o,a){if(Nn(t,e,i,r),On(t,e,i,r,o,a),r.$$parserName="number",r.$parsers.push(function(t){return r.$isEmpty(t)?null:Tr.test(t)?parseFloat(t):n}),r.$formatters.push(function(t){if(!r.$isEmpty(t)){if(!k(t))throw oo("numfmt",t);t=t.toString()}return t}),b(i.min)||i.ngMin){var s;r.$validators.min=function(t){return r.$isEmpty(t)||y(s)||t>=s},i.$observe("min",function(t){b(t)&&!k(t)&&(t=parseFloat(t,10)),s=k(t)&&!isNaN(t)?t:n,r.$validate()})}if(b(i.max)||i.ngMax){var l;r.$validators.max=function(t){return r.$isEmpty(t)||y(l)||t<=l},i.$observe("max",function(t){b(t)&&!k(t)&&(t=parseFloat(t,10)),l=k(t)&&!isNaN(t)?t:n,r.$validate()})}},url:function(t,e,n,i,r,o){On(t,e,n,i,r,o),En(i),i.$$parserName="url",i.$validators.url=function(t,e){var n=t||e;return i.$isEmpty(n)||Mr.test(n)}},email:function(t,e,n,i,r,o){On(t,e,n,i,r,o),En(i),i.$$parserName="email",i.$validators.email=function(t,e){var n=t||e;return i.$isEmpty(n)||Sr.test(n)}},radio:function(t,e,n,i){y(n.name)&&e.attr("name",++ti),e.on("click",function(t){e[0].checked&&i.$setViewValue(n.value,t&&t.type)}),i.$render=function(){e[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i,r,o,a,s){var l=In(s,t,"ngTrueValue",n.ngTrueValue,!0),u=In(s,t,"ngFalseValue",n.ngFalseValue,!1);e.on("click",function(t){i.$setViewValue(e[0].checked,t&&t.type)}),i.$render=function(){e[0].checked=i.$viewValue},i.$isEmpty=function(t){return!1===t},i.$formatters.push(function(t){return R(t,l)}),i.$parsers.push(function(t){return t?l:u})},hidden:g,button:g,submit:g,reset:g,file:g},Ir=["$browser","$sniffer","$filter","$parse",function(t,e,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Nr[Gn(a.type)]||Nr.text)(r,o,a,s[0],e,t,n,i)}}}}],Rr=/^(true|false|\d+)$/,Lr=function(){return{restrict:"A",priority:100,compile:function(t,e){return Rr.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Br=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,i,r){t.$$addBindingInfo(i,r.ngBind),i=i[0],e.$watch(r.ngBind,function(t){i.textContent=t===n?"":t})}}}}],Hr=["$interpolate","$compile",function(t,e){return{compile:function(i){return e.$$addBindingClass(i),function(i,r,o){i=t(r.attr(o.$attr.ngBindTemplate)),e.$$addBindingInfo(r,i.expressions),r=r[0],o.$observe("ngBindTemplate",function(t){r.textContent=t===n?"":t})}}}}],Fr=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(i,r){var o=e(r.ngBindHtml),a=e(r.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(i),function(e,i,r){n.$$addBindingInfo(i,r.ngBindHtml),e.$watch(a,function(){i.html(t.getTrustedHtml(o(e))||"")})}}}}],Wr=v({restrict:"A",require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),jr=Rn("",!0),zr=Rn("Odd",0),Gr=Rn("Even",1),Vr=Tn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Ur=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],qr={},Yr={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Yt("ng-"+t);qr[e]=["$parse","$rootScope",function(n,i){return{restrict:"A",compile:function(r,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var r=function(){a(e,{$event:n})};Yr[t]&&i.$$phase?e.$evalAsync(r):e.$apply(r)})}}}}]});var Kr=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,u;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=e.createComment(" end ngIf: "+r.ngIf+" "),s={clone:n},t.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=st(s.clone),t.leave(u).then(function(){u=null}),s=null))})}}}],Zr=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,i){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Jn.noop,compile:function(r,o){var a=o.ngInclude||o.src,s=o.onload||"",l=o.autoscroll;return function(r,o,u,c,d){var h,p,f,g=0,m=function(){p&&(p.remove(),p=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).then(function(){p=null}),p=f,f=null)};r.$watch(i.parseAsResourceUrl(a),function(i){var a=function(){!b(l)||l&&!r.$eval(l)||e()},u=++g;i?(t(i,!0).then(function(t){if(u===g){var e=r.$new();c.template=t,t=d(e,function(t){m(),n.enter(t,null,o).then(a)}),h=e,f=t,h.$emit("$includeContentLoaded",i),r.$eval(s)}},function(){u===g&&(m(),r.$emit("$includeContentError",i))}),r.$emit("$includeContentRequested",i)):(m(),c.template=null)})}}}}],Xr=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){/SVG/.test(i[0].toString())?(i.empty(),t(pt(o.template,e).childNodes)(n,function(t){i.append(t)},{futureParentElement:i})):(i.html(o.template),t(i.contents())(n))}}}],Qr=Tn({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Jr=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,i,r){var a=e.attr(i.$attr.ngList)||", ",s="false"!==i.ngTrim,l=s?ri(a):a;r.$parsers.push(function(t){if(!y(t)){var e=[];return t&&o(t.split(l),function(t){t&&e.push(s?ri(t):t)}),e}}),r.$formatters.push(function(t){return ni(t)?t.join(a):n}),r.$isEmpty=function(t){return!t||!t.length}}}},to="ng-valid",eo="ng-invalid",no="ng-pristine",io="ng-dirty",ro="ng-pending",oo=new i("ngModel"),ao=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,i,r,a,s,l,u,c,d){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=d(i.name||"",!1)(t);var h,p=a(i.ngModel),f=p.assign,m=p,v=f,w=null,_=this;this.$$setOptions=function(t){if((_.$options=t)&&t.getterSetter){var e=a(i.ngModel+"()"),n=a(i.ngModel+"($$$p)");m=function(t){var n=p(t);return $(n)&&(n=e(t)),n},v=function(t,e){$(p(t))?n(t,{$$$p:_.$modelValue}):f(t,_.$modelValue)}}else if(!p.assign)throw oo("nonassign",i.ngModel,G(r))},this.$render=g,this.$isEmpty=function(t){return y(t)||""===t||null===t||t!==t};var x=r.inheritedData("$formController")||_r,C=0;Ln({ctrl:this,$element:r,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:x,$animate:s}),this.$setPristine=function(){_.$dirty=!1,_.$pristine=!0,s.removeClass(r,io),s.addClass(r,no)},this.$setDirty=function(){_.$dirty=!0,_.$pristine=!1,s.removeClass(r,no),s.addClass(r,io),x.$setDirty()},this.$setUntouched=function(){_.$touched=!1,_.$untouched=!0,s.setClass(r,"ng-untouched","ng-touched")},this.$setTouched=function(){_.$touched=!0,_.$untouched=!1,s.setClass(r,"ng-touched","ng-untouched")},this.$rollbackViewValue=function(){l.cancel(w),_.$viewValue=_.$$lastCommittedViewValue,_.$render()},this.$validate=function(){if(!k(_.$modelValue)||!isNaN(_.$modelValue)){var t=_.$$rawModelValue,e=_.$valid,i=_.$modelValue,r=_.$options&&_.$options.allowInvalid;_.$$runValidators(t,_.$$lastCommittedViewValue,function(o){r||e===o||(_.$modelValue=o?t:n,_.$modelValue!==i&&_.$$writeModelToScope())})}},this.$$runValidators=function(t,e,i){function r(){var n=!0;return o(_.$validators,function(i,r){var o=i(t,e);n=n&&o,s(r,o)}),!!n||(o(_.$asyncValidators,function(t,e){s(e,null)}),!1)}function a(){var i=[],r=!0;o(_.$asyncValidators,function(o,a){var l=o(t,e);if(!l||!$(l.then))throw oo("$asyncValidators",l);s(a,n),i.push(l.then(function(){s(a,!0)},function(t){r=!1,s(a,!1)}))}),i.length?c.all(i).then(function(){l(r)},g):l(!0)}function s(t,e){u===C&&_.$setValidity(t,e)}function l(t){u===C&&i(t)}C++;var u=C;(function(){var t=_.$$parserName||"parse";return h!==n?(h||(o(_.$validators,function(t,e){s(e,null)}),o(_.$asyncValidators,function(t,e){s(e,null)})),s(t,h),h):(s(t,null),!0)})()&&r()?a():l(!1)},this.$commitViewValue=function(){var t=_.$viewValue;l.cancel(w),(_.$$lastCommittedViewValue!==t||""===t&&_.$$hasNativeValidators)&&(_.$$lastCommittedViewValue=t,_.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var e=_.$$lastCommittedViewValue;if(h=!y(e)||n)for(var i=0;i<_.$parsers.length;i++)if(e=_.$parsers[i](e),y(e)){h=!1;break}k(_.$modelValue)&&isNaN(_.$modelValue)&&(_.$modelValue=m(t));var r=_.$modelValue,o=_.$options&&_.$options.allowInvalid;_.$$rawModelValue=e,o&&(_.$modelValue=e,_.$modelValue!==r&&_.$$writeModelToScope()),_.$$runValidators(e,_.$$lastCommittedViewValue,function(t){o||(_.$modelValue=t?e:n,_.$modelValue!==r&&_.$$writeModelToScope())})},this.$$writeModelToScope=function(){v(t,_.$modelValue),o(_.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){_.$viewValue=t,_.$options&&!_.$options.updateOnDefault||_.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n=0,i=_.$options;i&&b(i.debounce)&&(i=i.debounce,k(i)?n=i:k(i[e])?n=i[e]:k(i["default"])&&(n=i["default"])),l.cancel(w),n?w=l(function(){_.$commitViewValue()},n):u.$$phase?_.$commitViewValue():t.$apply(function(){_.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==_.$modelValue&&(_.$modelValue===_.$modelValue||e===e)){_.$modelValue=_.$$rawModelValue=e,h=n;for(var i=_.$formatters,r=i.length,o=e;r--;)o=i[r](o);_.$viewValue!==o&&(_.$viewValue=_.$$lastCommittedViewValue=o,_.$render(),_.$$runValidators(e,o,g))}return e})}],so=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ao,priority:1,compile:function(e){return e.addClass(no).addClass("ng-untouched").addClass(to),{pre:function(t,e,n,i){var r=i[0],o=i[1]||_r;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(t){r.$name!==t&&o.$$renameControl(r,t)}),t.$on("$destroy",function(){o.$removeControl(r)})},post:function(e,n,i,r){var o=r[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],lo=/(\s+|^)default(\s+|$)/,uo=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var i=this;this.$options=N(t.$eval(e.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=ri(this.$options.updateOn.replace(lo,function(){return i.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},co=Tn({terminal:!0,priority:1e3}),ho=i("ngOptions"),po=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,fo=["$compile","$parse",function(t,n){function i(t,e,i){function o(t,e,n,i,r){this.selectValue=t,this.viewValue=e,this.label=n,this.group=i,this.disabled=r}var a=t.match(po);if(!a)throw ho("iexp",t,G(e));var s=a[5]||a[7],l=a[6];t=/ as /.test(a[0])&&a[1];var u=a[9];e=n(a[2]?a[1]:s);var c=t&&n(t)||e,d=u&&n(u),h=u?function(t,e){return d(i,e)}:function(t){return Nt(t)},p=function(t,e){return h(t,b(t,e))},f=n(a[2]||a[1]),g=n(a[3]||""),m=n(a[4]||""),v=n(a[8]),y={},b=l?function(t,e){return y[l]=e,y[s]=t,y}:function(t){return y[s]=t,y};return{trackBy:u,getTrackByValue:p,getWatchables:n(v,function(t){var e=[];return t=t||[],Object.keys(t).forEach(function(n){if("$"!==n.charAt(0)){var r=b(t[n],n);n=h(t[n],r),e.push(n),(a[2]||a[1])&&(n=f(i,r),e.push(n)),a[4]&&(r=m(i,r),e.push(r))}}),e}),getOptions:function(){var t,e=[],n={},a=v(i)||[];if(!l&&r(a))t=a;else{t=[];for(var s in a)a.hasOwnProperty(s)&&"$"!==s.charAt(0)&&t.push(s)}s=t.length;for(var d=0;d<s;d++){var y=a===t?d:t[d],w=b(a[y],y),_=c(i,w),y=h(_,w),x=f(i,w),k=g(i,w),w=m(i,w),_=new o(y,_,x,k,w);e.push(_),n[y]=_}return{items:e,selectValueMap:n,getOptionFromViewValue:function(t){return n[p(t)]},getViewValueFromOption:function(t){return u?Jn.copy(t.viewValue):t.viewValue}}}}}var a=e.createElement("option"),s=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(e,n,r,l){function u(t,e){t.element=e,e.disabled=t.disabled,t.value!==e.value&&(e.value=t.selectValue),t.label!==e.label&&(e.label=t.label,e.textContent=t.label)}function c(t,e,n,i){return e&&Gn(e.nodeName)===n?n=e:(n=i.cloneNode(!1),e?t.insertBefore(n,e):t.appendChild(n)),n}function d(t){for(var e;t;)e=t.nextSibling,Tt(t),t=e}function h(t){var e=m&&m[0],n=_&&_[0];if(e||n)for(;t&&(t===e||t===n);)t=t.nextSibling;return t}function p(){var t=x&&g.readValue();x=k.getOptions();var e={},i=n[0].firstChild;if(w&&n.prepend(m),i=h(i),x.items.forEach(function(t){var r,o;t.group?(r=e[t.group],r||(r=c(n[0],i,"optgroup",s),i=r.nextSibling,r.label=t.group,r=e[t.group]={groupElement:r,currentOptionElement:r.firstChild}),o=c(r.groupElement,r.currentOptionElement,"option",a),u(t,o),r.currentOptionElement=o.nextSibling):(o=c(n[0],i,"option",a),u(t,o),i=o.nextSibling)}),Object.keys(e).forEach(function(t){d(e[t].currentOptionElement)}),d(i),f.$render(),!f.$isEmpty(t)){var r=g.readValue();(k.trackBy?R(t,r):t===r)||(f.$setViewValue(r),f.$render())}}var f=l[1];if(f){var g=l[0];l=r.multiple;for(var m,v=0,y=n.children(),b=y.length;v<b;v++)if(""===y[v].value){m=y.eq(v);break}var w=!!m,_=Fn(a.cloneNode(!1));_.val("?");var x,k=i(r.ngOptions,n,e);l?(f.$isEmpty=function(t){return!t||0===t.length},g.writeValue=function(t){x.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){(t=x.getOptionFromViewValue(t))&&!t.disabled&&(t.element.selected=!0)})},g.readValue=function(){var t=n.val()||[],e=[];return o(t,function(t){t=x.selectValueMap[t],t.disabled||e.push(x.getViewValueFromOption(t))}),e},k.trackBy&&e.$watchCollection(function(){if(ni(f.$viewValue))return f.$viewValue.map(function(t){return k.getTrackByValue(t)})},function(){f.$render()})):(g.writeValue=function(t){var e=x.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&(_.remove(),w||m.remove(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||w?(_.remove(),w||n.prepend(m),n.val(""),m.prop("selected",!0),m.attr("selected",!0)):(w||m.remove(),n.prepend(_),n.val("?"),_.prop("selected",!0),_.attr("selected",!0))},g.readValue=function(){var t=x.selectValueMap[n.val()];return t&&!t.disabled?(w||m.remove(),_.remove(),x.getViewValueFromOption(t)):null},k.trackBy&&e.$watch(function(){return k.getTrackByValue(f.$viewValue)},function(){f.$render()})),w?(m.remove(),t(m)(e),m.removeClass("ng-scope")):m=Fn(a.cloneNode(!1)),p(),e.$watchCollection(k.getWatchables,p)}}}}],go=["$locale","$interpolate","$log",function(t,e,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(t){s.text(t||"")}var c,d=l.count,h=l.$attr.when&&s.attr(l.$attr.when),p=l.offset||0,f=a.$eval(h)||{},m={},v=e.startSymbol(),b=e.endSymbol(),w=v+d+"-"+p+b,_=Jn.noop;o(l,function(t,e){var n=r.exec(e);n&&(n=(n[1]?"-":"")+Gn(n[2]),f[n]=s.attr(l.$attr[e]))}),o(f,function(t,n){m[n]=e(t.replace(i,w))}),a.$watch(d,function(e){var i=parseFloat(e),r=isNaN(i);r||i in f||(i=t.pluralCat(i-p)),i===c||r&&k(c)&&isNaN(c)||(_(),r=m[i],y(r)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+h),_=g,u()):_=a.$watch(r,u),c=i)})}}}],mo=["$parse","$animate",function(t,a){var s=i("ngRepeat"),l=function(t,e,n,i,r,o,a){t[n]=i,r&&(t[r]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,u){var c=u.ngRepeat,d=e.createComment(" end ngRepeat: "+c+" "),h=c.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw s("iexp",c);var p=h[1],f=h[2],g=h[3],m=h[4],h=p.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/);if(!h)throw s("iidexp",p);var v=h[3]||h[1],y=h[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw s("badident",g);var b,w,_,x,k={$id:Nt};return m?b=t(m):(_=function(t,e){return Nt(e)},x=function(t){return t}),function(t,e,i,u,h){b&&(w=function(e,n,i){return y&&(k[y]=e),k[v]=n,k.$index=i,b(t,k)});var p=lt();t.$watchCollection(f,function(i){var u,f,m,b,k,C,$,M,S,T,D=e[0],E=lt();if(g&&(t[g]=i),r(i))M=i,f=w||_;else for(T in f=w||x,M=[],i)i.hasOwnProperty(T)&&"$"!==T.charAt(0)&&M.push(T);for(b=M.length,T=Array(b),u=0;u<b;u++)if(k=i===M?u:M[u],C=i[k],$=f(k,C,u),p[$])S=p[$],delete p[$],E[$]=S,T[u]=S;else{if(E[$])throw o(T,function(t){t&&t.scope&&(p[t.id]=t)}),s("dupes",c,$,C);T[u]={id:$,scope:n,clone:n},E[$]=!0}for(m in p){if(S=p[m],$=st(S.clone),a.leave($),$[0].parentNode)for(u=0,f=$.length;u<f;u++)$[u].$$NG_REMOVED=!0;S.scope.$destroy()}for(u=0;u<b;u++)if(k=i===M?u:M[u],C=i[k],S=T[u],S.scope){m=D;do m=m.nextSibling;while(m&&m.$$NG_REMOVED);S.clone[0]!=m&&a.move(st(S.clone),null,Fn(D)),D=S.clone[S.clone.length-1],l(S.scope,u,v,C,y,k,b)}else h(function(t,e){S.scope=e;var n=d.cloneNode(!1);t[t.length++]=n,a.enter(t,null,Fn(D)),D=n,S.clone=t,E[S.id]=S,l(S.scope,u,v,C,y,k,b)});p=E})}}}}],vo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngShow,function(e){t[e?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],yo=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,i){e.$watch(i.ngHide,function(e){t[e?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],bo=Tn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),wo=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,a){var s=[],l=[],u=[],c=[],d=function(t,e){return function(){t.splice(e,1)}};n.$watch(r.ngSwitch||r.on,function(n){var i,r;for(i=0,r=u.length;i<r;++i)t.cancel(u[i]);for(i=u.length=0,r=c.length;i<r;++i){var h=st(l[i].clone);c[i].$destroy(),(u[i]=t.leave(h)).then(d(u,i))}l.length=0,c.length=0,(s=a.cases["!"+n]||a.cases["?"])&&o(s,function(n){n.transclude(function(i,r){c.push(r);var o=n.element;i[i.length++]=e.createComment(" end ngSwitchWhen: "),l.push({clone:i}),t.enter(i,o.parent(),o)})})})}}}],_o=Tn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["!"+n.ngSwitchWhen]=i.cases["!"+n.ngSwitchWhen]||[],i.cases["!"+n.ngSwitchWhen].push({transclude:r,element:e})}}),xo=Tn({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:e})}}),ko=Tn({restrict:"EAC",link:function(t,e,n,r,o){if(!o)throw i("ngTransclude")("orphan",G(e));o(function(t){e.empty(),e.append(t)})}}),Co=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"==n.type&&t.put(n.id,e[0].text)}}}],$o={$setViewValue:g,$render:g},Mo=["$element","$scope","$attrs",function(t,i,r){var o=this,a=new It;o.ngModelCtrl=$o,o.unknownOption=Fn(e.createElement("option")),o.renderUnknownOption=function(e){e="? "+Nt(e)+" ?",o.unknownOption.val(e),t.prepend(o.unknownOption),t.val(e)},i.$on("$destroy",function(){o.renderUnknownOption=g}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),t.val()},o.writeValue=function(e){o.hasOption(e)?(o.removeUnknownOption(),t.val(e),""===e&&o.emptyOption.prop("selected",!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),t.val("")):o.renderUnknownOption(e)},o.addOption=function(t,e){ot(t,'"option value"'),""===t&&(o.emptyOption=e);var n=a.get(t)||0;a.put(t,n+1)},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.remove(t),""===t&&(o.emptyOption=n)):a.put(t,e-1))},o.hasOption=function(t){return!!a.get(t)}}],So=function(){return{restrict:"E",require:["select","?ngModel"],controller:Mo,link:function(t,e,n,i){var r=i[1];if(r){var a=i[0];if(a.ngModelCtrl=r,r.$render=function(){a.writeValue(r.$viewValue)},e.on("change",function(){t.$apply(function(){r.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new It(t);o(e.find("option"),function(t){t.selected=b(n.get(t.value))})};var s,l=NaN;t.$watch(function(){l!==r.$viewValue||R(s,r.$viewValue)||(s=I(r.$viewValue),r.$render()),l=r.$viewValue}),r.$isEmpty=function(t){return!t||0===t.length}}}}}},To=["$interpolate",function(t){function e(t){t[0].hasAttribute("selected")&&(t[0].selected=!0);
}return{restrict:"E",priority:100,compile:function(n,i){if(y(i.value)){var r=t(n.text(),!0);r||i.$set("value",n.text())}return function(t,n,i){var o=n.parent(),a=o.data("$selectController")||o.parent().data("$selectController");a&&a.ngModelCtrl&&(r?t.$watch(r,function(t,r){i.$set("value",t),r!==t&&a.removeOption(r),a.addOption(t,n),a.ngModelCtrl.$render(),e(n)}):(a.addOption(i.value,n),a.ngModelCtrl.$render(),e(n)),n.on("$destroy",function(){a.removeOption(i.value),a.ngModelCtrl.$render()}))}}}}],Do=v({restrict:"E",terminal:!1}),Eo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){i&&(n.required=!0,i.$validators.required=function(t,e){return!n.required||!i.$isEmpty(e)},n.$observe("required",function(){i.$validate()}))}}},Oo=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,r,o){if(o){var a,s=r.ngPattern||r.pattern;r.$observe("pattern",function(t){if(x(t)&&0<t.length&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw i("ngPattern")("noregexp",s,t,G(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||y(a)||a.test(t)}}}}},Po=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=-1;n.$observe("maxlength",function(t){t=p(t),r=isNaN(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(t,e){return 0>r||i.$isEmpty(e)||e.length<=r}}}}},Ao=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var r=0;n.$observe("minlength",function(t){r=p(t)||0,i.$validate()}),i.$validators.minlength=function(t,e){return i.$isEmpty(e)||e.length>=r}}}}};t.angular.bootstrap?console.log("WARNING: Tried to load angular more than once."):(nt(),ct(Jn),Fn(e).ready(function(){X(e,Q)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof e&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.2.0",i.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var i=t(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof e&&e;r||i.data("bs.button",r=new n(this,o)),"toggle"==e?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();e+="Text",null==o.resetText&&i.data("resetText",i[r]()),i[r](null==o[e]?this.options[e]:o[e]),setTimeout(t.proxy(function(){"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),n.preventDefault()})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),a="string"==typeof e?e:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof e?r.to(e):a?r[a]():o.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e).on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(t){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.to=function(e){var n=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),r=n||i[e](),o=this.interval,a="next"==e?"left":"right",s="next"==e?"first":"last",l=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[s]()}if(r.hasClass("active"))return this.sliding=!1;var u=r[0],c=t.Event("slide.bs.carousel",{relatedTarget:u,direction:a});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(r)]);d&&d.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:u,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(e),r[0].offsetWidth,i.addClass(a),r.addClass(a),i.one("bsTransitionEnd",function(){r.removeClass([e,a].join(" ")).addClass("active"),i.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(1e3*i.css("transition-duration").slice(0,-1))):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),o&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var i,r=t(this),o=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=t.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),e.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),o=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e);!r&&o.toggle&&"show"==e&&(e=!e),r||i.data("bs.collapse",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var r=i.data("bs.collapse");if(r&&r.transitioning)return;e.call(i,"hide"),r||i.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var s=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=n,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var i,r=t(this),o=r.attr("data-target")||n.preventDefault()||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),a=t(o),s=a.data("bs.collapse"),l=s?"toggle":r.data(),u=r.attr("data-parent"),c=u&&t(u);s&&s.transitioning||(c&&c.find('[data-toggle="collapse"][data-parent="'+u+'"]').not(r).addClass("collapsed"),r[a.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(a,l)})}(jQuery),+function(t){"use strict";function e(e){e&&3===e.which||(t(r).remove(),t(o).each(function(){var i=n(t(this)),r={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",r)),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",r))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof e&&i[e].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.2.0",a.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=n(r),a=o.hasClass("open");if(e(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var s={relatedTarget:this};if(o.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),a=r.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&r.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.divider):visible a",l=r.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var u=l.index(l.filter(":focus"));38==e.keyCode&&u>0&&u--,40==e.keyCode&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',a.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),a=t.extend({},n.DEFAULTS,r.data(),"object"==typeof e&&e);o||r.data("bs.modal",o=new n(this,a)),"string"==typeof e?o[e](i):a.show&&o.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(r)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var n=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;r?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(150):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else e&&e()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),o=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(t){t.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(o,a,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(document.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var i=this,r=this.tip(),o=this.getUID(this.type);this.setContent(),r.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&r.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(a);l&&(a=a.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),c=r[0].offsetWidth,d=r[0].offsetHeight;if(l){var h=a,p=this.$element.parent(),f=this.getPosition(p);a="bottom"==a&&u.top+u.height+d-f.scroll>f.height?"top":"top"==a&&u.top-f.scroll-d<0?"bottom":"right"==a&&u.right+c>f.width?"left":"left"==a&&u.left-c<f.left?"right":a,r.removeClass(h).addClass(a)}var g=this.getCalculatedOffset(a,u,c,d);this.applyPlacement(g,a);var m=function(){i.$element.trigger("shown.bs."+i.type),i.hoverState=null};t.support.transition&&this.$tip.hasClass("fade")?r.one("bsTransitionEnd",m).emulateTransitionEnd(150):m()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top=e.top+a,e.left=e.left+s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=o&&(e.top=e.top+o-u);var c=this.getViewportAdjustedDelta(n,e,l,u);c.left?e.left+=c.left:e.top+=c.top;var d=c.left?2*c.left-r+l:2*c.top-o+u,h=c.left?"left":"top",p=c.left?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][p],h)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,i=this.tip(),r=t.Event("hide.bs."+this.type);if(this.$element.removeAttr("aria-describedby"),this.$element.trigger(r),!r.isDefaultPrevented())return i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",e).emulateTransitionEnd(150):e(),this.hoverState=null,this},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName;return t.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop(),width:i?t(window).width():e.outerWidth(),height:i?t(window).height():e.outerHeight()},i?{top:0,left:0}:e.offset())},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-o-a.scroll,l=e.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var u=e.left-o,c=e.left+o+n;u<a.left?r.left=a.left-u:c>a.width&&(r.left=a.left+a.width-c)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof e&&e;(r||"destroy"!=e)&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof e&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){var r=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(t(n).is("body")?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})}e.VERSION="3.2.0",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=t(this),r=i.data("target")||i.attr("href"),o=/^#./.test(r)&&t(r);return o&&o.length&&o.is(":visible")&&[[o[e]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return a!=(t=o[o.length-1])&&this.activate(t);if(a&&e<=r[0])return a!=(t=o[0])&&this.activate(t);for(t=r.length;t--;)a!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof e&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.2.0",n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(o),!o.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},n.prototype.activate=function(e,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),a=i&&t.support.transition&&o.hasClass("fade");a?o.one("bsTransitionEnd",r).emulateTransitionEnd(150):r(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),e.call(t(this),"show")})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof e&&e;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof e&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),
this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=t(document).height(),i=this.$target.scrollTop(),r=this.$element.offset(),o=this.options.offset,a=o.top,s=o.bottom;"object"!=typeof o&&(s=a=o),"function"==typeof a&&(a=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=!(null!=this.unpin&&i+this.unpin<=r.top)&&(null!=s&&r.top+this.$element.height()>=e-s?"bottom":null!=a&&i<=a&&"top");if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var u="affix"+(l?"-"+l:""),c=t.Event(u+".bs.affix");this.$element.trigger(c),c.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(u).trigger(t.Event(u.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:e-this.$element.height()-s}))}}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(t){return{link:function(e,n,i){function r(){n.removeClass("collapse").addClass("collapsing"),t.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function a(){n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),t.removeClass(n,"in",{to:{height:"0"}}).then(s)}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}e.$watch(i.collapse,function(t){t?a():r()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(t){t!==i&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,i){i.addGroup(t),t.$watch("isOpen",function(e){e&&i.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,i){t.$watch(function(){return i[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e,this.close=t.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,n,i,r){t(function(){r.close()},parseInt(i.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){var r=i[0],o=i[1];o.$render=function(){e.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(r.toggleEvent,function(){var i=e.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&t.$apply(function(){o.$setViewValue(i?null:t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(e,n){var i=t.$eval(e);return angular.isDefined(i)?i:n}var s=i[0],l=i[1];l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},e.bind(s.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(t,e,n){function i(t){if(angular.isUndefined(c[t].index))return c[t];var e;for(c.length,e=0;e<c.length;++e)if(c[e].index==t)return c[e]}function r(){o();var n=+t.interval;!isNaN(n)&&n>0&&(s=e(a,n))}function o(){s&&(e.cancel(s),s=null)}function a(){var e=+t.interval;l&&!isNaN(e)&&e>0?t.next():t.pause()}var s,l,u=this,c=u.slides=t.slides=[],d=-1;u.currentSlide=null;var h=!1;u.select=t.select=function(e,i){function o(){h||(angular.extend(e,{direction:i,active:!0}),angular.extend(u.currentSlide||{},{direction:i,active:!1}),n.enabled()&&!t.noTransition&&e.$element&&(t.$currentTransition=!0,e.$element.one("$animate:close",function(){t.$currentTransition=null})),u.currentSlide=e,d=a,r())}var a=u.indexOfSlide(e);void 0===i&&(i=a>u.getCurrentIndex()?"next":"prev"),e&&e!==u.currentSlide&&o()},t.$on("$destroy",function(){h=!0}),u.getCurrentIndex=function(){return u.currentSlide&&angular.isDefined(u.currentSlide.index)?+u.currentSlide.index:d},u.indexOfSlide=function(t){return angular.isDefined(t.index)?+t.index:c.indexOf(t)},t.next=function(){var e=(u.getCurrentIndex()+1)%c.length;return t.$currentTransition?void 0:u.select(i(e),"next")},t.prev=function(){var e=u.getCurrentIndex()-1<0?c.length-1:u.getCurrentIndex()-1;return t.$currentTransition?void 0:u.select(i(e),"prev")},t.isActive=function(t){return u.currentSlide===t},t.$watch("interval",r),t.$on("$destroy",o),t.play=function(){l||(l=!0,r())},t.pause=function(){t.noPause||(l=!1,o())},u.addSlide=function(e,n){e.$element=n,c.push(e),1===c.length||e.active?(u.select(c[c.length-1]),1==c.length&&t.play()):e.active=!1},u.removeSlide=function(t){angular.isDefined(t.index)&&c.sort(function(t,e){return+t.index>+e.index});var e=c.indexOf(t);c.splice(e,1),c.length>0&&t.active?u.select(e>=c.length?c[e-1]:c[e]):d>e&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(t,e,n,i){i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}).animation(".item",["$animate",function(t){return{beforeAddClass:function(e,n,i){if("active"==n&&e.parent()&&!e.parent().scope().noTransition){var r=!1,o=e.isolateScope().direction,a="next"==o?"left":"right";return e.addClass(o),t.addClass(e,a).then(function(){r||e.removeClass(a+" "+o),i()}),function(){r=!0}}i()},beforeRemoveClass:function(e,n,i){if("active"==n&&e.parent()&&!e.parent().scope().noTransition){var r=!1,o=e.isolateScope().direction,a="next"==o?"left":"right";return t.addClass(e,a).then(function(){r||e.removeClass(a),i()}),function(){r=!0}}i()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],i=t.split("");return angular.forEach(o,function(e,r){var o=t.indexOf(r);if(o>-1){t=t.split(""),i[o]="("+e.regex+")",t[o]="$";for(var a=o+1,s=o+r.length;s>a;a++)i[a]="",t[a]="$";t=t.join(""),n.push({index:o,apply:e.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:e(n,"index")}}function i(t,e,n){return!(1>n)&&(1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3!==e&&5!==e&&8!==e&&10!==e||31>n)}var r=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t}},H:{regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t}},mm:{regex:"[0-5][0-9]",apply:function(t){this.minutes=+t}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t}},sss:{regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t}},ss:{regex:"[0-5][0-9]",apply:function(t){this.seconds=+t}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t}}};this.parse=function(e,o,a){if(!angular.isString(e)||!o)return e;o=t.DATETIME_FORMATS[o]||o,o=o.replace(r,"\\$&"),this.parsers[o]||(this.parsers[o]=n(o));var s=this.parsers[o],l=s.regex,u=s.map,c=e.match(l);if(c&&c.length){var d,h;d=a?{year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var p=1,f=c.length;f>p;p++){var g=u[p-1];g.apply&&g.apply.call(d,c[p])}return i(d.year,d.month,d.date)&&(h=new Date(d.year,d.month,d.date,d.hours,d.minutes,d.seconds,d.milliseconds||0)),h}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function i(t){return"static"===(n(t,"position")||"static")}var r=function(e){for(var n=t[0],r=e.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(e){var n=this.offset(e),i={top:0,left:0},o=r(e[0]);o!=t[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var a=e[0].getBoundingClientRect();return{width:a.width||e.prop("offsetWidth"),height:a.height||e.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:i.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,i){var r,o,a,s,l=n.split("-"),u=l[0],c=l[1]||"center";r=i?this.offset(t):this.position(t),o=e.prop("offsetWidth"),a=e.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},h={center:function(){return r.top+r.height/2-a/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(u){case"right":s={top:h[c](),left:d[u]()};break;case"left":s={top:h[c](),left:r.left-o};break;case"bottom":s={top:h[u](),left:d[c]()};break;default:s={top:r.top-a,left:d[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,e,n,i,r,o,a,s){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,r){l[n]=angular.isDefined(e[n])?8>r?i(e[n])(t.$parent):t.$parent.$eval(e[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(i){e[i]?t.$parent.$watch(n(e[i]),function(t){l[i]=t?new Date(t):null,l.refreshView()}):l[i]=s[i]?new Date(s[i]):null}),t.datepickerMode=t.datepickerMode||s.datepickerMode,t.maxMode=l.maxMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(e.initDate)?(this.activeDate=t.$parent.$eval(e.initDate)||new Date,t.$parent.$watch(e.initDate,function(t){t&&(u.$isEmpty(u.$modelValue)||u.$invalid)&&(l.activeDate=t,l.refreshView())})):this.activeDate=new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)&&(t.activeDateId=e.uid,!0)},this.init=function(t){u=t,u.$render=function(){l.render()}},this.render=function(){if(u.$viewValue){var t=new Date(u.$viewValue),e=!isNaN(t);e?this.activeDate=t:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=u.$viewValue?new Date(u.$viewValue):null;u.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=u.$viewValue?new Date(u.$viewValue):null;return{date:t,label:a(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===l.minMode){var n=u.$viewValue?new Date(u.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){r(function(){l.element[0].focus()},0,!1)};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),l.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,i,r){function o(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function a(t,e){var n=new Array(e),i=new Date(t),r=0;for(i.setHours(12);e>r;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=r.showWeeks,r.step={months:1},r.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var n=r.activeDate.getFullYear(),i=r.activeDate.getMonth(),o=new Date(n,i,1),l=r.startingDay-o.getDay(),u=l>0?7-l:-l,c=new Date(o);u>0&&c.setDate(-u+1);for(var d=a(c,42),h=0;42>h;h++)d[h]=angular.extend(r.createDateObject(d[h],r.formatDay),{secondary:d[h].getMonth()!==i,uid:e.uniqueId+"-"+h});e.labels=new Array(7);for(var p=0;7>p;p++)e.labels[p]={abbr:t(d[p].date,r.formatDayHeader),full:t(d[p].date,"EEEE")};if(e.title=t(r.activeDate,r.formatDayTitle),e.rows=r.split(d,7),e.showWeeks){e.weekNumbers=[];for(var f=(11-r.startingDay)%7,g=e.rows.length,m=0;g>m;m++)e.weekNumbers.push(s(e.rows[m][f].date))}},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},r.handleKeyDown=function(t){var e=r.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=r.activeDate.getMonth()+("pageup"===t?-1:1);r.activeDate.setMonth(n,1),e=Math.min(o(r.activeDate.getFullYear(),r.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=o(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(e)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,i,r){r.step={years:1},r.element=n,r._refreshView=function(){for(var n=new Array(12),i=r.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(r.createDateObject(new Date(i,o,1),r.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(r.activeDate,r.formatMonthTitle),e.rows=r.split(n,3)},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},r.handleKeyDown=function(t){var e=r.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=r.activeDate.getFullYear()+("pageup"===t?-1:1);r.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);r.activeDate.setMonth(e)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,i){function r(t){return parseInt((t-1)/o,10)*o+1}var o=i.yearRange;i.step={years:o},i.element=e,i._refreshView=function(){for(var e=new Array(o),n=0,a=r(i.activeDate.getFullYear());o>n;n++)e[n]=angular.extend(i.createDateObject(new Date(a+n,0,1),i.formatYear),{uid:t.uniqueId+"-"+n});t.title=[e[0].label,e[o-1].label].join(" - "),t.rows=i.split(e,5)},i.compare=function(t,e){return t.getFullYear()-e.getFullYear()},i.handleKeyDown=function(t){var e=i.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*i.step.years:"home"===t?e=r(i.activeDate.getFullYear()):"end"===t&&(e=r(i.activeDate.getFullYear())+o-1),i.activeDate.setFullYear(e)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(t,e,n,i,r,o,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(s,l,u,c){function d(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function h(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=o.parse(t,f,s.date)||new Date(t);return isNaN(e)?void 0:e}}function p(t,e){var n=t||e;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=o.parse(n,f)||new Date(n);return!isNaN(i)}return!1}return!0}var f,g=angular.isDefined(u.closeOnDateSelection)?s.$parent.$eval(u.closeOnDateSelection):a.closeOnDateSelection,m=angular.isDefined(u.datepickerAppendToBody)?s.$parent.$eval(u.datepickerAppendToBody):a.appendToBody;s.showButtonBar=angular.isDefined(u.showButtonBar)?s.$parent.$eval(u.showButtonBar):a.showButtonBar,s.getText=function(t){return s[t+"Text"]||a[t+"Text"]};var v=!1;if(a.html5Types[u.type]?(f=a.html5Types[u.type],v=!0):(f=u.datepickerPopup||a.datepickerPopup,u.$observe("datepickerPopup",function(t){var e=t||a.datepickerPopup;if(e!==f&&(f=e,c.$modelValue=null,!f))throw new Error("datepickerPopup must have a date format specified.")})),!f)throw new Error("datepickerPopup must have a date format specified.");if(v&&u.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var y=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"ng-model":"date","ng-change":"dateSelection()"});var b=angular.element(y.children()[0]);if(v&&"month"==u.type&&(b.attr("datepicker-mode",'"month"'),b.attr("min-mode","month")),u.datepickerOptions){var w=s.$parent.$eval(u.datepickerOptions);w.initDate&&(s.initDate=w.initDate,b.attr("init-date","initDate"),delete w.initDate),angular.forEach(w,function(t,e){b.attr(d(e),t)})}s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(u[t]){var n=e(u[t]);if(s.$parent.$watch(n,function(e){s.watchData[t]=e}),b.attr(d(t),"watchData."+t),"datepickerMode"===t){var i=n.assign;s.$watch("watchData."+t,function(t,e){t!==e&&i(s.$parent,t)})}}}),u.dateDisabled&&b.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.showWeeks&&b.attr("show-weeks",u.showWeeks),u.customClass&&b.attr("custom-class","customClass({ date: date, mode: mode })"),v?c.$formatters.push(function(t){return s.date=t,t}):(c.$$parserName="date",c.$validators.date=p,c.$parsers.unshift(h),c.$formatters.push(function(t){return s.date=t,c.$isEmpty(t)?t:r(t,f)})),s.dateSelection=function(t){angular.isDefined(t)&&(s.date=t);var e=s.date?r(s.date,f):"";l.val(e),c.$setViewValue(e),g&&(s.isOpen=!1,l[0].focus())},c.$viewChangeListeners.push(function(){s.date=o.parse(c.$viewValue,f,s.date)||new Date(c.$viewValue)});var _=function(t){s.isOpen&&t.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},x=function(t){s.keydown(t)};l.bind("keydown",x),s.keydown=function(t){27===t.which?(t.preventDefault(),s.isOpen&&t.stopPropagation(),s.close()):40!==t.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(t){t?(s.$broadcast("datepicker.focus"),s.position=m?i.offset(l):i.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",_)):n.unbind("click",_)}),s.select=function(t){if("today"===t){var e=new Date;angular.isDate(s.date)?(t=new Date(s.date),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}s.dateSelection(t)},s.close=function(){s.isOpen=!1,l[0].focus()};var k=t(y)(s);y.remove(),m?n.find("body").append(k):l.after(k),s.$on("$destroy",function(){k.remove(),l.unbind("keydown",x),n.unbind("click",_)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(t,e){var n=null;this.open=function(e){n||(t.bind("click",i),t.bind("keydown",r)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.unbind("click",i),t.unbind("keydown",r))};var i=function(t){if(n&&(!t||"disabled"!==n.getAutoClose())){var i=n.getToggleElement();if(!(t&&i&&i[0].contains(t.target))){var r=n.getElement();t&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(t.target)||(n.isOpen=!1,e.$$phase||n.$apply())}}},r=function(t){27===t.which&&(n.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(t,e,n,i,r,o,a,s){var l,u=this,c=t.$new(),d=i.openClass,h=angular.noop,p=e.onToggle?n(e.onToggle):angular.noop,f=!1;this.init=function(i){u.$element=i,e.isOpen&&(l=n(e.isOpen),h=l.assign,t.$watch(l,function(t){c.isOpen=!!t})),f=angular.isDefined(e.dropdownAppendToBody),f&&u.dropdownMenu&&(s.find("body").append(u.dropdownMenu),i.on("$destroy",function(){u.dropdownMenu.remove()}))},this.toggle=function(t){return c.isOpen=arguments.length?!!t:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return u.toggleElement},c.getAutoClose=function(){return e.autoClose||"always"},c.getElement=function(){return u.$element},c.focusToggleElement=function(){u.toggleElement&&u.toggleElement[0].focus()},c.$watch("isOpen",function(e,n){if(f&&u.dropdownMenu){var i=a.positionElements(u.$element,u.dropdownMenu,"bottom-left",!0);u.dropdownMenu.css({top:i.top+"px",left:i.left+"px",display:e?"block":"none"})}o[e?"addClass":"removeClass"](u.$element,d),e?(c.focusToggleElement(),r.open(c)):r.close(c),h(t,e),angular.isDefined(e)&&e!==n&&p(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){c.isOpen=!1}),t.$on("$destroy",function(){c.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,i){i.init(e)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(t,e,n,i){i&&(i.dropdownMenu=e)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,n,i){if(i){i.toggleElement=e;var r=function(r){r.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){i.toggle()})};e.bind("click",r),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,i=0;i<t.length;i++)if(e==t[i].key){n=i;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$timeout",function(t){function e(e){e.animate=!1,t(function(){e.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(t,n){return t.addClass(n.backdropClass),e}}}]).directive("modalWindow",["$modalStack","$q",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(n,i,r){i.addClass(r.windowClass||""),n.size=r.size,n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},n.$isRendered=!0;var o=e.defer();r.$observe("modalRender",function(t){"true"==t&&o.resolve()}),o.promise.then(function(){n.animate=!0;var e=i[0].querySelectorAll("[autofocus]");e.length?e[0].focus():i[0].focus();var r=t.getTop();r&&t.modalRendered(r.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,i,r){r(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,i,r,o){function a(){for(var t=-1,e=f.keys(),n=0;n<e.length;n++)f.get(e[n]).value.backdrop&&(t=n);return t}function s(t){var e=n.find("body").eq(0),i=f.get(t).value;f.remove(t),u(i.modalDomEl,i.modalScope,function(){e.toggleClass(p,f.length()>0),l()})}function l(){if(d&&-1==a()){var t=h;u(d,h,function(){t=null}),d=void 0,h=void 0}}function u(n,i,o){function a(){a.done||(a.done=!0,n.remove(),i.$destroy(),o&&o())}i.animate=!1,n.attr("modal-animation")&&t.enabled()?n.one("$animate:close",function(){r.$evalAsync(a)}):e(a)}function c(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}var d,h,p="modal-open",f=o.createNew(),g={};return r.$watch(a,function(t){h&&(h.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=f.top(),e&&e.value.keyboard&&(t.preventDefault(),r.$apply(function(){g.dismiss(e.key,"escape key press")})))}),g.open=function(t,e){var o=n[0].activeElement;f.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var s=n.find("body").eq(0),l=a();if(l>=0&&!d){h=r.$new(!0),h.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",e.backdropClass),e.animation&&u.attr("modal-animation","true"),d=i(u)(h),s.append(d)}var c=angular.element('<div modal-window="modal-window"></div>');c.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:f.length()-1,animate:"animate"}).html(e.content),e.animation&&c.attr("modal-animation","true");var g=i(c)(e.scope);f.top().value.modalDomEl=g,f.top().value.modalOpener=o,s.append(g),s.addClass(p)},g.close=function(t,e){var n=f.get(t);return n&&c(n,e,!0)?(n.value.deferred.resolve(e),s(t),n.value.modalOpener.focus(),!0):!n},g.dismiss=function(t,e){var n=f.get(t);return n&&c(n,e,!1)?(n.value.deferred.reject(e),s(t),n.value.modalOpener.focus(),!0):!n},g.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop();
},g.getTop=function(){return f.top()},g.modalRendered=function(t){var e=f.get(t);e&&e.value.renderDeferred.resolve()},g}]).provider("$modal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(e,n,i,r,o,a){function s(t){return t.template?i.when(t.template):r(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}function l(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(i.when(e.invoke(t)))}),n}var u={};return u.open=function(e){var r=i.defer(),u=i.defer(),c=i.defer(),d={result:r.promise,opened:u.promise,rendered:c.promise,close:function(t){return a.close(d,t)},dismiss:function(t){return a.dismiss(d,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var h=i.all([s(e)].concat(l(e.resolve)));return h.then(function(t){var i=(e.scope||n).$new();i.$close=d.close,i.$dismiss=d.dismiss;var s,l={},u=1;e.controller&&(l.$scope=i,l.$modalInstance=d,angular.forEach(e.resolve,function(e,n){l[n]=t[u++]}),s=o(e.controller,l),e.controllerAs&&(i[e.controllerAs]=s)),a.open(d,{scope:i,deferred:r,renderDeferred:c,content:t[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){r.reject(t)}),h.then(function(){u.resolve(!0)},function(t){u.reject(t)}),d},u}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var i=this,r={$setViewValue:angular.noop},o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(a,s){r=a,this.config=s,r.$render=function(){i.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){i.itemsPerPage=parseInt(e,10),t.totalPages=i.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,t.$watch("totalItems",function(){t.totalPages=i.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),t.page>e?t.selectPage(e):r.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(r.$viewValue,10)||1},t.selectPage=function(e,n){t.page!==e&&e>0&&e<=t.totalPages&&(n&&n.target&&n.target.blur(),r.$setViewValue(e),r.$render())},t.getText=function(e){return t[e+"Text"]||i.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,o){function a(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],i=1,r=e,o=angular.isDefined(c)&&e>c;o&&(d?(i=Math.max(t-Math.floor(c/2),1),r=i+c-1,r>e&&(r=e,i=r-c+1)):(i=(Math.ceil(t/c)-1)*c+1,r=Math.min(i+c-1,e)));for(var s=i;r>=s;s++){var l=a(s,s,s===t);n.push(l)}if(o&&!d){if(i>1){var u=a(i-1,"...",!1);n.unshift(u)}if(e>r){var h=a(r+1,"...",!1);n.push(h)}}return n}var l=o[0],u=o[1];if(u){var c=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):e.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):e.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):e.directionLinks,l.init(u,e),r.maxSize&&n.$parent.$watch(t(r.maxSize),function(t){c=parseInt(t,10),l.render()});var h=l.render;l.render=function(){h(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,i,r){var o=r[0],a=r[1];a&&(e.align=angular.isDefined(i.align)?e.$parent.$eval(i.align):t.align,o.init(a,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(t){angular.extend(i,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(r,o,a,s,l,u){return function(r,c,d,h){function p(t){var e=t||h.trigger||d,i=n[e]||e;return{show:e,hide:i}}h=angular.extend({},e,i,h);var f=t(r),g=u.startSymbol(),m=u.endSymbol(),v="<div "+f+'-popup title="'+g+"title"+m+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+g+"content"+m+'" ')+'placement="'+g+"placement"+m+'" popup-class="'+g+"popupClass"+m+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var t=o(v);return function(e,n,i){function o(){E.isOpen?d():u()}function u(){(!D||e.$eval(i[c+"Enable"]))&&(y(),E.popupDelay?M||(M=a(f,E.popupDelay,!1),M.then(function(t){t()})):f()())}function d(){e.$apply(function(){g()})}function f(){return M=null,$&&(a.cancel($),$=null),(h.useContentExp?E.contentExp():E.content)?(m(),k.css({top:0,left:0,display:"block"}),E.$digest(),O(),E.isOpen=!0,E.$apply(),O):angular.noop}function g(){E.isOpen=!1,a.cancel(M),M=null,E.animation?$||($=a(v,500)):v()}function m(){k&&v(),C=E.$new(),k=t(C,function(t){S?s.find("body").append(t):n.after(t)}),C.$watch(function(){a(O,0,!1)}),h.useContentExp&&C.$watch("contentExp()",function(t){!t&&E.isOpen&&g()})}function v(){$=null,k&&(k.remove(),k=null),C&&(C.$destroy(),C=null)}function y(){b(),w(),_()}function b(){E.popupClass=i[c+"Class"]}function w(){var t=i[c+"Placement"];E.placement=angular.isDefined(t)?t:h.placement}function _(){var t=i[c+"PopupDelay"],e=parseInt(t,10);E.popupDelay=isNaN(e)?h.popupDelay:e}function x(){var t=i[c+"Trigger"];P(),T=p(t),T.show===T.hide?n.bind(T.show,o):(n.bind(T.show,u),n.bind(T.hide,d))}var k,C,$,M,S=!!angular.isDefined(h.appendToBody)&&h.appendToBody,T=p(void 0),D=angular.isDefined(i[c+"Enable"]),E=e.$new(!0),O=function(){if(k){var t=l.positionElements(n,k,E.placement,S);t.top+="px",t.left+="px",k.css(t)}};E.origScope=e,E.isOpen=!1,E.contentExp=function(){return e.$eval(i[r])},h.useContentExp||i.$observe(r,function(t){E.content=t,!t&&E.isOpen&&g()}),i.$observe("disabled",function(t){t&&E.isOpen&&g()}),i.$observe(c+"Title",function(t){E.title=t});var P=function(){n.unbind(T.show,u),n.unbind(T.hide,d)};x();var A=e.$eval(i[c+"Animation"]);E.animation=angular.isDefined(A)?!!A:h.animation;var N=e.$eval(i[c+"AppendToBody"]);S=angular.isDefined(N)?N:S,S&&e.$on("$locationChangeSuccess",function(){E.isOpen&&g()}),e.$on("$destroy",function(){a.cancel($),a.cancel(M),P(),v(),E=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,i){return{link:function(r,o,a){var s,l,u,c=r.$eval(a.tooltipTemplateTranscludeScope),d=0,h=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(t.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(e.parseAsResourceUrl(a.tooltipTemplateTransclude),function(e){var a=++d;e?(i(e,!0).then(function(i){if(a===d){var r=c.$new(),l=i,p=n(l)(r,function(e){h(),t.enter(e,o)});s=r,u=p,s.$emit("$includeContentLoaded",e)}},function(){a===d&&(h(),r.$emit("$includeContentError",e))}),r.$emit("$includeContentRequested",e)):h()}),r.$on("$destroy",h)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(t,e,n){t.placement&&e.addClass(t.placement),t.popupClass&&e.addClass(t.popupClass),t.animation()&&e.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(t){return t("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(t){return t("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(t,e,n){return e||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(t){return t("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var i=this,r=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(t.max)?t.max:n.max,this.addBar=function(e,n){r||n.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(n){e.percent=+(100*n/t.max).toFixed(2)}),e.$on("$destroy",function(){n=null,i.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(i.$setViewValue(e),i.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=i.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length&&t.active!==!1?t.active=!0:t.active?e.select(t):t.active=!1},e.removeTab=function(t){var r=n.indexOf(t);if(t.active&&n.length>1&&!i){var o=r==n.length-1?r-1:r+1;e.select(n[o])}n.splice(r,1)};var i;t.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified)}}}).directive("tab",["$parse","$log",function(t,e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(n,i,r){return function(n,i,o,a){n.$watch("active",function(t){t&&a.select(n)}),n.disabled=!1,o.disable&&n.$parent.$watch(t(o.disable),function(t){n.disabled=!!t}),o.disabled&&(e.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(t(o.disabled),function(t){n.disabled=!!t})),n.select=function(){n.disabled||(n.active=!0)},a.addTab(n),n.$on("$destroy",function(){a.removeTab(n)}),n.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,i){var r=e.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){t(e)?r.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,i,r,o){function a(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t.toString()}function u(t){c(),f.$setViewValue(new Date(p)),d(t)}function c(){f.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function d(e){var n=p.getHours(),i=p.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),"m"!==e&&(t.minutes=l(i)),t.meridian=p.getHours()<12?g[0]:g[1]}function h(t){var e=new Date(p.getTime()+6e4*t);p.setHours(e.getHours(),e.getMinutes()),u()}var p=new Date,f={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):o.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(n,i){f=n,f.$render=this.render,f.$formatters.unshift(function(t){return t?new Date(t):null});var r=i.eq(0),a=i.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(r,a);var l=angular.isDefined(e.arrowkeys)?t.$parent.$eval(e.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(r,a),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):o.readonlyInput,this.setupInputEvents(r,a)};var m=o.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){m=parseInt(t,10)});var v=o.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){v=parseInt(t,10)}),t.showMeridian=o.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,f.$error.time){var n=a(),i=s();angular.isDefined(n)&&angular.isDefined(i)&&(p.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(e,n){var i=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(i(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(i(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n){e.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply())}),n.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply())})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,void(t.updateMinutes=angular.noop);var i=function(e,n){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=a();angular.isDefined(t)?(p.setHours(t),u("h")):i(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=s();angular.isDefined(t)?(p.setMinutes(t),u("m")):i(void 0,!0)},n.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=f.$viewValue;isNaN(t)?(f.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(p=t),c(),d())},t.incrementHours=function(){h(60*m)},t.decrementHours=function(){h(60*-m)},t.incrementMinutes=function(){h(v)},t.decrementMinutes=function(){h(-v)},t.toggleMeridian=function(){h(720*(p.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(t,e,n,i,r){function o(t){for(var e in t)if(void 0!==s.style[e])return t[e]}r||i.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var a=function(i,r,o){o=o||{};var s=t.defer(),l=a[o.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){i.unbind(l,u),s.resolve(i)})};return l&&i.bind(l,u),e(function(){angular.isString(r)?i.addClass(r):angular.isFunction(r)?r(i):angular.isObject(r)&&i.css(r),l||s.resolve(i)}),s.promise.cancel=function(){l&&i.unbind(l,u),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return a.transitionEndEventName=o(l),a.animationEndEventName=o(u),a}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(e);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,i,r,o,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,d){var h,p=l.$eval(c.typeaheadMinLength)||1,f=l.$eval(c.typeaheadWaitMs)||0,g=l.$eval(c.typeaheadEditable)!==!1,m=e(c.typeaheadLoading).assign||angular.noop,v=e(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,b=!!c.typeaheadAppendToBody&&l.$eval(c.typeaheadAppendToBody),w=l.$eval(c.typeaheadFocusFirst)!==!1,_=e(c.ngModel).assign,x=a.parse(c.typeahead),k=l.$new();l.$on("$destroy",function(){k.$destroy()});var C="typeahead-"+k.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":C});var $=angular.element("<div typeahead-popup></div>");$.attr({id:C,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&$.attr("template-url",c.typeaheadTemplateUrl);var M=function(){k.matches=[],k.activeIdx=-1,u.attr("aria-expanded",!1)},S=function(t){return C+"-option-"+t};k.$watch("activeIdx",function(t){0>t?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",S(t))});var T=function(t){var e={$viewValue:t};m(l,!0),n.when(x.source(l,e)).then(function(n){var i=t===d.$viewValue;if(i&&h)if(n&&n.length>0){k.activeIdx=w?0:-1,k.matches.length=0;for(var r=0;r<n.length;r++)e[x.itemName]=n[r],k.matches.push({id:S(r),label:x.viewMapper(k,e),model:n[r]});k.query=t,k.position=b?o.offset(u):o.position(u),k.position.top=k.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else M();i&&m(l,!1)},function(){M(),m(l,!1)})};M(),k.query=void 0;var D,E=function(t){D=i(function(){T(t)},f)},O=function(){D&&i.cancel(D)};d.$parsers.unshift(function(t){return h=!0,t&&t.length>=p?f>0?(O(),E(t)):T(t):(m(l,!1),O(),M()),g?t:t?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),t)}),d.$formatters.push(function(t){var e,n,i={};return g||d.$setValidity("editable",!0),y?(i.$model=t,y(l,i)):(i[x.itemName]=t,e=x.viewMapper(l,i),i[x.itemName]=void 0,n=x.viewMapper(l,i),e!==n?e:t)}),k.select=function(t){var e,n,r={};r[x.itemName]=n=k.matches[t].model,e=x.modelMapper(l,r),_(l,e),d.$setValidity("editable",!0),d.$setValidity("parse",!0),v(l,{$item:n,$model:e,$label:x.viewMapper(l,r)}),M(),i(function(){u[0].focus()},0,!1)},u.bind("keydown",function(t){0!==k.matches.length&&-1!==s.indexOf(t.which)&&(-1!=k.activeIdx||13!==t.which&&9!==t.which)&&(t.preventDefault(),40===t.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===t.which?(k.activeIdx=(k.activeIdx>0?k.activeIdx:k.matches.length)-1,k.$digest()):13===t.which||9===t.which?k.$apply(function(){k.select(k.activeIdx)}):27===t.which&&(t.stopPropagation(),M(),k.$digest()))}),u.bind("blur",function(){h=!1});var P=function(t){u[0]!==t.target&&(M(),k.$digest())};r.bind("click",P),l.$on("$destroy",function(){r.unbind("click",P),b&&A.remove(),$.remove()});var A=t($)(k);b?r.find("body").append(A):u.after(A)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";t(a).then(function(t){e(t.trim())(i,function(t){r.replaceWith(t)})})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(t){return{link:function(e,n,i){function r(){n.removeClass("collapse").addClass("collapsing"),t.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function a(){n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),t.removeClass(n,"in",{to:{height:"0"}}).then(s)}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}e.$watch(i.collapse,function(t){t?a():r()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(t){t!==i&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,i){i.addGroup(t),t.$watch("isOpen",function(e){e&&i.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,i,r){i.setHeading(r(t,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,i){t.$watch(function(){return i[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e,this.close=t.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,n,i,r){t(function(){r.close()},parseInt(i.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){var r=i[0],o=i[1];o.$render=function(){e.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(r.toggleEvent,function(){var i=e.hasClass(r.activeClass);(!i||angular.isDefined(n.uncheckable))&&t.$apply(function(){o.$setViewValue(i?null:t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(e,n){var i=t.$eval(e);return angular.isDefined(i)?i:n}var s=i[0],l=i[1];l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},e.bind(s.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(t,e,n){function i(t){if(angular.isUndefined(c[t].index))return c[t];var e;for(c.length,e=0;e<c.length;++e)if(c[e].index==t)return c[e]}function r(){o();var n=+t.interval;!isNaN(n)&&n>0&&(s=e(a,n))}function o(){s&&(e.cancel(s),s=null)}function a(){var e=+t.interval;l&&!isNaN(e)&&e>0?t.next():t.pause()}var s,l,u=this,c=u.slides=t.slides=[],d=-1;u.currentSlide=null;var h=!1;u.select=t.select=function(e,i){function o(){h||(angular.extend(e,{direction:i,active:!0}),angular.extend(u.currentSlide||{},{direction:i,active:!1}),n.enabled()&&!t.noTransition&&e.$element&&(t.$currentTransition=!0,e.$element.one("$animate:close",function(){t.$currentTransition=null})),u.currentSlide=e,d=a,r())}var a=u.indexOfSlide(e);
void 0===i&&(i=a>u.getCurrentIndex()?"next":"prev"),e&&e!==u.currentSlide&&o()},t.$on("$destroy",function(){h=!0}),u.getCurrentIndex=function(){return u.currentSlide&&angular.isDefined(u.currentSlide.index)?+u.currentSlide.index:d},u.indexOfSlide=function(t){return angular.isDefined(t.index)?+t.index:c.indexOf(t)},t.next=function(){var e=(u.getCurrentIndex()+1)%c.length;return t.$currentTransition?void 0:u.select(i(e),"next")},t.prev=function(){var e=u.getCurrentIndex()-1<0?c.length-1:u.getCurrentIndex()-1;return t.$currentTransition?void 0:u.select(i(e),"prev")},t.isActive=function(t){return u.currentSlide===t},t.$watch("interval",r),t.$on("$destroy",o),t.play=function(){l||(l=!0,r())},t.pause=function(){t.noPause||(l=!1,o())},u.addSlide=function(e,n){e.$element=n,c.push(e),1===c.length||e.active?(u.select(c[c.length-1]),1==c.length&&t.play()):e.active=!1},u.removeSlide=function(t){angular.isDefined(t.index)&&c.sort(function(t,e){return+t.index>+e.index});var e=c.indexOf(t);c.splice(e,1),c.length>0&&t.active?u.select(e>=c.length?c[e-1]:c[e]):d>e&&d--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(t,e,n,i){i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}).animation(".item",["$animate",function(t){return{beforeAddClass:function(e,n,i){if("active"==n&&e.parent()&&!e.parent().scope().noTransition){var r=!1,o=e.isolateScope().direction,a="next"==o?"left":"right";return e.addClass(o),t.addClass(e,a).then(function(){r||e.removeClass(a+" "+o),i()}),function(){r=!0}}i()},beforeRemoveClass:function(e,n,i){if("active"==n&&e.parent()&&!e.parent().scope().noTransition){var r=!1,o=e.isolateScope().direction,a="next"==o?"left":"right";return t.addClass(e,a).then(function(){r||e.removeClass(a),i()}),function(){r=!0}}i()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],i=t.split("");return angular.forEach(o,function(e,r){var o=t.indexOf(r);if(o>-1){t=t.split(""),i[o]="("+e.regex+")",t[o]="$";for(var a=o+1,s=o+r.length;s>a;a++)i[a]="",t[a]="$";t=t.join(""),n.push({index:o,apply:e.apply})}}),{regex:new RegExp("^"+i.join("")+"$"),map:e(n,"index")}}function i(t,e,n){return!(1>n)&&(1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3!==e&&5!==e&&8!==e&&10!==e||31>n)}var r=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var o={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(t){this.hours=+t}},H:{regex:"1?[0-9]|2[0-3]",apply:function(t){this.hours=+t}},mm:{regex:"[0-5][0-9]",apply:function(t){this.minutes=+t}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.minutes=+t}},sss:{regex:"[0-9][0-9][0-9]",apply:function(t){this.milliseconds=+t}},ss:{regex:"[0-5][0-9]",apply:function(t){this.seconds=+t}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(t){this.seconds=+t}}};this.parse=function(e,o,a){if(!angular.isString(e)||!o)return e;o=t.DATETIME_FORMATS[o]||o,o=o.replace(r,"\\$&"),this.parsers[o]||(this.parsers[o]=n(o));var s=this.parsers[o],l=s.regex,u=s.map,c=e.match(l);if(c&&c.length){var d,h;d=a?{year:a.getFullYear(),month:a.getMonth(),date:a.getDate(),hours:a.getHours(),minutes:a.getMinutes(),seconds:a.getSeconds(),milliseconds:a.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var p=1,f=c.length;f>p;p++){var g=u[p-1];g.apply&&g.apply.call(d,c[p])}return i(d.year,d.month,d.date)&&(h=new Date(d.year,d.month,d.date,d.hours,d.minutes,d.seconds,d.milliseconds||0)),h}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function i(t){return"static"===(n(t,"position")||"static")}var r=function(e){for(var n=t[0],r=e.offsetParent||n;r&&r!==n&&i(r);)r=r.offsetParent;return r||n};return{position:function(e){var n=this.offset(e),i={top:0,left:0},o=r(e[0]);o!=t[0]&&(i=this.offset(angular.element(o)),i.top+=o.clientTop-o.scrollTop,i.left+=o.clientLeft-o.scrollLeft);var a=e[0].getBoundingClientRect();return{width:a.width||e.prop("offsetWidth"),height:a.height||e.prop("offsetHeight"),top:n.top-i.top,left:n.left-i.left}},offset:function(n){var i=n[0].getBoundingClientRect();return{width:i.width||n.prop("offsetWidth"),height:i.height||n.prop("offsetHeight"),top:i.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:i.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,i){var r,o,a,s,l=n.split("-"),u=l[0],c=l[1]||"center";r=i?this.offset(t):this.position(t),o=e.prop("offsetWidth"),a=e.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},h={center:function(){return r.top+r.height/2-a/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(u){case"right":s={top:h[c](),left:d[u]()};break;case"left":s={top:h[c](),left:r.left-o};break;case"bottom":s={top:h[u](),left:d[c]()};break;default:s={top:r.top-a,left:d[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,e,n,i,r,o,a,s){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,r){l[n]=angular.isDefined(e[n])?8>r?i(e[n])(t.$parent):t.$parent.$eval(e[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(i){e[i]?t.$parent.$watch(n(e[i]),function(t){l[i]=t?new Date(t):null,l.refreshView()}):l[i]=s[i]?new Date(s[i]):null}),t.datepickerMode=t.datepickerMode||s.datepickerMode,t.maxMode=l.maxMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(e.initDate)?(this.activeDate=t.$parent.$eval(e.initDate)||new Date,t.$parent.$watch(e.initDate,function(t){t&&(u.$isEmpty(u.$modelValue)||u.$invalid)&&(l.activeDate=t,l.refreshView())})):this.activeDate=new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)&&(t.activeDateId=e.uid,!0)},this.init=function(t){u=t,u.$render=function(){l.render()}},this.render=function(){if(u.$viewValue){var t=new Date(u.$viewValue),e=!isNaN(t);e?this.activeDate=t:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=u.$viewValue?new Date(u.$viewValue):null;u.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=u.$viewValue?new Date(u.$viewValue):null;return{date:t,label:a(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date),customClass:this.customClass(t)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.customClass=function(e){return t.customClass({date:e,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===l.minMode){var n=u.$viewValue?new Date(u.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){r(function(){l.element[0].focus()},0,!1)};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),l.shortcutPropagation||e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,i,r){function o(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function a(t,e){var n=new Array(e),i=new Date(t),r=0;for(i.setHours(12);e>r;)n[r++]=new Date(i),i.setDate(i.getDate()+1);return n}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=r.showWeeks,r.step={months:1},r.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];r._refreshView=function(){var n=r.activeDate.getFullYear(),i=r.activeDate.getMonth(),o=new Date(n,i,1),l=r.startingDay-o.getDay(),u=l>0?7-l:-l,c=new Date(o);u>0&&c.setDate(-u+1);for(var d=a(c,42),h=0;42>h;h++)d[h]=angular.extend(r.createDateObject(d[h],r.formatDay),{secondary:d[h].getMonth()!==i,uid:e.uniqueId+"-"+h});e.labels=new Array(7);for(var p=0;7>p;p++)e.labels[p]={abbr:t(d[p].date,r.formatDayHeader),full:t(d[p].date,"EEEE")};if(e.title=t(r.activeDate,r.formatDayTitle),e.rows=r.split(d,7),e.showWeeks){e.weekNumbers=[];for(var f=(11-r.startingDay)%7,g=e.rows.length,m=0;g>m;m++)e.weekNumbers.push(s(e.rows[m][f].date))}},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},r.handleKeyDown=function(t){var e=r.activeDate.getDate();if("left"===t)e-=1;else if("up"===t)e-=7;else if("right"===t)e+=1;else if("down"===t)e+=7;else if("pageup"===t||"pagedown"===t){var n=r.activeDate.getMonth()+("pageup"===t?-1:1);r.activeDate.setMonth(n,1),e=Math.min(o(r.activeDate.getFullYear(),r.activeDate.getMonth()),e)}else"home"===t?e=1:"end"===t&&(e=o(r.activeDate.getFullYear(),r.activeDate.getMonth()));r.activeDate.setDate(e)},r.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,i,r){r.step={years:1},r.element=n,r._refreshView=function(){for(var n=new Array(12),i=r.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(r.createDateObject(new Date(i,o,1),r.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(r.activeDate,r.formatMonthTitle),e.rows=r.split(n,3)},r.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},r.handleKeyDown=function(t){var e=r.activeDate.getMonth();if("left"===t)e-=1;else if("up"===t)e-=3;else if("right"===t)e+=1;else if("down"===t)e+=3;else if("pageup"===t||"pagedown"===t){var n=r.activeDate.getFullYear()+("pageup"===t?-1:1);r.activeDate.setFullYear(n)}else"home"===t?e=0:"end"===t&&(e=11);r.activeDate.setMonth(e)},r.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,i){function r(t){return parseInt((t-1)/o,10)*o+1}var o=i.yearRange;i.step={years:o},i.element=e,i._refreshView=function(){for(var e=new Array(o),n=0,a=r(i.activeDate.getFullYear());o>n;n++)e[n]=angular.extend(i.createDateObject(new Date(a+n,0,1),i.formatYear),{uid:t.uniqueId+"-"+n});t.title=[e[0].label,e[o-1].label].join(" - "),t.rows=i.split(e,5)},i.compare=function(t,e){return t.getFullYear()-e.getFullYear()},i.handleKeyDown=function(t){var e=i.activeDate.getFullYear();"left"===t?e-=1:"up"===t?e-=5:"right"===t?e+=1:"down"===t?e+=5:"pageup"===t||"pagedown"===t?e+=("pageup"===t?-1:1)*i.step.years:"home"===t?e=r(i.activeDate.getFullYear()):"end"===t&&(e=r(i.activeDate.getFullYear())+o-1),i.activeDate.setFullYear(e)},i.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(t,e,n,i,r,o,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(s,l,u,c){function d(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function h(t){if(angular.isNumber(t)&&(t=new Date(t)),!t)return null;if(angular.isDate(t)&&!isNaN(t))return t;if(angular.isString(t)){var e=o.parse(t,f,s.date)||new Date(t);return isNaN(e)?void 0:e}}function p(t,e){var n=t||e;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=o.parse(n,f)||new Date(n);return!isNaN(i)}return!1}return!0}var f,g=angular.isDefined(u.closeOnDateSelection)?s.$parent.$eval(u.closeOnDateSelection):a.closeOnDateSelection,m=angular.isDefined(u.datepickerAppendToBody)?s.$parent.$eval(u.datepickerAppendToBody):a.appendToBody;s.showButtonBar=angular.isDefined(u.showButtonBar)?s.$parent.$eval(u.showButtonBar):a.showButtonBar,s.getText=function(t){return s[t+"Text"]||a[t+"Text"]};var v=!1;if(a.html5Types[u.type]?(f=a.html5Types[u.type],v=!0):(f=u.datepickerPopup||a.datepickerPopup,u.$observe("datepickerPopup",function(t){var e=t||a.datepickerPopup;if(e!==f&&(f=e,c.$modelValue=null,!f))throw new Error("datepickerPopup must have a date format specified.")})),!f)throw new Error("datepickerPopup must have a date format specified.");if(v&&u.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var y=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");y.attr({"ng-model":"date","ng-change":"dateSelection()"});var b=angular.element(y.children()[0]);if(v&&"month"==u.type&&(b.attr("datepicker-mode",'"month"'),b.attr("min-mode","month")),u.datepickerOptions){var w=s.$parent.$eval(u.datepickerOptions);w.initDate&&(s.initDate=w.initDate,b.attr("init-date","initDate"),delete w.initDate),angular.forEach(w,function(t,e){b.attr(d(e),t)})}s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(u[t]){var n=e(u[t]);if(s.$parent.$watch(n,function(e){s.watchData[t]=e}),b.attr(d(t),"watchData."+t),"datepickerMode"===t){var i=n.assign;s.$watch("watchData."+t,function(t,e){t!==e&&i(s.$parent,t)})}}}),u.dateDisabled&&b.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),u.showWeeks&&b.attr("show-weeks",u.showWeeks),u.customClass&&b.attr("custom-class","customClass({ date: date, mode: mode })"),v?c.$formatters.push(function(t){return s.date=t,t}):(c.$$parserName="date",c.$validators.date=p,c.$parsers.unshift(h),c.$formatters.push(function(t){return s.date=t,c.$isEmpty(t)?t:r(t,f)})),s.dateSelection=function(t){angular.isDefined(t)&&(s.date=t);var e=s.date?r(s.date,f):"";l.val(e),c.$setViewValue(e),g&&(s.isOpen=!1,l[0].focus())},c.$viewChangeListeners.push(function(){s.date=o.parse(c.$viewValue,f,s.date)||new Date(c.$viewValue)});var _=function(t){s.isOpen&&t.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},x=function(t){s.keydown(t)};l.bind("keydown",x),s.keydown=function(t){27===t.which?(t.preventDefault(),s.isOpen&&t.stopPropagation(),s.close()):40!==t.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(t){t?(s.$broadcast("datepicker.focus"),s.position=m?i.offset(l):i.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",_)):n.unbind("click",_)}),s.select=function(t){if("today"===t){var e=new Date;angular.isDate(s.date)?(t=new Date(s.date),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}s.dateSelection(t)},s.close=function(){s.isOpen=!1,l[0].focus()};var k=t(y)(s);y.remove(),m?n.find("body").append(k):l.after(k),s.$on("$destroy",function(){k.remove(),l.unbind("keydown",x),n.unbind("click",_)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(t,e){var n=null;this.open=function(e){n||(t.bind("click",i),t.bind("keydown",r)),n&&n!==e&&(n.isOpen=!1),n=e},this.close=function(e){n===e&&(n=null,t.unbind("click",i),t.unbind("keydown",r))};var i=function(t){if(n&&(!t||"disabled"!==n.getAutoClose())){var i=n.getToggleElement();if(!(t&&i&&i[0].contains(t.target))){var r=n.getElement();t&&"outsideClick"===n.getAutoClose()&&r&&r[0].contains(t.target)||(n.isOpen=!1,e.$$phase||n.$apply())}}},r=function(t){27===t.which&&(n.focusToggleElement(),i())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(t,e,n,i,r,o,a,s){var l,u=this,c=t.$new(),d=i.openClass,h=angular.noop,p=e.onToggle?n(e.onToggle):angular.noop,f=!1;this.init=function(i){u.$element=i,e.isOpen&&(l=n(e.isOpen),h=l.assign,t.$watch(l,function(t){c.isOpen=!!t})),f=angular.isDefined(e.dropdownAppendToBody),f&&u.dropdownMenu&&(s.find("body").append(u.dropdownMenu),i.on("$destroy",function(){u.dropdownMenu.remove()}))},this.toggle=function(t){return c.isOpen=arguments.length?!!t:!c.isOpen},this.isOpen=function(){return c.isOpen},c.getToggleElement=function(){return u.toggleElement},c.getAutoClose=function(){return e.autoClose||"always"},c.getElement=function(){return u.$element},c.focusToggleElement=function(){u.toggleElement&&u.toggleElement[0].focus()},c.$watch("isOpen",function(e,n){if(f&&u.dropdownMenu){var i=a.positionElements(u.$element,u.dropdownMenu,"bottom-left",!0);u.dropdownMenu.css({top:i.top+"px",left:i.left+"px",display:e?"block":"none"})}o[e?"addClass":"removeClass"](u.$element,d),e?(c.focusToggleElement(),r.open(c)):r.close(c),h(t,e),angular.isDefined(e)&&e!==n&&p(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){c.isOpen=!1}),t.$on("$destroy",function(){c.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,i){i.init(e)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(t,e,n,i){i&&(i.dropdownMenu=e)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,n,i){if(i){i.toggleElement=e;var r=function(r){r.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){i.toggle()})};e.bind("click",r),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(i.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",r)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,i=0;i<t.length;i++)if(e==t[i].key){n=i;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$timeout",function(t){function e(e){e.animate=!1,t(function(){e.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(t,n){return t.addClass(n.backdropClass),e}}}]).directive("modalWindow",["$modalStack","$q",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(n,i,r){i.addClass(r.windowClass||""),n.size=r.size,n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))},n.$isRendered=!0;var o=e.defer();r.$observe("modalRender",function(t){"true"==t&&o.resolve()}),o.promise.then(function(){n.animate=!0;var e=i[0].querySelectorAll("[autofocus]");e.length?e[0].focus():i[0].focus();var r=t.getTop();r&&t.modalRendered(r.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(t,e){e.modalAnimation&&t.addClass(e.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,i,r){r(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,i,r,o){function a(){for(var t=-1,e=f.keys(),n=0;n<e.length;n++)f.get(e[n]).value.backdrop&&(t=n);return t}function s(t){var e=n.find("body").eq(0),i=f.get(t).value;f.remove(t),u(i.modalDomEl,i.modalScope,function(){e.toggleClass(p,f.length()>0),l()})}function l(){if(d&&-1==a()){var t=h;u(d,h,function(){t=null}),d=void 0,h=void 0}}function u(n,i,o){function a(){a.done||(a.done=!0,n.remove(),i.$destroy(),o&&o())}i.animate=!1,n.attr("modal-animation")&&t.enabled()?n.one("$animate:close",function(){r.$evalAsync(a)}):e(a)}function c(t,e,n){return!t.value.modalScope.$broadcast("modal.closing",e,n).defaultPrevented}var d,h,p="modal-open",f=o.createNew(),g={};return r.$watch(a,function(t){h&&(h.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=f.top(),e&&e.value.keyboard&&(t.preventDefault(),r.$apply(function(){g.dismiss(e.key,"escape key press")})))}),g.open=function(t,e){var o=n[0].activeElement;f.add(t,{deferred:e.deferred,renderDeferred:e.renderDeferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var s=n.find("body").eq(0),l=a();if(l>=0&&!d){h=r.$new(!0),h.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",e.backdropClass),e.animation&&u.attr("modal-animation","true"),d=i(u)(h),s.append(d)}var c=angular.element('<div modal-window="modal-window"></div>');c.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:f.length()-1,animate:"animate"}).html(e.content),e.animation&&c.attr("modal-animation","true");var g=i(c)(e.scope);f.top().value.modalDomEl=g,f.top().value.modalOpener=o,s.append(g),s.addClass(p)},g.close=function(t,e){var n=f.get(t);return n&&c(n,e,!0)?(n.value.deferred.resolve(e),s(t),n.value.modalOpener.focus(),!0):!n},g.dismiss=function(t,e){var n=f.get(t);return n&&c(n,e,!1)?(n.value.deferred.reject(e),s(t),n.value.modalOpener.focus(),!0):!n},g.dismissAll=function(t){for(var e=this.getTop();e&&this.dismiss(e.key,t);)e=this.getTop()},g.getTop=function(){return f.top()},g.modalRendered=function(t){var e=f.get(t);e&&e.value.renderDeferred.resolve()},g}]).provider("$modal",function(){var t={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(e,n,i,r,o,a){function s(t){return t.template?i.when(t.template):r(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl)}function l(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(i.when(e.invoke(t)))}),n}var u={};return u.open=function(e){var r=i.defer(),u=i.defer(),c=i.defer(),d={result:r.promise,opened:u.promise,rendered:c.promise,close:function(t){return a.close(d,t)},dismiss:function(t){return a.dismiss(d,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var h=i.all([s(e)].concat(l(e.resolve)));return h.then(function(t){var i=(e.scope||n).$new();i.$close=d.close,i.$dismiss=d.dismiss;var s,l={},u=1;e.controller&&(l.$scope=i,l.$modalInstance=d,angular.forEach(e.resolve,function(e,n){l[n]=t[u++]}),s=o(e.controller,l),e.controllerAs&&(i[e.controllerAs]=s)),a.open(d,{scope:i,deferred:r,renderDeferred:c,content:t[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){r.reject(t)}),h.then(function(){u.resolve(!0)},function(t){u.reject(t)}),d},u}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var i=this,r={$setViewValue:angular.noop},o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(a,s){r=a,this.config=s,r.$render=function(){i.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){i.itemsPerPage=parseInt(e,10),t.totalPages=i.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,t.$watch("totalItems",function(){t.totalPages=i.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),t.page>e?t.selectPage(e):r.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(r.$viewValue,10)||1},t.selectPage=function(e,n){t.page!==e&&e>0&&e<=t.totalPages&&(n&&n.target&&n.target.blur(),r.$setViewValue(e),r.$render())},t.getText=function(e){return t[e+"Text"]||i.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,i,r,o){function a(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],i=1,r=e,o=angular.isDefined(c)&&e>c;o&&(d?(i=Math.max(t-Math.floor(c/2),1),r=i+c-1,r>e&&(r=e,i=r-c+1)):(i=(Math.ceil(t/c)-1)*c+1,r=Math.min(i+c-1,e)));for(var s=i;r>=s;s++){var l=a(s,s,s===t);n.push(l)}if(o&&!d){if(i>1){var u=a(i-1,"...",!1);n.unshift(u)}if(e>r){var h=a(r+1,"...",!1);n.push(h)}}return n}var l=o[0],u=o[1];if(u){var c=angular.isDefined(r.maxSize)?n.$parent.$eval(r.maxSize):e.maxSize,d=angular.isDefined(r.rotate)?n.$parent.$eval(r.rotate):e.rotate;n.boundaryLinks=angular.isDefined(r.boundaryLinks)?n.$parent.$eval(r.boundaryLinks):e.boundaryLinks,n.directionLinks=angular.isDefined(r.directionLinks)?n.$parent.$eval(r.directionLinks):e.directionLinks,l.init(u,e),r.maxSize&&n.$parent.$watch(t(r.maxSize),function(t){c=parseInt(t,10),l.render()});var h=l.render;l.render=function(){h(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,i,r){var o=r[0],a=r[1];a&&(e.align=angular.isDefined(i.align)?e.$parent.$eval(i.align):t.align,o.init(a,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur"},i={};this.options=function(t){angular.extend(i,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(r,o,a,s,l,u){return function(r,c,d,h){function p(t){var e=t||h.trigger||d,i=n[e]||e;return{show:e,hide:i}}h=angular.extend({},e,i,h);var f=t(r),g=u.startSymbol(),m=u.endSymbol(),v="<div "+f+'-popup title="'+g+"title"+m+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+g+"content"+m+'" ')+'placement="'+g+"placement"+m+'" popup-class="'+g+"popupClass"+m+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var t=o(v);return function(e,n,i){function o(){E.isOpen?d():u()}function u(){(!D||e.$eval(i[c+"Enable"]))&&(y(),E.popupDelay?M||(M=a(f,E.popupDelay,!1),M.then(function(t){t()})):f()())}function d(){e.$apply(function(){g()})}function f(){return M=null,$&&(a.cancel($),$=null),(h.useContentExp?E.contentExp():E.content)?(m(),k.css({top:0,left:0,display:"block"}),E.$digest(),O(),E.isOpen=!0,E.$apply(),O):angular.noop}function g(){E.isOpen=!1,a.cancel(M),M=null,E.animation?$||($=a(v,500)):v()}function m(){k&&v(),C=E.$new(),k=t(C,function(t){S?s.find("body").append(t):n.after(t)}),C.$watch(function(){a(O,0,!1)}),h.useContentExp&&C.$watch("contentExp()",function(t){!t&&E.isOpen&&g()})}function v(){$=null,k&&(k.remove(),k=null),C&&(C.$destroy(),C=null)}function y(){b(),w(),_()}function b(){E.popupClass=i[c+"Class"]}function w(){var t=i[c+"Placement"];E.placement=angular.isDefined(t)?t:h.placement}function _(){var t=i[c+"PopupDelay"],e=parseInt(t,10);E.popupDelay=isNaN(e)?h.popupDelay:e}function x(){var t=i[c+"Trigger"];P(),T=p(t),T.show===T.hide?n.bind(T.show,o):(n.bind(T.show,u),n.bind(T.hide,d))}var k,C,$,M,S=!!angular.isDefined(h.appendToBody)&&h.appendToBody,T=p(void 0),D=angular.isDefined(i[c+"Enable"]),E=e.$new(!0),O=function(){if(k){var t=l.positionElements(n,k,E.placement,S);t.top+="px",t.left+="px",k.css(t)}};E.origScope=e,E.isOpen=!1,E.contentExp=function(){return e.$eval(i[r])},h.useContentExp||i.$observe(r,function(t){E.content=t,
!t&&E.isOpen&&g()}),i.$observe("disabled",function(t){t&&E.isOpen&&g()}),i.$observe(c+"Title",function(t){E.title=t});var P=function(){n.unbind(T.show,u),n.unbind(T.hide,d)};x();var A=e.$eval(i[c+"Animation"]);E.animation=angular.isDefined(A)?!!A:h.animation;var N=e.$eval(i[c+"AppendToBody"]);S=angular.isDefined(N)?N:S,S&&e.$on("$locationChangeSuccess",function(){E.isOpen&&g()}),e.$on("$destroy",function(){a.cancel($),a.cancel(M),P(),v(),E=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(t,e,n,i){return{link:function(r,o,a){var s,l,u,c=r.$eval(a.tooltipTemplateTranscludeScope),d=0,h=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(t.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(e.parseAsResourceUrl(a.tooltipTemplateTransclude),function(e){var a=++d;e?(i(e,!0).then(function(i){if(a===d){var r=c.$new(),l=i,p=n(l)(r,function(e){h(),t.enter(e,o)});s=r,u=p,s.$emit("$includeContentLoaded",e)}},function(){a===d&&(h(),r.$emit("$includeContentError",e))}),r.$emit("$includeContentRequested",e)):h()}),r.$on("$destroy",h)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(t,e,n){t.placement&&e.addClass(t.placement),t.popupClass&&e.addClass(t.popupClass),t.animation()&&e.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(t){return t("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(t){return t("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(t,e,n){return e||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(t){return t("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var i=this,r=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(t.max)?t.max:n.max,this.addBar=function(e,n){r||n.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(n){e.percent=+(100*n/t.max).toFixed(2)}),e.$on("$destroy",function(){n=null,i.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,i){i.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,i){i.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var i={$setViewValue:angular.noop};this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(t){return angular.isNumber(t)&&t<<0!==t&&(t=Math.round(t)),t}),this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(i.$setViewValue(e),i.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=i.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=i.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length&&t.active!==!1?t.active=!0:t.active?e.select(t):t.active=!1},e.removeTab=function(t){var r=n.indexOf(t);if(t.active&&n.length>1&&!i){var o=r==n.length-1?r-1:r+1;e.select(n[o])}n.splice(r,1)};var i;t.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=!!angular.isDefined(n.vertical)&&t.$parent.$eval(n.vertical),t.justified=!!angular.isDefined(n.justified)&&t.$parent.$eval(n.justified)}}}).directive("tab",["$parse","$log",function(t,e){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(n,i,r){return function(n,i,o,a){n.$watch("active",function(t){t&&a.select(n)}),n.disabled=!1,o.disable&&n.$parent.$watch(t(o.disable),function(t){n.disabled=!!t}),o.disabled&&(e.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(t(o.disabled),function(t){n.disabled=!!t})),n.select=function(){n.disabled||(n.active=!0)},a.addTab(n),n.$on("$destroy",function(){a.removeTab(n)}),n.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,i){var r=e.$eval(i.tabContentTransclude);r.$transcludeFn(r.$parent,function(e){angular.forEach(e,function(e){t(e)?r.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,i,r,o){function a(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t.toString()}function u(t){c(),f.$setViewValue(new Date(p)),d(t)}function c(){f.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function d(e){var n=p.getHours(),i=p.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),"m"!==e&&(t.minutes=l(i)),t.meridian=p.getHours()<12?g[0]:g[1]}function h(t){var e=new Date(p.getTime()+6e4*t);p.setHours(e.getHours(),e.getMinutes()),u()}var p=new Date,f={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):o.meridians||r.DATETIME_FORMATS.AMPMS;this.init=function(n,i){f=n,f.$render=this.render,f.$formatters.unshift(function(t){return t?new Date(t):null});var r=i.eq(0),a=i.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(r,a);var l=angular.isDefined(e.arrowkeys)?t.$parent.$eval(e.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(r,a),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):o.readonlyInput,this.setupInputEvents(r,a)};var m=o.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){m=parseInt(t,10)});var v=o.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){v=parseInt(t,10)}),t.showMeridian=o.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,f.$error.time){var n=a(),i=s();angular.isDefined(n)&&angular.isDefined(i)&&(p.setHours(n),u())}else d()}),this.setupMousewheelEvents=function(e,n){var i=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(i(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(i(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,n){e.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementHours(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementHours(),t.$apply())}),n.bind("keydown",function(e){38===e.which?(e.preventDefault(),t.incrementMinutes(),t.$apply()):40===e.which&&(e.preventDefault(),t.decrementMinutes(),t.$apply())})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,void(t.updateMinutes=angular.noop);var i=function(e,n){f.$setViewValue(null),f.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=a();angular.isDefined(t)?(p.setHours(t),u("h")):i(!0)},e.bind("blur",function(){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=s();angular.isDefined(t)?(p.setMinutes(t),u("m")):i(void 0,!0)},n.bind("blur",function(){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=f.$viewValue;isNaN(t)?(f.$setValidity("time",!1),i.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(p=t),c(),d())},t.incrementHours=function(){h(60*m)},t.decrementHours=function(){h(60*-m)},t.incrementMinutes=function(){h(v)},t.decrementMinutes=function(){h(-v)},t.toggleMeridian=function(){h(720*(p.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,i){var r=i[0],o=i[1];o&&r.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(t,e,n,i,r){function o(t){for(var e in t)if(void 0!==s.style[e])return t[e]}r||i.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var a=function(i,r,o){o=o||{};var s=t.defer(),l=a[o.animation?"animationEndEventName":"transitionEndEventName"],u=function(){n.$apply(function(){i.unbind(l,u),s.resolve(i)})};return l&&i.bind(l,u),e(function(){angular.isString(r)?i.addClass(r):angular.isFunction(r)?r(i):angular.isObject(r)&&i.css(r),l||s.resolve(i)}),s.promise.cancel=function(){l&&i.unbind(l,u),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},u={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return a.transitionEndEventName=o(l),a.animationEndEventName=o(u),a}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(e);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:t(i[4]),viewMapper:t(i[2]||i[1]),modelMapper:t(i[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,i,r,o,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,d){var h,p=l.$eval(c.typeaheadMinLength)||1,f=l.$eval(c.typeaheadWaitMs)||0,g=l.$eval(c.typeaheadEditable)!==!1,m=e(c.typeaheadLoading).assign||angular.noop,v=e(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,b=!!c.typeaheadAppendToBody&&l.$eval(c.typeaheadAppendToBody),w=l.$eval(c.typeaheadFocusFirst)!==!1,_=e(c.ngModel).assign,x=a.parse(c.typeahead),k=l.$new();l.$on("$destroy",function(){k.$destroy()});var C="typeahead-"+k.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":C});var $=angular.element("<div typeahead-popup></div>");$.attr({id:C,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&$.attr("template-url",c.typeaheadTemplateUrl);var M=function(){k.matches=[],k.activeIdx=-1,u.attr("aria-expanded",!1)},S=function(t){return C+"-option-"+t};k.$watch("activeIdx",function(t){0>t?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",S(t))});var T=function(t){var e={$viewValue:t};m(l,!0),n.when(x.source(l,e)).then(function(n){var i=t===d.$viewValue;if(i&&h)if(n&&n.length>0){k.activeIdx=w?0:-1,k.matches.length=0;for(var r=0;r<n.length;r++)e[x.itemName]=n[r],k.matches.push({id:S(r),label:x.viewMapper(k,e),model:n[r]});k.query=t,k.position=b?o.offset(u):o.position(u),k.position.top=k.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else M();i&&m(l,!1)},function(){M(),m(l,!1)})};M(),k.query=void 0;var D,E=function(t){D=i(function(){T(t)},f)},O=function(){D&&i.cancel(D)};d.$parsers.unshift(function(t){return h=!0,t&&t.length>=p?f>0?(O(),E(t)):T(t):(m(l,!1),O(),M()),g?t:t?void d.$setValidity("editable",!1):(d.$setValidity("editable",!0),t)}),d.$formatters.push(function(t){var e,n,i={};return g||d.$setValidity("editable",!0),y?(i.$model=t,y(l,i)):(i[x.itemName]=t,e=x.viewMapper(l,i),i[x.itemName]=void 0,n=x.viewMapper(l,i),e!==n?e:t)}),k.select=function(t){var e,n,r={};r[x.itemName]=n=k.matches[t].model,e=x.modelMapper(l,r),_(l,e),d.$setValidity("editable",!0),d.$setValidity("parse",!0),v(l,{$item:n,$model:e,$label:x.viewMapper(l,r)}),M(),i(function(){u[0].focus()},0,!1)},u.bind("keydown",function(t){0!==k.matches.length&&-1!==s.indexOf(t.which)&&(-1!=k.activeIdx||13!==t.which&&9!==t.which)&&(t.preventDefault(),40===t.which?(k.activeIdx=(k.activeIdx+1)%k.matches.length,k.$digest()):38===t.which?(k.activeIdx=(k.activeIdx>0?k.activeIdx:k.matches.length)-1,k.$digest()):13===t.which||9===t.which?k.$apply(function(){k.select(k.activeIdx)}):27===t.which&&(t.stopPropagation(),M(),k.$digest()))}),u.bind("blur",function(){h=!1});var P=function(t){u[0]!==t.target&&(M(),k.$digest())};r.bind("click",P),l.$on("$destroy",function(){r.unbind("click",P),b&&A.remove(),$.remove()});var A=t($)(k);b?r.find("body").append(A):u.after(A)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(t,e,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";t(a).then(function(t){e(t.trim())(i,function(t){r.replaceWith(t)})})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href="javascript:void(0)" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:\'index\' track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}" ng-class="dt.customClass">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n\tng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1, $event)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1, $event)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1, $event)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages, $event)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-window.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover-window.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen, fade: animation }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" tooltip-template-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n');
}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n\t<tbody>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t\t<tr>\n\t\t\t<td class="form-group" ng-class="{\'has-error\': invalidHours}">\n\t\t\t\t<input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td>:</td>\n\t\t\t<td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n\t\t\t\t<input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n\t\t\t</td>\n\t\t\t<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n\t\t</tr>\n\t\t<tr class="text-center">\n\t\t\t<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td>&nbsp;</td>\n\t\t\t<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n\t\t\t<td ng-show="showMeridian"></td>\n\t\t</tr>\n\t</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(){"use strict";var t={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,left:37,right:39,"delete":46,comma:188},e=9007199254740991,n=["text","email","url"],i=angular.module("ngTagsInput",[]);i.directive("tagsInput",["$timeout","$document","$window","tagsInputConfig","tiUtil",function(i,r,o,a,s){function l(t,e,n,i){var r,o,a,l={};return r=function(e){return s.safeToString(e[t.displayProperty])},o=function(e,n){e[t.displayProperty]=n},a=function(e){var i=r(e);return i&&i.length>=t.minLength&&i.length<=t.maxLength&&t.allowedTagsPattern.test(i)&&!s.findInObjectArray(l.items,e,t.keyProperty||t.displayProperty)&&n({$tag:e})},l.items=[],l.addText=function(t){var e={};return o(e,t),l.add(e)},l.add=function(n){var i=r(n);return t.replaceSpacesWithDashes&&(i=s.replaceSpacesWithDashes(i)),o(n,i),a(n)?(l.items.push(n),e.trigger("tag-added",{$tag:n})):i&&e.trigger("invalid-tag",{$tag:n}),n},l.remove=function(t){var n=l.items[t];if(i({$tag:n}))return l.items.splice(t,1),l.clearSelection(),e.trigger("tag-removed",{$tag:n}),n},l.select=function(t){t<0?t=l.items.length-1:t>=l.items.length&&(t=0),l.index=t,l.selected=l.items[t]},l.selectPrior=function(){l.select(--l.index)},l.selectNext=function(){l.select(++l.index)},l.removeSelected=function(){return l.remove(l.index)},l.clearSelection=function(){l.selected=null,l.index=-1},l.clearSelection(),l}function u(t){return n.indexOf(t)!==-1}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",text:"=?",onTagAdding:"&",onTagAdded:"&",onInvalidTag:"&",onTagRemoving:"&",onTagRemoved:"&",onTagClicked:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function(t,n,i){t.events=s.simplePubSub(),a.load("tagsInput",t,n,{template:[String,"ngTagsInput/tag-item.html"],type:[String,"text",u],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,e],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],addOnPaste:[Boolean,!1],pasteSplitPattern:[RegExp,/,/],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,e],displayProperty:[String,"text"],keyProperty:[String,""],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1],spellcheck:[Boolean,!0]}),t.tagList=new l(t.options,t.events,s.handleUndefinedResult(t.onTagAdding,!0),s.handleUndefinedResult(t.onTagRemoving,!0)),this.registerAutocomplete=function(){var e=i.find("input");return{addTag:function(e){return t.tagList.add(e)},focusInput:function(){e[0].focus()},getTags:function(){return t.tagList.items},getCurrentTagText:function(){return t.newTag.text()},getOptions:function(){return t.options},on:function(e,n){return t.events.on(e,n),this}}},this.registerTagItem=function(){return{getOptions:function(){return t.options},removeTag:function(e){t.disabled||t.tagList.remove(e)}}}}],link:function(e,n,a,l){var u,c=[t.enter,t.comma,t.space,t.backspace,t["delete"],t.left,t.right],d=e.tagList,h=e.events,p=e.options,f=n.find("input"),g=["minTags","maxTags","allowLeftoverText"];u=function(){l.$setValidity("maxTags",d.items.length<=p.maxTags),l.$setValidity("minTags",d.items.length>=p.minTags),l.$setValidity("leftoverText",!(!e.hasFocus&&!p.allowLeftoverText)||!e.newTag.text())},l.$isEmpty=function(t){return!t||!t.length},e.newTag={text:function(t){return angular.isDefined(t)?(e.text=t,void h.trigger("input-change",t)):e.text||""},invalid:null},e.track=function(t){return t[p.keyProperty||p.displayProperty]},e.$watch("tags",function(t){t?(d.items=s.makeObjectArray(t,p.displayProperty),e.tags=d.items):d.items=[]}),e.$watch("tags.length",function(){u(),l.$validate()}),a.$observe("disabled",function(t){e.disabled=t}),e.eventHandlers={input:{keydown:function(t){h.trigger("input-keydown",t)},focus:function(){e.hasFocus||(e.hasFocus=!0,h.trigger("input-focus"))},blur:function(){i(function(){var t=r.prop("activeElement"),i=t===f[0],o=n[0].contains(t);!i&&o||(e.hasFocus=!1,h.trigger("input-blur"))})},paste:function(t){t.getTextData=function(){var e=t.clipboardData||t.originalEvent&&t.originalEvent.clipboardData;return e?e.getData("text/plain"):o.clipboardData.getData("Text")},h.trigger("input-paste",t)}},host:{click:function(){e.disabled||f[0].focus()}},tag:{click:function(t){h.trigger("tag-clicked",{$tag:t})}}},h.on("tag-added",e.onTagAdded).on("invalid-tag",e.onInvalidTag).on("tag-removed",e.onTagRemoved).on("tag-clicked",e.onTagClicked).on("tag-added",function(){e.newTag.text("")}).on("tag-added tag-removed",function(){e.tags=d.items,l.$setDirty()}).on("invalid-tag",function(){e.newTag.invalid=!0}).on("option-change",function(t){g.indexOf(t.name)!==-1&&u()}).on("input-change",function(){d.clearSelection(),e.newTag.invalid=null}).on("input-focus",function(){n.triggerHandler("focus"),l.$setValidity("leftoverText",!0)}).on("input-blur",function(){p.addOnBlur&&!p.addFromAutocompleteOnly&&d.addText(e.newTag.text()),n.triggerHandler("blur"),u()}).on("input-keydown",function(n){var i,r,o,a,l=n.keyCode,u={};if(!s.isModifierOn(n)&&c.indexOf(l)!==-1){if(u[t.enter]=p.addOnEnter,u[t.comma]=p.addOnComma,u[t.space]=p.addOnSpace,i=!p.addFromAutocompleteOnly&&u[l],r=(l===t.backspace||l===t["delete"])&&d.selected,a=l===t.backspace&&0===e.newTag.text().length&&p.enableEditingLastTag,o=(l===t.backspace||l===t.left||l===t.right)&&0===e.newTag.text().length&&!p.enableEditingLastTag,i)d.addText(e.newTag.text());else if(a){var h;d.selectPrior(),h=d.removeSelected(),h&&e.newTag.text(h[p.displayProperty])}else r?d.removeSelected():o&&(l===t.left||l===t.backspace?d.selectPrior():l===t.right&&d.selectNext());(i||o||r||a)&&n.preventDefault()}}).on("input-paste",function(t){if(p.addOnPaste){var e=t.getTextData(),n=e.split(p.pasteSplitPattern);n.length>1&&(n.forEach(function(t){d.addText(t)}),t.preventDefault())}})}}}]),i.directive("tiTagItem",["tiUtil",function(t){return{restrict:"E",require:"^tagsInput",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(e,n,i,r){var o=r.registerTagItem(),a=o.getOptions();e.$$template=a.template,e.$$removeTagSymbol=a.removeTagSymbol,e.$getDisplayText=function(){return t.safeToString(e.data[a.displayProperty])},e.$removeTag=function(){o.removeTag(e.$index)},e.$watch("$parent.$index",function(t){e.$index=t})}}}]),i.directive("autoComplete",["$document","$timeout","$sce","$q","tagsInputConfig","tiUtil",function(e,n,i,r,o,a){function s(t,e,n){var i,o,s,l={};return s=function(){return e.tagsInput.keyProperty||e.tagsInput.displayProperty},i=function(t,n){return t.filter(function(t){return!a.findInObjectArray(n,t,s(),function(t,n){return e.tagsInput.replaceSpacesWithDashes&&(t=a.replaceSpacesWithDashes(t),n=a.replaceSpacesWithDashes(n)),a.defaultComparer(t,n)})})},l.reset=function(){o=null,l.items=[],l.visible=!1,l.index=-1,l.selected=null,l.query=null},l.show=function(){e.selectFirstMatch?l.select(0):l.selected=null,l.visible=!0},l.load=a.debounce(function(n,u){l.query=n;var c=r.when(t({$query:n}));o=c,c.then(function(t){c===o&&(t=a.makeObjectArray(t.data||t,s()),t=i(t,u),l.items=t.slice(0,e.maxResultsToShow),l.items.length>0?l.show():l.reset())})},e.debounceDelay),l.selectNext=function(){l.select(++l.index)},l.selectPrior=function(){l.select(--l.index)},l.select=function(t){t<0?t=l.items.length-1:t>=l.items.length&&(t=0),l.index=t,l.selected=l.items[t],n.trigger("suggestion-selected",t)},l.reset(),l}function l(t,e){var n=t.find("li").eq(e),i=n.parent(),r=n.prop("offsetTop"),o=n.prop("offsetHeight"),a=i.prop("clientHeight"),s=i.prop("scrollTop");r<s?i.prop("scrollTop",r):r+o>a+s&&i.prop("scrollTop",r+o-a)}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",controller:["$scope","$element","$attrs",function(t,e,n){t.events=a.simplePubSub(),o.load("autoComplete",t,n,{template:[String,"ngTagsInput/auto-complete-match.html"],debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1],selectFirstMatch:[Boolean,!0],displayProperty:[String,""]}),t.suggestionList=new s(t.source,t.options,t.events),this.registerAutocompleteMatch=function(){return{getOptions:function(){return t.options},getQuery:function(){return t.suggestionList.query}}}}],link:function(e,n,i,r){var o,s=[t.enter,t.tab,t.escape,t.up,t.down],u=e.suggestionList,c=r.registerAutocomplete(),d=e.options,h=e.events;d.tagsInput=c.getOptions(),o=function(t){return t&&t.length>=d.minLength||!t&&d.loadOnEmpty},e.addSuggestionByIndex=function(t){u.select(t),e.addSuggestion()},e.addSuggestion=function(){var t=!1;return u.selected&&(c.addTag(angular.copy(u.selected)),u.reset(),c.focusInput(),t=!0),t},e.track=function(t){return t[d.tagsInput.keyProperty||d.tagsInput.displayProperty]},c.on("tag-added tag-removed invalid-tag input-blur",function(){u.reset()}).on("input-change",function(t){o(t)?u.load(t,c.getTags()):u.reset()}).on("input-focus",function(){var t=c.getCurrentTagText();d.loadOnFocus&&o(t)&&u.load(t,c.getTags())}).on("input-keydown",function(n){var i=n.keyCode,r=!1;if(!a.isModifierOn(n)&&s.indexOf(i)!==-1)return u.visible?i===t.down?(u.selectNext(),r=!0):i===t.up?(u.selectPrior(),r=!0):i===t.escape?(u.reset(),r=!0):i!==t.enter&&i!==t.tab||(r=e.addSuggestion()):i===t.down&&e.options.loadOnDownArrow&&(u.load(c.getCurrentTagText(),c.getTags()),r=!0),r?(n.preventDefault(),n.stopImmediatePropagation(),!1):void 0}),h.on("suggestion-selected",function(t){l(n,t)})}}}]),i.directive("tiAutocompleteMatch",["$sce","tiUtil",function(t,e){return{restrict:"E",require:"^autoComplete",template:'<ng-include src="$$template"></ng-include>',scope:{data:"="},link:function(n,i,r,o){var a=o.registerAutocompleteMatch(),s=a.getOptions();n.$$template=s.template,n.$index=n.$parent.$index,n.$highlight=function(n){return s.highlightMatchedText&&(n=e.safeHighlight(n,a.getQuery())),t.trustAsHtml(n)},n.$getDisplayText=function(){return e.safeToString(n.data[s.displayProperty||s.tagsInput.displayProperty])}}}}]),i.directive("tiTranscludeAppend",function(){return function(t,e,n,i,r){r(function(t){e.append(t)})}}),i.directive("tiAutosize",["tagsInputConfig",function(t){return{restrict:"A",require:"ngModel",link:function(e,n,i,r){var o,a,s=t.getTextAutosizeThreshold();o=angular.element('<span class="input"></span>'),o.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),n.parent().append(o),a=function(t){var e,r=t;return angular.isString(r)&&0===r.length&&(r=i.placeholder),r&&(o.text(r),o.css("display",""),e=o.prop("offsetWidth"),o.css("display","none")),n.css("width",e?e+s+"px":""),t},r.$parsers.unshift(a),r.$formatters.unshift(a),i.$observe("placeholder",function(t){r.$modelValue||a(t)})}}}]),i.directive("tiBindAttrs",function(){return function(t,e,n){t.$watch(n.tiBindAttrs,function(t){angular.forEach(t,function(t,e){n.$set(e,t)})},!0)}}),i.provider("tagsInputConfig",function(){var t={},e={},n=3;this.setDefaults=function(e,n){return t[e]=n,this},this.setActiveInterpolation=function(t,n){return e[t]=n,this},this.setTextAutosizeThreshold=function(t){return n=t,this},this.$get=["$interpolate",function(i){var r={};return r[String]=function(t){return t},r[Number]=function(t){return parseInt(t,10)},r[Boolean]=function(t){return"true"===t.toLowerCase()},r[RegExp]=function(t){return new RegExp(t)},{load:function(n,o,a,s){var l=function(){return!0};o.options={},angular.forEach(s,function(s,u){var c,d,h,p,f,g;c=s[0],d=s[1],h=s[2]||l,p=r[c],f=function(){var e=t[n]&&t[n][u];return angular.isDefined(e)?e:d},g=function(t){o.options[u]=t&&h(t)?p(t):f()},e[n]&&e[n][u]?a.$observe(u,function(t){g(t),o.events.trigger("option-change",{name:u,newValue:t})}):g(a[u]&&i(a[u])(o.$parent))})},getTextAutosizeThreshold:function(){return n}}}]}),i.factory("tiUtil",["$timeout",function(t){var e={};return e.debounce=function(e,n){var i;return function(){var r=arguments;t.cancel(i),i=t(function(){e.apply(null,r)},n)}},e.makeObjectArray=function(t,e){if(!angular.isArray(t)||0===t.length||angular.isObject(t[0]))return t;var n=[];return t.forEach(function(t){var i={};i[e]=t,n.push(i)}),n},e.findInObjectArray=function(t,n,i,r){var o=null;return r=r||e.defaultComparer,t.some(function(t){if(r(t[i],n[i]))return o=t,!0}),o},e.defaultComparer=function(t,n){return e.safeToString(t).toLowerCase()===e.safeToString(n).toLowerCase()},e.safeHighlight=function(t,n){function i(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}if(!n)return t;t=e.encodeHTML(t),n=e.encodeHTML(n);var r=new RegExp("&[^;]+;|"+i(n),"gi");return t.replace(r,function(t){return t.toLowerCase()===n.toLowerCase()?"<em>"+t+"</em>":t})},e.safeToString=function(t){return angular.isUndefined(t)||null==t?"":t.toString().trim()},e.encodeHTML=function(t){return e.safeToString(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.handleUndefinedResult=function(t,e){return function(){var n=t.apply(null,arguments);return angular.isUndefined(n)?e:n}},e.replaceSpacesWithDashes=function(t){return e.safeToString(t).replace(/\s/g,"-")},e.isModifierOn=function(t){return t.shiftKey||t.ctrlKey||t.altKey||t.metaKey},e.simplePubSub=function(){var t={};return{on:function(e,n){return e.split(" ").forEach(function(e){t[e]||(t[e]=[]),t[e].push(n)}),this},trigger:function(n,i){var r=t[n]||[];return r.every(function(t){return e.handleUndefinedResult(t,!0)(i)}),this}}},e}]),i.run(["$templateCache",function(t){t.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ selected: tag == tagList.selected }" ng-click="eventHandlers.tag.click(tag)"><ti-tag-item data="::tag"></ti-tag-item></li></ul><input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize></div></div>'),t.put("ngTagsInput/tag-item.html",'<span ng-bind="$getDisplayText()"></span> <a class="remove-button" ng-click="$removeTag()" ng-bind="::$$removeTagSymbol"></a>'),t.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-if="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="{selected: item == suggestionList.selected}" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)"><ti-autocomplete-match data="::item"></ti-autocomplete-match></li></ul></div>'),t.put("ngTagsInput/auto-complete-match.html",'<span ng-bind-html="$highlight($getDisplayText())"></span>')}])}(),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function i(t,e){return N(new(N(function(){},{prototype:t})),e)}function r(t){return A(arguments,function(e){e!==t&&A(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var i in t.path){if(t.path[i]!==e.path[i])break;n.push(t.path[i])}return n}function a(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,i=Number(arguments[2])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=n);n>i;i++)if(i in t&&t[i]===e)return i;return-1}function s(t,e,n,i){var r,s=o(n,i),l={},u=[];for(var c in s)if(s[c].params&&s[c].params.length){r=s[c].params;for(var d in r)a(u,r[d])>=0||(u.push(r[d]),l[r[d]]=t[r[d]])}return N({},l,e)}function l(t,e){var n={};return A(t,function(t){var i=e[t];n[t]=null!=i?String(i):null}),n}function u(t,e,n){if(!n){n=[];for(var i in t)n.push(i)}for(var r=0;r<n.length;r++){var o=n[r];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return A(t,function(t){n[t]=e[t]}),n}function d(t,e){var i=1,o=2,a={},s=[],l=a,u=N(t.when(a),{$$promises:a,$$values:a});this.study=function(a){function c(t,n){if(f[n]!==o){if(p.push(n),f[n]===i)throw p.splice(0,p.indexOf(n)),new Error("Cyclic dependency: "+p.join(" -> "));if(f[n]=i,E(t))h.push(n,[function(){return e.get(t)}],s);else{var r=e.annotate(t);A(r,function(t){t!==n&&a.hasOwnProperty(t)&&c(a[t],t)}),h.push(n,t,r)}p.pop(),f[n]=o}}function d(t){return O(t)&&t.then&&t.$$promises}if(!O(a))throw new Error("'invocables' must be an object");var h=[],p=[],f={};return A(a,c),a=p=f=null,function(i,o,a){function s(){--y||(b||r(v,o.$$values),g.$$values=v,g.$$promises=!0,f.resolve(v))}function c(t){g.$$failure=t,f.reject(t)}function p(n,r,o){function l(t){d.reject(t),c(t)}function u(){if(!T(g.$$failure))try{d.resolve(e.invoke(r,a,v)),d.promise.then(function(t){v[n]=t,s()},l)}catch(t){l(t)}}var d=t.defer(),h=0;A(o,function(t){m.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(h++,m[t].then(function(e){v[t]=e,--h||u()},l))}),h||u(),m[n]=d.promise}if(d(i)&&a===n&&(a=o,o=i,i=null),i){if(!O(i))throw new Error("'locals' must be an object")}else i=l;if(o){if(!d(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=u;var f=t.defer(),g=f.promise,m=g.$$promises={},v=N({},i),y=1+h.length/3,b=!1;if(T(o.$$failure))return c(o.$$failure),g;o.$$values?(b=r(v,o.$$values),s()):(N(m,o.$$promises),o.then(s,c));for(var w=0,_=h.length;_>w;w+=3)i.hasOwnProperty(h[w])?s():p(h[w],h[w+1],h[w+2]);return g}},this.resolve=function(t,e,n,i){return this.study(t)(e,n,i)}}function h(t,e,n){this.fromConfig=function(t,e,n){return T(t.template)?this.fromString(t.template,e):T(t.templateUrl)?this.fromUrl(t.templateUrl,e):T(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return D(t)?t(e):t},this.fromUrl=function(n,i){return D(n)&&(n=n(i)),null==n?null:t.get(n,{cache:e}).then(function(t){return t.data})},this.fromProvider=function(t,e,i){return n.invoke(t,null,i||{params:e})}}function p(t){function e(e){if(!/^\w+(-+\w+)*$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(o[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");o[e]=!0,u.push(e)}function n(t){return t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var i,r=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,o={},a="^",s=0,l=this.segments=[],u=this.params=[];this.source=t;for(var c,d,h;(i=r.exec(t))&&(c=i[2]||i[3],d=i[4]||("*"==i[1]?".*":"[^/]*"),h=t.substring(s,i.index),!(h.indexOf("?")>=0));)a+=n(h)+"("+d+")",e(c),l.push(h),s=r.lastIndex;h=t.substring(s);var p=h.indexOf("?");if(p>=0){var f=this.sourceSearch=h.substring(p);h=h.substring(0,p),this.sourcePath=t.substring(0,s+p),A(f.substring(1).split(/[&?]/),e)}else this.sourcePath=t,this.sourceSearch="";a+=n(h)+"$",l.push(h),this.regexp=new RegExp(a),this.prefix=l[0]}function f(){this.compile=function(t){return new p(t)},this.isMatcher=function(t){return O(t)&&D(t.exec)&&D(t.format)&&D(t.concat)},this.$get=function(){return this}}function g(t){function e(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function n(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function i(t,e,n){if(!n)return!1;var i=t.invoke(e,e,{$match:n});return!T(i)||i}var r=[],o=null;this.rule=function(t){if(!D(t))throw new Error("'rule' must be a function");return r.push(t),this},this.otherwise=function(t){if(E(t)){var e=t;t=function(){return e}}else if(!D(t))throw new Error("'rule' must be a function");return o=t,this},this.when=function(r,o){var a,s=E(o);if(E(r)&&(r=t.compile(r)),!s&&!D(o)&&!P(o))throw new Error("invalid 'handler' in when()");var l={matcher:function(e,n){return s&&(a=t.compile(n),n=["$match",function(t){return a.format(t)}]),N(function(t,r){return i(t,n,e.exec(r.path(),r.search()))},{prefix:E(e.prefix)?e.prefix:""})},regex:function(t,r){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(a=r,r=["$match",function(t){return n(a,t)}]),N(function(e,n){return i(e,r,t.exec(n.path()))},{prefix:e(t)})}},u={matcher:t.isMatcher(r),regex:r instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](r,o));throw new Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function(t,e,n){function i(e){function i(e){var i=e(n,t);return!!i&&(E(i)&&t.replace().url(i),!0)}if(!e||!e.defaultPrevented){var a,s=r.length;for(a=0;s>a;a++)if(i(r[a]))return;o&&i(o)}}return e.$on("$locationChangeSuccess",i),{sync:function(){i()}}}]}function m(t,r,o){function a(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function d(t,e){var i=E(t),r=i?t:t.name,o=a(r);if(o){if(!e)throw new Error("No reference point given for path '"+r+"'");for(var s=r.split("."),l=0,u=s.length,c=e;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+r+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(l).join("."),r=c.name+(c.name&&s?".":"")+s}var d=x[r];return!d||!i&&(i||d!==t&&d.self!==t)?n:d}function h(t,e){k[t]||(k[t]=[]),k[t].push(e)}function p(e){e=i(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!E(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(x.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var r=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):E(e.parent)?e.parent:"";if(r&&!x[r])return h(r,e.self);for(var o in $)D($[o])&&(e[o]=$[o](e,$.$delegates[o]));if(x[n]=e,!e[C]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){_.$current.navigable==e&&u(t,n)||_.transitionTo(e,t,{location:!1})}]),k[n])for(var a=0;a<k[n].length;a++)p(k[n][a]);return e}function f(t){return t.indexOf("*")>-1}function g(t){var e=t.split("."),n=_.$current.name.split(".");if("**"===e[0]&&(n=n.slice(n.indexOf(e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(n.indexOf(e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length)return!1;for(var i=0,r=e.length;r>i;i++)"*"===e[i]&&(n[i]="*");return n.join("")===e.join("")}function m(t,e){return E(t)&&!T(e)?$[t]:D(e)&&E(t)?($[t]&&!$.$delegates[t]&&($.$delegates[t]=$[t]),$[t]=e,this):this}function v(t,e){return O(t)?e=t:e.name=t,p(e),this}function y(t,r,a,h,p,m,v,y,k){function $(){v.url()!==B&&(v.url(B),v.replace())}function M(t,n,i,o,s){var l=i?n:c(t.params,n),u={$stateParams:l};s.resolve=p.resolve(t.resolve,u,s.resolve,t);var d=[s.resolve.then(function(t){s.globals=t})];return o&&d.push(o),A(t.views,function(n,i){var r=n.resolve&&n.resolve!==t.resolve?n.resolve:{};r.$template=[function(){return a.load(i,{view:n,locals:u,params:l,notify:!1})||""}],d.push(p.resolve(r,u,s.resolve,t).then(function(o){if(D(n.controllerProvider)||P(n.controllerProvider)){var a=e.extend({},r,u);o.$$controller=h.invoke(n.controllerProvider,null,a)}else o.$$controller=n.controller;o.$$state=t,o.$$controllerAs=n.controllerAs,s[i]=o}))}),r.all(d).then(function(){return s})}var S=r.reject(new Error("transition superseded")),O=r.reject(new Error("transition prevented")),R=r.reject(new Error("transition aborted")),L=r.reject(new Error("transition failed")),B=v.url(),H=k.baseHref();return w.locals={resolve:null,globals:{$stateParams:{}}},_={params:{},current:w.self,$current:w,transition:null},_.reload=function(){_.transitionTo(_.current,m,{reload:!0,inherit:!1,notify:!1})},_.go=function(t,e,n){return this.transitionTo(t,e,N({inherit:!0,relative:_.$current},n))},_.transitionTo=function(e,n,o){n=n||{},o=N({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,c=_.$current,p=_.params,f=c.path,g=d(e,o.relative);if(!T(g)){var y={to:e,toParams:n,options:o};if(a=t.$broadcast("$stateNotFound",y,c.self,p),a.defaultPrevented)return $(),R;if(a.retry){if(o.$retry)return $(),L;var x=_.transition=r.when(a.retry);return x.then(function(){return x!==_.transition?S:(y.options.$retry=!0,_.transitionTo(y.to,y.toParams,y.options))},function(){return R}),$(),x}if(e=y.to,n=y.toParams,o=y.options,g=d(e,o.relative),!T(g)){if(o.relative)throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'");throw new Error("No such state '"+e+"'")}}if(g[C])throw new Error("Cannot transition to abstract state '"+e+"'");o.inherit&&(n=s(m,n||{},_.$current,g)),e=g;var k,D,E=e.path,P=w.locals,A=[];for(k=0,D=E[k];D&&D===f[k]&&u(n,p,D.ownParams)&&!o.reload;k++,D=E[k])P=A[k]=D.locals;if(b(e,c,P,o))return e.self.reloadOnSearch!==!1&&$(),_.transition=null,r.when(_.current);if(n=l(e.params,n||{}),o.notify&&(a=t.$broadcast("$stateChangeStart",e.self,n,c.self,p),a.defaultPrevented))return $(),O;for(var H=r.when(P),F=k;F<E.length;F++,D=E[F])P=A[F]=i(P),H=M(D,n,D===e,H,P);var W=_.transition=H.then(function(){var i,r,a;if(_.transition!==W)return S;for(i=f.length-1;i>=k;i--)a=f[i],a.self.onExit&&h.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(i=k;i<E.length;i++)r=E[i],r.locals=A[i],r.self.onEnter&&h.invoke(r.self.onEnter,r.self,r.locals.globals);if(_.transition!==W)return S;_.$current=e,_.current=e.self,_.params=n,I(_.params,m),_.transition=null;var s=e.navigable;return o.location&&s&&(v.url(s.url.format(s.locals.globals.$stateParams)),"replace"===o.location&&v.replace()),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,c.self,p),B=v.url(),_.current},function(i){return _.transition!==W?S:(_.transition=null,t.$broadcast("$stateChangeError",e.self,n,c.self,p,i),$(),r.reject(i))});return W},_.is=function(t,i){var r=d(t);return T(r)?_.$current===r&&(!T(i)||null===i||e.equals(m,i)):n},_.includes=function(t,i){if(E(t)&&f(t)){if(!g(t))return!1;t=_.$current.name}var r=d(t);if(!T(r))return n;if(!T(_.$current.includes[r.name]))return!1;var o=!0;return e.forEach(i,function(t,e){T(m[e])&&m[e]===t||(o=!1)}),o},_.href=function(t,e,n){n=N({lossy:!0,inherit:!1,absolute:!1,relative:_.$current},n||{});var i=d(t,n.relative);if(!T(i))return null;e=s(m,e||{},_.$current,i);var r=i&&n.lossy?i.navigable:i,a=r&&r.url?r.url.format(l(i.params,e||{})):null;return!o.html5Mode()&&a&&(a="#"+o.hashPrefix()+a),"/"!==H&&(o.html5Mode()?a=H.slice(0,-1)+a:n.absolute&&(a=H.slice(1)+a)),n.absolute&&a&&(a=v.protocol()+"://"+v.host()+(80==v.port()||443==v.port()?"":":"+v.port())+(!o.html5Mode()&&a?"/":"")+a),a},_.get=function(t,e){if(!T(t)){var n=[];return A(x,function(t){n.push(t.self)}),n}var i=d(t,e);return i&&i.self?i.self:null},_}function b(t,e,n,i){return t===e&&(n===e.locals&&!i.reload||t.self.reloadOnSearch===!1)||void 0}var w,_,x={},k={},C="abstract",$={parent:function(t){if(T(t.parent)&&t.parent)return d(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?d(e[1]):w},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=N({},t.parent.data,t.data)),t.data},url:function(t){var e=t.url;if(E(e))return"^"==e.charAt(0)?r.compile(e.substring(1)):(t.parent.navigable||w).url.concat(e);if(r.isMatcher(e)||null==e)return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'");
},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},params:function(t){if(!t.params)return t.url?t.url.parameters():t.parent.params;if(!P(t.params))throw new Error("Invalid params in state '"+t+"'");if(t.url)throw new Error("Both params and url specicified in state '"+t+"'");return t.params},views:function(t){var e={};return A(T(t.views)?t.views:{"":t},function(n,i){i.indexOf("@")<0&&(i+="@"+t.parent.name),e[i]=n}),e},ownParams:function(t){if(!t.parent)return t.params;var e={};A(t.params,function(t){e[t]=!0}),A(t.parent.params,function(n){if(!e[n])throw new Error("Missing required parameter '"+n+"' in state '"+t.name+"'");e[n]=!1});var n=[];return A(e,function(t,e){t&&n.push(e)}),n},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?N({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};w=p({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=m,this.state=v,this.$get=y,y.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter","$browser"]}function v(){function t(t,e){return{load:function(n,i){var r,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return i=N(o,i),i.view&&(r=e.fromConfig(i.view,i.params,i.locals)),r&&i.notify&&t.$broadcast("$viewContentLoading",i),r}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function y(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){n(function(){t[0].scrollIntoView()},0,!1)}}]}function b(t,n,i){function r(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function o(t,e){var n=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(l)return{enter:function(t,e,n){l.enter(t,null,e,n)},leave:function(t,e){l.leave(t,e)}};if(s){var i=s&&s(e,t);return{enter:function(t,e,n){i.enter(t,null,e),n()},leave:function(t,e){i.leave(t),e()}}}return n()}var a=r(),s=a("$animator"),l=a("$animate"),u={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,r,a){return function(n,r,s){function l(){c&&(c.remove(),c=null),h&&(h.$destroy(),h=null),d&&(m.leave(d,function(){c=null}),c=d,d=null)}function u(o){var s=n.$new(),u=d&&d.data("$uiViewName"),c=u&&t.$current&&t.$current.locals[u];if(o||c!==p){var v=a(s,function(t){m.enter(t,r,function(){(e.isDefined(g)&&!g||n.$eval(g))&&i(t)}),l()});p=t.$current.locals[v.data("$uiViewName")],d=v,h=s,h.$emit("$viewContentLoaded"),h.$eval(f)}}var c,d,h,p,f=s.onload||"",g=s.autoscroll,m=o(s,n);n.$on("$stateChangeSuccess",function(){u(!1)}),n.$on("$viewContentLoading",function(){u(!1)}),u(!0)}}};return u}function w(t,e,n){return{restrict:"ECA",priority:-400,compile:function(i){var r=i.html();return function(i,o,a){var s=a.uiView||a.name||"",l=o.inheritedData("$uiView");s.indexOf("@")<0&&(s=s+"@"+(l?l.state.name:"")),o.data("$uiViewName",s);var u=n.$current,c=u&&u.locals[s];if(c){o.data("$uiView",{name:s,state:c.$$state}),o.html(c.$template?c.$template:r);var d=t(o.contents());if(c.$$controller){c.$scope=i;var h=e(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=h),o.data("$ngControllerController",h),o.children().data("$ngControllerController",h)}d(i)}}}}}function _(t){var e=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!e||4!==e.length)throw new Error("Invalid state ref '"+t+"'");return{state:e[1],paramExpr:e[3]||null}}function x(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function k(t,n){var i=["location","inherit","reload"];return{restrict:"A",require:"?^uiSrefActive",link:function(r,o,a,s){var l=_(a.uiSref),u=null,c=x(o)||t.$current,d="FORM"===o[0].nodeName,h=d?"action":"href",p=!0,f={relative:c},g=r.$eval(a.uiSrefOpts)||{};e.forEach(i,function(t){t in g&&(f[t]=g[t])});var m=function(e){if(e&&(u=e),p){var n=t.href(l.state,u,f);return s&&s.$$setStateInfo(l.state,u),n?void(o[0][h]=n):(p=!1,!1)}};l.paramExpr&&(r.$watch(l.paramExpr,function(t){t!==u&&m(t)},!0),u=r.$eval(l.paramExpr)),m(),d||o.bind("click",function(e){var i=e.which||e.button;i>1||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target")||(n(function(){t.go(l.state,u,f)}),e.preventDefault())})}}}function C(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(i,r,o){function a(){t.$current.self===l&&s()?r.addClass(d):r.removeClass(d)}function s(){return!c||u(c,e)}var l,c,d;d=n(o.uiSrefActive||"",!1)(i),this.$$setStateInfo=function(e,n){l=t.get(e,x(r)),c=n,a()},i.$on("$stateChangeSuccess",a)}]}}function $(t){return function(e){return t.is(e)}}function M(t){return function(e){return t.includes(e)}}function S(t,e){function r(t){this.locals=t.locals.globals,this.params=this.locals.$stateParams}function o(){this.locals=null,this.params=null}function a(n,a){if(null!=a.redirectTo){var s,u=a.redirectTo;if(E(u))s=u;else{if(!D(u))throw new Error("Invalid 'redirectTo' in when()");s=function(t,e){return u(t,e.path(),e.search())}}e.when(n,s)}else t.state(i(a,{parent:null,name:"route:"+encodeURIComponent(n),url:n,onEnter:r,onExit:o}));return l.push(a),this}function s(t,e,i){function r(t){return""!==t.name?t:n}var o={routes:l,params:i,current:n};return e.$on("$stateChangeStart",function(t,n,i,o){e.$broadcast("$routeChangeStart",r(n),r(o))}),e.$on("$stateChangeSuccess",function(t,n,i,a){o.current=r(n),e.$broadcast("$routeChangeSuccess",r(n),r(a)),I(i,o.params)}),e.$on("$stateChangeError",function(t,n,i,o,a,s){e.$broadcast("$routeChangeError",r(n),r(o),s)}),o}var l=[];r.$inject=["$$state"],this.when=a,this.$get=s,s.$inject=["$state","$rootScope","$routeParams"]}var T=e.isDefined,D=e.isFunction,E=e.isString,O=e.isObject,P=e.isArray,A=e.forEach,N=e.extend,I=e.copy;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),d.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",d),h.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",h),p.prototype.concat=function(t){return new p(this.sourcePath+t+this.sourceSearch)},p.prototype.toString=function(){return this.source},p.prototype.exec=function(t,e){var n=this.regexp.exec(t);if(!n)return null;var i,r=this.params,o=r.length,a=this.segments.length-1,s={};if(a!==n.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;a>i;i++)s[r[i]]=n[i+1];for(;o>i;i++)s[r[i]]=e[r[i]];return s},p.prototype.parameters=function(){return this.params},p.prototype.format=function(t){var e=this.segments,n=this.params;if(!t)return e.join("");var i,r,o,a=e.length-1,s=n.length,l=e[0];for(i=0;a>i;i++)o=t[n[i]],null!=o&&(l+=encodeURIComponent(o)),l+=e[i+1];for(;s>i;i++)o=t[n[i]],null!=o&&(l+=(r?"&":"?")+n[i]+"="+encodeURIComponent(o),r=!0);return l},e.module("ui.router.util").provider("$urlMatcherFactory",f),g.$inject=["$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",g),m.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],e.module("ui.router.state").value("$stateParams",{}).provider("$state",m),v.$inject=[],e.module("ui.router.state").provider("$view",v),e.module("ui.router.state").provider("$uiViewScroll",y),b.$inject=["$state","$injector","$uiViewScroll"],w.$inject=["$compile","$controller","$state"],e.module("ui.router.state").directive("uiView",b),e.module("ui.router.state").directive("uiView",w),k.$inject=["$state","$timeout"],C.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",k).directive("uiSrefActive",C),$.$inject=["$state"],M.$inject=["$state"],e.module("ui.router.state").filter("isState",$).filter("includedByState",M),S.$inject=["$stateProvider","$urlRouterProvider"],e.module("ui.router.compat").provider("$route",S).directive("ngView",b)}(window,window.angular),function(){function t(t,e){window.XMLHttpRequest.prototype[t]=e(window.XMLHttpRequest.prototype[t])}function e(t,e,n,i,a,s,l){function u(){return"input"===e[0].tagName.toLowerCase()&&e.attr("type")&&"file"===e.attr("type").toLowerCase()}function c(e){if(!g){g=!0;try{for(var l=e.__files_||e.target&&e.target.files,u=[],c=[],d=0;d<l.length;d++){var h=l.item(d);o(t,a,n,h,e)?u.push(h):c.push(h)}r(a,s,t,i,n,n.ngfChange||n.ngfSelect,u,c,e),0==u.length&&(e.target.value=u)}finally{g=!1}}}function d(i){n.ngfMultiple&&i.attr("multiple",a(n.ngfMultiple)(t)),a(n.ngfMultiple)(t)||i.attr("multiple",void 0),n.accept&&i.attr("accept",n.accept),n.ngfCapture&&i.attr("capture",a(n.ngfCapture)(t));for(var r=0;r<e[0].attributes.length;r++){var o=e[0].attributes[r];(u()&&"type"!==o.name||"type"!==o.name&&"class"!==o.name&&"id"!==o.name&&"style"!==o.name)&&i.attr(o.name,o.value)}}function h(n){if(!e.attr("disabled")){var i=angular.element('<input type="file">');return d(i),u()?(e.replaceWith(i),e=i,i.attr("__ngf_gen__",!0),l(e)(t)):(i.css("visibility","hidden").css("position","absolute").css("width","1").css("height","1").css("z-index","-100000").attr("tabindex","-1"),e.__ngf_ref_elem__&&e.__ngf_ref_elem__.remove(),e.__ngf_ref_elem__=i,document.body.appendChild(i[0])),i}}function p(e){r(a,s,t,i,n,n.ngfChange||n.ngfSelect,[],[],e,!0)}function f(t){function n(){i[0].click(),u()&&(e.bind("click touchend",f),t.preventDefault())}t.preventDefault();var i=h(t);i&&(i.bind("change",c),p(t),navigator.userAgent.toLowerCase().match(/android/)?setTimeout(function(){n()},0):n())}if(!e.attr("__ngf_gen__")){var g=!1;window.FileAPI&&window.FileAPI.ngfFixIE?window.FileAPI.ngfFixIE(e,h,d,c,p):e.bind("click touchend",f)}}function n(t,e,n,a,s,l,u){function c(t,e,n){var i=!0,r=n.dataTransfer.items;if(null!=r)for(var a=0;a<r.length&&i;a++)i=i&&("file"==r[a].kind||""==r[a].kind)&&o(t,s,e,r[a],n);var l=s(e.ngfDragOverClass)(t,{$event:n});return l&&(l.delay&&(m=l.delay),l.accept&&(l=i?l.accept:l.reject)),l||e.ngfDragOverClass||"dragover"}function d(e,i,r,a){function c(i){o(t,s,n,i,e)?h.push(i):p.push(i)}function d(t,e,n){if(null!=e)if(e.isDirectory){var i=(n||"")+e.name;c({name:e.name,type:"directory",path:i});var r=e.createReader(),o=[];g++;var a=function(){r.readEntries(function(i){try{if(i.length)o=o.concat(Array.prototype.slice.call(i||[],0)),a();else{for(var r=0;r<o.length;r++)d(t,o[r],(n?n:"")+e.name+"/");g--}}catch(s){g--,console.error(s)}},function(){g--})};a()}else g++,e.file(function(t){try{g--,t.path=(n?n:"")+t.name,c(t)}catch(e){g--,console.error(e)}},function(){g--})}var h=[],p=[],f=e.dataTransfer.items,g=0;if(f&&f.length>0&&"file"!=u.protocol())for(var m=0;m<f.length;m++){if(f[m].webkitGetAsEntry&&f[m].webkitGetAsEntry()&&f[m].webkitGetAsEntry().isDirectory){var v=f[m].webkitGetAsEntry();if(v.isDirectory&&!r)continue;null!=v&&d(h,v)}else{var y=f[m].getAsFile();null!=y&&c(y)}if(!a&&h.length>0)break}else{var b=e.dataTransfer.files;if(null!=b)for(var m=0;m<b.length&&(c(b.item(m)),a||!(h.length>0));m++);}var w=0;!function _(t){l(function(){if(g)10*w++<2e4&&_(10);else{if(!a&&h.length>1){for(m=0;"directory"==h[m].type;)m++;h=[h[m]]}i(h,p)}},t||0)}()}var h=i();if(n.dropAvailable&&l(function(){t[n.dropAvailable]?t[n.dropAvailable].value=h:t[n.dropAvailable]=h}),!h)return void(1==s(n.ngfHideOnDropNotAvailable)(t)&&e.css("display","none"));var p,f=null,g=s(n.ngfStopPropagation),m=1;s(n.ngfAccept);e[0].addEventListener("dragover",function(i){if(!e.attr("disabled")){if(i.preventDefault(),g(t)&&i.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var r=i.dataTransfer.effectAllowed;i.dataTransfer.dropEffect="move"===r||"linkMove"===r?"move":"copy"}l.cancel(f),t.actualDragOverClass||(p=c(t,n,i)),e.addClass(p)}},!1),e[0].addEventListener("dragenter",function(n){e.attr("disabled")||(n.preventDefault(),g(t)&&n.stopPropagation())},!1),e[0].addEventListener("dragleave",function(){e.attr("disabled")||(f=l(function(){e.removeClass(p),p=null},m||1))},!1),e[0].addEventListener("drop",function(i){e.attr("disabled")||(i.preventDefault(),g(t)&&i.stopPropagation(),e.removeClass(p),p=null,d(i,function(e,o){r(s,l,t,a,n,n.ngfChange||n.ngfDrop,e,o,i)},0!=s(n.ngfAllowDir)(t),n.multiple||s(n.ngfMultiple)(t)))},!1)}function i(){var t=document.createElement("div");return"draggable"in t&&"ondrop"in t}function r(t,e,n,i,r,o,a,s,l,u){function c(){i&&(t(r.ngModel).assign(n,a),e(function(){i&&i.$setViewValue(null!=a&&0==a.length?null:a)})),r.ngModelRejected&&t(r.ngModelRejected).assign(n,s),o&&t(o)(n,{$files:a,$rejectedFiles:s,$event:l})}u?c():e(function(){c()})}function o(t,e,n,i,r){var o=e(n.ngfAccept)(t,{$file:i,$event:r}),s=e(n.ngfMaxSize)(t,{$file:i,$event:r})||9007199254740991,l=e(n.ngfMinSize)(t,{$file:i,$event:r})||-1;if(null!=o&&angular.isString(o)){var u=new RegExp(a(o),"gi");o=null!=i.type&&u.test(i.type.toLowerCase())||null!=i.name&&u.test(i.name.toLowerCase())}return(null==o||o)&&(null==i.size||i.size<s&&i.size>l)}function a(t){if(t.length>2&&"/"===t[0]&&"/"===t[t.length-1])return t.substring(1,t.length-1);var e=t.split(","),n="";if(e.length>1)for(var i=0;i<e.length;i++)n+="("+a(e[i])+")",i<e.length-1&&(n+="|");else 0==t.indexOf(".")&&(t="*"+t),n="^"+t.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",n=n.replace(/\\\*/g,".*").replace(/\\\?/g,".");return n}var s;window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim&&t("setRequestHeader",function(t){return function(e,n){if("__setXHR_"===e){var i=n(this);i instanceof Function&&i(this)}else t.apply(this,arguments)}});var l=angular.module("ngFileUpload",[]);l.version="4.2.1",l.service("Upload",["$http","$q","$timeout",function(t,e,n){function i(i){i.method=i.method||"POST",i.headers=i.headers||{},i.transformRequest=i.transformRequest||function(e,n){return window.ArrayBuffer&&e instanceof window.ArrayBuffer?e:t.defaults.transformRequest[0](e,n)};var r=e.defer(),o=r.promise;return i.headers.__setXHR_=function(){return function(t){t&&(i.__XHR=t,i.xhrFn&&i.xhrFn(t),t.upload.addEventListener("progress",function(t){t.config=i,r.notify?r.notify(t):o.progress_fn&&n(function(){o.progress_fn(t)})},!1),t.upload.addEventListener("load",function(t){t.lengthComputable&&(t.config=i,r.notify?r.notify(t):o.progress_fn&&n(function(){o.progress_fn(t)}))},!1))}},t(i).then(function(t){r.resolve(t)},function(t){r.reject(t)},function(t){r.notify(t)}),o.success=function(t){return o.then(function(e){t(e.data,e.status,e.headers,i)}),o},o.error=function(t){return o.then(null,function(e){t(e.data,e.status,e.headers,i)}),o},o.progress=function(t){return o.progress_fn=t,o.then(null,null,function(e){t(e)}),o},o.abort=function(){return i.__XHR&&n(function(){i.__XHR.abort()}),o},o.xhr=function(t){return i.xhrFn=function(e){return function(){e&&e.apply(o,arguments),t.apply(o,arguments)}}(i.xhrFn),o},o}this.upload=function(t){return t.headers=t.headers||{},t.headers["Content-Type"]=void 0,t.transformRequest=t.transformRequest?angular.isArray(t.transformRequest)?t.transformRequest:[t.transformRequest]:[],t.transformRequest.push(function(e){var n=new FormData,i={};for(s in t.fields)t.fields.hasOwnProperty(s)&&(i[s]=t.fields[s]);if(e&&(i.data=e),t.formDataAppender)for(s in i)i.hasOwnProperty(s)&&t.formDataAppender(n,s,i[s]);else for(s in i)if(i.hasOwnProperty(s)){var r=i[s];void 0!==r&&(angular.isDate(r)&&(r=r.toISOString()),angular.isString(r)?n.append(s,r):t.sendObjectsAsJsonBlob&&angular.isObject(r)?n.append(s,new Blob([r],{type:"application/json"})):n.append(s,JSON.stringify(r)))}if(null!=t.file){var o=t.fileFormDataName||"file";if(angular.isArray(t.file))for(var a=angular.isString(o),l=0;l<t.file.length;l++)n.append(a?o:o[l],t.file[l],t.fileName&&t.fileName[l]||t.file[l].name);else n.append(o,t.file,t.fileName||t.file.name)}return n}),i(t)},this.http=function(t){return i(t)}}]),l.directive("ngfSelect",["$parse","$timeout","$compile",function(t,n,i){return{restrict:"AEC",require:"?ngModel",link:function(r,o,a,s){e(r,o,a,s,t,n,i)}}}]),l.directive("ngfDrop",["$parse","$timeout","$location",function(t,e,i){return{restrict:"AEC",require:"?ngModel",link:function(r,o,a,s){n(r,o,a,s,t,e,i)}}}]),l.directive("ngfNoFileDrop",function(){return function(t,e){i()&&e.css("display","none")}}),l.directive("ngfDropAvailable",["$parse","$timeout",function(t,e){return function(n,r,o){if(i()){var a=t(o.ngfDropAvailable);e(function(){a(n),a.assign&&a.assign(n,!0)})}}}]),l.directive("ngfSrc",["$parse","$timeout",function(t,e){return{restrict:"AE",link:function(n,i,r,a){window.FileReader&&n.$watch(r.ngfSrc,function(a){a&&o(n,t,r,a,null)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 8")===-1||a.size<2e4)&&(!window.FileAPI||navigator.userAgent.indexOf("MSIE 9")===-1||a.size<4e6)?e(function(){var t=new FileReader;t.readAsDataURL(a),t.onload=function(t){e(function(){i.attr("src",t.target.result)})}}):i.attr("src",r.ngfDefaultSrc||"")})}}}])}(),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="highcharts-ng"),function(){"use strict";function t(t,e,n){void 0===n&&(n=0),n<0&&(n+=t.length),n<0&&(n=0);for(var i=t.length;n<i;n++)if(n in t&&t[n]===e)return n;return-1}function e(t,e,n){var i=t[e];t[e]=function(){var t=Array.prototype.slice.call(arguments);return n.apply(this,t),i?i.apply(this,t):void 0}}function n(t,e){if(angular.isArray(e)){t=angular.isArray(t)?t:[];for(var i=0;i<e.length;i++)t[i]=n(t[i]||{},e[i])}else if(angular.isObject(e)){t=angular.isObject(t)?t:{};for(var r in e)t[r]=n(t[r]||{},e[r])}else t=e;return t}function i(t,e){function n(){return i}var i=t.when(e.Highcharts);return{getHighcharts:n,ready:function(t,e){n().then(function(){t.call(e)})}}}function r(i,r){function o(e,n,i,o){var a={},s=!1,c=function(e,i){var r,o=[];if(e){var u=l(e);if(u&&!n.disableDataWatch)return!1;if(angular.forEach(e,function(t,e){o.push(t.id);var n=s.get(t.id);if(n)if(angular.equals(a[t.id],f(t)))if(void 0!==t.visible&&n.visible!==t.visible&&n.setVisible(t.visible,!1),e<i.length){var r=i[e],l=angular.copy(r),u=t.data[t.data.length-1];l.data.push(u),angular.equals(l,t)?n.addPoint(u,!1):(l.data.shift(),angular.equals(l,t)?n.addPoint(u,!1,!0):n.setData(angular.copy(t.data),!1))}else n.setData(angular.copy(t.data),!1);else n.update(angular.copy(t),!1);else s.addSeries(angular.copy(t),!1);a[t.id]=f(t)}),n.config.noData){var c=!1;for(r=0;r<e.length;r++)if(e[r].data&&e[r].data.length>0){c=!0;break}c?s.hideLoading():s.showLoading(n.config.noData)}}for(r=s.series.length-1;r>=0;r--){var d=s.series[r];"highcharts-navigator-series"!==d.options.id&&t(o,d.options.id)<0&&d.remove(!1)}return!0},m=function(){s&&s.destroy(),a={};var t=n.config||{},r=d(n,i,t),o=t.func||void 0,l=g(n);s=new e[l](r,o);for(var c=0;c<u.length;c++)t[u[c]]&&p(s,t[u[c]],u[c]);t.loading&&s.showLoading(),t.getHighcharts=function(){return s}};m(),n.disableDataWatch?n.$watchCollection("config.series",function(t,e){c(t),s.redraw()}):n.$watch("config.series",function(t,e){var n=c(t,e);n&&s.redraw()},!0),n.$watch("config.title",function(t){s.setTitle(t,!0)},!0),n.$watch("config.subtitle",function(t){s.setTitle(!0,t)},!0),n.$watch("config.loading",function(t){t?s.showLoading(t===!0?null:t):s.hideLoading()}),n.$watch("config.noData",function(t){n.config&&n.config.loading&&s.showLoading(t)},!0),n.$watch("config.credits.enabled",function(t){t?s.credits.show():s.credits&&s.credits.hide()}),n.$watch(g,function(t,e){t!==e&&m()}),angular.forEach(u,function(t){n.$watch("config."+t,function(e){if(e){if(angular.isArray(e))for(var n=0;n<e.length;n++){var i=e[n];n<s[t].length&&(s[t][n].update(i,!1),h(s[t][n],angular.copy(i)))}else s[t][0].update(e,!1),h(s[t][0],angular.copy(e));s.redraw()}},!0)}),n.$watch("config.options",function(t,e,n){t!==e&&(m(),c(n.config.series),s.redraw())},!0),n.$watch("config.size",function(t,e){t!==e&&t&&s.setSize(t.width||s.chartWidth,t.height||s.chartHeight)},!0),n.$on("highchartsng.reflow",function(){s.reflow()}),n.$on("$destroy",function(){if(s){try{s.destroy()}catch(t){}r(function(){i.remove()},0)}})}function a(t,e,n){function r(i){o(Highcharts,t,e,n)}i.getHighcharts().then(r)}var s=0,l=function(t){var e=!1;return angular.forEach(t,function(t){angular.isDefined(t.id)||(t.id="series-"+s++,e=!0)}),e},u=["xAxis","yAxis"],c={stock:"StockChart",map:"Map",chart:"Chart"},d=function(t,i,o){var a={},s={chart:{events:{}},title:{},subtitle:{},series:[],credits:{},plotOptions:{},navigator:{enabled:!1},xAxis:{events:{}},yAxis:{events:{}}};return a=o.options?n(s,o.options):s,a.chart.renderTo=i[0],angular.forEach(u,function(i){angular.isDefined(o[i])&&(a[i]=n(a[i]||{},o[i]),(angular.isDefined(o[i].currentMin)||angular.isDefined(o[i].currentMax))&&(e(a.chart.events,"selection",function(e){var n=this;e[i]?t.$apply(function(){t.config[i].currentMin=e[i][0].min,t.config[i].currentMax=e[i][0].max}):t.$apply(function(){t.config[i].currentMin=n[i][0].dataMin,t.config[i].currentMax=n[i][0].dataMax})}),e(a.chart.events,"addSeries",function(e){t.config[i].currentMin=this[i][0].min||t.config[i].currentMin,t.config[i].currentMax=this[i][0].max||t.config[i].currentMax}),e(a[i].events,"setExtremes",function(e){e.trigger&&"zoom"!==e.trigger&&r(function(){t.config[i].currentMin=e.min,t.config[i].currentMax=e.max,t.config[i].min=e.min,t.config[i].max=e.max},0)})))}),o.title&&(a.title=o.title),o.subtitle&&(a.subtitle=o.subtitle),o.credits&&(a.credits=o.credits),o.size&&(o.size.width&&(a.chart.width=o.size.width),o.size.height&&(a.chart.height=o.size.height)),a},h=function(t,e){var n=t.getExtremes();e.currentMin===n.dataMin&&e.currentMax===n.dataMax||(t.setExtremes?t.setExtremes(e.currentMin,e.currentMax,!1):t.detachedsetExtremes(e.currentMin,e.currentMax,!1))},p=function(t,e,n){(e.currentMin||e.currentMax)&&t[n][0].setExtremes(e.currentMin,e.currentMax,!0)},f=function(t){return angular.extend(n({},t),{data:null,visible:null})},g=function(t){return void 0===t.config?"Chart":c[(""+t.config.chartType).toLowerCase()]||(t.config.useHighStocks?"StockChart":"Chart")};return{restrict:"EAC",replace:!0,template:"<div></div>",scope:{config:"=",disableDataWatch:"="},link:a}}angular.module("highcharts-ng",[]).factory("highchartsNG",["$q","$window",i]).directive("highchart",["highchartsNG","$timeout",r])}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return pi.apply(null,arguments)}function e(t){pi=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return"[object Object]"===Object.prototype.toString.call(t)}function r(t){var e;for(e in t)return!1;return!0}function o(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function a(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,n,i){return me(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function d(t){return null==t._pf&&(t._pf=c()),t._pf}function h(t){if(null==t._isValid){var e=d(t),n=fi.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function p(t){var e=u(NaN);return null!=t?l(d(e),t):d(e).userInvalidated=!0,e}function f(t){return void 0===t}function g(t,e){var n,i,r;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=d(e)),f(e._locale)||(t._locale=e._locale),gi.length>0)for(n in gi)i=gi[n],r=e[i],f(r)||(t[i]=r);return t}function m(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),mi===!1&&(mi=!0,t.updateOffset(this),mi=!1)}function v(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function y(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function b(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=y(e)),n}function w(t,e,n){var i,r=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(i=0;i<r;i++)(n&&t[i]!==e[i]||!n&&b(t[i])!==b(e[i]))&&a++;return a+o}function _(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,n){var i=!0;return l(function(){return null!=t.deprecationHandler&&t.deprecationHandler(null,e),i&&(_(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),n.apply(this,arguments)},n)}function k(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),vi[e]||(_(n),vi[e]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function $(t){var e,n;for(n in t)e=t[n],C(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function M(t,e){var n,r=l({},t);for(n in e)s(e,n)&&(i(t[n])&&i(e[n])?(r[n]={},l(r[n],t[n]),l(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)s(t,n)&&!s(e,n)&&i(t[n])&&(r[n]=l({},r[n]));return r}function S(t){null!=t&&this.set(t)}function T(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return C(i)?i.call(e,n):i}function D(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function E(){return this._invalidDate}function O(t){return this._ordinal.replace("%d",t)}function P(t,e,n,i){var r=this._relativeTime[n];return C(r)?r(t,e,n,i):r.replace(/%d/i,t)}function A(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)}function N(t,e){var n=t.toLowerCase();Mi[n]=Mi[n+"s"]=Mi[e]=t}function I(t){return"string"==typeof t?Mi[t]||Mi[t.toLowerCase()]:void 0}function R(t){var e,n,i={};for(n in t)s(t,n)&&(e=I(n),e&&(i[e]=t[n]));return i}function L(t,e){Si[t]=e}function B(t){var e=[];for(var n in t)e.push({unit:n,priority:Si[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function H(e,n){return function(i){return null!=i?(W(this,e,i),t.updateOffset(this,n),this):F(this,e)}}function F(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function W(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function j(t){return t=I(t),C(this[t])?this[t]():this}function z(t,e){if("object"==typeof t){t=R(t);for(var n=B(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=I(t),C(this[t]))return this[t](e);return this}function G(t,e,n){var i=""+Math.abs(t),r=e-i.length,o=t>=0;return(o?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function V(t,e,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),t&&(Oi[t]=r),e&&(Oi[e[0]]=function(){return G(r.apply(this,arguments),e[1],e[2])}),n&&(Oi[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function U(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function q(t){var e,n,i=t.match(Ti);for(e=0,n=i.length;e<n;e++)Oi[i[e]]?i[e]=Oi[i[e]]:i[e]=U(i[e]);return function(e){var r,o="";for(r=0;r<n;r++)o+=i[r]instanceof Function?i[r].call(e,t):i[r];return o}}function Y(t,e){return t.isValid()?(e=K(e,t.localeData()),Ei[e]=Ei[e]||q(e),Ei[e](t)):t.localeData().invalidDate()}function K(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Di.lastIndex=0;i>=0&&Di.test(t);)t=t.replace(Di,n),Di.lastIndex=0,i-=1;return t}function Z(t,e,n){Ki[t]=C(e)?e:function(t,i){return t&&n?n:e}}function X(t,e){return s(Ki,t)?Ki[t](e._strict,e._locale):new RegExp(Q(t))}function Q(t){return J(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,r){return e||n||i||r}))}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=b(t)}),n=0;n<t.length;n++)Zi[t[n]]=i}function et(t,e){tt(t,function(t,n,i,r){i._w=i._w||{},e(t,i._w,i,r)})}function nt(t,e,n){null!=e&&s(Zi,t)&&Zi[t](e,n._a,n,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function rt(t,e){return n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ar).test(e)?"format":"standalone"][t.month()]}function ot(t,e){return n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ar.test(e)?"format":"standalone"][t.month()]}function at(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(r=bi.call(this._shortMonthsParse,a),r!==-1?r:null):(r=bi.call(this._longMonthsParse,a),r!==-1?r:null):"MMM"===e?(r=bi.call(this._shortMonthsParse,a),r!==-1?r:(r=bi.call(this._longMonthsParse,a),r!==-1?r:null)):(r=bi.call(this._longMonthsParse,a),r!==-1?r:(r=bi.call(this._shortMonthsParse,a),r!==-1?r:null))}function st(t,e,n){var i,r,o;if(this._monthsParseExact)return at.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function lt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=b(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function ut(e){return null!=e?(lt(this,e),t.updateOffset(this,!0),this):F(this,"Month")}function ct(){return it(this.year(),this.month())}function dt(t){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ur),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(t){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=cr),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pt(){function t(t,e){return e.length-t.length}var e,n,i=[],r=[],o=[];for(e=0;e<12;e++)n=u([2e3,e]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(t),r.sort(t),o.sort(t),e=0;e<12;e++)i[e]=J(i[e]),r[e]=J(r[e]);for(e=0;e<24;e++)o[e]=J(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ft(t){return gt(t)?366:365}function gt(t){return t%4===0&&t%100!==0||t%400===0}function mt(){return gt(this.year());
}function vt(t,e,n,i,r,o,a){var s=new Date(t,e,n,i,r,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function yt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function bt(t,e,n){var i=7+e-n,r=(7+yt(t,0,i).getUTCDay()-e)%7;return-r+i-1}function wt(t,e,n,i,r){var o,a,s=(7+n-i)%7,l=bt(t,i,r),u=1+7*(e-1)+s+l;return u<=0?(o=t-1,a=ft(o)+u):u>ft(t)?(o=t+1,a=u-ft(t)):(o=t,a=u),{year:o,dayOfYear:a}}function _t(t,e,n){var i,r,o=bt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(r=t.year()-1,i=a+xt(r,e,n)):a>xt(t.year(),e,n)?(i=a-xt(t.year(),e,n),r=t.year()+1):(r=t.year(),i=a),{week:i,year:r}}function xt(t,e,n){var i=bt(t,e,n),r=bt(t+1,e,n);return(ft(t)-i+r)/7}function kt(t){return _t(t,this._week.dow,this._week.doy).week}function Ct(){return this._week.dow}function $t(){return this._week.doy}function Mt(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function St(t){var e=_t(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Tt(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Dt(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Et(t,e){return n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function Ot(t){return this._weekdaysShort[t.day()]}function Pt(t){return this._weekdaysMin[t.day()]}function At(t,e,n){var i,r,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(r=bi.call(this._weekdaysParse,a),r!==-1?r:null):"ddd"===e?(r=bi.call(this._shortWeekdaysParse,a),r!==-1?r:null):(r=bi.call(this._minWeekdaysParse,a),r!==-1?r:null):"dddd"===e?(r=bi.call(this._weekdaysParse,a),r!==-1?r:(r=bi.call(this._shortWeekdaysParse,a),r!==-1?r:(r=bi.call(this._minWeekdaysParse,a),r!==-1?r:null))):"ddd"===e?(r=bi.call(this._shortWeekdaysParse,a),r!==-1?r:(r=bi.call(this._weekdaysParse,a),r!==-1?r:(r=bi.call(this._minWeekdaysParse,a),r!==-1?r:null))):(r=bi.call(this._minWeekdaysParse,a),r!==-1?r:(r=bi.call(this._weekdaysParse,a),r!==-1?r:(r=bi.call(this._shortWeekdaysParse,a),r!==-1?r:null)))}function Nt(t,e,n){var i,r,o;if(this._weekdaysParseExact)return At.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function It(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Tt(t,this.localeData()),this.add(t-e,"d")):e}function Rt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Lt(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Dt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Bt(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=mr),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ht(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vr),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ft(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Wt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yr),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Wt(){function t(t,e){return e.length-t.length}var e,n,i,r,o,a=[],s=[],l=[],c=[];for(e=0;e<7;e++)n=u([2e3,1]).day(e),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(t),s.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)s[e]=J(s[e]),l[e]=J(l[e]),c[e]=J(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function jt(){return this.hours()%12||12}function zt(){return this.hours()||24}function Gt(t,e){V(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Vt(t,e){return e._meridiemParse}function Ut(t){return"p"===(t+"").toLowerCase().charAt(0)}function qt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Yt(t){return t?t.toLowerCase().replace("_","-"):t}function Kt(t){for(var e,n,i,r,o=0;o<t.length;){for(r=Yt(t[o]).split("-"),e=r.length,n=Yt(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=Zt(r.slice(0,e).join("-")))return i;if(n&&n.length>=e&&w(r,n,!0)>=e-1)break;e--}o++}return null}function Zt(t){var e=null;if(!kr[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=br._abbr,require("./locale/"+t),Xt(e)}catch(n){}return kr[t]}function Xt(t,e){var n;return t&&(n=f(e)?te(t):Qt(t,e),n&&(br=n)),br._abbr}function Qt(t,e){if(null!==e){var n=xr;return e.abbr=t,null!=kr[t]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=kr[t]._config):null!=e.parentLocale&&(null!=kr[e.parentLocale]?n=kr[e.parentLocale]._config:k("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),kr[t]=new S(M(n,e)),Xt(t),kr[t]}return delete kr[t],null}function Jt(t,e){if(null!=e){var n,i=xr;null!=kr[t]&&(i=kr[t]._config),e=M(i,e),n=new S(e),n.parentLocale=kr[t],kr[t]=n,Xt(t)}else null!=kr[t]&&(null!=kr[t].parentLocale?kr[t]=kr[t].parentLocale:null!=kr[t]&&delete kr[t]);return kr[t]}function te(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return br;if(!n(t)){if(e=Zt(t))return e;t=[t]}return Kt(t)}function ee(){return yi(kr)}function ne(t){var e,n=t._a;return n&&d(t).overflow===-2&&(e=n[Qi]<0||n[Qi]>11?Qi:n[Ji]<1||n[Ji]>it(n[Xi],n[Qi])?Ji:n[tr]<0||n[tr]>24||24===n[tr]&&(0!==n[er]||0!==n[nr]||0!==n[ir])?tr:n[er]<0||n[er]>59?er:n[nr]<0||n[nr]>59?nr:n[ir]<0||n[ir]>999?ir:-1,d(t)._overflowDayOfYear&&(e<Xi||e>Ji)&&(e=Ji),d(t)._overflowWeeks&&e===-1&&(e=rr),d(t)._overflowWeekday&&e===-1&&(e=or),d(t).overflow=e),t}function ie(t){var e,n,i,r,o,a,s=t._i,l=Cr.exec(s)||$r.exec(s);if(l){for(d(t).iso=!0,e=0,n=Sr.length;e<n;e++)if(Sr[e][1].exec(l[1])){r=Sr[e][0],i=Sr[e][2]!==!1;break}if(null==r)return void(t._isValid=!1);if(l[3]){for(e=0,n=Tr.length;e<n;e++)if(Tr[e][1].exec(l[3])){o=(l[2]||" ")+Tr[e][0];break}if(null==o)return void(t._isValid=!1)}if(!i&&null!=o)return void(t._isValid=!1);if(l[4]){if(!Mr.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=r+(o||"")+(a||""),ue(t)}else t._isValid=!1}function re(e){var n=Dr.exec(e._i);return null!==n?void(e._d=new Date((+n[1]))):(ie(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ae(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function se(t){var e,n,i,r,o=[];if(!t._d){for(i=ae(t),t._w&&null==t._a[Ji]&&null==t._a[Qi]&&le(t),t._dayOfYear&&(r=oe(t._a[Xi],i[Xi]),t._dayOfYear>ft(r)&&(d(t)._overflowDayOfYear=!0),n=yt(r,0,t._dayOfYear),t._a[Qi]=n.getUTCMonth(),t._a[Ji]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=o[e]=i[e];for(;e<7;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[tr]&&0===t._a[er]&&0===t._a[nr]&&0===t._a[ir]&&(t._nextDay=!0,t._a[tr]=0),t._d=(t._useUTC?yt:vt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[tr]=24)}}function le(t){var e,n,i,r,o,a,s,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=oe(e.GG,t._a[Xi],_t(ve(),1,4).year),i=oe(e.W,1),r=oe(e.E,1),(r<1||r>7)&&(l=!0)):(o=t._locale._week.dow,a=t._locale._week.doy,n=oe(e.gg,t._a[Xi],_t(ve(),o,a).year),i=oe(e.w,1),null!=e.d?(r=e.d,(r<0||r>6)&&(l=!0)):null!=e.e?(r=e.e+o,(e.e<0||e.e>6)&&(l=!0)):r=o),i<1||i>xt(n,o,a)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(s=wt(n,i,r,o,a),t._a[Xi]=s.year,t._dayOfYear=s.dayOfYear)}function ue(e){if(e._f===t.ISO_8601)return void ie(e);e._a=[],d(e).empty=!0;var n,i,r,o,a,s=""+e._i,l=s.length,u=0;for(r=K(e._f,e._locale).match(Ti)||[],n=0;n<r.length;n++)o=r[n],i=(s.match(X(o,e))||[])[0],i&&(a=s.substr(0,s.indexOf(i)),a.length>0&&d(e).unusedInput.push(a),s=s.slice(s.indexOf(i)+i.length),u+=i.length),Oi[o]?(i?d(e).empty=!1:d(e).unusedTokens.push(o),nt(o,i,e)):e._strict&&!i&&d(e).unusedTokens.push(o);d(e).charsLeftOver=l-u,s.length>0&&d(e).unusedInput.push(s),e._a[tr]<=12&&d(e).bigHour===!0&&e._a[tr]>0&&(d(e).bigHour=void 0),d(e).parsedDateParts=e._a.slice(0),d(e).meridiem=e._meridiem,e._a[tr]=ce(e._locale,e._a[tr],e._meridiem),se(e),ne(e)}function ce(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&e<12&&(e+=12),i||12!==e||(e=0),e):e}function de(t){var e,n,i,r,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(r=0;r<t._f.length;r++)o=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[r],ue(e),h(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==i||o<i)&&(i=o,n=e));l(t,n||e)}function he(t){if(!t._d){var e=R(t._i);t._a=a([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),se(t)}}function pe(t){var e=new m(ne(fe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function fe(t){var e=t._i,i=t._f;return t._locale=t._locale||te(t._l),null===e||void 0===i&&""===e?p({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new m(ne(e)):(n(i)?de(t):o(e)?t._d=e:i?ue(t):ge(t),h(t)||(t._d=null),t))}function ge(e){var i=e._i;void 0===i?e._d=new Date(t.now()):o(i)?e._d=new Date(i.valueOf()):"string"==typeof i?re(e):n(i)?(e._a=a(i.slice(0),function(t){return parseInt(t,10)}),se(e)):"object"==typeof i?he(e):"number"==typeof i?e._d=new Date(i):t.createFromInputFallback(e)}function me(t,e,o,a,s){var l={};return"boolean"==typeof o&&(a=o,o=void 0),(i(t)&&r(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=o,l._i=t,l._f=e,l._strict=a,pe(l)}function ve(t,e,n,i){return me(t,e,n,i,!1)}function ye(t,e){var i,r;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return ve();for(i=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](i)||(i=e[r]);return i}function be(){var t=[].slice.call(arguments,0);return ye("isBefore",t)}function we(){var t=[].slice.call(arguments,0);return ye("isAfter",t)}function _e(t){var e=R(t),n=e.year||0,i=e.quarter||0,r=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=te(),this._bubble()}function xe(t){return t instanceof _e}function ke(t,e){V(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+G(~~(t/60),2)+e+G(~~t%60,2)})}function Ce(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],r=(i+"").match(Ar)||["-",0,0],o=+(60*r[1])+b(r[2]);return"+"===r[0]?o:-o}function $e(e,n){var i,r;return n._isUTC?(i=n.clone(),r=(v(e)||o(e)?e.valueOf():ve(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),t.updateOffset(i,!1),i):ve(e).local()}function Me(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Se(e,n){var i,r=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Ce(Ui,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=Me(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!n||this._changeInProgress?Ge(this,Be(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?r:Me(this):null!=e?this:NaN}function Te(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function De(t){return this.utcOffset(0,t)}function Ee(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Me(this),"m")),this}function Oe(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ce(Vi,this._i)),this}function Pe(t){return!!this.isValid()&&(t=t?ve(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Ae(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ne(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),t=fe(t),t._a){var e=t._isUTC?u(t._a):ve(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ie(){return!!this.isValid()&&!this._isUTC}function Re(){return!!this.isValid()&&this._isUTC}function Le(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Be(t,e){var n,i,r,o=t,a=null;return xe(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(a=Nr.exec(t))?(n="-"===a[1]?-1:1,o={y:0,d:b(a[Ji])*n,h:b(a[tr])*n,m:b(a[er])*n,s:b(a[nr])*n,ms:b(a[ir])*n}):(a=Ir.exec(t))?(n="-"===a[1]?-1:1,o={y:He(a[2],n),M:He(a[3],n),w:He(a[4],n),d:He(a[5],n),h:He(a[6],n),m:He(a[7],n),s:He(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=We(ve(o.from),ve(o.to)),o={},o.ms=r.milliseconds,o.M=r.months),i=new _e(o),xe(t)&&s(t,"_locale")&&(i._locale=t._locale),i}function He(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Fe(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function We(t,e){var n;return t.isValid()&&e.isValid()?(e=$e(e,t),t.isBefore(e)?n=Fe(t,e):(n=Fe(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function je(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function ze(t,e){return function(n,i){var r,o;return null===i||isNaN(+i)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),n="string"==typeof n?+n:n,r=Be(n,i),Ge(this,r,t),this}}function Ge(e,n,i,r){var o=n._milliseconds,a=je(n._days),s=je(n._months);e.isValid()&&(r=null==r||r,o&&e._d.setTime(e._d.valueOf()+o*i),a&&W(e,"Date",F(e,"Date")+a*i),s&&lt(e,F(e,"Month")+s*i),r&&t.updateOffset(e,a||s))}function Ve(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Ue(e,n){var i=e||ve(),r=$e(i,this).startOf("day"),o=t.calendarFormat(this,r)||"sameElse",a=n&&(C(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,ve(i)))}function qe(){return new m(this)}function Ye(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=I(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Ke(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=I(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Ze(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Xe(t,e){var n,i=v(t)?t:ve(t);return!(!this.isValid()||!i.isValid())&&(e=I(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Qe(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Je(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function tn(t,e,n){var i,r,o,a;return this.isValid()?(i=$e(t,this),i.isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),e=I(e),"year"===e||"month"===e||"quarter"===e?(a=en(this,i),"quarter"===e?a/=3:"year"===e&&(a/=12)):(o=this-i,a="second"===e?o/1e3:"minute"===e?o/6e4:"hour"===e?o/36e5:"day"===e?(o-r)/864e5:"week"===e?(o-r)/6048e5:o),n?a:y(a)):NaN):NaN}function en(t,e){var n,i,r=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(r,"months");return e-o<0?(n=t.clone().add(r-1,"months"),i=(e-o)/(o-n)):(n=t.clone().add(r+1,"months"),i=(e-o)/(n-o)),-(r+i)||0}function nn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function rn(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():Y(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):Y(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function on(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=Y(this,e);return this.localeData().postformat(n)}function an(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Be({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function sn(t){return this.from(ve(),t)}function ln(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Be({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function un(t){return this.to(ve(),t)}function cn(t){var e;return void 0===t?this._locale._abbr:(e=te(t),null!=e&&(this._locale=e),this)}function dn(){return this._locale}function hn(t){switch(t=I(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function pn(t){return t=I(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function fn(){return this._d.valueOf()-6e4*(this._offset||0)}function gn(){return Math.floor(this.valueOf()/1e3)}function mn(){return new Date(this.valueOf())}function vn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function yn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function bn(){return this.isValid()?this.toISOString():null}function wn(){return h(this)}function _n(){return l({},d(this))}function xn(){return d(this).overflow}function kn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Cn(t,e){V(0,[t,t.length],0,e)}function $n(t){return Dn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Mn(t){return Dn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Sn(){return xt(this.year(),1,4)}function Tn(){var t=this.localeData()._week;return xt(this.year(),t.dow,t.doy)}function Dn(t,e,n,i,r){var o;return null==t?_t(this,i,r).year:(o=xt(t,i,r),e>o&&(e=o),En.call(this,t,e,n,i,r))}function En(t,e,n,i,r){var o=wt(t,e,n,i,r),a=yt(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function On(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Pn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function An(t,e){e[ir]=b(1e3*("0."+t))}function Nn(){return this._isUTC?"UTC":""}function In(){return this._isUTC?"Coordinated Universal Time":""}function Rn(t){return ve(1e3*t)}function Ln(){return ve.apply(null,arguments).parseZone()}function Bn(t){return t}function Hn(t,e,n,i){var r=te(),o=u().set(i,e);return r[n](o,t)}function Fn(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Hn(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=Hn(t,i,n,"month");return r}function Wn(t,e,n,i){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var r=te(),o=t?r._week.dow:0;if(null!=n)return Hn(e,(n+o)%7,i,"day");var a,s=[];for(a=0;a<7;a++)s[a]=Hn(e,(a+o)%7,i,"day");return s}function jn(t,e){return Fn(t,e,"months")}function zn(t,e){return Fn(t,e,"monthsShort")}function Gn(t,e,n){return Wn(t,e,n,"weekdays")}function Vn(t,e,n){return Wn(t,e,n,"weekdaysShort")}function Un(t,e,n){return Wn(t,e,n,"weekdaysMin")}function qn(){var t=this._data;return this._milliseconds=qr(this._milliseconds),this._days=qr(this._days),this._months=qr(this._months),t.milliseconds=qr(t.milliseconds),t.seconds=qr(t.seconds),t.minutes=qr(t.minutes),t.hours=qr(t.hours),t.months=qr(t.months),t.years=qr(t.years),this}function Yn(t,e,n,i){var r=Be(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Kn(t,e){return Yn(this,t,e,1)}function Zn(t,e){return Yn(this,t,e,-1)}function Xn(t){return t<0?Math.floor(t):Math.ceil(t)}function Qn(){var t,e,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*Xn(ti(s)+a),a=0,s=0),l.milliseconds=o%1e3,t=y(o/1e3),l.seconds=t%60,e=y(t/60),l.minutes=e%60,n=y(e/60),l.hours=n%24,a+=y(n/24),r=y(Jn(a)),s+=r,a-=Xn(ti(r)),i=y(s/12),s%=12,l.days=a,l.months=s,l.years=i,this}function Jn(t){return 4800*t/146097}function ti(t){return 146097*t/4800}function ei(t){var e,n,i=this._milliseconds;if(t=I(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Jn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ti(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function ni(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*b(this._months/12)}function ii(t){return function(){return this.as(t)}}function ri(t){return t=I(t),this[t+"s"]()}function oi(t){return function(){return this._data[t]}}function ai(){return y(this.days()/7)}function si(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function li(t,e,n){var i=Be(t).abs(),r=uo(i.as("s")),o=uo(i.as("m")),a=uo(i.as("h")),s=uo(i.as("d")),l=uo(i.as("M")),u=uo(i.as("y")),c=r<co.s&&["s",r]||o<=1&&["m"]||o<co.m&&["mm",o]||a<=1&&["h"]||a<co.h&&["hh",a]||s<=1&&["d"]||s<co.d&&["dd",s]||l<=1&&["M"]||l<co.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,si.apply(null,c)}function ui(t){return void 0===t?uo:"function"==typeof t&&(uo=t,!0)}function ci(t,e){return void 0!==co[t]&&(void 0===e?co[t]:(co[t]=e,!0))}function di(t){var e=this.localeData(),n=li(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function hi(){var t,e,n,i=ho(this._milliseconds)/1e3,r=ho(this._days),o=ho(this._months);t=y(i/60),e=y(t/60),i%=60,t%=60,n=y(o/12),o%=12;var a=n,s=o,l=r,u=e,c=t,d=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(a?a+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(u||c||d?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var pi,fi;fi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var gi=t.momentProperties=[],mi=!1,vi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var yi;yi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};var bi,wi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},_i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},xi="Invalid date",ki="%d",Ci=/\d{1,2}/,$i={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Mi={},Si={},Ti=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Di=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ei={},Oi={},Pi=/\d/,Ai=/\d\d/,Ni=/\d{3}/,Ii=/\d{4}/,Ri=/[+-]?\d{6}/,Li=/\d\d?/,Bi=/\d\d\d\d?/,Hi=/\d\d\d\d\d\d?/,Fi=/\d{1,3}/,Wi=/\d{1,4}/,ji=/[+-]?\d{1,6}/,zi=/\d+/,Gi=/[+-]?\d+/,Vi=/Z|[+-]\d\d:?\d\d/gi,Ui=/Z|[+-]\d\d(?::?\d\d)?/gi,qi=/[+-]?\d+(\.\d{1,3})?/,Yi=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ki={},Zi={},Xi=0,Qi=1,Ji=2,tr=3,er=4,nr=5,ir=6,rr=7,or=8;bi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),V("MMMM",0,0,function(t){return this.localeData().months(this,t)}),N("month","M"),L("month",8),Z("M",Li),Z("MM",Li,Ai),Z("MMM",function(t,e){return e.monthsShortRegex(t)}),Z("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[Qi]=b(t)-1}),tt(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);null!=r?e[Qi]=r:d(n).invalidMonth=t});var ar=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,sr="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),lr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ur=Yi,cr=Yi;V("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),N("year","y"),L("year",1),Z("Y",Gi),Z("YY",Li,Ai),Z("YYYY",Wi,Ii),Z("YYYYY",ji,Ri),Z("YYYYYY",ji,Ri),tt(["YYYYY","YYYYYY"],Xi),tt("YYYY",function(e,n){n[Xi]=2===e.length?t.parseTwoDigitYear(e):b(e)}),tt("YY",function(e,n){n[Xi]=t.parseTwoDigitYear(e)}),tt("Y",function(t,e){e[Xi]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return b(t)+(b(t)>68?1900:2e3)};var dr=H("FullYear",!0);V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),N("week","w"),N("isoWeek","W"),L("week",5),L("isoWeek",5),Z("w",Li),Z("ww",Li,Ai),Z("W",Li),Z("WW",Li,Ai),et(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=b(t)});var hr={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),V("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),V("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),N("day","d"),N("weekday","e"),N("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),Z("d",Li),Z("e",Li),Z("E",Li),Z("dd",function(t,e){return e.weekdaysMinRegex(t)}),Z("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Z("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);null!=r?e.d=r:d(n).invalidWeekday=t}),et(["d","e","E"],function(t,e,n,i){e[i]=b(t)});var pr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),fr="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),gr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),mr=Yi,vr=Yi,yr=Yi;V("H",["HH",2],0,"hour"),V("h",["hh",2],0,jt),V("k",["kk",2],0,zt),V("hmm",0,0,function(){return""+jt.apply(this)+G(this.minutes(),2)}),V("hmmss",0,0,function(){return""+jt.apply(this)+G(this.minutes(),2)+G(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+G(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+G(this.minutes(),2)+G(this.seconds(),2)}),Gt("a",!0),Gt("A",!1),N("hour","h"),L("hour",13),Z("a",Vt),Z("A",Vt),Z("H",Li),Z("h",Li),Z("HH",Li,Ai),Z("hh",Li,Ai),Z("hmm",Bi),Z("hmmss",Hi),Z("Hmm",Bi),Z("Hmmss",Hi),tt(["H","HH"],tr),tt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),tt(["h","hh"],function(t,e,n){e[tr]=b(t),d(n).bigHour=!0}),tt("hmm",function(t,e,n){var i=t.length-2;e[tr]=b(t.substr(0,i)),e[er]=b(t.substr(i)),d(n).bigHour=!0}),tt("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[tr]=b(t.substr(0,i)),e[er]=b(t.substr(i,2)),e[nr]=b(t.substr(r)),d(n).bigHour=!0}),tt("Hmm",function(t,e,n){var i=t.length-2;e[tr]=b(t.substr(0,i)),e[er]=b(t.substr(i))}),tt("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[tr]=b(t.substr(0,i)),e[er]=b(t.substr(i,2)),e[nr]=b(t.substr(r))});var br,wr=/[ap]\.?m?\.?/i,_r=H("Hours",!0),xr={calendar:wi,longDateFormat:_i,invalidDate:xi,ordinal:ki,ordinalParse:Ci,relativeTime:$i,months:sr,monthsShort:lr,week:hr,weekdays:pr,weekdaysMin:gr,weekdaysShort:fr,meridiemParse:wr},kr={},Cr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,$r=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Mr=/Z|[+-]\d\d(?::?\d\d)?/,Sr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Tr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Dr=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=x("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Er=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),Or=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}),Pr=function(){return Date.now?Date.now():+new Date};ke("Z",":"),ke("ZZ",""),Z("Z",Ui),Z("ZZ",Ui),tt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ce(Ui,t)});var Ar=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Nr=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Ir=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
Be.fn=_e.prototype;var Rr=ze(1,"add"),Lr=ze(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Br=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Cn("gggg","weekYear"),Cn("ggggg","weekYear"),Cn("GGGG","isoWeekYear"),Cn("GGGGG","isoWeekYear"),N("weekYear","gg"),N("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),Z("G",Gi),Z("g",Gi),Z("GG",Li,Ai),Z("gg",Li,Ai),Z("GGGG",Wi,Ii),Z("gggg",Wi,Ii),Z("GGGGG",ji,Ri),Z("ggggg",ji,Ri),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=b(t)}),et(["gg","GG"],function(e,n,i,r){n[r]=t.parseTwoDigitYear(e)}),V("Q",0,"Qo","quarter"),N("quarter","Q"),L("quarter",7),Z("Q",Pi),tt("Q",function(t,e){e[Qi]=3*(b(t)-1)}),V("D",["DD",2],"Do","date"),N("date","D"),L("date",9),Z("D",Li),Z("DD",Li,Ai),Z("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],Ji),tt("Do",function(t,e){e[Ji]=b(t.match(Li)[0],10)});var Hr=H("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),N("dayOfYear","DDD"),L("dayOfYear",4),Z("DDD",Fi),Z("DDDD",Ni),tt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=b(t)}),V("m",["mm",2],0,"minute"),N("minute","m"),L("minute",14),Z("m",Li),Z("mm",Li,Ai),tt(["m","mm"],er);var Fr=H("Minutes",!1);V("s",["ss",2],0,"second"),N("second","s"),L("second",15),Z("s",Li),Z("ss",Li,Ai),tt(["s","ss"],nr);var Wr=H("Seconds",!1);V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),N("millisecond","ms"),L("millisecond",16),Z("S",Fi,Pi),Z("SS",Fi,Ai),Z("SSS",Fi,Ni);var jr;for(jr="SSSS";jr.length<=9;jr+="S")Z(jr,zi);for(jr="S";jr.length<=9;jr+="S")tt(jr,An);var zr=H("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var Gr=m.prototype;Gr.add=Rr,Gr.calendar=Ue,Gr.clone=qe,Gr.diff=tn,Gr.endOf=pn,Gr.format=on,Gr.from=an,Gr.fromNow=sn,Gr.to=ln,Gr.toNow=un,Gr.get=j,Gr.invalidAt=xn,Gr.isAfter=Ye,Gr.isBefore=Ke,Gr.isBetween=Ze,Gr.isSame=Xe,Gr.isSameOrAfter=Qe,Gr.isSameOrBefore=Je,Gr.isValid=wn,Gr.lang=Br,Gr.locale=cn,Gr.localeData=dn,Gr.max=Or,Gr.min=Er,Gr.parsingFlags=_n,Gr.set=z,Gr.startOf=hn,Gr.subtract=Lr,Gr.toArray=vn,Gr.toObject=yn,Gr.toDate=mn,Gr.toISOString=rn,Gr.toJSON=bn,Gr.toString=nn,Gr.unix=gn,Gr.valueOf=fn,Gr.creationData=kn,Gr.year=dr,Gr.isLeapYear=mt,Gr.weekYear=$n,Gr.isoWeekYear=Mn,Gr.quarter=Gr.quarters=On,Gr.month=ut,Gr.daysInMonth=ct,Gr.week=Gr.weeks=Mt,Gr.isoWeek=Gr.isoWeeks=St,Gr.weeksInYear=Tn,Gr.isoWeeksInYear=Sn,Gr.date=Hr,Gr.day=Gr.days=It,Gr.weekday=Rt,Gr.isoWeekday=Lt,Gr.dayOfYear=Pn,Gr.hour=Gr.hours=_r,Gr.minute=Gr.minutes=Fr,Gr.second=Gr.seconds=Wr,Gr.millisecond=Gr.milliseconds=zr,Gr.utcOffset=Se,Gr.utc=De,Gr.local=Ee,Gr.parseZone=Oe,Gr.hasAlignedHourOffset=Pe,Gr.isDST=Ae,Gr.isLocal=Ie,Gr.isUtcOffset=Re,Gr.isUtc=Le,Gr.isUTC=Le,Gr.zoneAbbr=Nn,Gr.zoneName=In,Gr.dates=x("dates accessor is deprecated. Use date instead.",Hr),Gr.months=x("months accessor is deprecated. Use month instead",ut),Gr.years=x("years accessor is deprecated. Use year instead",dr),Gr.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Te),Gr.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ne);var Vr=Gr,Ur=S.prototype;Ur.calendar=T,Ur.longDateFormat=D,Ur.invalidDate=E,Ur.ordinal=O,Ur.preparse=Bn,Ur.postformat=Bn,Ur.relativeTime=P,Ur.pastFuture=A,Ur.set=$,Ur.months=rt,Ur.monthsShort=ot,Ur.monthsParse=st,Ur.monthsRegex=ht,Ur.monthsShortRegex=dt,Ur.week=kt,Ur.firstDayOfYear=$t,Ur.firstDayOfWeek=Ct,Ur.weekdays=Et,Ur.weekdaysMin=Pt,Ur.weekdaysShort=Ot,Ur.weekdaysParse=Nt,Ur.weekdaysRegex=Bt,Ur.weekdaysShortRegex=Ht,Ur.weekdaysMinRegex=Ft,Ur.isPM=Ut,Ur.meridiem=qt,Xt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===b(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=x("moment.lang is deprecated. Use moment.locale instead.",Xt),t.langData=x("moment.langData is deprecated. Use moment.localeData instead.",te);var qr=Math.abs,Yr=ii("ms"),Kr=ii("s"),Zr=ii("m"),Xr=ii("h"),Qr=ii("d"),Jr=ii("w"),to=ii("M"),eo=ii("y"),no=oi("milliseconds"),io=oi("seconds"),ro=oi("minutes"),oo=oi("hours"),ao=oi("days"),so=oi("months"),lo=oi("years"),uo=Math.round,co={s:45,m:45,h:22,d:26,M:11},ho=Math.abs,po=_e.prototype;po.abs=qn,po.add=Kn,po.subtract=Zn,po.as=ei,po.asMilliseconds=Yr,po.asSeconds=Kr,po.asMinutes=Zr,po.asHours=Xr,po.asDays=Qr,po.asWeeks=Jr,po.asMonths=to,po.asYears=eo,po.valueOf=ni,po._bubble=Qn,po.get=ri,po.milliseconds=no,po.seconds=io,po.minutes=ro,po.hours=oo,po.days=ao,po.weeks=ai,po.months=so,po.years=lo,po.humanize=di,po.toISOString=hi,po.toString=hi,po.toJSON=hi,po.locale=cn,po.localeData=dn,po.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hi),po.lang=Br,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Z("x",Gi),Z("X",qi),tt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,n){n._d=new Date(b(t))}),t.version="2.14.1",e(ve),t.fn=Vr,t.min=be,t.max=we,t.now=Pr,t.utc=u,t.unix=Rn,t.months=jn,t.isDate=o,t.locale=Xt,t.invalid=p,t.duration=Be,t.isMoment=v,t.weekdays=Gn,t.parseZone=Ln,t.localeData=te,t.isDuration=xe,t.monthsShort=zn,t.weekdaysMin=Un,t.defineLocale=Qt,t.updateLocale=Jt,t.locales=ee,t.weekdaysShort=Vn,t.normalizeUnits=I,t.relativeTimeRounding=ui,t.relativeTimeThreshold=ci,t.calendarFormat=Ve,t.prototype=Vr;var fo=t;return fo}),function(t,e,n,i){"use strict";var r=e.module("ngDragDrop",[]).service("ngDragDropService",["$timeout","$parse","$q",function(o,a,s){this.draggableScope=null,this.droppableScope=null,n("head").prepend('<style type="text/css">@charset "UTF-8";.angular-dragdrop-hide{display: none !important;}</style>'),this.callEventCallback=function(t,e,i,r){function o(e){var i=e.indexOf("(")!==-1?e.indexOf("("):e.length,r=e.lastIndexOf(")")!==-1?e.lastIndexOf(")"):e.length,o=e.substring(i+1,r),s=e.indexOf(".")!==-1?e.substr(0,e.indexOf(".")):null;return s=t[s]&&"function"==typeof t[s].constructor?s:null,{callback:e.substring(s&&s.length+1||0,i),args:n.map(o&&o.split(",")||[],function(e){return[a(e)(t)]}),constructor:s}}if(e){var s=o(e),l=s.callback,u=s.constructor,c=[i,r].concat(s.args);return(t[l]||t[u][l]).apply(t[l]?t:t[u],c)}},this.invokeDrop=function(t,a,l,u){var c,d,h,p="",f="",g={},m={},v=null,y={},b={},w=null,_=this.droppableScope,x=this.draggableScope,k=null,C=[];p=t.ngattr("ng-model"),f=a.ngattr("ng-model"),c=x.$eval(p),d=_.$eval(f),w=a.find("[jqyoui-draggable]:last,[data-jqyoui-draggable]:last"),m=_.$eval(a.attr("jqyoui-droppable")||a.attr("data-jqyoui-droppable"))||[],g=x.$eval(t.attr("jqyoui-draggable")||t.attr("data-jqyoui-draggable"))||[],g.index=this.fixIndex(x,g,c),m.index=this.fixIndex(_,m,d),v=e.isArray(c)?g.index:null,y=e.isArray(c)?c[v]:c,g.deepCopy&&(y=e.copy(y)),b=e.isArray(d)&&m&&m.index!==i?d[m.index]:e.isArray(d)?{}:d,m.deepCopy&&(b=e.copy(b)),g.beforeDrop&&C.push(this.callEventCallback(x,g.beforeDrop,l,u)),s.all(C).then(e.bind(this,function(){if(g.insertInline&&p===f){if(g.index>m.index){h=c[g.index];for(var i=g.index;i>m.index;i--)d[i]=e.copy(d[i-1]),d[i-1]={},d[i][g.direction]="left";d[m.index]=h}else{h=c[g.index];for(var i=g.index;i<m.index;i++)d[i]=e.copy(d[i+1]),d[i+1]={},d[i][g.direction]="right";d[m.index]=h}this.callEventCallback(_,m.onDrop,l,u)}else g.animate===!0?(k=t.clone(),k.css({position:"absolute"}).css(t.offset()),n("body").append(k),t.addClass("angular-dragdrop-hide"),this.move(k,w.length>0?w:a,null,"fast",m,function(){k.remove()}),this.move(w.length>0&&!m.multiple?w:[],t.parent("[jqyoui-droppable],[data-jqyoui-droppable]"),r.startXY,"fast",m,e.bind(this,function(){o(e.bind(this,function(){t.css({position:"relative",left:"",top:""}).removeClass("angular-dragdrop-hide"),w.css({position:"relative",left:"",top:"",display:"none"===w.css("display")?"":w.css("display")}),this.mutateDraggable(x,m,g,p,f,b,t),this.mutateDroppable(_,m,g,f,y,v),this.callEventCallback(_,m.onDrop,l,u)}))}))):o(e.bind(this,function(){this.mutateDraggable(x,m,g,p,f,b,t),this.mutateDroppable(_,m,g,f,y,v),this.callEventCallback(_,m.onDrop,l,u)}))}))["finally"](e.bind(this,function(){this.restore(t)}))},this.move=function(e,n,r,o,a,s){if(0===e.length)return s&&t.setTimeout(function(){s()},300),!1;var l=e.css("z-index"),u=e[a.containment||"offset"](),c=n.css("display"),d=n.hasClass("ng-hide"),h=n.hasClass("angular-dragdrop-hide");null===r&&n.length>0&&((n.attr("jqyoui-draggable")||n.attr("data-jqyoui-draggable"))!==i&&n.ngattr("ng-model")!==i&&n.is(":visible")&&a&&a.multiple?(r=n[a.containment||"offset"](),a.stack===!1?r.left+=n.outerWidth(!0):r.top+=n.outerHeight(!0)):(d&&n.removeClass("ng-hide"),h&&n.removeClass("angular-dragdrop-hide"),r=n.css({visibility:"hidden",display:"block"})[a.containment||"offset"](),n.css({visibility:"",display:c}))),e.css({position:"absolute","z-index":9999}).css(u).animate(r,o,function(){d&&n.addClass("ng-hide"),h&&n.addClass("angular-dragdrop-hide"),e.css("z-index",l),s&&s()})},this.mutateDroppable=function(t,n,i,r,o,s){var l=t.$eval(r);t.dndDragItem=o,e.isArray(l)?(n&&n.index>=0?l[n.index]=o:l.push(o),i&&i.placeholder===!0&&(l[l.length-1].jqyoui_pos=s)):(a(r+" = dndDragItem")(t),i&&i.placeholder===!0&&(l.jqyoui_pos=s))},this.mutateDraggable=function(t,n,r,o,s,l,u){var c=e.equals(l,{})||!l,d=t.$eval(o);t.dndDropItem=l,r&&r.placeholder?"keep"!=r.placeholder&&(e.isArray(d)&&r.index!==i?d[r.index]=l:a(o+" = dndDropItem")(t)):e.isArray(d)?c?r&&r.placeholder!==!0&&"keep"!==r.placeholder&&d.splice(r.index,1):d[r.index]=l:(a(o+" = dndDropItem")(t),t.$parent&&a(o+" = dndDropItem")(t.$parent)),this.restore(u)},this.restore=function(t){t.css({"z-index":"",left:"",top:""})},this.fixIndex=function(t,n,r){if(n.applyFilter&&e.isArray(r)&&r.length>0){var o=t[n.applyFilter](),a=o[n.index],s=i;return r.forEach(function(t,n){e.equals(t,a)&&(s=n)}),s}return n.index}}]).directive("jqyouiDraggable",["ngDragDropService",function(t){return{require:"?jqyouiDroppable",restrict:"A",link:function(i,o,a){var s,l,u,c,d=n(o),h=function(o,h){o?(s=i.$eval(d.attr("jqyoui-draggable")||d.attr("data-jqyoui-draggable"))||{},l=i.$eval(a.jqyouiOptions)||{},d.draggable({disabled:!1}).draggable(l).draggable({start:function(e,o){t.draggableScope=i,u=n(l.helper?o.helper:this).css("z-index"),n(l.helper?o.helper:this).css("z-index",9999),r.startXY=n(this)[s.containment||"offset"](),t.callEventCallback(i,s.onStart,e,o)},stop:function(e,r){n(l.helper?r.helper:this).css("z-index",u),t.callEventCallback(i,s.onStop,e,r)},drag:function(e,n){t.callEventCallback(i,s.onDrag,e,n)}})):d.draggable({disabled:!0}),c&&e.isDefined(o)&&(e.equals(a.drag,"true")||e.equals(a.drag,"false"))&&(c(),c=null)};c=i.$watch(function(){return i.$eval(a.drag)},h),h(),d.on("$destroy",function(){d.draggable({disabled:!0}).draggable("destroy")})}}}]).directive("jqyouiDroppable",["ngDragDropService","$q",function(t,i){return{restrict:"A",priority:1,link:function(r,o,a){var s,l,u,c=n(o),d=function(o,d){o?(s=r.$eval(n(c).attr("jqyoui-droppable")||n(c).attr("data-jqyoui-droppable"))||{},l=r.$eval(a.jqyouiOptions)||{},c.droppable({disabled:!1}).droppable(l).droppable({over:function(e,n){t.callEventCallback(r,s.onOver,e,n)},out:function(e,n){t.callEventCallback(r,s.onOut,e,n)},drop:function(o,u){var c=null;c=s.beforeDrop?t.callEventCallback(r,s.beforeDrop,o,u):function(){var t=i.defer();return t.resolve(),t.promise}(),c.then(e.bind(this,function(){n(u.draggable).ngattr("ng-model")&&a.ngModel?(t.droppableScope=r,t.invokeDrop(n(u.draggable),n(this),o,u)):t.callEventCallback(r,s.onDrop,o,u)}),function(){u.draggable.animate({left:"",top:""},l.revertDuration||0)})}})):c.droppable({disabled:!0}),u&&e.isDefined(o)&&(e.equals(a.drop,"true")||e.equals(a.drop,"false"))&&(u(),u=null)};u=r.$watch(function(){return r.$eval(a.drop)},d),d(),c.on("$destroy",function(){c.droppable({disabled:!0}).droppable("destroy")})}}}]);n.fn.ngattr=function(t,e){var n=this[0];return n.getAttribute(t)||n.getAttribute("data-"+t)}}(window,window.angular,window.jQuery),function(){function t(t){function e(e,n,i,r,o,a){for(;o>=0&&o<a;o+=t){var s=r?r[o]:o;i=n(i,e[s],s,e)}return i}return function(n,i,r,o){i=b(i,o,4);var a=!M(n)&&y.keys(n),s=(a||n).length,l=t>0?0:s-1;return arguments.length<3&&(r=n[a?a[l]:l],l+=t),e(n,i,r,a,l,s)}}function e(t){return function(e,n,i){n=w(n,i);for(var r=$(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}function n(t,e,n){return function(i,r,o){var a=0,s=$(i);if("number"==typeof o)t>0?a=o>=0?o:Math.max(o+s,a):s=o>=0?Math.min(o+1,s):o+s+1;else if(n&&o&&s)return o=n(i,r),i[o]===r?o:-1;if(r!==r)return o=e(c.call(i,a,s),y.isNaN),o>=0?o+a:-1;for(o=t>0?a:s-1;o>=0&&o<s;o+=t)if(i[o]===r)return o;return-1}}function i(t,e){var n=O.length,i=t.constructor,r=y.isFunction(i)&&i.prototype||s,o="constructor";for(y.has(t,o)&&!y.contains(e,o)&&e.push(o);n--;)o=O[n],o in t&&t[o]!==r[o]&&!y.contains(e,o)&&e.push(o)}var r=this,o=r._,a=Array.prototype,s=Object.prototype,l=Function.prototype,u=a.push,c=a.slice,d=s.toString,h=s.hasOwnProperty,p=Array.isArray,f=Object.keys,g=l.bind,m=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):r._=y,y.VERSION="1.8.3";var b=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}},w=function(t,e,n){return null==t?y.identity:y.isFunction(t)?b(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return w(t,e,1/0)};var _=function(t,e){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],a=t(o),s=a.length,l=0;l<s;l++){var u=a[l];e&&void 0!==n[u]||(n[u]=o[u])}return n}},x=function(t){if(!y.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},k=function(t){return function(e){return null==e?void 0:e[t]}},C=Math.pow(2,53)-1,$=k("length"),M=function(t){var e=$(t);return"number"==typeof e&&e>=0&&e<=C};y.each=y.forEach=function(t,e,n){e=b(e,n);var i,r;if(M(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=y.keys(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t},y.map=y.collect=function(t,e,n){e=w(e,n);for(var i=!M(t)&&y.keys(t),r=(i||t).length,o=Array(r),a=0;a<r;a++){var s=i?i[a]:a;o[a]=e(t[s],s,t)}return o},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var i;if(i=M(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==i&&i!==-1)return t[i]},y.filter=y.select=function(t,e,n){var i=[];return e=w(e,n),y.each(t,function(t,n,r){e(t,n,r)&&i.push(t)}),i},y.reject=function(t,e,n){return y.filter(t,y.negate(w(e)),n)},y.every=y.all=function(t,e,n){e=w(e,n);for(var i=!M(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,n){e=w(e,n);for(var i=!M(t)&&y.keys(t),r=(i||t).length,o=0;o<r;o++){var a=i?i[o]:o;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,i){return M(t)||(t=y.values(t)),("number"!=typeof n||i)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),i=y.isFunction(e);return y.map(t,function(t){var r=i?e:t[e];return null==r?r:r.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var i,r,o=-(1/0),a=-(1/0);if(null==e&&null!=t){t=M(t)?t:y.values(t);for(var s=0,l=t.length;s<l;s++)i=t[s],i>o&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(r>a||r===-(1/0)&&o===-(1/0))&&(o=t,a=r)});return o},y.min=function(t,e,n){var i,r,o=1/0,a=1/0;if(null==e&&null!=t){t=M(t)?t:y.values(t);for(var s=0,l=t.length;s<l;s++)i=t[s],i<o&&(o=i)}else e=w(e,n),y.each(t,function(t,n,i){r=e(t,n,i),(r<a||r===1/0&&o===1/0)&&(o=t,a=r)});return o},y.shuffle=function(t){for(var e,n=M(t)?t:y.values(t),i=n.length,r=Array(i),o=0;o<i;o++)e=y.random(0,o),e!==o&&(r[o]=r[e]),r[e]=n[o];return r},y.sample=function(t,e,n){return null==e||n?(M(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=w(e,n),y.pluck(y.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index}),"value")};var S=function(t){return function(e,n,i){var r={};return n=w(n,i),y.each(e,function(i,o){var a=n(i,o,e);t(r,i,a)}),r}};y.groupBy=S(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=S(function(t,e,n){t[n]=e}),y.countBy=S(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):M(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:M(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=w(e,n);var i=[],r=[];return y.each(t,function(t,n,o){(e(t,n,o)?i:r).push(t)}),[i,r]},y.first=y.head=y.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var T=function(t,e,n,i){for(var r=[],o=0,a=i||0,s=$(t);a<s;a++){var l=t[a];if(M(l)&&(y.isArray(l)||y.isArguments(l))){e||(l=T(l,e,n));var u=0,c=l.length;for(r.length+=c;u<c;)r[o++]=l[u++]}else n||(r[o++]=l)}return r};y.flatten=function(t,e){return T(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,i){y.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=w(n,i));for(var r=[],o=[],a=0,s=$(t);a<s;a++){var l=t[a],u=n?n(l,a,t):l;e?(a&&o===u||r.push(l),o=u):n?y.contains(o,u)||(o.push(u),r.push(l)):y.contains(r,l)||r.push(l)}return r},y.union=function(){return y.uniq(T(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,i=0,r=$(t);i<r;i++){var o=t[i];if(!y.contains(e,o)){for(var a=1;a<n&&y.contains(arguments[a],o);a++);a===n&&e.push(o)}}return e},y.difference=function(t){var e=T(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,$).length||0,n=Array(e),i=0;i<e;i++)n[i]=y.pluck(t,i);return n},y.object=function(t,e){for(var n={},i=0,r=$(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,i){n=w(n,i,1);for(var r=n(e),o=0,a=$(t);o<a;){var s=Math.floor((o+a)/2);n(t[s])<r?o=s+1:a=s}return o},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r};var D=function(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=x(t.prototype),a=t.apply(o,r);return y.isObject(a)?a:o};y.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return D(t,i,e,this,n.concat(c.call(arguments)))};return i},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var i=0,r=e.length,o=Array(r),a=0;a<r;a++)o[a]=e[a]===y?arguments[i++]:e[a];for(;i<arguments.length;)o.push(arguments[i++]);return D(t,n,this,this,o)};return n},y.bindAll=function(t){var e,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(e=1;e<i;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(i){var r=n.cache,o=""+(e?e.apply(this,arguments):i);return y.has(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var i,r,o,a=null,s=0;n||(n={});var l=function(){s=n.leading===!1?0:y.now(),a=null,o=t.apply(i,r),a||(i=r=null)};return function(){var u=y.now();s||n.leading!==!1||(s=u);var c=e-(u-s);return i=this,r=arguments,c<=0||c>e?(a&&(clearTimeout(a),a=null),s=u,o=t.apply(i,r),a||(i=r=null)):a||n.trailing===!1||(a=setTimeout(l,c)),o}},y.debounce=function(t,e,n){var i,r,o,a,s,l=function(){var u=y.now()-a;u<e&&u>=0?i=setTimeout(l,e-u):(i=null,n||(s=t.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,a=y.now();var u=n&&!i;return i||(i=setTimeout(l,e)),u&&(s=t.apply(o,r),o=r=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},y.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}},y.once=y.partial(y.before,2);var E=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(f)return f(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return E&&i(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return E&&i(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i},y.mapObject=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=r.length,a={},s=0;s<o;s++)i=r[s],a[i]=e(t[i],i,t);return a},y.pairs=function(t){for(var e=y.keys(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i},y.invert=function(t){for(var e={},n=y.keys(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=_(y.allKeys),y.extendOwn=y.assign=_(y.keys),y.findKey=function(t,e,n){e=w(e,n);for(var i,r=y.keys(t),o=0,a=r.length;o<a;o++)if(i=r[o],e(t[i],i,t))return i},y.pick=function(t,e,n){var i,r,o={},a=t;if(null==a)return o;y.isFunction(e)?(r=y.allKeys(a),i=b(e,n)):(r=T(arguments,!1,!1,1),i=function(t,e,n){return e in n},a=Object(a));for(var s=0,l=r.length;s<l;s++){var u=r[s],c=a[u];i(c,u,a)&&(o[u]=c)}return o},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var i=y.map(T(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(i,e)}}return y.pick(t,e,n)},y.defaults=_(y.allKeys,!0),y.create=function(t,e){var n=x(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var a=n[o];if(e[a]!==r[a]||!(a in r))return!1}return!0};var P=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var r=d.call(t);if(r!==d.call(e))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var o="[object Array]"===r;if(!o){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if(l=t.length,l!==e.length)return!1;for(;l--;)if(!P(t[l],e[l],n,i))return!1}else{var u,c=y.keys(t);if(l=c.length,y.keys(e).length!==l)return!1;for(;l--;)if(u=c[l],!y.has(e,u)||!P(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0};y.isEqual=function(t,e){return P(t,e)},y.isEmpty=function(t){return null==t||(M(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length)},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=p||function(t){return"[object Array]"===d.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&h.call(t,e)},y.noConflict=function(){return r._=o,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=k,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var i=Array(Math.max(0,t));e=b(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},N=y.invert(A),I=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}};y.escape=I(A),y.unescape=I(N),y.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),y.isFunction(i)?i.call(t):i};var R=0;y.uniqueId=function(t){var e=++R+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,F=function(t){return"\\"+B[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var i=RegExp([(e.escape||L).source,(e.interpolate||L).source,(e.evaluate||L).source].join("|")+"|$","g"),r=0,o="__p+='";t.replace(i,function(e,n,i,a,s){return o+=t.slice(r,s).replace(H,F),r=s+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),e}),o+="';\n",e.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var a=new Function(e.variable||"obj","_",o)}catch(s){throw s.source=o,s}var l=function(t){return a.call(this,t,y)},u=e.variable||"obj";return l.source="function("+u+"){\n"+o+"}",l},y.chain=function(t){var e=y(t);return e._chain=!0,e};var W=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return u.apply(t,arguments),W(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],W(this,n)}}),y.each(["concat","join","slice"],function(t){var e=a[t];y.prototype[t]=function(){return W(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),function(){function t(t,e){return t.set(e[0],e[1]),t}function e(t,e){return t.add(e),t}function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function i(t,e,n,i){for(var r=-1,o=t?t.length:0;++r<o;){var a=t[r];e(i,a,n(a),t)}return i}function r(t,e){for(var n=-1,i=t?t.length:0;++n<i&&e(t[n],n,t)!==!1;);return t}function o(t,e){for(var n=t?t.length:0;n--&&e(t[n],n,t)!==!1;);return t}function a(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(!e(t[n],n,t))return!1;return!0}function s(t,e){for(var n=-1,i=t?t.length:0,r=0,o=[];++n<i;){var a=t[n];e(a,n,t)&&(o[r++]=a)}return o}function l(t,e){var n=t?t.length:0;return!!n&&b(t,e,0)>-1}function u(t,e,n){for(var i=-1,r=t?t.length:0;++i<r;)if(n(e,t[i]))return!0;return!1}function c(t,e){for(var n=-1,i=t?t.length:0,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function d(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function h(t,e,n,i){var r=-1,o=t?t.length:0;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function p(t,e,n,i){var r=t?t.length:0;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function f(t,e){for(var n=-1,i=t?t.length:0;++n<i;)if(e(t[n],n,t))return!0;return!1}function g(t){return t.split("")}function m(t){return t.match(Te)||[]}function v(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function y(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function b(t,e,n){if(e!==e)return y(t,_,n);for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function w(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function _(t){return t!==t}function x(t,e){var n=t?t.length:0;return n?S(t,e)/n:St}function k(t){return function(e){return null==e?J:e[t]}}function C(t){return function(e){return null==t?J:t[e]}}function $(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function M(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function S(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==J&&(n=n===J?o:n+o)}return n}function T(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function D(t,e){return c(e,function(e){return[e,t[e]]})}function E(t){return function(e){return t(e)}}function O(t,e){return c(e,function(e){return t[e]})}function P(t,e){return t.has(e)}function A(t,e){for(var n=-1,i=t.length;++n<i&&b(e,t[n],0)>-1;);return n}function N(t,e){for(var n=t.length;n--&&b(e,t[n],0)>-1;);return n}function I(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&i++;return i}function R(t){return"\\"+Bn[t]}function L(t,e){return null==t?J:t[e]}function B(t){return Dn.test(t)}function H(t){return En.test(t)}function F(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function W(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function j(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function z(t,e){return function(n){return t(e(n))}}function G(t,e){
for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n];a!==e&&a!==rt||(t[n]=rt,o[r++]=n)}return o}function V(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function U(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function q(t){return B(t)?K(t):ei(t)}function Y(t){return B(t)?Z(t):g(t)}function K(t){for(var e=Sn.lastIndex=0;Sn.test(t);)e++;return e}function Z(t){return t.match(Sn)||[]}function X(t){return t.match(Tn)||[]}function Q(g){function C(t){if(Ls(t)&&!jd(t)&&!(t instanceof Te)){if(t instanceof Z)return t;if(Ku.call(t,"__wrapped__"))return Ao(t)}return new Z(t)}function K(){}function Z(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=J}function Te(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Tt,this.__views__=[]}function We(){var t=new Te(this.__wrapped__);return t.__actions__=Cr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Cr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Cr(this.__views__),t}function je(){if(this.__filtered__){var t=new Te(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function ze(){var t=this.__wrapped__.value(),e=this.__dir__,n=jd(t),i=e<0,r=n?t.length:0,o=so(0,r,this.__views__),a=o.start,s=o.end,l=s-a,u=i?s:a-1,c=this.__iteratees__,d=c.length,h=0,p=_c(l,this.__takeCount__);if(!n||r<et||r==l&&p==l)return or(t,this.__actions__);var f=[];t:for(;l--&&h<p;){u+=e;for(var g=-1,m=t[u];++g<d;){var v=c[g],y=v.iteratee,b=v.type,w=y(m);if(b==xt)m=w;else if(!w){if(b==_t)continue t;break t}}f[h++]=m}return f}function Ge(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ve(){this.__data__=Ec?Ec(null):{}}function Ue(t){return this.has(t)&&delete this.__data__[t]}function qe(t){var e=this.__data__;if(Ec){var n=e[t];return n===it?J:n}return Ku.call(e,t)?e[t]:J}function Ye(t){var e=this.__data__;return Ec?e[t]!==J:Ku.call(e,t)}function Ke(t,e){var n=this.__data__;return n[t]=Ec&&e===J?it:e,this}function Ze(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Xe(){this.__data__=[]}function Qe(t){var e=this.__data__,n=xn(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():lc.call(e,n,1),!0}function Je(t){var e=this.__data__,n=xn(e,t);return n<0?J:e[n][1]}function tn(t){return xn(this.__data__,t)>-1}function en(t,e){var n=this.__data__,i=xn(n,t);return i<0?n.push([t,e]):n[i][1]=e,this}function nn(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function rn(){this.__data__={hash:new Ge,map:new(Mc||Ze),string:new Ge}}function on(t){return ro(this,t)["delete"](t)}function an(t){return ro(this,t).get(t)}function sn(t){return ro(this,t).has(t)}function ln(t,e){return ro(this,t).set(t,e),this}function un(t){var e=-1,n=t?t.length:0;for(this.__data__=new nn;++e<n;)this.add(t[e])}function cn(t){return this.__data__.set(t,it),this}function dn(t){return this.__data__.has(t)}function hn(t){this.__data__=new Ze(t)}function pn(){this.__data__=new Ze}function fn(t){return this.__data__["delete"](t)}function gn(t){return this.__data__.get(t)}function mn(t){return this.__data__.has(t)}function vn(t,e){var n=this.__data__;if(n instanceof Ze){var i=n.__data__;if(!Mc||i.length<et-1)return i.push([t,e]),this;n=this.__data__=new nn(i)}return n.set(t,e),this}function yn(t,e){var n=jd(t)||ks(t)?T(t.length,Wu):[],i=n.length,r=!!i;for(var o in t)!e&&!Ku.call(t,o)||r&&("length"==o||mo(o,i))||n.push(o);return n}function bn(t,e,n,i){return t===J||xs(t,Vu[n])&&!Ku.call(i,n)?e:t}function wn(t,e,n){(n===J||xs(t[e],n))&&("number"!=typeof e||n!==J||e in t)||(t[e]=n)}function _n(t,e,n){var i=t[e];Ku.call(t,e)&&xs(i,n)&&(n!==J||e in t)||(t[e]=n)}function xn(t,e){for(var n=t.length;n--;)if(xs(t[n][0],e))return n;return-1}function kn(t,e,n,i){return zc(t,function(t,r,o){e(i,t,n(t),o)}),i}function Cn(t,e){return t&&$r(e,yl(e),t)}function Sn(t,e){for(var n=-1,i=null==t,r=e.length,o=Nu(r);++n<r;)o[n]=i?J:gl(t,e[n]);return o}function Tn(t,e,n){return t===t&&(n!==J&&(t=t<=n?t:n),e!==J&&(t=t>=e?t:e)),t}function Dn(t,e,n,i,o,a,s){var l;if(i&&(l=a?i(t,o,a,s):i(t)),l!==J)return l;if(!Rs(t))return t;var u=jd(t);if(u){if(l=co(t),!e)return Cr(t,l)}else{var c=Jc(t),d=c==Lt||c==Bt;if(Gd(t))return hr(t,e);if(c==Wt||c==Pt||d&&!a){if(F(t))return a?t:{};if(l=ho(d?{}:t),!e)return Mr(t,Cn(l,t))}else{if(!Nn[c])return a?t:{};l=po(t,c,Dn,e)}}s||(s=new hn);var h=s.get(t);if(h)return h;if(s.set(t,l),!u)var p=n?Jr(t):yl(t);return r(p||t,function(r,o){p&&(o=r,r=t[o]),_n(l,o,Dn(r,e,n,i,o,t,s))}),l}function En(t){var e=yl(t);return function(n){return In(n,t,e)}}function In(t,e,n){var i=n.length;if(null==t)return!i;for(t=Hu(t);i--;){var r=n[i],o=e[r],a=t[r];if(a===J&&!(r in t)||!o(a))return!1}return!0}function Rn(t){return Rs(t)?ac(t):{}}function Ln(t,e,n){if("function"!=typeof t)throw new ju(nt);return nd(function(){t.apply(J,n)},e)}function Bn(t,e,n,i){var r=-1,o=l,a=!0,s=t.length,d=[],h=e.length;if(!s)return d;n&&(e=c(e,E(n))),i?(o=u,a=!1):e.length>=et&&(o=P,a=!1,e=new un(e));t:for(;++r<s;){var p=t[r],f=n?n(p):p;if(p=i||0!==p?p:0,a&&f===f){for(var g=h;g--;)if(e[g]===f)continue t;d.push(p)}else o(e,f,i)||d.push(p)}return d}function Wn(t,e){var n=!0;return zc(t,function(t,i,r){return n=!!e(t,i,r)}),n}function jn(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],a=e(o);if(null!=a&&(s===J?a===a&&!Ys(a):n(a,s)))var s=a,l=o}return l}function Gn(t,e,n,i){var r=t.length;for(n=tl(n),n<0&&(n=-n>r?0:r+n),i=i===J||i>r?r:tl(i),i<0&&(i+=r),i=n>i?0:el(i);n<i;)t[n++]=e;return t}function Vn(t,e){var n=[];return zc(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function qn(t,e,n,i,r){var o=-1,a=t.length;for(n||(n=go),r||(r=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?qn(s,e-1,n,i,r):d(r,s):i||(r[r.length]=s)}return r}function Yn(t,e){return t&&Vc(t,e,yl)}function ei(t,e){return t&&Uc(t,e,yl)}function ai(t,e){return s(e,function(e){return As(t[e])})}function si(t,e){e=yo(e,t)?[e]:cr(e);for(var n=0,i=e.length;null!=t&&n<i;)t=t[Eo(e[n++])];return n&&n==i?t:J}function li(t,e,n){var i=e(t);return jd(t)?i:d(i,n(t))}function ui(t){return Qu.call(t)}function ci(t,e){return t>e}function di(t,e){return null!=t&&Ku.call(t,e)}function hi(t,e){return null!=t&&e in Hu(t)}function pi(t,e,n){return t>=_c(e,n)&&t<wc(e,n)}function fi(t,e,n){for(var i=n?u:l,r=t[0].length,o=t.length,a=o,s=Nu(o),d=1/0,h=[];a--;){var p=t[a];a&&e&&(p=c(p,E(e))),d=_c(p.length,d),s[a]=!n&&(e||r>=120&&p.length>=120)?new un(a&&p):J}p=t[0];var f=-1,g=s[0];t:for(;++f<r&&h.length<d;){var m=p[f],v=e?e(m):m;if(m=n||0!==m?m:0,!(g?P(g,v):i(h,v,n))){for(a=o;--a;){var y=s[a];if(!(y?P(y,v):i(t[a],v,n)))continue t}g&&g.push(v),h.push(m)}}return h}function gi(t,e,n,i){return Yn(t,function(t,r,o){e(i,n(t),r,o)}),i}function mi(t,e,i){yo(e,t)||(e=cr(e),t=To(t,e),e=Qo(e));var r=null==t?t:t[Eo(e)];return null==r?J:n(r,t,i)}function vi(t){return Ls(t)&&Qu.call(t)==Kt}function yi(t){return Ls(t)&&Qu.call(t)==It}function bi(t,e,n,i,r){return t===e||(null==t||null==e||!Rs(t)&&!Ls(e)?t!==t&&e!==e:wi(t,e,bi,n,i,r))}function wi(t,e,n,i,r,o){var a=jd(t),s=jd(e),l=At,u=At;a||(l=Jc(t),l=l==Pt?Wt:l),s||(u=Jc(e),u=u==Pt?Wt:u);var c=l==Wt&&!F(t),d=u==Wt&&!F(e),h=l==u;if(h&&!c)return o||(o=new hn),a||Kd(t)?Zr(t,e,n,i,r,o):Xr(t,e,l,n,i,r,o);if(!(r&mt)){var p=c&&Ku.call(t,"__wrapped__"),f=d&&Ku.call(e,"__wrapped__");if(p||f){var g=p?t.value():t,m=f?e.value():e;return o||(o=new hn),n(g,m,i,r,o)}}return!!h&&(o||(o=new hn),Qr(t,e,n,i,r,o))}function _i(t){return Ls(t)&&Jc(t)==Ht}function xi(t,e,n,i){var r=n.length,o=r,a=!i;if(null==t)return!o;for(t=Hu(t);r--;){var s=n[r];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<o;){s=n[r];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===J&&!(l in t))return!1}else{var d=new hn;if(i)var h=i(u,c,l,t,e,d);if(!(h===J?bi(c,u,i,gt|mt,d):h))return!1}}return!0}function ki(t){if(!Rs(t)||_o(t))return!1;var e=As(t)||F(t)?tc:Ie;return e.test(Oo(t))}function Ci(t){return Rs(t)&&Qu.call(t)==zt}function $i(t){return Ls(t)&&Jc(t)==Gt}function Mi(t){return Ls(t)&&Is(t.length)&&!!An[Qu.call(t)]}function Si(t){return"function"==typeof t?t:null==t?lu:"object"==typeof t?jd(t)?Ai(t[0],t[1]):Pi(t):mu(t)}function Ti(t){if(!xo(t))return bc(t);var e=[];for(var n in Hu(t))Ku.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Di(t){if(!Rs(t))return So(t);var e=xo(t),n=[];for(var i in t)("constructor"!=i||!e&&Ku.call(t,i))&&n.push(i);return n}function Ei(t,e){return t<e}function Oi(t,e){var n=-1,i=Cs(t)?Nu(t.length):[];return zc(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Pi(t){var e=oo(t);return 1==e.length&&e[0][2]?Co(e[0][0],e[0][1]):function(n){return n===t||xi(n,t,e)}}function Ai(t,e){return yo(t)&&ko(e)?Co(Eo(t),e):function(n){var i=gl(n,t);return i===J&&i===e?vl(n,t):bi(e,i,J,gt|mt)}}function Ni(t,e,n,i,o){if(t!==e){if(!jd(e)&&!Kd(e))var a=Di(e);r(a||e,function(r,s){if(a&&(s=r,r=e[s]),Rs(r))o||(o=new hn),Ii(t,e,s,n,Ni,i,o);else{var l=i?i(t[s],r,s+"",t,e,o):J;l===J&&(l=r),wn(t,s,l)}})}}function Ii(t,e,n,i,r,o,a){var s=t[n],l=e[n],u=a.get(l);if(u)return void wn(t,n,u);var c=o?o(s,l,n+"",t,e,a):J,d=c===J;d&&(c=l,jd(l)||Kd(l)?jd(s)?c=s:$s(s)?c=Cr(s):(d=!1,c=Dn(l,!0)):Vs(l)||ks(l)?ks(s)?c=il(s):!Rs(s)||i&&As(s)?(d=!1,c=Dn(l,!0)):c=s:d=!1),d&&(a.set(l,c),r(c,l,i,o,a),a["delete"](l)),wn(t,n,c)}function Ri(t,e){var n=t.length;if(n)return e+=e<0?n:0,mo(e,n)?t[e]:J}function Li(t,e,n){var i=-1;e=c(e.length?e:[lu],E(io()));var r=Oi(t,function(t,n,r){var o=c(e,function(e){return e(t)});return{criteria:o,index:++i,value:t}});return M(r,function(t,e){return _r(t,e,n)})}function Bi(t,e){return t=Hu(t),Hi(t,e,function(e,n){return n in t})}function Hi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var a=e[i],s=t[a];n(s,a)&&(o[a]=s)}return o}function Fi(t){return function(e){return si(e,t)}}function Wi(t,e,n,i){var r=i?w:b,o=-1,a=e.length,s=t;for(t===e&&(e=Cr(e)),n&&(s=c(t,E(n)));++o<a;)for(var l=0,u=e[o],d=n?n(u):u;(l=r(s,d,l,i))>-1;)s!==t&&lc.call(s,l,1),lc.call(t,l,1);return t}function ji(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;if(mo(r))lc.call(t,r,1);else if(yo(r,t))delete t[Eo(r)];else{var a=cr(r),s=To(t,a);null!=s&&delete s[Eo(Qo(a))]}}}return t}function zi(t,e){return t+fc(kc()*(e-t+1))}function Gi(t,e,n,i){for(var r=-1,o=wc(pc((e-t)/(n||1)),0),a=Nu(o);o--;)a[i?o:++r]=t,t+=n;return a}function Vi(t,e){var n="";if(!t||e<1||e>$t)return n;do e%2&&(n+=t),e=fc(e/2),e&&(t+=t);while(e);return n}function Ui(t,e){return e=wc(e===J?t.length-1:e,0),function(){for(var i=arguments,r=-1,o=wc(i.length-e,0),a=Nu(o);++r<o;)a[r]=i[e+r];r=-1;for(var s=Nu(e+1);++r<e;)s[r]=i[r];return s[e]=a,n(t,this,s)}}function qi(t,e,n,i){if(!Rs(t))return t;e=yo(e,t)?[e]:cr(e);for(var r=-1,o=e.length,a=o-1,s=t;null!=s&&++r<o;){var l=Eo(e[r]),u=n;if(r!=a){var c=s[l];u=i?i(c,l,s):J,u===J&&(u=Rs(c)?c:mo(e[r+1])?[]:{})}_n(s,l,u),s=s[l]}return t}function Yi(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Nu(r);++i<r;)o[i]=t[i+e];return o}function Ki(t,e){var n;return zc(t,function(t,i,r){return n=e(t,i,r),!n}),!!n}function Zi(t,e,n){var i=0,r=t?t.length:i;if("number"==typeof e&&e===e&&r<=Et){for(;i<r;){var o=i+r>>>1,a=t[o];null!==a&&!Ys(a)&&(n?a<=e:a<e)?i=o+1:r=o}return r}return Xi(t,e,lu,n)}function Xi(t,e,n,i){e=n(e);for(var r=0,o=t?t.length:0,a=e!==e,s=null===e,l=Ys(e),u=e===J;r<o;){var c=fc((r+o)/2),d=n(t[c]),h=d!==J,p=null===d,f=d===d,g=Ys(d);if(a)var m=i||f;else m=u?f&&(i||h):s?f&&h&&(i||!p):l?f&&h&&!p&&(i||!g):!p&&!g&&(i?d<=e:d<e);m?r=c+1:o=c}return _c(o,Dt)}function Qi(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var a=t[n],s=e?e(a):a;if(!n||!xs(s,l)){var l=s;o[r++]=0===a?0:a}}return o}function Ji(t){return"number"==typeof t?t:Ys(t)?St:+t}function tr(t){if("string"==typeof t)return t;if(Ys(t))return jc?jc.call(t):"";var e=t+"";return"0"==e&&1/t==-Ct?"-0":e}function er(t,e,n){var i=-1,r=l,o=t.length,a=!0,s=[],c=s;if(n)a=!1,r=u;else if(o>=et){var d=e?null:Kc(t);if(d)return V(d);a=!1,r=P,c=new un}else c=e?[]:s;t:for(;++i<o;){var h=t[i],p=e?e(h):h;if(h=n||0!==h?h:0,a&&p===p){for(var f=c.length;f--;)if(c[f]===p)continue t;e&&c.push(p),s.push(h)}else r(c,p,n)||(c!==s&&c.push(p),s.push(h))}return s}function nr(t,e){e=yo(e,t)?[e]:cr(e),t=To(t,e);var n=Eo(Qo(e));return!(null!=t&&Ku.call(t,n))||delete t[n]}function ir(t,e,n,i){return qi(t,e,n(si(t,e)),i)}function rr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?Yi(t,i?0:o,i?o+1:r):Yi(t,i?o+1:0,i?r:o)}function or(t,e){var n=t;return n instanceof Te&&(n=n.value()),h(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function ar(t,e,n){for(var i=-1,r=t.length;++i<r;)var o=o?d(Bn(o,t[i],e,n),Bn(t[i],o,e,n)):t[i];return o&&o.length?er(o,e,n):[]}function sr(t,e,n){for(var i=-1,r=t.length,o=e.length,a={};++i<r;){var s=i<o?e[i]:J;n(a,t[i],s)}return a}function lr(t){return $s(t)?t:[]}function ur(t){return"function"==typeof t?t:lu}function cr(t){return jd(t)?t:rd(t)}function dr(t,e,n){var i=t.length;return n=n===J?i:n,!e&&n>=i?t:Yi(t,e,n)}function hr(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}function pr(t){var e=new t.constructor(t.byteLength);return new ic(e).set(new ic(t)),e}function fr(t,e){var n=e?pr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function gr(e,n,i){var r=n?i(j(e),!0):j(e);return h(r,t,new e.constructor)}function mr(t){var e=new t.constructor(t.source,Oe.exec(t));return e.lastIndex=t.lastIndex,e}function vr(t,n,i){var r=n?i(V(t),!0):V(t);return h(r,e,new t.constructor)}function yr(t){return Wc?Hu(Wc.call(t)):{}}function br(t,e){var n=e?pr(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function wr(t,e){if(t!==e){var n=t!==J,i=null===t,r=t===t,o=Ys(t),a=e!==J,s=null===e,l=e===e,u=Ys(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||i&&a&&l||!n&&l||!r)return 1;if(!i&&!o&&!u&&t<e||u&&n&&r&&!i&&!o||s&&n&&r||!a&&r||!l)return-1}return 0}function _r(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,a=r.length,s=n.length;++i<a;){var l=wr(r[i],o[i]);if(l){if(i>=s)return l;var u=n[i];return l*("desc"==u?-1:1)}}return t.index-e.index}function xr(t,e,n,i){for(var r=-1,o=t.length,a=n.length,s=-1,l=e.length,u=wc(o-a,0),c=Nu(l+u),d=!i;++s<l;)c[s]=e[s];for(;++r<a;)(d||r<o)&&(c[n[r]]=t[r]);for(;u--;)c[s++]=t[r++];return c}function kr(t,e,n,i){for(var r=-1,o=t.length,a=-1,s=n.length,l=-1,u=e.length,c=wc(o-s,0),d=Nu(c+u),h=!i;++r<c;)d[r]=t[r];for(var p=r;++l<u;)d[p+l]=e[l];for(;++a<s;)(h||r<o)&&(d[p+n[a]]=t[r++]);return d}function Cr(t,e){var n=-1,i=t.length;for(e||(e=Nu(i));++n<i;)e[n]=t[n];return e}function $r(t,e,n,i){n||(n={});for(var r=-1,o=e.length;++r<o;){var a=e[r],s=i?i(n[a],t[a],a,n,t):J;_n(n,a,s===J?t[a]:s)}return n}function Mr(t,e){return $r(t,Xc(t),e)}function Sr(t,e){return function(n,r){var o=jd(n)?i:kn,a=e?e():{};return o(n,t,io(r,2),a)}}function Tr(t){return Ui(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:J,a=r>2?n[2]:J;for(o=t.length>3&&"function"==typeof o?(r--,o):J,a&&vo(n[0],n[1],a)&&(o=r<3?J:o,r=1),e=Hu(e);++i<r;){var s=n[i];s&&t(e,s,i,o)}return e})}function Dr(t,e){return function(n,i){if(null==n)return n;if(!Cs(n))return t(n,i);for(var r=n.length,o=e?r:-1,a=Hu(n);(e?o--:++o<r)&&i(a[o],o,a)!==!1;);return n}}function Er(t){return function(e,n,i){for(var r=-1,o=Hu(e),a=i(e),s=a.length;s--;){var l=a[t?s:++r];if(n(o[l],l,o)===!1)break}return e}}function Or(t,e,n){function i(){var e=this&&this!==zn&&this instanceof i?o:t;return e.apply(r?n:this,arguments)}var r=e&ot,o=Nr(t);return i}function Pr(t){return function(e){e=ol(e);var n=B(e)?Y(e):J,i=n?n[0]:e.charAt(0),r=n?dr(n,1).join(""):e.slice(1);return i[t]()+r}}function Ar(t){return function(e){return h(iu(Ll(e).replace($n,"")),t,"")}}function Nr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Rn(t.prototype),i=t.apply(n,e);return Rs(i)?i:n}}function Ir(t,e,i){function r(){for(var a=arguments.length,s=Nu(a),l=a,u=no(r);l--;)s[l]=arguments[l];var c=a<3&&s[0]!==u&&s[a-1]!==u?[]:G(s,u);if(a-=c.length,a<i)return Ur(t,e,Br,r.placeholder,J,s,c,J,J,i-a);var d=this&&this!==zn&&this instanceof r?o:t;return n(d,this,s)}var o=Nr(t);return r}function Rr(t){return function(e,n,i){var r=Hu(e);if(!Cs(e)){var o=io(n,3);e=yl(e),n=function(t){return o(r[t],t,r)}}var a=t(e,n,i);return a>-1?r[o?e[a]:a]:J}}function Lr(t){return Ui(function(e){e=qn(e,1);var n=e.length,i=n,r=Z.prototype.thru;for(t&&e.reverse();i--;){var o=e[i];if("function"!=typeof o)throw new ju(nt);if(r&&!a&&"wrapper"==eo(o))var a=new Z([],(!0))}for(i=a?i:n;++i<n;){o=e[i];var s=eo(o),l="wrapper"==s?Zc(o):J;a=l&&wo(l[0])&&l[1]==(ht|lt|ct|pt)&&!l[4].length&&1==l[9]?a[eo(l[0])].apply(a,l[3]):1==o.length&&wo(o)?a[s]():a.thru(o)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&jd(i)&&i.length>=et)return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Br(t,e,n,i,r,o,a,s,l,u){function c(){for(var v=arguments.length,y=Nu(v),b=v;b--;)y[b]=arguments[b];if(f)var w=no(c),_=I(y,w);if(i&&(y=xr(y,i,r,f)),o&&(y=kr(y,o,a,f)),v-=_,f&&v<u){var x=G(y,w);return Ur(t,e,Br,c.placeholder,n,y,x,s,l,u-v)}var k=h?n:this,C=p?k[t]:t;return v=y.length,s?y=Do(y,s):g&&v>1&&y.reverse(),d&&l<v&&(y.length=l),this&&this!==zn&&this instanceof c&&(C=m||Nr(C)),C.apply(k,y)}var d=e&ht,h=e&ot,p=e&at,f=e&(lt|ut),g=e&ft,m=p?J:Nr(t);return c}function Hr(t,e){return function(n,i){return gi(n,t,e(i),{})}}function Fr(t,e){return function(n,i){var r;if(n===J&&i===J)return e;if(n!==J&&(r=n),i!==J){if(r===J)return i;"string"==typeof n||"string"==typeof i?(n=tr(n),i=tr(i)):(n=Ji(n),i=Ji(i)),r=t(n,i)}return r}}function Wr(t){return Ui(function(e){return e=1==e.length&&jd(e[0])?c(e[0],E(io())):c(qn(e,1),E(io())),Ui(function(i){var r=this;return t(e,function(t){return n(t,r,i)})})})}function jr(t,e){e=e===J?" ":tr(e);var n=e.length;if(n<2)return n?Vi(e,t):e;var i=Vi(e,pc(t/q(e)));return B(e)?dr(Y(i),0,t).join(""):i.slice(0,t)}function zr(t,e,i,r){function o(){for(var e=-1,l=arguments.length,u=-1,c=r.length,d=Nu(c+l),h=this&&this!==zn&&this instanceof o?s:t;++u<c;)d[u]=r[u];for(;l--;)d[u++]=arguments[++e];return n(h,a?i:this,d)}var a=e&ot,s=Nr(t);return o}function Gr(t){return function(e,n,i){return i&&"number"!=typeof i&&vo(e,n,i)&&(n=i=J),e=Js(e),n===J?(n=e,e=0):n=Js(n),i=i===J?e<n?1:-1:Js(i),Gi(e,n,i,t)}}function Vr(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=nl(e),n=nl(n)),t(e,n)}}function Ur(t,e,n,i,r,o,a,s,l,u){var c=e&lt,d=c?a:J,h=c?J:a,p=c?o:J,f=c?J:o;e|=c?ct:dt,e&=~(c?dt:ct),e&st||(e&=~(ot|at));var g=[t,e,r,p,d,f,h,s,l,u],m=n.apply(J,g);return wo(t)&&ed(m,g),m.placeholder=i,id(m,t,e)}function qr(t){var e=Bu[t];return function(t,n){if(t=nl(t),n=_c(tl(n),292)){var i=(ol(t)+"e").split("e"),r=e(i[0]+"e"+(+i[1]+n));return i=(ol(r)+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function Yr(t){return function(e){var n=Jc(e);return n==Ht?j(e):n==Gt?U(e):D(e,t(e))}}function Kr(t,e,n,i,r,o,a,s){var l=e&at;if(!l&&"function"!=typeof t)throw new ju(nt);var u=i?i.length:0;if(u||(e&=~(ct|dt),i=r=J),a=a===J?a:wc(tl(a),0),s=s===J?s:tl(s),u-=r?r.length:0,e&dt){var c=i,d=r;i=r=J}var h=l?J:Zc(t),p=[t,e,n,i,r,c,d,o,a,s];if(h&&$o(p,h),t=p[0],e=p[1],n=p[2],i=p[3],r=p[4],s=p[9]=null==p[9]?l?0:t.length:wc(p[9]-u,0),!s&&e&(lt|ut)&&(e&=~(lt|ut)),e&&e!=ot)f=e==lt||e==ut?Ir(t,e,s):e!=ct&&e!=(ot|ct)||r.length?Br.apply(J,p):zr(t,e,n,i);else var f=Or(t,e,n);var g=h?qc:ed;return id(g(f,p),t,e)}function Zr(t,e,n,i,r,o){var a=r&mt,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var c=-1,d=!0,h=r&gt?new un:J;for(o.set(t,e),o.set(e,t);++c<s;){var p=t[c],g=e[c];if(i)var m=a?i(g,p,c,e,t,o):i(p,g,c,t,e,o);if(m!==J){if(m)continue;d=!1;break}if(h){if(!f(e,function(t,e){if(!h.has(e)&&(p===t||n(p,t,i,r,o)))return h.add(e)})){d=!1;break}}else if(p!==g&&!n(p,g,i,r,o)){d=!1;break}}return o["delete"](t),o["delete"](e),d}function Xr(t,e,n,i,r,o,a){switch(n){case Zt:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Kt:return!(t.byteLength!=e.byteLength||!i(new ic(t),new ic(e)));case Nt:case It:case Ft:return xs(+t,+e);case Rt:return t.name==e.name&&t.message==e.message;case zt:case Vt:return t==e+"";case Ht:var s=j;case Gt:var l=o&mt;if(s||(s=V),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;o|=gt,a.set(t,e);var c=Zr(s(t),s(e),i,r,o,a);return a["delete"](t),c;case Ut:if(Wc)return Wc.call(t)==Wc.call(e)}return!1}function Qr(t,e,n,i,r,o){var a=r&mt,s=yl(t),l=s.length,u=yl(e),c=u.length;if(l!=c&&!a)return!1;for(var d=l;d--;){var h=s[d];if(!(a?h in e:Ku.call(e,h)))return!1}var p=o.get(t);if(p&&o.get(e))return p==e;var f=!0;o.set(t,e),o.set(e,t);for(var g=a;++d<l;){h=s[d];var m=t[h],v=e[h];if(i)var y=a?i(v,m,h,e,t,o):i(m,v,h,t,e,o);if(!(y===J?m===v||n(m,v,i,r,o):y)){f=!1;break}g||(g="constructor"==h)}if(f&&!g){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(f=!1)}return o["delete"](t),o["delete"](e),f}function Jr(t){return li(t,yl,Xc)}function to(t){return li(t,bl,Qc)}function eo(t){for(var e=t.name+"",n=Nc[e],i=Ku.call(Nc,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function no(t){var e=Ku.call(C,"placeholder")?C:t;return e.placeholder}function io(){var t=C.iteratee||uu;return t=t===uu?Si:t,arguments.length?t(arguments[0],arguments[1]):t}function ro(t,e){var n=t.__data__;return bo(e)?n["string"==typeof e?"string":"hash"]:n.map}function oo(t){for(var e=yl(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,ko(r)]}return e}function ao(t,e){var n=L(t,e);return ki(n)?n:J}function so(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=_c(e,t+a);break;case"takeRight":t=wc(t,e-a)}}return{start:t,end:e}}function lo(t){var e=t.match(Me);return e?e[1].split(Se):[]}function uo(t,e,n){e=yo(e,t)?[e]:cr(e);for(var i,r=-1,o=e.length;++r<o;){var a=Eo(e[r]);if(!(i=null!=t&&n(t,a)))break;t=t[a]}if(i)return i;var o=t?t.length:0;return!!o&&Is(o)&&mo(a,o)&&(jd(t)||ks(t))}function co(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&Ku.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function ho(t){return"function"!=typeof t.constructor||xo(t)?{}:Rn(rc(t))}function po(t,e,n,i){var r=t.constructor;switch(e){case Kt:return pr(t);case Nt:case It:return new r((+t));case Zt:return fr(t,i);case Xt:case Qt:case Jt:case te:case ee:case ne:case ie:case re:case oe:return br(t,i);case Ht:return gr(t,i,n);case Ft:case Vt:return new r(t);case zt:return mr(t);case Gt:return vr(t,i,n);case Ut:return yr(t)}}function fo(t,e){var n=e.length,i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace($e,"{\n/* [wrapped with "+e+"] */\n")}function go(t){return jd(t)||ks(t)||!!(uc&&t&&t[uc])}function mo(t,e){return e=null==e?$t:e,!!e&&("number"==typeof t||Le.test(t))&&t>-1&&t%1==0&&t<e}function vo(t,e,n){if(!Rs(n))return!1;var i=typeof e;return!!("number"==i?Cs(n)&&mo(e,n.length):"string"==i&&e in n)&&xs(n[e],t)}function yo(t,e){if(jd(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!Ys(t))||(ve.test(t)||!me.test(t)||null!=e&&t in Hu(e))}function bo(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function wo(t){var e=eo(t),n=C[e];if("function"!=typeof n||!(e in Te.prototype))return!1;if(t===n)return!0;var i=Zc(n);return!!i&&t===i[0]}function _o(t){return!!qu&&qu in t}function xo(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||Vu;return t===n}function ko(t){return t===t&&!Rs(t)}function Co(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==J||t in Hu(n)))}}function $o(t,e){var n=t[1],i=e[1],r=n|i,o=r<(ot|at|ht),a=i==ht&&n==lt||i==ht&&n==pt&&t[7].length<=e[8]||i==(ht|pt)&&e[7].length<=e[8]&&n==lt;if(!o&&!a)return t;i&ot&&(t[2]=e[2],r|=n&ot?0:st);var s=e[3];if(s){var l=t[3];t[3]=l?xr(l,s,e[4]):s,t[4]=l?G(t[3],rt):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?kr(l,s,e[6]):s,t[6]=l?G(t[5],rt):e[6]),s=e[7],s&&(t[7]=s),i&ht&&(t[8]=null==t[8]?e[8]:_c(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function Mo(t,e,n,i,r,o){return Rs(t)&&Rs(e)&&(o.set(e,t),Ni(t,e,J,Mo,o),o["delete"](e)),t}function So(t){var e=[];if(null!=t)for(var n in Hu(t))e.push(n);return e}function To(t,e){return 1==e.length?t:si(t,Yi(e,0,-1))}function Do(t,e){for(var n=t.length,i=_c(e.length,n),r=Cr(t);i--;){var o=e[i];t[i]=mo(o,n)?r[o]:J}return t}function Eo(t){if("string"==typeof t||Ys(t))return t;var e=t+"";return"0"==e&&1/t==-Ct?"-0":e}function Oo(t){if(null!=t){try{return Yu.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Po(t,e){return r(Ot,function(n){var i="_."+n[0];e&n[1]&&!l(t,i)&&t.push(i)}),t.sort()}function Ao(t){if(t instanceof Te)return t.clone();var e=new Z(t.__wrapped__,t.__chain__);return e.__actions__=Cr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function No(t,e,n){e=(n?vo(t,e,n):e===J)?1:wc(tl(e),0);var i=t?t.length:0;if(!i||e<1)return[];for(var r=0,o=0,a=Nu(pc(i/e));r<i;)a[o++]=Yi(t,r,r+=e);return a}function Io(t){for(var e=-1,n=t?t.length:0,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function Ro(){for(var t=arguments.length,e=Nu(t?t-1:0),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return t?d(jd(n)?Cr(n):[n],qn(e,1)):[]}function Lo(t,e,n){var i=t?t.length:0;return i?(e=n||e===J?1:tl(e),Yi(t,e<0?0:e,i)):[]}function Bo(t,e,n){var i=t?t.length:0;return i?(e=n||e===J?1:tl(e),e=i-e,Yi(t,0,e<0?0:e)):[]}function Ho(t,e){return t&&t.length?rr(t,io(e,3),!0,!0):[]}function Fo(t,e){return t&&t.length?rr(t,io(e,3),!0):[]}function Wo(t,e,n,i){var r=t?t.length:0;return r?(n&&"number"!=typeof n&&vo(t,e,n)&&(n=0,i=r),Gn(t,e,n,i)):[]}function jo(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=null==n?0:tl(n);return r<0&&(r=wc(i+r,0)),y(t,io(e,3),r)}function zo(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i-1;return n!==J&&(r=tl(n),r=n<0?wc(i+r,0):_c(r,i-1)),y(t,io(e,3),r,!0)}function Go(t){var e=t?t.length:0;return e?qn(t,1):[]}function Vo(t){var e=t?t.length:0;return e?qn(t,Ct):[]}function Uo(t,e){var n=t?t.length:0;return n?(e=e===J?1:tl(e),qn(t,e)):[]}function qo(t){for(var e=-1,n=t?t.length:0,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function Yo(t){return t&&t.length?t[0]:J}function Ko(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=null==n?0:tl(n);return r<0&&(r=wc(i+r,0)),b(t,e,r)}function Zo(t){var e=t?t.length:0;return e?Yi(t,0,-1):[]}function Xo(t,e){return t?yc.call(t,e):""}function Qo(t){var e=t?t.length:0;return e?t[e-1]:J}function Jo(t,e,n){var i=t?t.length:0;if(!i)return-1;var r=i;if(n!==J&&(r=tl(n),r=(r<0?wc(i+r,0):_c(r,i-1))+1),e!==e)return y(t,_,r-1,!0);for(;r--;)if(t[r]===e)return r;return-1}function ta(t,e){return t&&t.length?Ri(t,tl(e)):J}function ea(t,e){return t&&t.length&&e&&e.length?Wi(t,e):t}function na(t,e,n){return t&&t.length&&e&&e.length?Wi(t,e,io(n,2)):t}function ia(t,e,n){return t&&t.length&&e&&e.length?Wi(t,e,J,n):t}function ra(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=io(e,3);++i<o;){var a=t[i];e(a,i,t)&&(n.push(a),r.push(i))}return ji(t,r),n}function oa(t){return t?Cc.call(t):t}function aa(t,e,n){var i=t?t.length:0;return i?(n&&"number"!=typeof n&&vo(t,e,n)?(e=0,n=i):(e=null==e?0:tl(e),n=n===J?i:tl(n)),Yi(t,e,n)):[]}function sa(t,e){return Zi(t,e)}function la(t,e,n){return Xi(t,e,io(n,2))}function ua(t,e){var n=t?t.length:0;if(n){var i=Zi(t,e);if(i<n&&xs(t[i],e))return i}return-1}function ca(t,e){return Zi(t,e,!0)}function da(t,e,n){return Xi(t,e,io(n,2),!0)}function ha(t,e){var n=t?t.length:0;if(n){var i=Zi(t,e,!0)-1;if(xs(t[i],e))return i}return-1}function pa(t){return t&&t.length?Qi(t):[]}function fa(t,e){return t&&t.length?Qi(t,io(e,2)):[]}function ga(t){var e=t?t.length:0;return e?Yi(t,1,e):[]}function ma(t,e,n){return t&&t.length?(e=n||e===J?1:tl(e),Yi(t,0,e<0?0:e)):[]}function va(t,e,n){var i=t?t.length:0;return i?(e=n||e===J?1:tl(e),e=i-e,Yi(t,e<0?0:e,i)):[]}function ya(t,e){return t&&t.length?rr(t,io(e,3),!1,!0):[]}function ba(t,e){return t&&t.length?rr(t,io(e,3)):[]}function wa(t){return t&&t.length?er(t):[]}function _a(t,e){return t&&t.length?er(t,io(e,2)):[]}function xa(t,e){return t&&t.length?er(t,J,e):[]}function ka(t){if(!t||!t.length)return[];var e=0;return t=s(t,function(t){if($s(t))return e=wc(t.length,e),!0}),T(e,function(e){return c(t,k(e))})}function Ca(t,e){if(!t||!t.length)return[];var i=ka(t);return null==e?i:c(i,function(t){return n(e,J,t)})}function $a(t,e){return sr(t||[],e||[],_n)}function Ma(t,e){return sr(t||[],e||[],qi)}function Sa(t){var e=C(t);return e.__chain__=!0,e}function Ta(t,e){return e(t),t}function Da(t,e){return e(t)}function Ea(){return Sa(this)}function Oa(){return new Z(this.value(),this.__chain__)}function Pa(){this.__values__===J&&(this.__values__=Qs(this.value()));var t=this.__index__>=this.__values__.length,e=t?J:this.__values__[this.__index__++];return{done:t,value:e}}function Aa(){return this}function Na(t){for(var e,n=this;n instanceof K;){var i=Ao(n);i.__index__=0,i.__values__=J,e?r.__wrapped__=i:e=i;var r=i;n=n.__wrapped__}return r.__wrapped__=t,e}function Ia(){var t=this.__wrapped__;if(t instanceof Te){var e=t;return this.__actions__.length&&(e=new Te(this)),e=e.reverse(),e.__actions__.push({func:Da,args:[oa],thisArg:J}),new Z(e,this.__chain__)}return this.thru(oa)}function Ra(){return or(this.__wrapped__,this.__actions__)}function La(t,e,n){var i=jd(t)?a:Wn;return n&&vo(t,e,n)&&(e=J),i(t,io(e,3))}function Ba(t,e){var n=jd(t)?s:Vn;return n(t,io(e,3))}function Ha(t,e){return qn(Va(t,e),1)}function Fa(t,e){return qn(Va(t,e),Ct)}function Wa(t,e,n){return n=n===J?1:tl(n),qn(Va(t,e),n)}function ja(t,e){var n=jd(t)?r:zc;return n(t,io(e,3))}function za(t,e){var n=jd(t)?o:Gc;return n(t,io(e,3))}function Ga(t,e,n,i){t=Cs(t)?t:Ol(t),n=n&&!i?tl(n):0;var r=t.length;return n<0&&(n=wc(r+n,0)),qs(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&b(t,e,n)>-1}function Va(t,e){var n=jd(t)?c:Oi;return n(t,io(e,3))}function Ua(t,e,n,i){return null==t?[]:(jd(e)||(e=null==e?[]:[e]),n=i?J:n,jd(n)||(n=null==n?[]:[n]),Li(t,e,n))}function qa(t,e,n){var i=jd(t)?h:$,r=arguments.length<3;return i(t,io(e,4),n,r,zc)}function Ya(t,e,n){var i=jd(t)?p:$,r=arguments.length<3;return i(t,io(e,4),n,r,Gc)}function Ka(t,e){var n=jd(t)?s:Vn;return n(t,us(io(e,3)))}function Za(t){var e=Cs(t)?t:Ol(t),n=e.length;return n>0?e[zi(0,n-1)]:J}function Xa(t,e,n){var i=-1,r=Qs(t),o=r.length,a=o-1;for(e=(n?vo(t,e,n):e===J)?1:Tn(tl(e),0,o);++i<e;){var s=zi(i,a),l=r[s];r[s]=r[i],r[i]=l}return r.length=e,r}function Qa(t){return Xa(t,Tt)}function Ja(t){if(null==t)return 0;if(Cs(t))return qs(t)?q(t):t.length;var e=Jc(t);return e==Ht||e==Gt?t.size:Ti(t).length}function ts(t,e,n){var i=jd(t)?f:Ki;return n&&vo(t,e,n)&&(e=J),i(t,io(e,3))}function es(t,e){if("function"!=typeof e)throw new ju(nt);return t=tl(t),function(){if(--t<1)return e.apply(this,arguments)}}function ns(t,e,n){return e=n?J:e,e=t&&null==e?t.length:e,Kr(t,ht,J,J,J,J,e)}function is(t,e){var n;if("function"!=typeof e)throw new ju(nt);return t=tl(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=J),n}}function rs(t,e,n){e=n?J:e;var i=Kr(t,lt,J,J,J,J,J,e);return i.placeholder=rs.placeholder,i}function os(t,e,n){e=n?J:e;var i=Kr(t,ut,J,J,J,J,J,e);return i.placeholder=os.placeholder,i}function as(t,e,n){function i(e){var n=h,i=p;return h=p=J,y=e,g=t.apply(i,n)}function r(t){return y=t,m=nd(s,e),b?i(t):g}function o(t){var n=t-v,i=t-y,r=e-n;return w?_c(r,f-i):r}function a(t){var n=t-v,i=t-y;
return v===J||n>=e||n<0||w&&i>=f}function s(){var t=Od();return a(t)?l(t):void(m=nd(s,o(t)))}function l(t){return m=J,_&&h?i(t):(h=p=J,g)}function u(){m!==J&&Yc(m),y=0,h=v=p=m=J}function c(){return m===J?g:l(Od())}function d(){var t=Od(),n=a(t);if(h=arguments,p=this,v=t,n){if(m===J)return r(v);if(w)return m=nd(s,e),i(v)}return m===J&&(m=nd(s,e)),g}var h,p,f,g,m,v,y=0,b=!1,w=!1,_=!0;if("function"!=typeof t)throw new ju(nt);return e=nl(e)||0,Rs(n)&&(b=!!n.leading,w="maxWait"in n,f=w?wc(nl(n.maxWait)||0,e):f,_="trailing"in n?!!n.trailing:_),d.cancel=u,d.flush=c,d}function ss(t){return Kr(t,ft)}function ls(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new ju(nt);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a),a};return n.cache=new(ls.Cache||nn),n}function us(t){if("function"!=typeof t)throw new ju(nt);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function cs(t){return is(2,t)}function ds(t,e){if("function"!=typeof t)throw new ju(nt);return e=e===J?e:tl(e),Ui(t,e)}function hs(t,e){if("function"!=typeof t)throw new ju(nt);return e=e===J?0:wc(tl(e),0),Ui(function(i){var r=i[e],o=dr(i,0,e);return r&&d(o,r),n(t,this,o)})}function ps(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new ju(nt);return Rs(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),as(t,e,{leading:i,maxWait:e,trailing:r})}function fs(t){return ns(t,1)}function gs(t,e){return e=null==e?lu:e,Ld(e,t)}function ms(){if(!arguments.length)return[];var t=arguments[0];return jd(t)?t:[t]}function vs(t){return Dn(t,!1,!0)}function ys(t,e){return Dn(t,!1,!0,e)}function bs(t){return Dn(t,!0,!0)}function ws(t,e){return Dn(t,!0,!0,e)}function _s(t,e){return null==e||In(t,e,yl(e))}function xs(t,e){return t===e||t!==t&&e!==e}function ks(t){return $s(t)&&Ku.call(t,"callee")&&(!sc.call(t,"callee")||Qu.call(t)==Pt)}function Cs(t){return null!=t&&Is(t.length)&&!As(t)}function $s(t){return Ls(t)&&Cs(t)}function Ms(t){return t===!0||t===!1||Ls(t)&&Qu.call(t)==Nt}function Ss(t){return!!t&&1===t.nodeType&&Ls(t)&&!Vs(t)}function Ts(t){if(Cs(t)&&(jd(t)||"string"==typeof t||"function"==typeof t.splice||Gd(t)||ks(t)))return!t.length;var e=Jc(t);if(e==Ht||e==Gt)return!t.size;if(Ac||xo(t))return!bc(t).length;for(var n in t)if(Ku.call(t,n))return!1;return!0}function Ds(t,e){return bi(t,e)}function Es(t,e,n){n="function"==typeof n?n:J;var i=n?n(t,e):J;return i===J?bi(t,e,n):!!i}function Os(t){return!!Ls(t)&&(Qu.call(t)==Rt||"string"==typeof t.message&&"string"==typeof t.name)}function Ps(t){return"number"==typeof t&&vc(t)}function As(t){var e=Rs(t)?Qu.call(t):"";return e==Lt||e==Bt}function Ns(t){return"number"==typeof t&&t==tl(t)}function Is(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=$t}function Rs(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Ls(t){return!!t&&"object"==typeof t}function Bs(t,e){return t===e||xi(t,e,oo(e))}function Hs(t,e,n){return n="function"==typeof n?n:J,xi(t,e,oo(e),n)}function Fs(t){return Gs(t)&&t!=+t}function Ws(t){if(td(t))throw new Ru("This method is not supported with core-js. Try https://github.com/es-shims.");return ki(t)}function js(t){return null===t}function zs(t){return null==t}function Gs(t){return"number"==typeof t||Ls(t)&&Qu.call(t)==Ft}function Vs(t){if(!Ls(t)||Qu.call(t)!=Wt||F(t))return!1;var e=rc(t);if(null===e)return!0;var n=Ku.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Yu.call(n)==Xu}function Us(t){return Ns(t)&&t>=-$t&&t<=$t}function qs(t){return"string"==typeof t||!jd(t)&&Ls(t)&&Qu.call(t)==Vt}function Ys(t){return"symbol"==typeof t||Ls(t)&&Qu.call(t)==Ut}function Ks(t){return t===J}function Zs(t){return Ls(t)&&Jc(t)==qt}function Xs(t){return Ls(t)&&Qu.call(t)==Yt}function Qs(t){if(!t)return[];if(Cs(t))return qs(t)?Y(t):Cr(t);if(oc&&t[oc])return W(t[oc]());var e=Jc(t),n=e==Ht?j:e==Gt?V:Ol;return n(t)}function Js(t){if(!t)return 0===t?t:0;if(t=nl(t),t===Ct||t===-Ct){var e=t<0?-1:1;return e*Mt}return t===t?t:0}function tl(t){var e=Js(t),n=e%1;return e===e?n?e-n:e:0}function el(t){return t?Tn(tl(t),0,Tt):0}function nl(t){if("number"==typeof t)return t;if(Ys(t))return St;if(Rs(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=Rs(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(xe,"");var n=Ne.test(t);return n||Re.test(t)?Fn(t.slice(2),n?2:8):Ae.test(t)?St:+t}function il(t){return $r(t,bl(t))}function rl(t){return Tn(tl(t),-$t,$t)}function ol(t){return null==t?"":tr(t)}function al(t,e){var n=Rn(t);return e?Cn(n,e):n}function sl(t,e){return v(t,io(e,3),Yn)}function ll(t,e){return v(t,io(e,3),ei)}function ul(t,e){return null==t?t:Vc(t,io(e,3),bl)}function cl(t,e){return null==t?t:Uc(t,io(e,3),bl)}function dl(t,e){return t&&Yn(t,io(e,3))}function hl(t,e){return t&&ei(t,io(e,3))}function pl(t){return null==t?[]:ai(t,yl(t))}function fl(t){return null==t?[]:ai(t,bl(t))}function gl(t,e,n){var i=null==t?J:si(t,e);return i===J?n:i}function ml(t,e){return null!=t&&uo(t,e,di)}function vl(t,e){return null!=t&&uo(t,e,hi)}function yl(t){return Cs(t)?yn(t):Ti(t)}function bl(t){return Cs(t)?yn(t,!0):Di(t)}function wl(t,e){var n={};return e=io(e,3),Yn(t,function(t,i,r){n[e(t,i,r)]=t}),n}function _l(t,e){var n={};return e=io(e,3),Yn(t,function(t,i,r){n[i]=e(t,i,r)}),n}function xl(t,e){return kl(t,us(io(e)))}function kl(t,e){return null==t?{}:Hi(t,to(t),io(e))}function Cl(t,e,n){e=yo(e,t)?[e]:cr(e);var i=-1,r=e.length;for(r||(t=J,r=1);++i<r;){var o=null==t?J:t[Eo(e[i])];o===J&&(i=r,o=n),t=As(o)?o.call(t):o}return t}function $l(t,e,n){return null==t?t:qi(t,e,n)}function Ml(t,e,n,i){return i="function"==typeof i?i:J,null==t?t:qi(t,e,n,i)}function Sl(t,e,n){var i=jd(t)||Kd(t);if(e=io(e,4),null==n)if(i||Rs(t)){var o=t.constructor;n=i?jd(t)?new o:[]:As(o)?Rn(rc(t)):{}}else n={};return(i?r:Yn)(t,function(t,i,r){return e(n,t,i,r)}),n}function Tl(t,e){return null==t||nr(t,e)}function Dl(t,e,n){return null==t?t:ir(t,e,ur(n))}function El(t,e,n,i){return i="function"==typeof i?i:J,null==t?t:ir(t,e,ur(n),i)}function Ol(t){return t?O(t,yl(t)):[]}function Pl(t){return null==t?[]:O(t,bl(t))}function Al(t,e,n){return n===J&&(n=e,e=J),n!==J&&(n=nl(n),n=n===n?n:0),e!==J&&(e=nl(e),e=e===e?e:0),Tn(nl(t),e,n)}function Nl(t,e,n){return e=Js(e),n===J?(n=e,e=0):n=Js(n),t=nl(t),pi(t,e,n)}function Il(t,e,n){if(n&&"boolean"!=typeof n&&vo(t,e,n)&&(e=n=J),n===J&&("boolean"==typeof e?(n=e,e=J):"boolean"==typeof t&&(n=t,t=J)),t===J&&e===J?(t=0,e=1):(t=Js(t),e===J?(e=t,t=0):e=Js(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=kc();return _c(t+r*(e-t+Hn("1e-"+((r+"").length-1))),e)}return zi(t,e)}function Rl(t){return _h(ol(t).toLowerCase())}function Ll(t){return t=ol(t),t&&t.replace(Be,ni).replace(Mn,"")}function Bl(t,e,n){t=ol(t),e=tr(e);var i=t.length;n=n===J?i:Tn(tl(n),0,i);var r=n;return n-=e.length,n>=0&&t.slice(n,r)==e}function Hl(t){return t=ol(t),t&&he.test(t)?t.replace(ce,ii):t}function Fl(t){return t=ol(t),t&&_e.test(t)?t.replace(we,"\\$&"):t}function Wl(t,e,n){t=ol(t),e=tl(e);var i=e?q(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return jr(fc(r),n)+t+jr(pc(r),n)}function jl(t,e,n){t=ol(t),e=tl(e);var i=e?q(t):0;return e&&i<e?t+jr(e-i,n):t}function zl(t,e,n){t=ol(t),e=tl(e);var i=e?q(t):0;return e&&i<e?jr(e-i,n)+t:t}function Gl(t,e,n){return n||null==e?e=0:e&&(e=+e),t=ol(t).replace(xe,""),xc(t,e||(Pe.test(t)?16:10))}function Vl(t,e,n){return e=(n?vo(t,e,n):e===J)?1:tl(e),Vi(ol(t),e)}function Ul(){var t=arguments,e=ol(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function ql(t,e,n){return n&&"number"!=typeof n&&vo(t,e,n)&&(e=n=J),(n=n===J?Tt:n>>>0)?(t=ol(t),t&&("string"==typeof e||null!=e&&!qd(e))&&(e=tr(e),!e&&B(t))?dr(Y(t),0,n):t.split(e,n)):[]}function Yl(t,e,n){return t=ol(t),n=Tn(tl(n),0,t.length),e=tr(e),t.slice(n,n+e.length)==e}function Kl(t,e,n){var i=C.templateSettings;n&&vo(t,e,n)&&(e=J),t=ol(t),e=th({},e,i,bn);var r,o,a=th({},e.imports,i.imports,bn),s=yl(a),l=O(a,s),u=0,c=e.interpolate||He,d="__p += '",h=Fu((e.escape||He).source+"|"+c.source+"|"+(c===ge?Ee:He).source+"|"+(e.evaluate||He).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Pn+"]")+"\n";t.replace(h,function(e,n,i,a,s,l){return i||(i=a),d+=t.slice(u,l).replace(Fe,R),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),s&&(o=!0,d+="';\n"+s+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),d+="';\n";var f=e.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(o?d.replace(ae,""):d).replace(se,"$1").replace(le,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=xh(function(){return Lu(s,p+"return "+d).apply(J,l)});if(g.source=d,Os(g))throw g;return g}function Zl(t){return ol(t).toLowerCase()}function Xl(t){return ol(t).toUpperCase()}function Ql(t,e,n){if(t=ol(t),t&&(n||e===J))return t.replace(xe,"");if(!t||!(e=tr(e)))return t;var i=Y(t),r=Y(e),o=A(i,r),a=N(i,r)+1;return dr(i,o,a).join("")}function Jl(t,e,n){if(t=ol(t),t&&(n||e===J))return t.replace(Ce,"");if(!t||!(e=tr(e)))return t;var i=Y(t),r=N(i,Y(e))+1;return dr(i,0,r).join("")}function tu(t,e,n){if(t=ol(t),t&&(n||e===J))return t.replace(ke,"");if(!t||!(e=tr(e)))return t;var i=Y(t),r=A(i,Y(e));return dr(i,r).join("")}function eu(t,e){var n=vt,i=yt;if(Rs(e)){var r="separator"in e?e.separator:r;n="length"in e?tl(e.length):n,i="omission"in e?tr(e.omission):i}t=ol(t);var o=t.length;if(B(t)){var a=Y(t);o=a.length}if(n>=o)return t;var s=n-q(i);if(s<1)return i;var l=a?dr(a,0,s).join(""):t.slice(0,s);if(r===J)return l+i;if(a&&(s+=l.length-s),qd(r)){if(t.slice(s).search(r)){var u,c=l;for(r.global||(r=Fu(r.source,ol(Oe.exec(r))+"g")),r.lastIndex=0;u=r.exec(c);)var d=u.index;l=l.slice(0,d===J?s:d)}}else if(t.indexOf(tr(r),s)!=s){var h=l.lastIndexOf(r);h>-1&&(l=l.slice(0,h))}return l+i}function nu(t){return t=ol(t),t&&de.test(t)?t.replace(ue,ri):t}function iu(t,e,n){return t=ol(t),e=n?J:e,e===J?H(t)?X(t):m(t):t.match(e)||[]}function ru(t){var e=t?t.length:0,i=io();return t=e?c(t,function(t){if("function"!=typeof t[1])throw new ju(nt);return[i(t[0]),t[1]]}):[],Ui(function(i){for(var r=-1;++r<e;){var o=t[r];if(n(o[0],this,i))return n(o[1],this,i)}})}function ou(t){return En(Dn(t,!0))}function au(t){return function(){return t}}function su(t,e){return null==t||t!==t?e:t}function lu(t){return t}function uu(t){return Si("function"==typeof t?t:Dn(t,!0))}function cu(t){return Pi(Dn(t,!0))}function du(t,e){return Ai(t,Dn(e,!0))}function hu(t,e,n){var i=yl(e),o=ai(e,i);null!=n||Rs(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=ai(e,yl(e)));var a=!(Rs(n)&&"chain"in n&&!n.chain),s=As(t);return r(o,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__),r=n.__actions__=Cr(this.__actions__);return r.push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,d([this.value()],arguments))})}),t}function pu(){return zn._===this&&(zn._=Ju),this}function fu(){}function gu(t){return t=tl(t),Ui(function(e){return Ri(e,t)})}function mu(t){return yo(t)?k(Eo(t)):Fi(t)}function vu(t){return function(e){return null==t?J:si(t,e)}}function yu(){return[]}function bu(){return!1}function wu(){return{}}function _u(){return""}function xu(){return!0}function ku(t,e){if(t=tl(t),t<1||t>$t)return[];var n=Tt,i=_c(t,Tt);e=io(e),t-=Tt;for(var r=T(i,e);++n<t;)e(n);return r}function Cu(t){return jd(t)?c(t,Eo):Ys(t)?[t]:Cr(rd(t))}function $u(t){var e=++Zu;return ol(t)+e}function Mu(t){return t&&t.length?jn(t,lu,ci):J}function Su(t,e){return t&&t.length?jn(t,io(e,2),ci):J}function Tu(t){return x(t,lu)}function Du(t,e){return x(t,io(e,2))}function Eu(t){return t&&t.length?jn(t,lu,Ei):J}function Ou(t,e){return t&&t.length?jn(t,io(e,2),Ei):J}function Pu(t){return t&&t.length?S(t,lu):0}function Au(t,e){return t&&t.length?S(t,io(e,2)):0}g=g?oi.defaults(zn.Object(),g,oi.pick(zn,On)):zn;var Nu=g.Array,Iu=g.Date,Ru=g.Error,Lu=g.Function,Bu=g.Math,Hu=g.Object,Fu=g.RegExp,Wu=g.String,ju=g.TypeError,zu=Nu.prototype,Gu=Lu.prototype,Vu=Hu.prototype,Uu=g["__core-js_shared__"],qu=function(){var t=/[^.]+$/.exec(Uu&&Uu.keys&&Uu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Yu=Gu.toString,Ku=Vu.hasOwnProperty,Zu=0,Xu=Yu.call(Hu),Qu=Vu.toString,Ju=zn._,tc=Fu("^"+Yu.call(Ku).replace(we,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ec=Un?g.Buffer:J,nc=g.Symbol,ic=g.Uint8Array,rc=z(Hu.getPrototypeOf,Hu),oc=nc?nc.iterator:J,ac=Hu.create,sc=Vu.propertyIsEnumerable,lc=zu.splice,uc=nc?nc.isConcatSpreadable:J,cc=g.clearTimeout!==zn.clearTimeout&&g.clearTimeout,dc=Iu&&Iu.now!==zn.Date.now&&Iu.now,hc=g.setTimeout!==zn.setTimeout&&g.setTimeout,pc=Bu.ceil,fc=Bu.floor,gc=Hu.getOwnPropertySymbols,mc=ec?ec.isBuffer:J,vc=g.isFinite,yc=zu.join,bc=z(Hu.keys,Hu),wc=Bu.max,_c=Bu.min,xc=g.parseInt,kc=Bu.random,Cc=zu.reverse,$c=ao(g,"DataView"),Mc=ao(g,"Map"),Sc=ao(g,"Promise"),Tc=ao(g,"Set"),Dc=ao(g,"WeakMap"),Ec=ao(Hu,"create"),Oc=function(){var t=ao(Hu,"defineProperty"),e=ao.name;return e&&e.length>2?t:J}(),Pc=Dc&&new Dc,Ac=!sc.call({valueOf:1},"valueOf"),Nc={},Ic=Oo($c),Rc=Oo(Mc),Lc=Oo(Sc),Bc=Oo(Tc),Hc=Oo(Dc),Fc=nc?nc.prototype:J,Wc=Fc?Fc.valueOf:J,jc=Fc?Fc.toString:J;C.templateSettings={escape:pe,evaluate:fe,interpolate:ge,variable:"",imports:{_:C}},C.prototype=K.prototype,C.prototype.constructor=C,Z.prototype=Rn(K.prototype),Z.prototype.constructor=Z,Te.prototype=Rn(K.prototype),Te.prototype.constructor=Te,Ge.prototype.clear=Ve,Ge.prototype["delete"]=Ue,Ge.prototype.get=qe,Ge.prototype.has=Ye,Ge.prototype.set=Ke,Ze.prototype.clear=Xe,Ze.prototype["delete"]=Qe,Ze.prototype.get=Je,Ze.prototype.has=tn,Ze.prototype.set=en,nn.prototype.clear=rn,nn.prototype["delete"]=on,nn.prototype.get=an,nn.prototype.has=sn,nn.prototype.set=ln,un.prototype.add=un.prototype.push=cn,un.prototype.has=dn,hn.prototype.clear=pn,hn.prototype["delete"]=fn,hn.prototype.get=gn,hn.prototype.has=mn,hn.prototype.set=vn;var zc=Dr(Yn),Gc=Dr(ei,!0),Vc=Er(),Uc=Er(!0),qc=Pc?function(t,e){return Pc.set(t,e),t}:lu,Yc=cc||function(t){return zn.clearTimeout(t)},Kc=Tc&&1/V(new Tc([,-0]))[1]==Ct?function(t){return new Tc(t)}:fu,Zc=Pc?function(t){return Pc.get(t)}:fu,Xc=gc?z(gc,Hu):yu,Qc=gc?function(t){for(var e=[];t;)d(e,Xc(t)),t=rc(t);return e}:yu,Jc=ui;($c&&Jc(new $c(new ArrayBuffer(1)))!=Zt||Mc&&Jc(new Mc)!=Ht||Sc&&Jc(Sc.resolve())!=jt||Tc&&Jc(new Tc)!=Gt||Dc&&Jc(new Dc)!=qt)&&(Jc=function(t){var e=Qu.call(t),n=e==Wt?t.constructor:J,i=n?Oo(n):J;if(i)switch(i){case Ic:return Zt;case Rc:return Ht;case Lc:return jt;case Bc:return Gt;case Hc:return qt}return e});var td=Uu?As:bu,ed=function(){var t=0,e=0;return function(n,i){var r=Od(),o=wt-(r-e);if(e=r,o>0){if(++t>=bt)return n}else t=0;return qc(n,i)}}(),nd=hc||function(t,e){return zn.setTimeout(t,e)},id=Oc?function(t,e,n){var i=e+"";return Oc(t,"toString",{configurable:!0,enumerable:!1,value:au(fo(i,Po(lo(i),n)))})}:lu,rd=ls(function(t){t=ol(t);var e=[];return ye.test(t)&&e.push(""),t.replace(be,function(t,n,i,r){e.push(i?r.replace(De,"$1"):n||t)}),e}),od=Ui(function(t,e){return $s(t)?Bn(t,qn(e,1,$s,!0)):[]}),ad=Ui(function(t,e){var n=Qo(e);return $s(n)&&(n=J),$s(t)?Bn(t,qn(e,1,$s,!0),io(n,2)):[]}),sd=Ui(function(t,e){var n=Qo(e);return $s(n)&&(n=J),$s(t)?Bn(t,qn(e,1,$s,!0),J,n):[]}),ld=Ui(function(t){var e=c(t,lr);return e.length&&e[0]===t[0]?fi(e):[]}),ud=Ui(function(t){var e=Qo(t),n=c(t,lr);return e===Qo(n)?e=J:n.pop(),n.length&&n[0]===t[0]?fi(n,io(e,2)):[]}),cd=Ui(function(t){var e=Qo(t),n=c(t,lr);return e===Qo(n)?e=J:n.pop(),n.length&&n[0]===t[0]?fi(n,J,e):[]}),dd=Ui(ea),hd=Ui(function(t,e){e=qn(e,1);var n=t?t.length:0,i=Sn(t,e);return ji(t,c(e,function(t){return mo(t,n)?+t:t}).sort(wr)),i}),pd=Ui(function(t){return er(qn(t,1,$s,!0))}),fd=Ui(function(t){var e=Qo(t);return $s(e)&&(e=J),er(qn(t,1,$s,!0),io(e,2))}),gd=Ui(function(t){var e=Qo(t);return $s(e)&&(e=J),er(qn(t,1,$s,!0),J,e)}),md=Ui(function(t,e){return $s(t)?Bn(t,e):[]}),vd=Ui(function(t){return ar(s(t,$s))}),yd=Ui(function(t){var e=Qo(t);return $s(e)&&(e=J),ar(s(t,$s),io(e,2))}),bd=Ui(function(t){var e=Qo(t);return $s(e)&&(e=J),ar(s(t,$s),J,e)}),wd=Ui(ka),_d=Ui(function(t){var e=t.length,n=e>1?t[e-1]:J;return n="function"==typeof n?(t.pop(),n):J,Ca(t,n)}),xd=Ui(function(t){t=qn(t,1);var e=t.length,n=e?t[0]:0,i=this.__wrapped__,r=function(e){return Sn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof Te&&mo(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Da,args:[r],thisArg:J}),new Z(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(J),t})):this.thru(r)}),kd=Sr(function(t,e,n){Ku.call(t,n)?++t[n]:t[n]=1}),Cd=Rr(jo),$d=Rr(zo),Md=Sr(function(t,e,n){Ku.call(t,n)?t[n].push(e):t[n]=[e]}),Sd=Ui(function(t,e,i){var r=-1,o="function"==typeof e,a=yo(e),s=Cs(t)?Nu(t.length):[];return zc(t,function(t){var l=o?e:a&&null!=t?t[e]:J;s[++r]=l?n(l,t,i):mi(t,e,i)}),s}),Td=Sr(function(t,e,n){t[n]=e}),Dd=Sr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),Ed=Ui(function(t,e){if(null==t)return[];var n=e.length;return n>1&&vo(t,e[0],e[1])?e=[]:n>2&&vo(e[0],e[1],e[2])&&(e=[e[0]]),Li(t,qn(e,1),[])}),Od=dc||function(){return zn.Date.now()},Pd=Ui(function(t,e,n){var i=ot;if(n.length){var r=G(n,no(Pd));i|=ct}return Kr(t,i,e,n,r)}),Ad=Ui(function(t,e,n){var i=ot|at;if(n.length){var r=G(n,no(Ad));i|=ct}return Kr(e,i,t,n,r)}),Nd=Ui(function(t,e){return Ln(t,1,e)}),Id=Ui(function(t,e,n){return Ln(t,nl(e)||0,n)});ls.Cache=nn;var Rd=Ui(function(t,e){e=1==e.length&&jd(e[0])?c(e[0],E(io())):c(qn(e,1),E(io()));var i=e.length;return Ui(function(r){for(var o=-1,a=_c(r.length,i);++o<a;)r[o]=e[o].call(this,r[o]);return n(t,this,r)})}),Ld=Ui(function(t,e){var n=G(e,no(Ld));return Kr(t,ct,J,e,n)}),Bd=Ui(function(t,e){var n=G(e,no(Bd));return Kr(t,dt,J,e,n)}),Hd=Ui(function(t,e){return Kr(t,pt,J,J,J,qn(e,1))}),Fd=Vr(ci),Wd=Vr(function(t,e){return t>=e}),jd=Nu.isArray,zd=Kn?E(Kn):vi,Gd=mc||bu,Vd=Zn?E(Zn):yi,Ud=Xn?E(Xn):_i,qd=Qn?E(Qn):Ci,Yd=Jn?E(Jn):$i,Kd=ti?E(ti):Mi,Zd=Vr(Ei),Xd=Vr(function(t,e){return t<=e}),Qd=Tr(function(t,e){if(Ac||xo(e)||Cs(e))return void $r(e,yl(e),t);for(var n in e)Ku.call(e,n)&&_n(t,n,e[n])}),Jd=Tr(function(t,e){$r(e,bl(e),t)}),th=Tr(function(t,e,n,i){$r(e,bl(e),t,i)}),eh=Tr(function(t,e,n,i){$r(e,yl(e),t,i)}),nh=Ui(function(t,e){return Sn(t,qn(e,1))}),ih=Ui(function(t){return t.push(J,bn),n(th,J,t)}),rh=Ui(function(t){return t.push(J,Mo),n(uh,J,t)}),oh=Hr(function(t,e,n){t[e]=n},au(lu)),ah=Hr(function(t,e,n){Ku.call(t,e)?t[e].push(n):t[e]=[n]},io),sh=Ui(mi),lh=Tr(function(t,e,n){Ni(t,e,n)}),uh=Tr(function(t,e,n,i){Ni(t,e,n,i)}),ch=Ui(function(t,e){return null==t?{}:(e=c(qn(e,1),Eo),Bi(t,Bn(to(t),e)))}),dh=Ui(function(t,e){return null==t?{}:Bi(t,c(qn(e,1),Eo))}),hh=Yr(yl),ph=Yr(bl),fh=Ar(function(t,e,n){return e=e.toLowerCase(),t+(n?Rl(e):e)}),gh=Ar(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),mh=Ar(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),vh=Pr("toLowerCase"),yh=Ar(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),bh=Ar(function(t,e,n){return t+(n?" ":"")+_h(e)}),wh=Ar(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),_h=Pr("toUpperCase"),xh=Ui(function(t,e){try{return n(t,J,e)}catch(i){return Os(i)?i:new Ru(i)}}),kh=Ui(function(t,e){return r(qn(e,1),function(e){e=Eo(e),t[e]=Pd(t[e],t)}),t}),Ch=Lr(),$h=Lr(!0),Mh=Ui(function(t,e){return function(n){return mi(n,t,e)}}),Sh=Ui(function(t,e){return function(n){return mi(t,n,e)}}),Th=Wr(c),Dh=Wr(a),Eh=Wr(f),Oh=Gr(),Ph=Gr(!0),Ah=Fr(function(t,e){return t+e},0),Nh=qr("ceil"),Ih=Fr(function(t,e){return t/e},1),Rh=qr("floor"),Lh=Fr(function(t,e){return t*e},1),Bh=qr("round"),Hh=Fr(function(t,e){return t-e},0);return C.after=es,C.ary=ns,C.assign=Qd,C.assignIn=Jd,C.assignInWith=th,C.assignWith=eh,C.at=nh,C.before=is,C.bind=Pd,C.bindAll=kh,C.bindKey=Ad,C.castArray=ms,C.chain=Sa,C.chunk=No,C.compact=Io,C.concat=Ro,C.cond=ru,C.conforms=ou,C.constant=au,C.countBy=kd,C.create=al,C.curry=rs,C.curryRight=os,C.debounce=as,C.defaults=ih,C.defaultsDeep=rh,C.defer=Nd,C.delay=Id,C.difference=od,C.differenceBy=ad,C.differenceWith=sd,C.drop=Lo,C.dropRight=Bo,C.dropRightWhile=Ho,C.dropWhile=Fo,C.fill=Wo,C.filter=Ba,C.flatMap=Ha,C.flatMapDeep=Fa,C.flatMapDepth=Wa,C.flatten=Go,C.flattenDeep=Vo,C.flattenDepth=Uo,C.flip=ss,C.flow=Ch,C.flowRight=$h,C.fromPairs=qo,C.functions=pl,C.functionsIn=fl,C.groupBy=Md,C.initial=Zo,C.intersection=ld,C.intersectionBy=ud,C.intersectionWith=cd,C.invert=oh,C.invertBy=ah,C.invokeMap=Sd,C.iteratee=uu,C.keyBy=Td,C.keys=yl,C.keysIn=bl,C.map=Va,C.mapKeys=wl,C.mapValues=_l,C.matches=cu,C.matchesProperty=du,C.memoize=ls,C.merge=lh,C.mergeWith=uh,C.method=Mh,C.methodOf=Sh,C.mixin=hu,C.negate=us,C.nthArg=gu,C.omit=ch,C.omitBy=xl,C.once=cs,C.orderBy=Ua,C.over=Th,C.overArgs=Rd,C.overEvery=Dh,C.overSome=Eh,C.partial=Ld,C.partialRight=Bd,C.partition=Dd,C.pick=dh,C.pickBy=kl,C.property=mu,C.propertyOf=vu,C.pull=dd,C.pullAll=ea,C.pullAllBy=na,C.pullAllWith=ia,C.pullAt=hd,C.range=Oh,C.rangeRight=Ph,C.rearg=Hd,C.reject=Ka,C.remove=ra,C.rest=ds,C.reverse=oa,C.sampleSize=Xa,C.set=$l,C.setWith=Ml,C.shuffle=Qa,C.slice=aa,C.sortBy=Ed,C.sortedUniq=pa,C.sortedUniqBy=fa,C.split=ql,C.spread=hs,C.tail=ga,C.take=ma,C.takeRight=va,C.takeRightWhile=ya,C.takeWhile=ba,C.tap=Ta,C.throttle=ps,C.thru=Da,C.toArray=Qs,C.toPairs=hh,C.toPairsIn=ph,C.toPath=Cu,C.toPlainObject=il,C.transform=Sl,C.unary=fs,C.union=pd,C.unionBy=fd,C.unionWith=gd,C.uniq=wa,C.uniqBy=_a,C.uniqWith=xa,C.unset=Tl,C.unzip=ka,C.unzipWith=Ca,C.update=Dl,C.updateWith=El,C.values=Ol,C.valuesIn=Pl,C.without=md,C.words=iu,C.wrap=gs,C.xor=vd,C.xorBy=yd,C.xorWith=bd,C.zip=wd,C.zipObject=$a,C.zipObjectDeep=Ma,C.zipWith=_d,C.entries=hh,C.entriesIn=ph,C.extend=Jd,C.extendWith=th,hu(C,C),C.add=Ah,C.attempt=xh,C.camelCase=fh,C.capitalize=Rl,C.ceil=Nh,C.clamp=Al,C.clone=vs,C.cloneDeep=bs,C.cloneDeepWith=ws,C.cloneWith=ys,C.conformsTo=_s,C.deburr=Ll,C.defaultTo=su,C.divide=Ih,C.endsWith=Bl,C.eq=xs,C.escape=Hl,C.escapeRegExp=Fl,C.every=La,C.find=Cd,C.findIndex=jo,C.findKey=sl,C.findLast=$d,C.findLastIndex=zo,C.findLastKey=ll,C.floor=Rh,C.forEach=ja,C.forEachRight=za,C.forIn=ul,C.forInRight=cl,C.forOwn=dl,C.forOwnRight=hl,C.get=gl,C.gt=Fd,C.gte=Wd,C.has=ml,C.hasIn=vl,C.head=Yo,C.identity=lu,C.includes=Ga,C.indexOf=Ko,C.inRange=Nl,C.invoke=sh,C.isArguments=ks,C.isArray=jd,C.isArrayBuffer=zd,C.isArrayLike=Cs,C.isArrayLikeObject=$s,C.isBoolean=Ms,C.isBuffer=Gd,C.isDate=Vd,C.isElement=Ss,C.isEmpty=Ts,C.isEqual=Ds,C.isEqualWith=Es,C.isError=Os,C.isFinite=Ps,C.isFunction=As,C.isInteger=Ns,C.isLength=Is,C.isMap=Ud,C.isMatch=Bs,C.isMatchWith=Hs,C.isNaN=Fs,C.isNative=Ws,C.isNil=zs,C.isNull=js,C.isNumber=Gs,C.isObject=Rs,C.isObjectLike=Ls,C.isPlainObject=Vs,C.isRegExp=qd,C.isSafeInteger=Us,C.isSet=Yd,C.isString=qs,C.isSymbol=Ys,C.isTypedArray=Kd,C.isUndefined=Ks,C.isWeakMap=Zs,C.isWeakSet=Xs,C.join=Xo,C.kebabCase=gh,C.last=Qo,C.lastIndexOf=Jo,C.lowerCase=mh,C.lowerFirst=vh,C.lt=Zd,C.lte=Xd,C.max=Mu,C.maxBy=Su,C.mean=Tu,C.meanBy=Du,C.min=Eu,C.minBy=Ou,C.stubArray=yu,C.stubFalse=bu,C.stubObject=wu,C.stubString=_u,C.stubTrue=xu,C.multiply=Lh,C.nth=ta,C.noConflict=pu,C.noop=fu,C.now=Od,C.pad=Wl,C.padEnd=jl,C.padStart=zl,C.parseInt=Gl,C.random=Il,C.reduce=qa,C.reduceRight=Ya,C.repeat=Vl,C.replace=Ul,C.result=Cl,C.round=Bh,C.runInContext=Q,C.sample=Za,C.size=Ja,C.snakeCase=yh,C.some=ts,C.sortedIndex=sa,C.sortedIndexBy=la,C.sortedIndexOf=ua,C.sortedLastIndex=ca,C.sortedLastIndexBy=da,C.sortedLastIndexOf=ha,C.startCase=bh,C.startsWith=Yl,C.subtract=Hh,C.sum=Pu,C.sumBy=Au,C.template=Kl,C.times=ku,C.toFinite=Js,C.toInteger=tl,C.toLength=el,C.toLower=Zl,C.toNumber=nl,C.toSafeInteger=rl,C.toString=ol,C.toUpper=Xl,C.trim=Ql,C.trimEnd=Jl,C.trimStart=tu,C.truncate=eu,C.unescape=nu,C.uniqueId=$u,C.upperCase=wh,C.upperFirst=_h,C.each=ja,C.eachRight=za,C.first=Yo,hu(C,function(){var t={};return Yn(C,function(e,n){Ku.call(C.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),C.VERSION=tt,r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){C[t].placeholder=C}),r(["drop","take"],function(t,e){Te.prototype[t]=function(n){var i=this.__filtered__;if(i&&!e)return new Te(this);n=n===J?1:wc(tl(n),0);var r=this.clone();return i?r.__takeCount__=_c(n,r.__takeCount__):r.__views__.push({size:_c(n,Tt),type:t+(r.__dir__<0?"Right":"")}),r},Te.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),r(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==_t||n==kt;Te.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:io(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),r(["head","last"],function(t,e){var n="take"+(e?"Right":"");Te.prototype[t]=function(){return this[n](1).value()[0]}}),r(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");Te.prototype[t]=function(){return this.__filtered__?new Te(this):this[n](1)}}),Te.prototype.compact=function(){return this.filter(lu)},Te.prototype.find=function(t){return this.filter(t).head()},Te.prototype.findLast=function(t){return this.reverse().find(t)},Te.prototype.invokeMap=Ui(function(t,e){return"function"==typeof t?new Te(this):this.map(function(n){return mi(n,t,e)})}),Te.prototype.reject=function(t){return this.filter(us(io(t)))},Te.prototype.slice=function(t,e){t=tl(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Te(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==J&&(e=tl(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},Te.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Te.prototype.toArray=function(){return this.take(Tt)},Yn(Te.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),i=/^(?:head|last)$/.test(e),r=C[i?"take"+("last"==e?"Right":""):e],o=i||/^find/.test(e);r&&(C.prototype[e]=function(){var e=this.__wrapped__,a=i?[1]:arguments,s=e instanceof Te,l=a[0],u=s||jd(e),c=function(t){var e=r.apply(C,d([t],a));return i&&h?e[0]:e};u&&n&&"function"==typeof l&&1!=l.length&&(s=u=!1);var h=this.__chain__,p=!!this.__actions__.length,f=o&&!h,g=s&&!p;if(!o&&u){e=g?e:new Te(this);var m=t.apply(e,a);return m.__actions__.push({func:Da,args:[c],thisArg:J}),new Z(m,h)}return f&&g?t.apply(this,a):(m=this.thru(c),f?i?m.value()[0]:m.value():m)})}),r(["pop","push","shift","sort","splice","unshift"],function(t){var e=zu[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);C.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var r=this.value();return e.apply(jd(r)?r:[],t)}return this[n](function(n){return e.apply(jd(n)?n:[],t)})}}),Yn(Te.prototype,function(t,e){var n=C[e];if(n){var i=n.name+"",r=Nc[i]||(Nc[i]=[]);r.push({name:e,func:n})}}),Nc[Br(J,at).name]=[{name:"wrapper",func:J}],Te.prototype.clone=We,Te.prototype.reverse=je,Te.prototype.value=ze,C.prototype.at=xd,C.prototype.chain=Ea,C.prototype.commit=Oa,C.prototype.next=Pa,C.prototype.plant=Na,C.prototype.reverse=Ia,C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=Ra,C.prototype.first=C.prototype.head,oc&&(C.prototype[oc]=Aa),C}var J,tt="4.15.0",et=200,nt="Expected a function",it="__lodash_hash_undefined__",rt="__lodash_placeholder__",ot=1,at=2,st=4,lt=8,ut=16,ct=32,dt=64,ht=128,pt=256,ft=512,gt=1,mt=2,vt=30,yt="...",bt=150,wt=16,_t=1,xt=2,kt=3,Ct=1/0,$t=9007199254740991,Mt=1.7976931348623157e308,St=NaN,Tt=4294967295,Dt=Tt-1,Et=Tt>>>1,Ot=[["ary",ht],["bind",ot],["bindKey",at],["curry",lt],["curryRight",ut],["flip",ft],["partial",ct],["partialRight",dt],["rearg",pt]],Pt="[object Arguments]",At="[object Array]",Nt="[object Boolean]",It="[object Date]",Rt="[object Error]",Lt="[object Function]",Bt="[object GeneratorFunction]",Ht="[object Map]",Ft="[object Number]",Wt="[object Object]",jt="[object Promise]",zt="[object RegExp]",Gt="[object Set]",Vt="[object String]",Ut="[object Symbol]",qt="[object WeakMap]",Yt="[object WeakSet]",Kt="[object ArrayBuffer]",Zt="[object DataView]",Xt="[object Float32Array]",Qt="[object Float64Array]",Jt="[object Int8Array]",te="[object Int16Array]",ee="[object Int32Array]",ne="[object Uint8Array]",ie="[object Uint8ClampedArray]",re="[object Uint16Array]",oe="[object Uint32Array]",ae=/\b__p \+= '';/g,se=/\b(__p \+=) '' \+/g,le=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ue=/&(?:amp|lt|gt|quot|#39|#96);/g,ce=/[&<>"'`]/g,de=RegExp(ue.source),he=RegExp(ce.source),pe=/<%-([\s\S]+?)%>/g,fe=/<%([\s\S]+?)%>/g,ge=/<%=([\s\S]+?)%>/g,me=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ve=/^\w*$/,ye=/^\./,be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,we=/[\\^$.*+?()[\]{}|]/g,_e=RegExp(we.source),xe=/^\s+|\s+$/g,ke=/^\s+/,Ce=/\s+$/,$e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Me=/\{\n\/\* \[wrapped with (.+)\] \*/,Se=/,? & /,Te=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,De=/\\(\\)?/g,Ee=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Oe=/\w*$/,Pe=/^0x/i,Ae=/^[-+]0x[0-9a-f]+$/i,Ne=/^0b[01]+$/i,Ie=/^\[object .+?Constructor\]$/,Re=/^0o[0-7]+$/i,Le=/^(?:0|[1-9]\d*)$/,Be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,He=/($^)/,Fe=/['\n\r\u2028\u2029\\]/g,We="\\ud800-\\udfff",je="\\u0300-\\u036f\\ufe20-\\ufe23",ze="\\u20d0-\\u20f0",Ge="\\u2700-\\u27bf",Ve="a-z\\xdf-\\xf6\\xf8-\\xff",Ue="\\xac\\xb1\\xd7\\xf7",qe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ye="\\u2000-\\u206f",Ke=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ze="A-Z\\xc0-\\xd6\\xd8-\\xde",Xe="\\ufe0e\\ufe0f",Qe=Ue+qe+Ye+Ke,Je="['’]",tn="["+We+"]",en="["+Qe+"]",nn="["+je+ze+"]",rn="\\d+",on="["+Ge+"]",an="["+Ve+"]",sn="[^"+We+Qe+rn+Ge+Ve+Ze+"]",ln="\\ud83c[\\udffb-\\udfff]",un="(?:"+nn+"|"+ln+")",cn="[^"+We+"]",dn="(?:\\ud83c[\\udde6-\\uddff]){2}",hn="[\\ud800-\\udbff][\\udc00-\\udfff]",pn="["+Ze+"]",fn="\\u200d",gn="(?:"+an+"|"+sn+")",mn="(?:"+pn+"|"+sn+")",vn="(?:"+Je+"(?:d|ll|m|re|s|t|ve))?",yn="(?:"+Je+"(?:D|LL|M|RE|S|T|VE))?",bn=un+"?",wn="["+Xe+"]?",_n="(?:"+fn+"(?:"+[cn,dn,hn].join("|")+")"+wn+bn+")*",xn=wn+bn+_n,kn="(?:"+[on,dn,hn].join("|")+")"+xn,Cn="(?:"+[cn+nn+"?",nn,dn,hn,tn].join("|")+")",$n=RegExp(Je,"g"),Mn=RegExp(nn,"g"),Sn=RegExp(ln+"(?="+ln+")|"+Cn+xn,"g"),Tn=RegExp([pn+"?"+an+"+"+vn+"(?="+[en,pn,"$"].join("|")+")",mn+"+"+yn+"(?="+[en,pn+gn,"$"].join("|")+")",pn+"?"+gn+"+"+vn,pn+"+"+yn,rn,kn].join("|"),"g"),Dn=RegExp("["+fn+We+je+ze+Xe+"]"),En=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,On=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Pn=-1,An={};An[Xt]=An[Qt]=An[Jt]=An[te]=An[ee]=An[ne]=An[ie]=An[re]=An[oe]=!0,An[Pt]=An[At]=An[Kt]=An[Nt]=An[Zt]=An[It]=An[Rt]=An[Lt]=An[Ht]=An[Ft]=An[Wt]=An[zt]=An[Gt]=An[Vt]=An[qt]=!1;var Nn={};Nn[Pt]=Nn[At]=Nn[Kt]=Nn[Zt]=Nn[Nt]=Nn[It]=Nn[Xt]=Nn[Qt]=Nn[Jt]=Nn[te]=Nn[ee]=Nn[Ht]=Nn[Ft]=Nn[Wt]=Nn[zt]=Nn[Gt]=Nn[Vt]=Nn[Ut]=Nn[ne]=Nn[ie]=Nn[re]=Nn[oe]=!0,Nn[Rt]=Nn[Lt]=Nn[qt]=!1;var In={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E",
"Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},Rn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ln={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Bn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hn=parseFloat,Fn=parseInt,Wn="object"==typeof global&&global&&global.Object===Object&&global,jn="object"==typeof self&&self&&self.Object===Object&&self,zn=Wn||jn||Function("return this")(),Gn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Vn=Gn&&"object"==typeof module&&module&&!module.nodeType&&module,Un=Vn&&Vn.exports===Gn,qn=Un&&Wn.process,Yn=function(){try{return qn&&qn.binding("util")}catch(t){}}(),Kn=Yn&&Yn.isArrayBuffer,Zn=Yn&&Yn.isDate,Xn=Yn&&Yn.isMap,Qn=Yn&&Yn.isRegExp,Jn=Yn&&Yn.isSet,ti=Yn&&Yn.isTypedArray,ei=k("length"),ni=C(In),ii=C(Rn),ri=C(Ln),oi=Q();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(zn._=oi,define(function(){return oi})):Vn?((Vn.exports=oi)._=oi,Gn._=oi):zn._=oi}.call(this);var bind=function(t,e){return function(){return t.apply(e,arguments)}};angular.module("nemLogging",[]).provider("nemSimpleLogger",function(){var t,e,n,i;return n=["log","info","debug","warn","error"],t={log:1,info:2,debug:3,warn:4,error:5},i=function(t,e,n){if(t>=e)return n()},e=function(){function e(e){var r;if(this.$log=e,this.spawn=bind(this.spawn,this),!this.$log)throw"internalLogger undefined";this.doLog=!0,r={},n.forEach(function(e){return function(n){return r[n]=function(r){if(e.doLog)return i(t[n],e.currentLevel,function(){return e.$log[n](r)})}}}(this)),this.LEVELS=t,this.currentLevel=t.error,n.forEach(function(t){return function(e){return t[e]=r[e]}}(this))}return e.prototype.spawn=function(t){return new e(t||this.$log)},e}(),this.decorator=["$log",function(n){var i;return i=new e(n),i.currentLevel=t.log,i}],this.$get=["$log",function(t){return new e(t)}],this}),function(t,e,n){"use strict";(function(){e.module("uiGmapgoogle-maps.providers",["nemLogging"]),e.module("uiGmapgoogle-maps.wrapped",[]),e.module("uiGmapgoogle-maps.extensions",["uiGmapgoogle-maps.wrapped","uiGmapgoogle-maps.providers"]),e.module("uiGmapgoogle-maps.directives.api.utils",["uiGmapgoogle-maps.extensions"]),e.module("uiGmapgoogle-maps.directives.api.managers",[]),e.module("uiGmapgoogle-maps.directives.api.options",["uiGmapgoogle-maps.directives.api.utils"]),e.module("uiGmapgoogle-maps.directives.api.options.builders",[]),e.module("uiGmapgoogle-maps.directives.api.models.child",["uiGmapgoogle-maps.directives.api.utils","uiGmapgoogle-maps.directives.api.options","uiGmapgoogle-maps.directives.api.options.builders"]),e.module("uiGmapgoogle-maps.directives.api.models.parent",["uiGmapgoogle-maps.directives.api.managers","uiGmapgoogle-maps.directives.api.models.child","uiGmapgoogle-maps.providers"]),e.module("uiGmapgoogle-maps.directives.api",["uiGmapgoogle-maps.directives.api.models.parent"]),e.module("uiGmapgoogle-maps",["uiGmapgoogle-maps.directives.api","uiGmapgoogle-maps.providers"])}).call(this),function(){e.module("uiGmapgoogle-maps.providers").factory("uiGmapMapScriptLoader",["$q","uiGmapuuid",function(n,i){var r,o,a,s;return s=void 0,r=function(t){return t.china?"http://maps.google.cn/maps/api/js?":"auto"===t.transport?"//maps.googleapis.com/maps/api/js?":t.transport+"://maps.googleapis.com/maps/api/js?"},o=function(t){var e,n,o;return e=["transport","isGoogleMapsForWork","china"],t.isGoogleMapsForWork&&e.push("key"),n=_.map(_.omit(t,e),function(t,e){return e+"="+t}),s&&document.getElementById(s).remove(),n=n.join("&"),o=document.createElement("script"),o.id=s="ui_gmap_map_load_"+i.generate(),o.type="text/javascript",o.src=r(t)+n,document.body.appendChild(o)},a=function(){return e.isDefined(t.google)&&e.isDefined(t.google.maps)},{load:function(e){var i,r;return i=n.defer(),a()?(i.resolve(t.google.maps),i.promise):(r=e.callback="onGoogleMapsReady"+Math.round(1e3*Math.random()),t[r]=function(){t[r]=null,i.resolve(t.google.maps)},t.navigator.connection&&t.Connection&&t.navigator.connection.type===t.Connection.NONE?document.addEventListener("online",function(){if(!a())return o(e)}):o(e),i.promise)}}}]).provider("uiGmapGoogleMapApi",function(){return this.options={transport:"https",isGoogleMapsForWork:!1,china:!1,v:"3",libraries:"",language:"en",sensor:"false"},this.configure=function(t){e.extend(this.options,t)},this.$get=["uiGmapMapScriptLoader",function(t){return function(e){return e.load(t.options)}}(this)],this})}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendGWin",function(){return{init:_.once(function(){var e;if(google||("undefined"!=typeof google&&null!==google?google.maps:void 0)||null!=google.maps.InfoWindow)return google.maps.InfoWindow.prototype._open=google.maps.InfoWindow.prototype.open,google.maps.InfoWindow.prototype._close=google.maps.InfoWindow.prototype.close,google.maps.InfoWindow.prototype._isOpen=!1,google.maps.InfoWindow.prototype.open=function(t,e,n){null==n&&(this._isOpen=!0,this._open(t,e,!0))},google.maps.InfoWindow.prototype.close=function(t){null==t&&(this._isOpen=!1,this._close(!0))},google.maps.InfoWindow.prototype.isOpen=function(t){return null==t&&(t=void 0),null==t?this._isOpen:this._isOpen=t},t.InfoBox&&(t.InfoBox.prototype._open=t.InfoBox.prototype.open,t.InfoBox.prototype._close=t.InfoBox.prototype.close,t.InfoBox.prototype._isOpen=!1,t.InfoBox.prototype.open=function(t,e){this._isOpen=!0,this._open(t,e)},t.InfoBox.prototype.close=function(){this._isOpen=!1,this._close()},t.InfoBox.prototype.isOpen=function(t){return null==t&&(t=void 0),null==t?this._isOpen:this._isOpen=t},e=function(e){function r(e){this.getOrigCloseBoxImg_=n(this.getOrigCloseBoxImg_,this),this.getCloseBoxDiv_=n(this.getCloseBoxDiv_,this);var i;i=new t.InfoBox(e),_.extend(this,i),null!=e.closeBoxDiv&&(this.closeBoxDiv_=e.closeBoxDiv)}return i(r,e),r.prototype.getCloseBoxDiv_=function(){return this.closeBoxDiv_},r.prototype.getCloseBoxImg_=function(){var t,e;return t=this.getCloseBoxDiv_(),e=this.getOrigCloseBoxImg_(),t||e},r.prototype.getOrigCloseBoxImg_=function(){var t;return t="",""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},r}(t.InfoBox),t.uiGmapInfoBox=e),t.MarkerLabel_?t.MarkerLabel_.prototype.setContent=function(){var t;t=this.marker_.get("labelContent"),t&&!_.isEqual(this.oldContent,t)&&("undefined"==typeof(null!=t?t.nodeType:void 0)?(this.labelDiv_.innerHTML=t,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML,this.oldContent=t):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(t),t=t.cloneNode(!0),this.labelDiv_.innerHTML="",this.eventDiv_.appendChild(t),this.oldContent=t))}:void 0})}})}.call(this),function(){e.module("uiGmapgoogle-maps.extensions").service("uiGmapLodash",function(){var t,e,n,i,r,o,a,s;return null==_.get&&(i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,r=/^\w*$/,o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,a=function(t){return _.isObject(t)?t:Object(t)},e=function(t){return null===t?"":t+""},s=function(t){var n;return _.isArray(t)?t:(n=[],e(t).replace(o,function(t,e,i,r){n.push(i?r.replace(reEscapeChar,"$1"):e||t)}),n)},t=function(t,e,n){var i,r;if(null!==t){void 0!==n&&n in a(t)&&(e=[n]),i=0,r=e.length;for(;!_.isUndefined(t)&&i<r;)t=t[e[i++]];return i&&i===r?t:void 0}},n=function(e,n,i){var r;return r=null===e?void 0:t(e,s(n),n+""),void 0===r?i:r},_.get=n),this.intersectionObjects=function(t,e,n){var i;return null==n&&(n=void 0),i=_.map(t,function(t){return function(t){return _.find(e,function(e){return null!=n?n(t,e):_.isEqual(t,e)})}}(this)),_.filter(i,function(t){return null!=t})},this.containsObject=_.includeObject=function(t,e,n){return null==n&&(n=void 0),null!==t&&_.any(t,function(t){return function(t){return null!=n?n(t,e):_.isEqual(t,e)}}(this))},this.differenceObjects=function(t,e,n){return null==n&&(n=void 0),_.filter(t,function(t){return function(i){return!t.containsObject(e,i,n)}}(this))},this.withoutObjects=this.differenceObjects,this.indexOfObject=function(t,e,n,i){var r,o;if(null==t)return-1;if(r=0,o=t.length,i){if("number"!=typeof i)return r=_.sortedIndex(t,e),t[r]===e?r:-1;r=i<0?Math.max(0,o+i):i}for(;r<o;){if(null!=n){if(n(t[r],e))return r}else if(_.isEqual(t[r],e))return r;r++}return-1},this.isNullOrUndefined=function(t){return _.isNull(t||_.isUndefined(t))},this})}.call(this),function(){e.module("uiGmapgoogle-maps.extensions").factory("uiGmapString",function(){return function(t){return this.contains=function(e,n){return t.indexOf(e,n)!==-1},this}})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmap_sync",[function(){return{fakePromise:function(){var t;return t=void 0,{then:function(e){return t=e},resolve:function(){return t.apply(void 0,arguments)}}}}}]).service("uiGmap_async",["$timeout","uiGmapPromise","uiGmapLogger","$q","uiGmapDataStructures","uiGmapGmapUtil",function(t,n,i,r,o,a){var s,l,u,c,d,h,p,f,g,m,v,y,b,w,x,k,C,$,M;return $=n.promiseTypes,v=n.isInProgress,C=n.promiseStatus,s=n.ExposedPromise,u=n.SniffedPromise,y=function(t,e){var n;return n=t.promise(),n.promiseType=t.promiseType,n.$$state&&i.debug("promiseType: "+n.promiseType+", state: "+C(n.$$state.status)),n.cancelCb=e,n},f=function(t,e){return t.promiseType===$.create&&e.promiseType!==$["delete"]&&e.promiseType!==$.init&&(i.debug("lastPromise.promiseType "+e.promiseType+", newPromiseType: "+t.promiseType+", SKIPPED MUST COME AFTER DELETE ONLY"),!0)},k=function(t,e,n){var r;if(e.promiseType===$["delete"]&&n.promiseType!==$["delete"]&&null!=n.cancelCb&&_.isFunction(n.cancelCb)&&v(n)&&(i.debug("promiseType: "+e.promiseType+", CANCELING LAST PROMISE type: "+n.promiseType),n.cancelCb("cancel safe"),r=t.peek(),null!=r&&v(r)))return r.hasOwnProperty("cancelCb")&&_.isFunction(r.cancelCb)?(i.debug("promiseType: "+r.promiseType+", CANCELING FIRST PROMISE type: "+r.promiseType),r.cancelCb("cancel safe")):i.warn("first promise was not cancelable")},l=function(t,e,n){var i,r;if(t.existingPieces){if(i=_.last(t.existingPieces._content),f(e,i))return;return k(t.existingPieces,e,i),r=s(i["finally"](function(){return y(e,n)})),r.cancelCb=n,r.promiseType=e.promiseType,t.existingPieces.enqueue(r),i["finally"](function(){return t.existingPieces.dequeue()})}return t.existingPieces=new o.Queue,t.existingPieces.enqueue(y(e,n))},w=function(t,e,n,r,o){var a;return null==n&&(n=""),a=function(t){if(i.debug(t+": "+t),null!=r&&_.isFunction(r))return r(t)},l(t,u(o,e),a)},h=80,m={value:null},M=function(t,e,n){var i;try{return t.apply(e,n)}catch(r){return i=r,m.value=i,m}},b=function(t,e,n,r){var o,a;return a=M(t,e,r),a===m&&(o="error within chunking iterator: "+m.value,i.error(o),n.reject(o)),"cancel safe"!==a},d=function(t,e,n){var i,r;return i=t===e,r=e[n],i?r:t[r]},c=function(t,n,i,r){var o;return e.isArray(t)?o=t:(o=n?n:Object.keys(_.omit(t,["length","forEach","map"])),n=o),null==r&&(r=i),e.isArray(o)&&(void 0===o||(null!=o?o.length:void 0)<=0)&&r!==i?i():r(o,n)},p=function(n,i,r,o,a,s,l,u){return c(n,u,function(u,c){var h,f,g,m;for(h=i&&i<u.length?i:u.length,f=l,g=!0;g&&h--&&f<(u?u.length:f+1);)m=d(n,u,f),g=!!e.isFunction(m)||b(o,void 0,s,[m,f]),++f;if(u){if(!(g&&f<u.length))return s.resolve();if(l=f,i)return null!=a&&_.isFunction(a)&&b(a,void 0,s,[]),t(function(){return p(n,i,r,o,a,s,l,c)},r,!1)}})},g=function(t,e,r,o,a,s,l){var u,d,f;return null==r&&(r=h),null==a&&(a=0),null==s&&(s=1),f=void 0,d=n.defer(),f=d.promise,s?c(t,l,function(){return d.resolve(),f},function(n,i){return p(t,r,s,e,o,d,a,i),f}):(u="pause (delay) must be set from _async!",i.error(u),d.reject(u),f)},x=function(t,e,i,r,o,a,s){var l;return l=[],c(t,s,function(){return n.resolve(l)},function(n,s){return g(t,function(t){return l.push(e(t))},i,r,o,a,s).then(function(){return l})})},{each:g,map:x,managePromiseQueue:w,promiseLock:w,defaultChunkSize:h,chunkSizeFrom:function(t,e){return null==e&&(e=void 0),_.isNumber(t)&&(e=t),(a.isFalse(t)||t===!1)&&(e=!1),e}}}])}.call(this),function(){var t=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapBaseObject",function(){var e,n;return n=["extended","included"],e=function(){function e(){}return e.extend=function(e){var i,r,o;for(i in e)o=e[i],t.call(n,i)<0&&(this[i]=o);return null!=(r=e.extended)&&r.apply(this),this},e.include=function(e){var i,r,o;for(i in e)o=e[i],t.call(n,i)<0&&(this.prototype[i]=o);return null!=(r=e.included)&&r.apply(this),this},e}()})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChildEvents",function(){return{onChildCreation:function(t){}}})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapCtrlHandle",["$q",function(t){var e;return e={handle:function(n,i){return n.$on("$destroy",function(){return e.handle(n)}),n.deferred=t.defer(),{getScope:function(){return n}}},mapPromise:function(t,e){var n;return n=e.getScope(),n.deferred.promise.then(function(e){return t.map=e}),n.deferred.promise}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapEventsHelper",["uiGmapLogger",function(t){var n,i;return i=function(t){return e.isDefined(t.events)&&null!=t.events&&e.isObject(t.events)},n=function(t,e){return i(t)?t:i(e)?e:void 0},{setEvents:function(t,i,r,o){var a;if(a=n(i,r),null!=a)return _.compact(_.map(a.events,function(n,s){var l;if(o&&(l=_(o).contains(s)),a.events.hasOwnProperty(s)&&e.isFunction(a.events[s])&&!l)return google.maps.event.addListener(t,s,function(){return i.$evalAsync||(i.$evalAsync=function(){}),i.$evalAsync(n.apply(i,[t,s,r,arguments]))})}))},removeEvents:function(t){var e,n;if(t)for(e in t)n=t[e],n&&google.maps.event.removeListener(n)}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapFitHelper",["uiGmapLogger",function(t){return{fit:function(t,e){var n,i,r,o,a;if(e&&(null!=t?t.length:void 0)){n=new google.maps.LatLngBounds,i=!1;for(r in t)o=t[r],o&&(i||(i=!0),a=_.isFunction(o.getPosition)?o.getPosition():o),n.extend(a);if(i)return e.fitBounds(n)}}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapGmapUtil",["uiGmapLogger","$compile",function(t,n){var i,r,o,a,s,l;return r=function(t,e,n){return t===e||n.indexOf(t)!==-1},i=function(t){return r(t,!1,["false","FALSE",0,"n","N","no","NO"])},a=function(t){return Array.isArray(t)&&2===t.length?t[1]:e.isDefined(t.type)&&"Point"===t.type?t.coordinates[1]:t.latitude},s=function(t){return Array.isArray(t)&&2===t.length?t[0]:e.isDefined(t.type)&&"Point"===t.type?t.coordinates[0]:t.longitude},o=function(t){if(t)return Array.isArray(t)&&2===t.length?new google.maps.LatLng(t[1],t[0]):e.isDefined(t.type)&&"Point"===t.type?new google.maps.LatLng(t.coordinates[1],t.coordinates[0]):new google.maps.LatLng(t.latitude,t.longitude)},l=function(t){if(e.isUndefined(t))return!1;if(_.isArray(t)){if(2===t.length)return!0}else if(null!=t&&(null!=t?t.type:void 0)&&"Point"===t.type&&_.isArray(t.coordinates)&&2===t.coordinates.length)return!0;return!(!t||!e.isDefined((null!=t?t.latitude:void 0)&&e.isDefined(null!=t?t.longitude:void 0)))},{setCoordsFromEvent:function(t,n){if(t)return Array.isArray(t)&&2===t.length?(t[1]=n.lat(),t[0]=n.lng()):e.isDefined(t.type)&&"Point"===t.type?(t.coordinates[1]=n.lat(),t.coordinates[0]=n.lng()):(t.latitude=n.lat(),t.longitude=n.lng()),t},getLabelPositionPoint:function(t){var e,n;if(void 0!==t)return t=/^([-\d\.]+)\s([-\d\.]+)$/.exec(t),e=parseFloat(t[1]),n=parseFloat(t[2]),null!=e&&null!=n?new google.maps.Point(e,n):void 0},createWindowOptions:function(i,r,a,s){var l;return null!=a&&null!=s&&null!=n?(l=e.extend({},s,{content:this.buildContent(r,s,a),position:null!=s.position?s.position:e.isObject(i)?i.getPosition():o(r.coords)}),null!=i&&null==(null!=l?l.pixelOffset:void 0)&&(null==l.boxClass||(l.pixelOffset={height:0,width:-2})),l):s?s:(t.error("infoWindow defaults not defined"),a?void 0:t.error("infoWindow content not defined"))},buildContent:function(t,e,i){var r,o;return null!=e.content?o=e.content:null!=n?(i=i.replace(/^\s+|\s+$/g,""),r=""===i?"":n(i)(t),r.length>0&&(o=r[0])):o=i,o},defaultDelay:50,isTrue:function(t){return r(t,!0,["true","TRUE",1,"y","Y","yes","YES"])},isFalse:i,isFalsy:function(t){return r(t,!1,[void 0,null])||i(t)},getCoords:o,validateCoords:l,equalCoords:function(t,e){return a(t)===a(e)&&s(t)===s(e)},validatePath:function(t){var n,i,r,o;if(i=0,e.isUndefined(t.type)){if(!Array.isArray(t)||t.length<2)return!1;for(;i<t.length;){if(!(e.isDefined(t[i].latitude)&&e.isDefined(t[i].longitude)||"function"==typeof t[i].lat&&"function"==typeof t[i].lng))return!1;i++}return!0}if(e.isUndefined(t.coordinates))return!1;if("Polygon"===t.type){if(t.coordinates[0].length<4)return!1;n=t.coordinates[0]}else if("MultiPolygon"===t.type){if(o={max:0,index:0},_.forEach(t.coordinates,function(t,e){if(t[0].length>this.max)return this.max=t[0].length,this.index=e},o),r=t.coordinates[o.index],n=r[0],n.length<4)return!1}else{if("LineString"!==t.type)return!1;if(t.coordinates.length<2)return!1;n=t.coordinates}for(;i<n.length;){if(2!==n[i].length)return!1;i++}return!0},convertPathPoints:function(t){var n,i,r,o,a;if(i=0,o=new google.maps.MVCArray,e.isUndefined(t.type))for(;i<t.length;)e.isDefined(t[i].latitude)&&e.isDefined(t[i].longitude)?r=new google.maps.LatLng(t[i].latitude,t[i].longitude):"function"==typeof t[i].lat&&"function"==typeof t[i].lng&&(r=t[i]),o.push(r),i++;else for("Polygon"===t.type?n=t.coordinates[0]:"MultiPolygon"===t.type?(a={max:0,index:0},_.forEach(t.coordinates,function(t,e){if(t[0].length>this.max)return this.max=t[0].length,this.index=e},a),n=t.coordinates[a.index][0]):"LineString"===t.type&&(n=t.coordinates);i<n.length;)o.push(new google.maps.LatLng(n[i][1],n[i][0])),i++;return o},getPath:function(t,e){var n;return null!=e&&_.isString(e)?(n=t,_.each(e.split("."),function(t){if(n)return n=n[t]}),n):e},validateBoundPoints:function(t){return!(e.isUndefined(t.sw.latitude)||e.isUndefined(t.sw.longitude)||e.isUndefined(t.ne.latitude)||e.isUndefined(t.ne.longitude))},convertBoundPoints:function(t){var e;return e=new google.maps.LatLngBounds(new google.maps.LatLng(t.sw.latitude,t.sw.longitude),new google.maps.LatLng(t.ne.latitude,t.ne.longitude))},fitMapBounds:function(t,e){return t.fitBounds(e)}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapIsReady",["$q","$timeout",function(t,e){var n,i,r,o;return i=0,o=[],r=function(){return t.all(o)},n=function(t,o,a){return e(function(){return a<=0?void t.reject("Your maps are not found we have checked the maximum amount of times. :)"):void(i!==o?n(t,o,a-1):t.resolve(r()))},100)},{spawn:function(){var e;return e=t.defer(),o.push(e.promise),i+=1,{instance:i,deferred:e}},promises:r,instances:function(){return i},promise:function(e,i){var r;return null==e&&(e=1),null==i&&(i=50),r=t.defer(),n(r,e,i),r.promise},reset:function(){i=0,o.length=0},decrement:function(){i>0&&(i-=1),o.length&&(o.length-=1)}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapLinked",["uiGmapBaseObject",function(e){var n;return n=function(e){function n(t,e,n,i){this.scope=t,this.element=e,this.attrs=n,this.ctrls=i}return t(n,e),n}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapLogger",["nemSimpleLogger",function(t){return t.spawn()}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelKey",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapPromise","$q","$timeout",function(i,r,o,a,s){var l;return l=function(i){function o(e){this.scope=e,this.modelsLength=t(this.modelsLength,this),this.updateChild=t(this.updateChild,this),this.destroy=t(this.destroy,this),this.onDestroy=t(this.onDestroy,this),this.setChildScope=t(this.setChildScope,this),this.getChanges=t(this.getChanges,this),this.getProp=t(this.getProp,this),this.setIdKey=t(this.setIdKey,this),this.modelKeyComparison=t(this.modelKeyComparison,this),o.__super__.constructor.call(this),this["interface"]={},this["interface"].scopeKeys=[],this.defaultIdKey="id",this.idKey=void 0}return n(o,i),o.prototype.evalModelHandle=function(t,e){if(null!=t&&null!=e)return"self"===e?t:(_.isFunction(e)&&(e=e()),r.getPath(t,e))},o.prototype.modelKeyComparison=function(t,e){var n,i,o;if(n=_.contains(this["interface"].scopeKeys,"coords"),(n&&null!=this.scope.coords||!n)&&(o=this.scope),null==o)throw"No scope set!";return n&&(i=r.equalCoords(this.scopeOrModelVal("coords",o,t),this.scopeOrModelVal("coords",o,e)),!i)?i:i=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(i){return n.scopeOrModelVal(o[i],o,t)===n.scopeOrModelVal(o[i],o,e)}}(this))},o.prototype.setIdKey=function(t){return this.idKey=null!=t.idKey?t.idKey:this.defaultIdKey},o.prototype.setVal=function(t,e,n){var i;return i=this.modelOrKey(t,e),i=n,t},o.prototype.modelOrKey=function(t,e){if(null!=e)return"self"!==e?r.getPath(t,e):t},o.prototype.getProp=function(t,e,n){return this.scopeOrModelVal(t,e,n)},o.prototype.getChanges=function(t,e,n){var i,r,o;n&&(e=_.pick(e,n),t=_.pick(t,n)),r={},o={},i={};for(o in t)e&&e[o]===t[o]||(_.isArray(t[o])?r[o]=t[o]:_.isObject(t[o])?(i=this.getChanges(t[o],e?e[o]:null),_.isEmpty(i)||(r[o]=i)):r[o]=t[o]);return r},o.prototype.scopeOrModelVal=function(t,e,n,i){var r,o,a,s;return null==i&&(i=!1),r=function(t,e,n){return null==n&&(n=!1),n?{isScope:t,value:e}:e},s=_.get(e,t),_.isFunction(s)?r(!0,s(n),i):_.isObject(s)?r(!0,s,i):_.isString(s)?(o=s,a=o?"self"===o?n:_.get(n,o):_.get(n,t),_.isFunction(a)?r(!1,a(),i):r(!1,a,i)):r(!0,s,i)},o.prototype.setChildScope=function(t,e,n){var i,r,o,a;for(r in t)o=t[r],i=this.scopeOrModelVal(o,e,n,!0),null!=(null!=i?i.value:void 0)&&(a=i.value,a!==e[o]&&(e[o]=a));return e.model=n},o.prototype.onDestroy=function(t){},o.prototype.destroy=function(t){var e;return null==t&&(t=!1),null==this.scope||(null!=(e=this.scope)?e.$$destroyed:void 0)||!this.needToManualDestroy&&!t?this.clean():this.scope.$destroy()},o.prototype.updateChild=function(t,e){return null==e[this.idKey]?void this.$log.error("Model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):t.updateModel(e)},o.prototype.modelsLength=function(t){var n,i;return null==t&&(t=void 0),n=0,i=t?t:this.scope.models,null==i?n:n=e.isArray(i)||null!=i.length?i.length:Object.keys(i).length},o}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapModelsWatcher",["uiGmapLogger","uiGmap_async","$q","uiGmapPromise",function(t,e,n,i){return{didQueueInitPromise:function(t,n){return 0===n.models.length&&(e.promiseLock(t,i.promiseTypes.init,null,null,function(t){return function(){return i.resolve()}}(this)),!0)},figureOutState:function(e,n,i,r,o){var a,s,l,u,c;return a=[],l={},u=[],c=[],n.models.forEach(function(o){var s;return null==o[e]?t.error(" id missing for model #{m.toString()},\ncan not use do comparison/insertion"):(l[o[e]]={},null==i.get(o[e])?a.push(o):(s=i.get(o[e]),r(o,s.clonedModel,n)?void 0:c.push({model:o,child:s})))}),s=i.values(),s.forEach(function(n){var i;return null==n?void t.error("child undefined in ModelsWatcher."):null==n.model?void t.error("child.model undefined in ModelsWatcher."):(i=n.model[e],null==l[i]?u.push(n):void 0)}),{adds:a,removals:u,updates:c}}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").service("uiGmapPromise",["$q","$timeout","uiGmapLogger",function(t,e,n){var i,r,o,a,s,l,u,c,d,h,p;return d={create:"create",update:"update","delete":"delete",init:"init"},c={IN_PROGRESS:0,RESOLVED:1,REJECTED:2},p=function(){var t;return t={},t[""+c.IN_PROGRESS]="in-progress",t[""+c.RESOLVED]="resolved",t[""+c.REJECTED]="rejected",t}(),a=function(t){return t.$$state?t.$$state.status===c.IN_PROGRESS:!t.hasOwnProperty("$$v")||void 0},s=function(t){return t.$$state?t.$$state.status===c.RESOLVED:!!t.hasOwnProperty("$$v")||void 0},u=function(t){return p[t]||"done w error"},i=function(e){var n,i,r;return n=t.defer(),i=t.all([e,n.promise]),r=t.defer(),e.then(n.resolve,function(){},function(t){return n.notify(t),r.notify(t)}),i.then(function(t){return r.resolve(t[0]||t[1])},function(t){return r.reject(t)}),r.promise.cancel=function(t){return null==t&&(t="canceled"),n.reject(t)},r.promise.notify=function(t){if(null==t&&(t="cancel safe"),r.notify(t),e.hasOwnProperty("notify"))return e.notify(t)},null!=e.promiseType&&(r.promise.promiseType=e.promiseType),r.promise},r=function(t,e){return{promise:t,promiseType:e}},o=function(){return t.defer()},h=function(){var e;return e=t.defer(),e.resolve.apply(void 0,arguments),e.promise},l=function(i){var r;return _.isFunction(i)?(r=t.defer(),e(function(){var t;return t=i(),r.resolve(t)}),r.promise):void n.error("uiGmapPromise.promise() only accepts functions")},{defer:o,promise:l,resolve:h,promiseTypes:d,isInProgress:a,isResolved:s,promiseStatus:u,ExposedPromise:i,SniffedPromise:r}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropMap",function(){var e;return e=function(){function e(){this.removeAll=t(this.removeAll,this),this.slice=t(this.slice,this),this.push=t(this.push,this),this.keys=t(this.keys,this),this.values=t(this.values,this),this.remove=t(this.remove,this),this.put=t(this.put,this),this.stateChanged=t(this.stateChanged,this),this.get=t(this.get,this),this.length=0,this.dict={},this.didValsStateChange=!1,this.didKeysStateChange=!1,this.allVals=[],this.allKeys=[]}return e.prototype.get=function(t){return this.dict[t]},e.prototype.stateChanged=function(){return this.didValsStateChange=!0,this.didKeysStateChange=!0},e.prototype.put=function(t,e){return null==this.get(t)&&this.length++,this.stateChanged(),this.dict[t]=e},e.prototype.remove=function(t,e){var n;if(null==e&&(e=!1),!e||this.get(t))return n=this.dict[t],delete this.dict[t],this.length--,this.stateChanged(),n},e.prototype.valuesOrKeys=function(t){var e,n;return null==t&&(t="Keys"),this["did"+t+"StateChange"]?(n=[],e=[],_.each(this.dict,function(t,i){return n.push(t),e.push(i)}),this.didKeysStateChange=!1,this.didValsStateChange=!1,this.allVals=n,this.allKeys=e,this["all"+t]):this["all"+t]},e.prototype.values=function(){return this.valuesOrKeys("Vals")},e.prototype.keys=function(){return this.valuesOrKeys()},e.prototype.push=function(t,e){return null==e&&(e="key"),this.put(t[e],t)},e.prototype.slice=function(){return this.keys().map(function(t){return function(e){return t.remove(e)}}(this))},e.prototype.removeAll=function(){return this.slice()},e.prototype.each=function(t){return _.each(this.dict,function(e,n){return t(e)})},e.prototype.map=function(t){return _.map(this.dict,function(e,n){return t(e)})},e}()})}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapPropertyAction",["uiGmapLogger",function(t){var e;return e=function(t){return this.setIfChange=function(e,n){var i;if(i=this.exp,!_.isEqual(n,e))return t(i,e)},this.sic=this.setIfChange,this}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapClustererMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapEventsHelper",function(n,i,r,o){var a;return a=function(){function a(e,i,o,s){null==i&&(i={}),this.opt_options=null!=o?o:{},this.opt_events=s,this.checkSync=t(this.checkSync,this),this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.destroy=t(this.destroy,this),this.attachEvents=t(this.attachEvents,this),this.clear=t(this.clear,this),this.draw=t(this.draw,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=a.type,this.clusterer=new NgMapMarkerClusterer(e,i,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.clusterer.setIgnoreHidden(!0),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return a.type="ClustererMarkerManager",a.prototype.checkKey=function(t){var e;if(null==t.key)return e="gMarker.key undefined and it is REQUIRED!!",n.error(e)},a.prototype.add=function(t){return this.checkKey(t),this.clusterer.addMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(t.key,t),this.checkSync()},a.prototype.update=function(t){return this.remove(t),this.add(t)},a.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},a.prototype.remove=function(t){var e;return this.checkKey(t),e=this.propMapGMarkers.get(t.key),e&&(this.clusterer.removeMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(t.key)),this.checkSync()},a.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},a.prototype.draw=function(){return this.clusterer.repaint()},a.prototype.clear=function(){return this.removeMany(this.getGMarkers()),this.clusterer.repaint()},a.prototype.attachEvents=function(t,i){var r,o,a;if(this.listeners=[],e.isDefined(t)&&null!=t&&e.isObject(t)){a=[];for(o in t)r=t[o],t.hasOwnProperty(o)&&e.isFunction(t[o])?(n.info(i+": Attaching event: "+o+" to clusterer"),a.push(this.listeners.push(google.maps.event.addListener(this.clusterer,o,t[o])))):a.push(void 0);return a}},a.prototype.clearEvents=function(){return o.removeEvents(this.listeners),this.listeners=[]},a.prototype.destroy=function(){return this.clearEvents(),this.clear()},a.prototype.fit=function(){return i.fit(this.getGMarkers(),this.clusterer.getMap())},a.prototype.getGMarkers=function(){return this.clusterer.getMarkers().values()},a.prototype.checkSync=function(){},a}()}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap",function(e,n,i){var r;return r=function(){function r(n,o,a){this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.handleOptDraw=t(this.handleOptDraw,this),this.clear=t(this.clear,this),
this.destroy=t(this.destroy,this),this.draw=t(this.draw,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=r.type,this.gMap=n,this.gMarkers=new i,this.$log=e,this.$log.info(this)}return r.type="MarkerManager",r.prototype.add=function(t,n){var i,r;if(null==n&&(n=!0),null==t.key)throw r="gMarker.key undefined and it is REQUIRED!!",e.error(r),r;if(i=this.gMarkers.get(t.key),!i)return this.handleOptDraw(t,n,!0),this.gMarkers.put(t.key,t)},r.prototype.update=function(t,e){return null==e&&(e=!0),this.remove(t,e),this.add(t,e)},r.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},r.prototype.remove=function(t,e){if(null==e&&(e=!0),this.handleOptDraw(t,e,!1),this.gMarkers.get(t.key))return this.gMarkers.remove(t.key)},r.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},r.prototype.draw=function(){var t;return t=[],this.gMarkers.each(function(e){return function(n){if(!n.isDrawn)return n.doAdd?(n.setMap(e.gMap),n.isDrawn=!0):t.push(n)}}(this)),t.forEach(function(t){return function(e){return e.isDrawn=!1,t.remove(e,!0)}}(this))},r.prototype.destroy=function(){return this.clear()},r.prototype.clear=function(){return this.gMarkers.each(function(t){return t.setMap(null)}),delete this.gMarkers,this.gMarkers=new i},r.prototype.handleOptDraw=function(t,e,n){return e===!0?(n?t.setMap(this.gMap):t.setMap(null),t.isDrawn=!0):(t.isDrawn=!1,t.doAdd=n)},r.prototype.fit=function(){return n.fit(this.getGMarkers(),this.gMap)},r.prototype.getGMarkers=function(){return this.gMarkers.values()},r}()}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps.directives.api.managers").factory("uiGmapSpiderfierMarkerManager",["uiGmapLogger","uiGmapFitHelper","uiGmapPropMap","uiGmapMarkerSpiderfier",function(n,i,r,o){var a;return a=function(){function a(e,i,s,l,u){null==i&&(i={}),this.opt_options=null!=s?s:{},this.opt_events=l,this.scope=u,this.checkSync=t(this.checkSync,this),this.isSpiderfied=t(this.isSpiderfied,this),this.getGMarkers=t(this.getGMarkers,this),this.fit=t(this.fit,this),this.destroy=t(this.destroy,this),this.attachEvents=t(this.attachEvents,this),this.clear=t(this.clear,this),this.draw=t(this.draw,this),this.removeMany=t(this.removeMany,this),this.remove=t(this.remove,this),this.addMany=t(this.addMany,this),this.update=t(this.update,this),this.add=t(this.add,this),this.type=a.type,this.markerSpiderfier=new o(e,this.opt_options),this.propMapGMarkers=new r,this.attachEvents(this.opt_events,"opt_events"),this.noDrawOnSingleAddRemoves=!0,n.info(this)}return a.type="SpiderfierMarkerManager",a.prototype.checkKey=function(t){var e;if(null==t.key)return e="gMarker.key undefined and it is REQUIRED!!",n.error(e)},a.prototype.add=function(t){return t.setMap(this.markerSpiderfier.map),this.checkKey(t),this.markerSpiderfier.addMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.put(t.key,t),this.checkSync()},a.prototype.update=function(t){return this.remove(t),this.add(t)},a.prototype.addMany=function(t){return t.forEach(function(t){return function(e){return t.add(e)}}(this))},a.prototype.remove=function(t){var e;return this.checkKey(t),e=this.propMapGMarkers.get(t.key),e&&(t.setMap(null),this.markerSpiderfier.removeMarker(t,this.noDrawOnSingleAddRemoves),this.propMapGMarkers.remove(t.key)),this.checkSync()},a.prototype.removeMany=function(t){return t.forEach(function(t){return function(e){return t.remove(e)}}(this))},a.prototype.draw=function(){},a.prototype.clear=function(){return this.removeMany(this.getGMarkers())},a.prototype.attachEvents=function(t,i){if(e.isDefined(t)&&null!=t&&e.isObject(t))return _.each(t,function(r){return function(o,a){if(t.hasOwnProperty(a)&&e.isFunction(t[a]))return n.info(i+": Attaching event: "+a+" to markerSpiderfier"),r.markerSpiderfier.addListener(a,function(){return"spiderfy"===a||"unspiderfy"===a?r.scope.$evalAsync(t[a].apply(t,arguments)):r.scope.$evalAsync(t[a].apply(t,[arguments[0],a,arguments[0].model,arguments]))})}}(this))},a.prototype.clearEvents=function(t,i){var r,o;if(e.isDefined(t)&&null!=t&&e.isObject(t))for(o in t)r=t[o],t.hasOwnProperty(o)&&e.isFunction(t[o])&&(n.info(i+": Clearing event: "+o+" to markerSpiderfier"),this.markerSpiderfier.clearListeners(o))},a.prototype.destroy=function(){return this.clearEvents(this.opt_events,"opt_events"),this.clear()},a.prototype.fit=function(){return i.fit(this.getGMarkers(),this.markerSpiderfier.map)},a.prototype.getGMarkers=function(){return this.markerSpiderfier.getMarkers()},a.prototype.isSpiderfied=function(){return _.find(this.getGMarkers(),function(t){return null!=(null!=t?t._omsData:void 0)})},a.prototype.checkSync=function(){},a}()}])}.call(this),function(){e.module("uiGmapgoogle-maps").factory("uiGmapadd-events",["$timeout",function(t){var n,i;return n=function(e,n,i){return google.maps.event.addListener(e,n,function(){return i.apply(this,arguments),t(function(){},!0)})},i=function(t,i,r){var o;return r?n(t,i,r):(o=[],e.forEach(i,function(e,i){return o.push(n(t,i,e))}),function(){return e.forEach(o,function(t){return google.maps.event.removeListener(t)}),o=null})}}])}.call(this),function(){e.module("uiGmapgoogle-maps").factory("uiGmaparray-sync",["uiGmapadd-events",function(t){return function(n,i,r,o){var a,s,l,u,c,d,h,p,f;return u=!1,p=i.$eval(r),i["static"]||(c={set_at:function(t){var e;if(!u&&(e=n.getAt(t)))return e.lng&&e.lat?(p[t].latitude=e.lat(),p[t].longitude=e.lng()):p[t]=e},insert_at:function(t){var e;if(!u&&(e=n.getAt(t)))return e.lng&&e.lat?p.splice(t,0,{latitude:e.lat(),longitude:e.lng()}):p.splice(t,0,e)},remove_at:function(t){if(!u)return p.splice(t,1)}},"Polygon"===p.type?a=p.coordinates[0]:"LineString"===p.type&&(a=p.coordinates),s={set_at:function(t){var e;if(!u&&(e=n.getAt(t),e&&e.lng&&e.lat))return a[t][1]=e.lat(),a[t][0]=e.lng()},insert_at:function(t){var e;if(!u&&(e=n.getAt(t),e&&e.lng&&e.lat))return a.splice(t,0,[e.lng(),e.lat()])},remove_at:function(t){if(!u)return a.splice(t,1)}},h=t(n,e.isUndefined(p.type)?c:s)),d=function(t){var e,i,r,a,s,l,c,d;if(u=!0,l=n,e=!1,t){for(i=0,c=l.getLength(),a=t.length,r=Math.min(c,a),s=void 0;i<r;)d=l.getAt(i),s=t[i],"function"==typeof s.equals?s.equals(d)||(l.setAt(i,s),e=!0):d.lat()===s.latitude&&d.lng()===s.longitude||(l.setAt(i,new google.maps.LatLng(s.latitude,s.longitude)),e=!0),i++;for(;i<a;)s=t[i],"function"==typeof s.lat&&"function"==typeof s.lng?l.push(s):l.push(new google.maps.LatLng(s.latitude,s.longitude)),e=!0,i++;for(;i<c;)l.pop(),e=!0,i++}if(u=!1,e)return o(l)},l=function(t){var e,i,r,a,s,l,c,d,h;if(u=!0,c=n,i=!1,t){for("Polygon"===p.type?e=t.coordinates[0]:"LineString"===p.type&&(e=t.coordinates),r=0,d=c.getLength(),s=e.length,a=Math.min(d,s),l=void 0;r<a;)h=c.getAt(r),l=e[r],h.lat()===l[1]&&h.lng()===l[0]||(c.setAt(r,new google.maps.LatLng(l[1],l[0])),i=!0),r++;for(;r<s;)l=e[r],c.push(new google.maps.LatLng(l[1],l[0])),i=!0,r++;for(;r<d;)c.pop(),i=!0,r++}if(u=!1,i)return o(c)},i["static"]||(f=e.isUndefined(p.type)?i.$watchCollection(r,d):i.$watch(r,l,!0)),function(){if(h&&(h(),h=null),f)return f(),f=null}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.utils").factory("uiGmapChromeFixes",["$timeout",function(t){return{maybeRepaint:function(e){if(e)return e.style.opacity=.9,t(function(){return e.style.opacity=1})}}}])}.call(this),function(){e.module("uiGmapgoogle-maps").service("uiGmapObjectIterators",function(){var t,e,n,i;return t=["length","forEach","map"],e=[],n=function(e){return e.forEach=function(n){return _.each(_.omit(e,t),function(t){if(!_.isFunction(t))return n(t)})},e},e.push(n),i=function(e){return e.map=function(n){return _.map(_.omit(e,t),function(t){if(!_.isFunction(t))return n(t)})},e},e.push(i),{slapMap:i,slapForEach:n,slapAll:function(t){return e.forEach(function(e){return e(t)}),t}}})}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.options.builders").service("uiGmapCommonOptionsBuilder",["uiGmapBaseObject","uiGmapLogger","uiGmapModelKey",function(i,r,o){var a;return a=function(i){function o(){return this.watchProps=t(this.watchProps,this),this.buildOpts=t(this.buildOpts,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.props=["clickable","draggable","editable","visible",{prop:"stroke",isColl:!0}],o.prototype.getCorrectModel=function(t){return e.isDefined(null!=t?t.model:void 0)?t.model:t},o.prototype.buildOpts=function(t,n,i){var o,a,s;return null==t&&(t={}),null==i&&(i={}),this.scope?this.map?(o=this.getCorrectModel(this.scope),s=this.scopeOrModelVal("stroke",this.scope,o),a=e.extend(t,this.DEFAULTS,{map:this.map,strokeColor:null!=s?s.color:void 0,strokeOpacity:null!=s?s.opacity:void 0,strokeWeight:null!=s?s.weight:void 0}),e.forEach(e.extend(i,{clickable:!0,draggable:!1,editable:!1,"static":!1,fit:!1,visible:!0,zIndex:0,icons:[]}),function(t){return function(i,r){var s;return s=n?n[r]:t.scopeOrModelVal(r,t.scope,o),e.isUndefined(s)?a[r]=i:a[r]=o[r]}}(this)),a["static"]&&(a.editable=!1),a):void r.error("this.map not defined in CommonOptionsBuilder can not buildOpts"):void r.error("this.scope not defined in CommonOptionsBuilder can not buildOpts")},o.prototype.watchProps=function(t){return null==t&&(t=this.props),t.forEach(function(t){return function(e){if(null!=t.attrs[e]||null!=t.attrs[null!=e?e.prop:void 0])return(null!=e?e.isColl:void 0)?t.scope.$watchCollection(e.prop,t.setMyOptions):t.scope.$watch(e,t.setMyOptions)}}(this))},o}(o)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.options.builders").factory("uiGmapPolylineOptionsBuilder",["uiGmapCommonOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e){return n.__super__.buildOpts.call(this,{path:t},e,{geodesic:!1})},n}(e)}]).factory("uiGmapShapeOptionsBuilder",["uiGmapCommonOptionsBuilder",function(n){var i;return i=function(n){function i(){return i.__super__.constructor.apply(this,arguments)}return t(i,n),i.prototype.buildOpts=function(t,n,r){var o,a;return a=this.getCorrectModel(this.scope),o=n?n.fill:this.scopeOrModelVal("fill",this.scope,a),t=e.extend(t,{fillColor:null!=o?o.color:void 0,fillOpacity:null!=o?o.opacity:void 0}),i.__super__.buildOpts.call(this,t,n,r)},i}(n)}]).factory("uiGmapPolygonOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e){return n.__super__.buildOpts.call(this,{path:t},e,{geodesic:!1})},n}(e)}]).factory("uiGmapRectangleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e){return n.__super__.buildOpts.call(this,{bounds:t},e)},n}(e)}]).factory("uiGmapCircleOptionsBuilder",["uiGmapShapeOptionsBuilder",function(e){var n;return n=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.buildOpts=function(t,e,i){return n.__super__.buildOpts.call(this,{center:t,radius:e},i)},n}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.options").service("uiGmapMarkerOptions",["uiGmapLogger","uiGmapGmapUtil",function(t,n){return _.extend(n,{createOptions:function(t,i,r,o){var a;return null==r&&(r={}),a=e.extend({},r,{position:null!=r.position?r.position:n.getCoords(t),visible:null!=r.visible?r.visible:n.validateCoords(t)}),null==r.icon&&null==i||(a=e.extend(a,{icon:null!=r.icon?r.icon:i})),null!=o&&(a.map=o),a},isLabel:function(t){return null!=t&&(null!=t.labelContent||null!=t.labelAnchor||null!=t.labelClass||null!=t.labelStyle||null!=t.labelVisible)}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapBasePolyChildModel",["uiGmapLogger","$timeout","uiGmaparray-sync","uiGmapGmapUtil","uiGmapEventsHelper",function(i,r,o,a,s){return function(i,r){var l;return l=function(i){function l(n,i,a,l,u,c){var d;this.scope=n,this.attrs=i,this.map=a,this.defaults=l,this.model=u,this.clean=t(this.clean,this),this.clonedModel=_.clone(this.model,!0),this.isDragging=!1,this.internalEvents={dragend:function(t){return function(){return _.defer(function(){return t.isDragging=!1})}}(this),dragstart:function(t){return function(){return t.isDragging=!0}}(this)},d=function(t){return function(){var n;if(!t.isDragging)return t.pathPoints=t.convertPathPoints(t.scope.path),null!=t.gObject&&t.clean(),null!=t.scope.model&&(n=t.scope),t.pathPoints.length>0&&(t.gObject=r(t.buildOpts(t.pathPoints,n))),t.gObject?(o(t.gObject.getPath(),t.scope,"path",function(e){if(t.pathPoints=e,null!=c)return c()}),e.isDefined(t.scope.events)&&e.isObject(t.scope.events)&&(t.listeners=t.model?s.setEvents(t.gObject,t.scope,t.model):s.setEvents(t.gObject,t.scope,t.scope)),t.internalListeners=t.model?s.setEvents(t.gObject,{events:t.internalEvents},t.model):s.setEvents(t.gObject,{events:t.internalEvents},t.scope)):void 0}}(this),d(),this.scope.$watch("path",function(t){return function(e,n){if(!_.isEqual(e,n)||!t.gObject)return d()}}(this),!0),!this.scope["static"]&&e.isDefined(this.scope.editable)&&this.scope.$watch("editable",function(t){return function(e,n){var i;if(e!==n)return e=!t.isFalse(e),null!=(i=t.gObject)?i.setEditable(e):void 0}}(this),!0),e.isDefined(this.scope.draggable)&&this.scope.$watch("draggable",function(t){return function(e,n){var i;if(e!==n)return e=!t.isFalse(e),null!=(i=t.gObject)?i.setDraggable(e):void 0}}(this),!0),e.isDefined(this.scope.visible)&&this.scope.$watch("visible",function(t){return function(e,n){var i;return e!==n&&(e=!t.isFalse(e)),null!=(i=t.gObject)?i.setVisible(e):void 0}}(this),!0),e.isDefined(this.scope.geodesic)&&this.scope.$watch("geodesic",function(t){return function(e,n){var i;if(e!==n)return e=!t.isFalse(e),null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.weight)&&this.scope.$watch("stroke.weight",function(t){return function(e,n){var i;if(e!==n)return null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.color)&&this.scope.$watch("stroke.color",function(t){return function(e,n){var i;if(e!==n)return null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.stroke)&&e.isDefined(this.scope.stroke.opacity)&&this.scope.$watch("stroke.opacity",function(t){return function(e,n){var i;if(e!==n)return null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),e.isDefined(this.scope.icons)&&this.scope.$watch("icons",function(t){return function(e,n){var i;if(e!==n)return null!=(i=t.gObject)?i.setOptions(t.buildOpts(t.gObject.getPath())):void 0}}(this),!0),this.scope.$on("$destroy",function(t){return function(){return t.clean(),t.scope=null}}(this)),e.isDefined(this.scope.fill)&&e.isDefined(this.scope.fill.color)&&this.scope.$watch("fill.color",function(t){return function(e,n){if(e!==n)return t.gObject.setOptions(t.buildOpts(t.gObject.getPath()))}}(this)),e.isDefined(this.scope.fill)&&e.isDefined(this.scope.fill.opacity)&&this.scope.$watch("fill.opacity",function(t){return function(e,n){if(e!==n)return t.gObject.setOptions(t.buildOpts(t.gObject.getPath()))}}(this)),e.isDefined(this.scope.zIndex)&&this.scope.$watch("zIndex",function(t){return function(e,n){if(e!==n)return t.gObject.setOptions(t.buildOpts(t.gObject.getPath()))}}(this))}return n(l,i),l.include(a),l.prototype.clean=function(){var t;return s.removeEvents(this.listeners),s.removeEvents(this.internalListeners),null!=(t=this.gObject)&&t.setMap(null),this.gObject=null},l}(i)}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapDrawFreeHandChildModel",["uiGmapLogger","$q",function(t,e){var n,i;return n=function(t,e,n){var i,r;r=new google.maps.Polyline({map:t,clickable:!1}),i=google.maps.event.addListener(t,"mousemove",function(t){return r.getPath().push(t.latLng)}),google.maps.event.addListenerOnce(t,"mouseup",function(o){var a;return google.maps.event.removeListener(i),a=r.getPath(),r.setMap(null),e.push(new google.maps.Polygon({map:t,path:a})),r=null,google.maps.event.clearListeners(t.getDiv(),"mousedown"),n()})},i=function(i,r){var o,a;return this.map=i,o=function(e){return function(){var n;return n={draggable:!1,disableDefaultUI:!0,scrollwheel:!1,disableDoubleClickZoom:!1},t.info("disabling map move"),e.map.setOptions(n)}}(this),a=function(t){return function(){var e,n;return e={draggable:!0,disableDefaultUI:!1,scrollwheel:!0,disableDoubleClickZoom:!0},null!=(n=t.deferred)&&n.resolve(),_.defer(function(){return t.map.setOptions(_.extend(e,r.options))})}}(this),this.engage=function(i){return function(r){return i.polys=r,i.deferred=e.defer(),o(),t.info("DrawFreeHandChildModel is engaged (drawing)."),google.maps.event.addDomListener(i.map.getDiv(),"mousedown",function(t){return n(i.map,i.polys,a)}),i.deferred.promise}}(this),this}}])}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapMarkerChildModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger","uiGmapEventsHelper","uiGmapPropertyAction","uiGmapMarkerOptions","uiGmapIMarker","uiGmapMarkerManager","uiGmapPromise",function(e,r,o,a,s,l,u,c,d){var h;return h=function(e){function h(t,e,i,r,a,l,u,c,f,g){var m;this.model=e,this.keys=i,this.gMap=r,this.defaults=a,this.doClick=l,this.gManager=u,this.doDrawSelf=null==c||c,this.trackModel=null==f||f,this.needRedraw=null!=g&&g,this.internalEvents=n(this.internalEvents,this),this.setLabelOptions=n(this.setLabelOptions,this),this.setOptions=n(this.setOptions,this),this.setIcon=n(this.setIcon,this),this.setCoords=n(this.setCoords,this),this.isNotValid=n(this.isNotValid,this),this.maybeSetScopeValue=n(this.maybeSetScopeValue,this),this.createMarker=n(this.createMarker,this),this.setMyScope=n(this.setMyScope,this),this.updateModel=n(this.updateModel,this),this.handleModelChanges=n(this.handleModelChanges,this),this.destroy=n(this.destroy,this),this.clonedModel=_.clone(this.model,!0),this.deferred=d.defer(),_.each(this.keys,function(t){return function(e,n){var i;if(i=t.keys[n],null!=i&&!_.isFunction(i)&&_.isString(i))return t[n+"Key"]=i}}(this)),this.idKey=this.idKeyKey||"id",null!=this.model[this.idKey]&&(this.id=this.model[this.idKey]),h.__super__.constructor.call(this,t),this.scope.getGMarker=function(t){return function(){return t.gObject}}(this),this.firstTime=!0,this.trackModel?(this.scope.model=this.model,this.scope.$watch("model",function(t){return function(e,n){if(e!==n)return t.handleModelChanges(e,n)}}(this),!0)):(m=new s(function(e){return function(n,i){if(!e.firstTime)return e.setMyScope(n,t)}}(this),(!1)),_.each(this.keys,function(e,n){return t.$watch(n,m.sic,!0)})),this.scope.$on("$destroy",function(t){return function(){return p(t)}}(this)),this.createMarker(this.model),o.info(this)}var p;return i(h,e),h.include(r),h.include(a),h.include(l),p=function(t){if(null!=(null!=t?t.gObject:void 0)&&(t.removeEvents(t.externalListeners),t.removeEvents(t.internalListeners),null!=t?t.gObject:void 0))return t.removeFromManager&&t.gManager.remove(t.gObject),t.gObject.setMap(null),t.gObject=null},h.prototype.destroy=function(t){return null==t&&(t=!0),this.removeFromManager=t,this.scope.$destroy()},h.prototype.handleModelChanges=function(t,e){var n,i,r;if(n=this.getChanges(t,e,u.keys),!this.firstTime)return i=0,r=_.keys(n).length,_.each(n,function(n){return function(o,a){var s;return i+=1,s=r===i,n.setMyScope(a,t,e,!1,!0,s),n.needRedraw=!0}}(this))},h.prototype.updateModel=function(t){return this.clonedModel=_.clone(t,!0),this.setMyScope("all",t,this.model)},h.prototype.renderGMarker=function(e,n){var i,r,a;if(null==e&&(e=!0),i=this.getProp("coords",this.scope,this.model),null!=(null!=(a=this.gManager)?a.isSpiderfied:void 0)&&(r=this.gManager.isSpiderfied()),null!=i){if(!this.validateCoords(i))return void o.debug("MarkerChild does not have coords yet. They may be defined later.");if(null!=n&&n(),e&&this.gObject&&this.gManager.add(this.gObject),r)return this.gManager.markerSpiderfier.spiderListener(this.gObject,t.event)}else if(e&&this.gObject)return this.gManager.remove(this.gObject)},h.prototype.setMyScope=function(t,e,n,i,r){var o;switch(null==n&&(n=void 0),null==i&&(i=!1),null==r&&(r=!0),null==e?e=this.model:this.model=e,this.gObject||(this.setOptions(this.scope,r),o=!0),t){case"all":return _.each(this.keys,function(t){return function(o,a){return t.setMyScope(a,e,n,i,r)}}(this));case"icon":return this.maybeSetScopeValue("icon",e,n,this.iconKey,this.evalModelHandle,i,this.setIcon,r);case"coords":return this.maybeSetScopeValue("coords",e,n,this.coordsKey,this.evalModelHandle,i,this.setCoords,r);case"options":if(!o)return this.createMarker(e,n,i,r)}},h.prototype.createMarker=function(t,e,n,i){return null==e&&(e=void 0),null==n&&(n=!1),null==i&&(i=!0),this.maybeSetScopeValue("options",t,e,this.optionsKey,this.evalModelHandle,n,this.setOptions,i),this.firstTime=!1},h.prototype.maybeSetScopeValue=function(t,e,n,i,r,o,a,s){if(null==a&&(a=void 0),null==s&&(s=!0),null!=a)return a(this.scope,s)},h.doDrawSelf&&doDraw&&h.gManager.draw(),h.prototype.isNotValid=function(t,e){var n,i;return null==e&&(e=!0),i=!!e&&void 0===this.gObject,n=!this.trackModel&&t.$id!==this.scope.$id,n||i},h.prototype.setCoords=function(t,e){if(null==e&&(e=!0),!this.isNotValid(t)&&null!=this.gObject)return this.renderGMarker(e,function(e){return function(){var n,i,r;if(i=e.getProp("coords",t,e.model),n=e.getCoords(i),r=e.gObject.getPosition(),null==r||null==n||n.lng()!==r.lng()||n.lat()!==r.lat())return e.gObject.setPosition(n),e.gObject.setVisible(e.validateCoords(i))}}(this))},h.prototype.setIcon=function(t,e){if(null==e&&(e=!0),!this.isNotValid(t)&&null!=this.gObject)return this.renderGMarker(e,function(e){return function(){var n,i,r;if(r=e.gObject.getIcon(),i=e.getProp("icon",t,e.model),r!==i)return e.gObject.setIcon(i),n=e.getProp("coords",t,e.model),e.gObject.setPosition(e.getCoords(n)),e.gObject.setVisible(e.validateCoords(n))}}(this))},h.prototype.setOptions=function(t,e){var n;if(null==e&&(e=!0),!this.isNotValid(t,!1)){if(this.renderGMarker(e,function(e){return function(){var n,i,r;if(i=e.getProp("coords",t,e.model),r=e.getProp("icon",t,e.model),n=e.getProp("options",t,e.model),e.opts=e.createOptions(i,r,n),e.isLabel(e.gObject)!==e.isLabel(e.opts)&&null!=e.gObject&&(e.gManager.remove(e.gObject),e.gObject=void 0),null!=e.gObject&&e.gObject.setOptions(e.setLabelOptions(e.opts)),e.gObject||(e.isLabel(e.opts)?e.gObject=new MarkerWithLabel(e.setLabelOptions(e.opts)):e.opts.content?(e.gObject=new RichMarker(e.opts),e.gObject.getIcon=e.gObject.getContent,e.gObject.setIcon=e.gObject.setContent):e.gObject=new google.maps.Marker(e.opts),_.extend(e.gObject,{model:e.model})),e.externalListeners&&e.removeEvents(e.externalListeners),e.internalListeners&&e.removeEvents(e.internalListeners),e.externalListeners=e.setEvents(e.gObject,e.scope,e.model,["dragend"]),e.internalListeners=e.setEvents(e.gObject,{events:e.internalEvents(),$evalAsync:function(){}},e.model),null!=e.id)return e.gObject.key=e.id}}(this)),this.gObject&&(this.gObject.getMap()||this.gManager.type!==c.type))this.deferred.resolve(this.gObject);else{if(!this.gObject)return this.deferred.reject("gObject is null");null!=(n=this.gObject)&&n.getMap()&&this.gManager.type===c.type||(o.debug("gObject has no map yet"),this.deferred.resolve(this.gObject))}return this.model[this.fitKey]?this.gManager.fit():void 0}},h.prototype.setLabelOptions=function(t){return t.labelAnchor&&(t.labelAnchor=this.getLabelPositionPoint(t.labelAnchor)),t},h.prototype.internalEvents=function(){return{dragend:function(t){return function(e,n,i,r){var o,a,s;return a=t.trackModel?t.scope.model:t.model,s=t.setCoordsFromEvent(t.modelOrKey(a,t.coordsKey),t.gObject.getPosition()),a=t.setVal(i,t.coordsKey,s),o=t.scope.events,null!=(null!=o?o.dragend:void 0)&&o.dragend(e,n,a,r),t.scope.$apply()}}(this),click:function(t){return function(e,n,i,r){var o;if(o=t.getProp("click",t.scope,t.model),t.doClick&&null!=o)return t.scope.$evalAsync(o(e,n,t.model,r))}}(this)}},h}(e)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygonChildModel",["uiGmapBasePolyChildModel","uiGmapPolygonOptionsBuilder",function(e,n){var i,r,o;return o=function(t){return new google.maps.Polygon(t)},r=new e(n,o),i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(r)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylineChildModel",["uiGmapBasePolyChildModel","uiGmapPolylineOptionsBuilder",function(e,n){var i,r,o;return o=function(t){return new google.maps.Polyline(t)},r=e(n,o),i=function(e){function n(){return n.__super__.constructor.apply(this,arguments)}return t(n,e),n}(r)}])}.call(this),function(){var n=function(t,e){return function(){return t.apply(e,arguments)}},i=function(t,e){function n(){this.constructor=t}for(var i in e)r.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},r={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.child").factory("uiGmapWindowChildModel",["uiGmapBaseObject","uiGmapGmapUtil","uiGmapLogger","$compile","$http","$templateCache","uiGmapChromeFixes","uiGmapEventsHelper",function(r,o,a,s,l,u,c,d){var h;return h=function(r){function h(t,e,i,r,o,s,l,u,c){var d;this.model=t,this.scope=e,this.opts=i,this.isIconVisibleOnClick=r,this.mapCtrl=o,this.markerScope=s,this.element=l,this.needToManualDestroy=null!=u&&u,this.markerIsVisibleAfterWindowClose=null==c||c,this.updateModel=n(this.updateModel,this),this.destroy=n(this.destroy,this),this.remove=n(this.remove,this),this.getLatestPosition=n(this.getLatestPosition,this),this.hideWindow=n(this.hideWindow,this),this.showWindow=n(this.showWindow,this),this.handleClick=n(this.handleClick,this),this.watchOptions=n(this.watchOptions,this),this.watchCoords=n(this.watchCoords,this),this.createGWin=n(this.createGWin,this),this.watchElement=n(this.watchElement,this),this.watchAndDoShow=n(this.watchAndDoShow,this),this.doShow=n(this.doShow,this),this.clonedModel=_.clone(this.model,!0),this.getGmarker=function(){var t,e;if(null!=(null!=(t=this.markerScope)?t.getGMarker:void 0))return null!=(e=this.markerScope)?e.getGMarker():void 0},this.listeners=[],this.createGWin(),d=this.getGmarker(),null!=d&&d.setClickable(!0),this.watchElement(),this.watchOptions(),this.watchCoords(),this.watchAndDoShow(),this.scope.$on("$destroy",function(t){return function(){return t.destroy()}}(this)),a.info(this)}return i(h,r),h.include(o),h.include(d),h.prototype.doShow=function(t){return this.scope.show===!0||t?this.showWindow():this.hideWindow()},h.prototype.watchAndDoShow=function(){return null!=this.model.show&&(this.scope.show=this.model.show),this.scope.$watch("show",this.doShow,!0),this.doShow()},h.prototype.watchElement=function(){return this.scope.$watch(function(t){return function(){var e,n;if(t.element||t.html)return t.html!==t.element.html()&&t.gObject?(null!=(e=t.opts)&&(e.content=void 0),n=t.gObject.isOpen(),t.remove(),t.createGWin(n)):void 0}}(this))},h.prototype.createGWin=function(e){var n,i,r,o,a;if(null==e&&(e=!1),r=this.getGmarker(),i={},null!=this.opts&&(this.scope.coords&&(this.opts.position=this.getCoords(this.scope.coords)),i=this.opts),this.element&&(this.html=_.isObject(this.element)?this.element.html():this.element),n=this.scope.options?this.scope.options:i,this.opts=this.createWindowOptions(r,this.markerScope||this.scope,this.html,n),null!=this.opts)return this.gObject||(this.opts.boxClass&&t.InfoBox&&"function"==typeof t.InfoBox?this.gObject=new t.InfoBox(this.opts):this.gObject=new google.maps.InfoWindow(this.opts),this.listeners.push(google.maps.event.addListener(this.gObject,"domready",function(){return c.maybeRepaint(this.content)})),this.listeners.push(google.maps.event.addListener(this.gObject,"closeclick",function(t){return function(){return r&&(r.setAnimation(t.oldMarkerAnimation),t.markerIsVisibleAfterWindowClose&&_.delay(function(){return r.setVisible(!1),r.setVisible(t.markerIsVisibleAfterWindowClose)},250)),t.gObject.close(),t.model.show=!1,null!=t.scope.closeClick?t.scope.$evalAsync(t.scope.closeClick()):t.scope.$evalAsync()}}(this)))),this.gObject.setContent(this.opts.content),this.handleClick((null!=(o=this.scope)&&null!=(a=o.options)?a.forceClick:void 0)||e),this.doShow(this.gObject.isOpen())},h.prototype.watchCoords=function(){var t;return t=null!=this.markerScope?this.markerScope:this.scope,t.$watch("coords",function(t){return function(e,n){var i;if(e!==n){if(null==e)t.hideWindow();else if(!t.validateCoords(e))return void a.error("WindowChildMarker cannot render marker as scope.coords as no position on marker: "+JSON.stringify(t.model));if(i=t.getCoords(e),t.doShow(),t.gObject.setPosition(i),t.opts)return t.opts.position=i}}}(this),!0)},h.prototype.watchOptions=function(){return this.scope.$watch("options",function(t){return function(e,n){if(e!==n&&(t.opts=e,null!=t.gObject)){if(t.gObject.setOptions(t.opts),null!=t.opts.visible&&t.opts.visible)return t.showWindow();if(null!=t.opts.visible)return t.hideWindow()}}}(this),!0)},h.prototype.handleClick=function(t){var e,n;if(null!=this.gObject)return n=this.getGmarker(),e=function(t){return function(){if(null==t.gObject&&t.createGWin(),t.showWindow(),null!=n)return t.initialMarkerVisibility=n.getVisible(),t.oldMarkerAnimation=n.getAnimation(),n.setVisible(t.isIconVisibleOnClick)}}(this),t&&e(),n?this.listeners=this.listeners.concat(this.setEvents(n,{events:{click:e}},this.model)):void 0},h.prototype.showWindow=function(){var t,n,i;if(null!=this.gObject)return n=function(t){return function(){var e,n,i;if(!t.gObject.isOpen()){if(n=t.getGmarker(),null!=t.gObject&&null!=t.gObject.getPosition&&(i=t.gObject.getPosition()),n&&(i=n.getPosition()),!i)return;if(t.gObject.open(t.mapCtrl,n),e=t.gObject.isOpen(),t.model.show!==e)return t.model.show=e}}}(this),this.scope.templateUrl?l.get(this.scope.templateUrl,{cache:u}).then(function(t){return function(i){var r,o;return o=t.scope.$new(),e.isDefined(t.scope.templateParameter)&&(o.parameter=t.scope.templateParameter),r=s(i.data)(o),t.gObject.setContent(r[0]),n()}}(this)):this.scope.template?(i=this.scope.$new(),
e.isDefined(this.scope.templateParameter)&&(i.parameter=this.scope.templateParameter),t=s(this.scope.template)(i),this.gObject.setContent(t[0]),n()):n()},h.prototype.hideWindow=function(){if(null!=this.gObject&&this.gObject.isOpen())return this.gObject.close()},h.prototype.getLatestPosition=function(t){var e;return e=this.getGmarker(),null==this.gObject||null==e||t?t?this.gObject.setPosition(t):void 0:this.gObject.setPosition(e.getPosition())},h.prototype.remove=function(){return this.hideWindow(),this.removeEvents(this.listeners),this.listeners.length=0,delete this.gObject,delete this.opts},h.prototype.destroy=function(t){var e;if(null==t&&(t=!1),this.remove(),null!=this.scope&&!(null!=(e=this.scope)?e.$$destroyed:void 0)&&(this.needToManualDestroy||t))return this.scope.$destroy()},h.prototype.updateModel=function(t){return this.clonedModel=_.clone(t,!0),_.extend(this.model,this.clonedModel)},h}(r)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapBasePolysParentModel",["$timeout","uiGmapLogger","uiGmapModelKey","uiGmapModelsWatcher","uiGmapPropMap","uiGmap_async","uiGmapPromise","uiGmapFitHelper",function(i,r,o,a,s,l,u,c){return function(i,d,h){var p;return p=function(o){function p(e,n,o,a,l){this.element=n,this.attrs=o,this.gMap=a,this.defaults=l,this.maybeFit=t(this.maybeFit,this),this.createChild=t(this.createChild,this),this.pieceMeal=t(this.pieceMeal,this),this.createAllNew=t(this.createAllNew,this),this.watchIdKey=t(this.watchIdKey,this),this.createChildScopes=t(this.createChildScopes,this),this.watchDestroy=t(this.watchDestroy,this),this.onDestroy=t(this.onDestroy,this),this.rebuildAll=t(this.rebuildAll,this),this.doINeedToWipe=t(this.doINeedToWipe,this),this.watchModels=t(this.watchModels,this),p.__super__.constructor.call(this,e),this["interface"]=i,this.$log=r,this.plurals=new s,_.each(i.scopeKeys,function(t){return function(e){return t[e+"Key"]=void 0}}(this)),this.models=void 0,this.firstTime=!0,this.$log.info(this),this.createChildScopes()}return n(p,o),p.include(a),p.prototype.watchModels=function(t){return t.$watch("models",function(e){return function(n,i){if(n!==i)return e.doINeedToWipe(n)||t.doRebuildAll?e.rebuildAll(t,!0,!0):e.createChildScopes(!1)}}(this),!0)},p.prototype.doINeedToWipe=function(t){var e;return e=null==t||0===t.length,this.plurals.length>0&&e},p.prototype.rebuildAll=function(t,e,n){return this.onDestroy(n).then(function(t){return function(){if(e)return t.createChildScopes()}}(this))},p.prototype.onDestroy=function(t){return p.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,u.promiseTypes["delete"],void 0,void 0,function(t){return function(){return l.each(t.plurals.values(),function(t){return t.destroy(!0)},l.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){var e;return null!=(e=t.plurals)?e.removeAll():void 0})}}(this))},p.prototype.watchDestroy=function(t){return t.$on("$destroy",function(e){return function(){return e.rebuildAll(t,!1,!0)}}(this))},p.prototype.createChildScopes=function(t){return null==t&&(t=!0),e.isUndefined(this.scope.models)?void this.$log.error("No models to create "+h+"s from! I Need direct models!"):null!=this.gMap&&null!=this.scope.models?(this.watchIdKey(this.scope),t?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)):void 0},p.prototype.watchIdKey=function(t){return this.setIdKey(t),t.$watch("idKey",function(e){return function(n,i){if(n!==i&&null==n)return e.idKey=n,e.rebuildAll(t,!0,!0)}}(this))},p.prototype.createAllNew=function(t,e){var n;if(null==e&&(e=!1),this.models=t.models,this.firstTime&&(this.watchModels(t),this.watchDestroy(t)),!this.didQueueInitPromise(this,t))return n=null,l.promiseLock(this,u.promiseTypes.create,"createAllNew",function(t){return n=t},function(e){return function(){return l.map(t.models,function(t){var i;return i=e.createChild(t,e.gMap),n&&(r.debug("createNew should fall through safely"),i.isEnabled=!1),i.pathPoints.getArray()},l.chunkSizeFrom(t.chunk)).then(function(t){return e.maybeFit(t),e.firstTime=!1})}}(this))},p.prototype.pieceMeal=function(t,e){var n,i;if(null==e&&(e=!0),!t.$$destroyed)return n=null,i=null,this.models=t.models,null!=t&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,u.promiseTypes.update,"pieceMeal",function(t){return n=t},function(e){return function(){return u.promise(function(){return e.figureOutState(e.idKey,t,e.plurals,e.modelKeyComparison)}).then(function(r){return i=r,i.updates.length&&l.each(i.updates,function(t){return _.extend(t.child.scope,t.model),t.child.model=t.model}),l.each(i.removals,function(t){if(null!=t)return t.destroy(),e.plurals.remove(t.model[e.idKey]),n},l.chunkSizeFrom(t.chunk))}).then(function(){return l.each(i.adds,function(t){return n&&r.debug("pieceMeal should fall through safely"),e.createChild(t,e.gMap),n},l.chunkSizeFrom(t.chunk)).then(function(){return e.maybeFit()})})}}(this)):(this.inProgress=!1,this.rebuildAll(this.scope,!0,!0))},p.prototype.createChild=function(t,e){var n,r;return r=this.scope.$new(!1),this.setChildScope(i.scopeKeys,r,t),r.$watch("model",function(t){return function(e,n){if(e!==n)return t.setChildScope(r,e)}}(this),!0),r["static"]=this.scope["static"],n=new d(r,this.attrs,e,this.defaults,t,function(t){return function(){return t.maybeFit()}}(this)),null==t[this.idKey]?void this.$log.error(h+" model has no id to assign a child to.\nThis is required for performance. Please assign id,\nor redirect id to a different key."):(this.plurals.put(t[this.idKey],n),n)},p.prototype.maybeFit=function(t){if(null==t&&(t=this.plurals.map(function(t){return t.pathPoints})),this.scope.fit)return t=_.flatten(t),c.fit(t,this.gMap)},p}(o)}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapCircleParentModel",["uiGmapLogger","$timeout","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapCircleOptionsBuilder",function(n,i,r,o,a){var s,l;return l=function(t,e){return t.settingFromDirective=!0,e(),i(function(){return t.settingFromDirective=!1})},s=function(i){function a(t,i,o,a,s){var u,c,d;this.attrs=o,this.map=a,this.DEFAULTS=s,this.scope=t,d=null,u=function(t){return function(){if(d=null,null!=t.listeners)return t.removeEvents(t.listeners),t.listeners=void 0}}(this),c=new google.maps.Circle(this.buildOpts(r.getCoords(t.center),t.radius)),this.setMyOptions=function(e){return function(n,i){if(!t.settingFromDirective)return _.isEqual(n,i)?void 0:c.setOptions(e.buildOpts(r.getCoords(t.center),t.radius))}}(this),this.props=this.props.concat([{prop:"center",isColl:!0},{prop:"fill",isColl:!0},"radius","zIndex"]),this.watchProps(),null!=this.scope.control&&(this.scope.control.getCircle=function(){return c}),u(),this.listeners=this.setEvents(c,t,t,["radius_changed"])||[],this.listeners.push(google.maps.event.addListener(c,"radius_changed",function(){var n,i;if(n=c.getRadius(),n!==d)return d=n,i=function(){return l(t,function(){var e,i;if(n!==t.radius&&(t.radius=n),(null!=(e=t.events)?e.radius_changed:void 0)&&_.isFunction(null!=(i=t.events)?i.radius_changed:void 0))return t.events.radius_changed(c,"radius_changed",t,arguments)})},e.mock?i():t.$evalAsync(function(){return i()})})),this.listeners.push(google.maps.event.addListener(c,"center_changed",function(){return t.$evalAsync(function(){return l(t,function(){return e.isDefined(t.center.type)?(t.center.coordinates[1]=c.getCenter().lat(),t.center.coordinates[0]=c.getCenter().lng()):(t.center.latitude=c.getCenter().lat(),t.center.longitude=c.getCenter().lng())})})})),t.$on("$destroy",function(t){return function(){return u(),c.setMap(null)}}(this)),n.info(this)}return t(a,i),a.include(r),a.include(o),a}(a)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapDrawingManagerParentModel",["uiGmapLogger","$timeout","uiGmapBaseObject","uiGmapEventsHelper",function(e,n,i,r){var o;return o=function(e){function n(t,e,n,i){var r,o;this.scope=t,this.attrs=n,this.map=i,r=new google.maps.drawing.DrawingManager(this.scope.options),r.setMap(this.map),o=void 0,null!=this.scope.control&&(this.scope.control.getDrawingManager=function(){return r}),!this.scope["static"]&&this.scope.options&&this.scope.$watch("options",function(t){return null!=r?r.setOptions(t):void 0},!0),null!=this.scope.events&&(o=this.setEvents(r,this.scope,this.scope),this.scope.$watch("events",function(t){return function(e,n){if(!_.isEqual(e,n))return null!=o&&t.removeEvents(o),o=t.setEvents(r,t.scope,t.scope)}}(this))),this.scope.$on("$destroy",function(t){return function(){return null!=o&&t.removeEvents(o),r.setMap(null),r=null}}(this))}return t(n,e),n.include(r),n}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIMarkerParentModel",["uiGmapModelKey","uiGmapLogger",function(i,r){var o;return o=function(i){function o(n,i,a,s){if(this.scope=n,this.element=i,this.attrs=a,this.map=s,this.onWatch=t(this.onWatch,this),this.watch=t(this.watch,this),this.validateScope=t(this.validateScope,this),o.__super__.constructor.call(this,this.scope),this.$log=r,!this.validateScope(this.scope))throw new String("Unable to construct IMarkerParentModel due to invalid scope");this.doClick=e.isDefined(this.attrs.click),null!=this.scope.options&&(this.DEFAULTS=this.scope.options),this.watch("coords",this.scope),this.watch("icon",this.scope),this.watch("options",this.scope),this.scope.$on("$destroy",function(t){return function(){return t.onDestroy(t.scope)}}(this))}return n(o,i),o.prototype.DEFAULTS={},o.prototype.validateScope=function(t){var e;return null==t?(this.$log.error(this.constructor.name+": invalid scope used"),!1):(e=null!=t.coords,e?e:(this.$log.error(this.constructor.name+": no valid coords attribute found"),!1))},o.prototype.watch=function(t,e,n){return null==n&&(n=!0),e.$watch(t,function(n){return function(i,r){if(!_.isEqual(i,r))return n.onWatch(t,e,i,r)}}(this),n)},o.prototype.onWatch=function(t,e,n,i){},o}(i)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapIWindowParentModel",["uiGmapModelKey","uiGmapGmapUtil","uiGmapLogger",function(e,n,i){var r;return r=function(e){function r(t,e,n,o,a,s,l,u){r.__super__.constructor.call(this,t),this.$log=i,this.$timeout=a,this.$compile=s,this.$http=l,this.$templateCache=u,this.DEFAULTS={},null!=t.options&&(this.DEFAULTS=t.options)}return t(r,e),r.include(n),r.prototype.getItem=function(t,e,n){return"models"===e?t[e][n]:t[e].get(n)},r}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapLayerParentModel",["uiGmapBaseObject","uiGmapLogger","$timeout",function(i,r,o){var a;return a=function(i){function o(n,i,o,a,s,l){return this.scope=n,this.element=i,this.attrs=o,this.gMap=a,this.onLayerCreated=null!=s?s:void 0,this.$log=null!=l?l:r,this.createGoogleLayer=t(this.createGoogleLayer,this),null==this.attrs.type?void this.$log.info("type attribute for the layer directive is mandatory. Layer creation aborted!!"):(this.createGoogleLayer(),this.doShow=!0,e.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.gObject.setMap(this.gMap),this.scope.$watch("show",function(t){return function(e,n){if(e!==n)return t.doShow=e,e?t.gObject.setMap(t.gMap):t.gObject.setMap(null)}}(this),!0),this.scope.$watch("options",function(t){return function(e,n){if(e!==n&&t.doShow)return t.gObject.setOptions(e)}}(this),!0),void this.scope.$on("$destroy",function(t){return function(){return t.gObject.setMap(null)}}(this)))}return n(o,i),o.prototype.createGoogleLayer=function(){var t;if(null==this.attrs.options?this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type]:new google.maps[this.attrs.namespace][this.attrs.type]:this.gObject=void 0===this.attrs.namespace?new google.maps[this.attrs.type](this.scope.options):new google.maps[this.attrs.namespace][this.attrs.type](this.scope.options),null!=this.gObject&&this.doShow&&this.gObject.setMap(this.gMap),null!=this.gObject&&null!=this.onLayerCreated)return"function"==typeof(t=this.onLayerCreated(this.scope,this.gObject))?t(this.gObject):void 0},o}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMapTypeParentModel",["uiGmapBaseObject","uiGmapLogger",function(i,r){var o;return o=function(i){function o(n,i,o,a,s){return this.scope=n,this.element=i,this.attrs=o,this.gMap=a,this.$log=null!=s?s:r,this.hideOverlay=t(this.hideOverlay,this),this.showOverlay=t(this.showOverlay,this),this.refreshMapType=t(this.refreshMapType,this),this.createMapType=t(this.createMapType,this),null==this.attrs.options?void this.$log.info("options attribute for the map-type directive is mandatory. Map type creation aborted!!"):(this.id=this.gMap.overlayMapTypesCount=this.gMap.overlayMapTypesCount+1||0,this.doShow=!0,this.createMapType(),e.isDefined(this.attrs.show)&&(this.doShow=this.scope.show),this.doShow&&null!=this.gMap&&this.showOverlay(),this.scope.$watch("show",function(t){return function(e,n){if(e!==n)return t.doShow=e,e?t.showOverlay():t.hideOverlay()}}(this),!0),this.scope.$watch("options",function(t){return function(e,n){if(!_.isEqual(e,n))return t.refreshMapType()}}(this),!0),e.isDefined(this.attrs.refresh)&&this.scope.$watch("refresh",function(t){return function(e,n){if(!_.isEqual(e,n))return t.refreshMapType()}}(this),!0),void this.scope.$on("$destroy",function(t){return function(){return t.hideOverlay(),t.mapType=null}}(this)))}return n(o,i),o.prototype.createMapType=function(){if(null!=this.scope.options.getTile)this.mapType=this.scope.options;else{if(null==this.scope.options.getTileUrl)return void this.$log.info("options should provide either getTile or getTileUrl methods. Map type creation aborted!!");this.mapType=new google.maps.ImageMapType(this.scope.options)}return this.attrs.id&&this.scope.id&&(this.gMap.mapTypes.set(this.scope.id,this.mapType),e.isDefined(this.attrs.show)||(this.doShow=!1)),this.mapType.layerId=this.id},o.prototype.refreshMapType=function(){if(this.hideOverlay(),this.mapType=null,this.createMapType(),this.doShow&&null!=this.gMap)return this.showOverlay()},o.prototype.showOverlay=function(){return this.gMap.overlayMapTypes.push(this.mapType)},o.prototype.hideOverlay=function(){var t;return t=!1,this.gMap.overlayMapTypes.forEach(function(e){return function(n,i){t||n.layerId!==e.id||(t=!0,e.gMap.overlayMapTypes.removeAt(i))}}(this))},o}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapMarkersParentModel",["uiGmapIMarkerParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapMarkerChildModel","uiGmap_async","uiGmapClustererMarkerManager","uiGmapMarkerManager","$timeout","uiGmapIMarker","uiGmapPromise","uiGmapGmapUtil","uiGmapLogger","uiGmapSpiderfierMarkerManager",function(i,r,o,a,s,l,u,c,d,h,p,f,g){var m,v;return v=function(t,e){return e.plurals=new o,e.scope.plurals=e.plurals,e},m=function(i){function c(e,n,i,r){this.maybeExecMappedEvent=t(this.maybeExecMappedEvent,this),this.onDestroy=t(this.onDestroy,this),this.newChildMarker=t(this.newChildMarker,this),this.pieceMeal=t(this.pieceMeal,this),this.rebuildAll=t(this.rebuildAll,this),this.createAllNew=t(this.createAllNew,this),this.bindToTypeEvents=t(this.bindToTypeEvents,this),this.createChildScopes=t(this.createChildScopes,this),this.validateScope=t(this.validateScope,this),this.onWatch=t(this.onWatch,this);var a;c.__super__.constructor.call(this,e,n,i,r),this["interface"]=d,a=this,v(new o,this),this.scope.pluralsUpdate={updateCtr:0},this.$log.info(this),this.doRebuildAll=null!=this.scope.doRebuildAll&&this.scope.doRebuildAll,this.setIdKey(this.scope),this.scope.$watch("doRebuildAll",function(t){return function(e,n){if(e!==n)return t.doRebuildAll=e}}(this)),this.modelsLength()||(this.modelsRendered=!1),this.scope.$watch("models",function(t){return function(e,n){if(!_.isEqual(e,n)||!t.modelsRendered){if(0===e.length&&0===n.length)return;return t.modelsRendered=!0,t.onWatch("models",t.scope,e,n)}}}(this),!this.isTrue(i.modelsbyref)),this.watch("doCluster",this.scope),this.watch("type",this.scope),this.watch("clusterOptions",this.scope),this.watch("clusterEvents",this.scope),this.watch("typeOptions",this.scope),this.watch("typeEvents",this.scope),this.watch("fit",this.scope),this.watch("idKey",this.scope),this.gManager=void 0,this.createAllNew(this.scope)}return n(c,i),c.include(p),c.include(r),c.prototype.onWatch=function(t,e,n,i){return"idKey"===t&&n!==i&&(this.idKey=n),this.doRebuildAll||"doCluster"===t||"type"===t?this.rebuildAll(e):this.pieceMeal(e)},c.prototype.validateScope=function(t){var n;return n=e.isUndefined(t.models)||void 0===t.models,n&&this.$log.error(this.constructor.name+": no valid models attribute found"),c.__super__.validateScope.call(this,t)||n},c.prototype.createChildScopes=function(t){if(null!=this.gMap&&null!=this.scope.models)return t?this.createAllNew(this.scope,!1):this.pieceMeal(this.scope,!1)},c.prototype.bindToTypeEvents=function(t,n){var i,r;return null==n&&(n=["click","mouseout","mouseover"]),r=this,this.origTypeEvents?e.extend(t,this.origTypeEvents):(this.origTypeEvents={},_.each(n,function(e){return function(n){return e.origTypeEvents[n]=null!=t?t[n]:void 0}}(this))),i={},_.each(n,function(t){return function(t){return i[t]=function(e){return r.maybeExecMappedEvent(e,t)}}}(this)),e.extend(t,i)},c.prototype.createAllNew=function(t){var e,n,i,r;if(null!=this.gManager&&(this.gManager instanceof g&&(e=this.gManager.isSpiderfied()),this.gManager.clear(),delete this.gManager),i=t.typeEvents||t.clusterEvents,r=t.typeOptions||t.clusterOptions,t.doCluster||"cluster"===t.type?(null!=i&&this.bindToTypeEvents(i),this.gManager=new l(this.map,(void 0),r,i)):"spider"===t.type?(null!=i&&this.bindToTypeEvents(i,["spiderfy","unspiderfy"]),this.gManager=new g(this.map,(void 0),r,i,this.scope),e&&this.gManager.spiderfy()):this.gManager=new u(this.map),!this.didQueueInitPromise(this,t))return n=null,s.promiseLock(this,h.promiseTypes.create,"createAllNew",function(t){return n=t},function(e){return function(){return s.each(t.models,function(i){return e.newChildMarker(i,t),n},s.chunkSizeFrom(t.chunk)).then(function(){return e.modelsRendered=!0,t.fit&&e.gManager.fit(),e.gManager.draw(),e.scope.pluralsUpdate.updateCtr+=1},s.chunkSizeFrom(t.chunk))}}(this))},c.prototype.rebuildAll=function(t){var e;if(t.doRebuild||void 0===t.doRebuild)return(null!=(e=this.scope.plurals)?e.length:void 0)?this.onDestroy(t).then(function(e){return function(){return e.createAllNew(t)}}(this)):this.createAllNew(t)},c.prototype.pieceMeal=function(t){var e,n;if(!t.$$destroyed)return e=null,n=null,this.modelsLength()&&this.scope.plurals.length?s.promiseLock(this,h.promiseTypes.update,"pieceMeal",function(t){return e=t},function(i){return function(){return h.promise(function(){return i.figureOutState(i.idKey,t,i.scope.plurals,i.modelKeyComparison)}).then(function(r){return n=r,s.each(n.removals,function(t){if(null!=t)return null!=t.destroy&&t.destroy(),i.scope.plurals.remove(t.id),e},s.chunkSizeFrom(t.chunk))}).then(function(){return s.each(n.adds,function(n){return i.newChildMarker(n,t),e},s.chunkSizeFrom(t.chunk))}).then(function(){return s.each(n.updates,function(t){return i.updateChild(t.child,t.model),e},s.chunkSizeFrom(t.chunk))}).then(function(){return(n.adds.length>0||n.removals.length>0||n.updates.length>0)&&(t.plurals=i.scope.plurals,t.fit&&i.gManager.fit(),i.gManager.draw()),i.scope.pluralsUpdate.updateCtr+=1})}}(this)):(this.inProgress=!1,this.rebuildAll(t))},c.prototype.newChildMarker=function(t,e){var n,i,r,o;return null==t[this.idKey]?void this.$log.error("Marker model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.$log.info("child",n,"markers",this.scope.markerModels),i=e.$new(!1),i.events=e.events,o={},d.scopeKeys.forEach(function(t){return o[t]=e[t]}),n=new a(i,t,o,this.map,this.DEFAULTS,this.doClick,this.gManager,r=!1),this.scope.plurals.put(t[this.idKey],n),n)},c.prototype.onDestroy=function(t){return c.__super__.onDestroy.call(this,t),s.promiseLock(this,h.promiseTypes["delete"],void 0,void 0,function(t){return function(){return s.each(t.scope.plurals.values(),function(t){if(null!=t)return t.destroy(!1)},s.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){return null!=t.gManager&&t.gManager.destroy(),t.plurals.removeAll(),t.plurals!==t.scope.plurals&&console.error("plurals out of sync for MarkersParentModel"),t.scope.pluralsUpdate.updateCtr+=1})}}(this))},c.prototype.maybeExecMappedEvent=function(t,e){var n,i;if(!this.scope.$$destroyed)return i=this.scope.typeEvents||this.scope.clusterEvents,_.isFunction(null!=i?i[e]:void 0)&&(n=this.mapTypeToPlurals(t),this.origTypeEvents[e])?this.origTypeEvents[e](n.group,n.mapped):void 0},c.prototype.mapTypeToPlurals=function(t){var e,n,i;return _.isArray(t)?e=t:_.isFunction(t.getMarkers)&&(e=t.getMarkers()),null==e?void f.error("Unable to map event as we cannot find the array group to map"):(n=(null!=(i=this.scope.plurals.values())?i.length:void 0)?e.map(function(t){return function(e){return t.scope.plurals.get(e.key).model}}(this)):[],{cluster:t,mapped:n,group:t})},c.prototype.getItem=function(t,e,n){return"models"===e?t[e][n]:t[e].get(n)},c}(i)}])}.call(this),function(){["Polygon","Polyline"].forEach(function(t){return e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmap"+t+"sParentModel",["uiGmapBasePolysParentModel","uiGmap"+t+"ChildModel","uiGmapI"+t,function(e,n,i){return e(i,n,t)}])})}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapRectangleParentModel",["uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper","uiGmapRectangleOptionsBuilder",function(e,n,i,r){var o;return o=function(r){function o(t,n,i,r,o){var a,s,l,u,c,d,h,p,f,g,m;this.scope=t,this.attrs=i,this.map=r,this.DEFAULTS=o,a=void 0,u=!1,f=[],p=void 0,c=function(t){return function(){if(t.isTrue(t.attrs.fit))return t.fitMapBounds(t.map,a)}}(this),l=function(t){return function(){var n,i,r;return null!=t.scope.bounds&&null!=(null!=(n=t.scope.bounds)?n.sw:void 0)&&null!=(null!=(i=t.scope.bounds)?i.ne:void 0)&&t.validateBoundPoints(t.scope.bounds)?(a=t.convertBoundPoints(t.scope.bounds),e.info("new new bounds created: "+JSON.stringify(a))):null!=t.scope.bounds.getNorthEast&&null!=t.scope.bounds.getSouthWest?a=t.scope.bounds:null!=t.scope.bounds?e.error("Invalid bounds for newValue: "+JSON.stringify(null!=(r=t.scope)?r.bounds:void 0)):void 0}}(this),l(),d=new google.maps.Rectangle(this.buildOpts(a)),e.info("gObject (rectangle) created: "+d),g=!1,m=function(t){return function(){var e,n,i;if(e=d.getBounds(),n=e.getNorthEast(),i=e.getSouthWest(),!g)return t.scope.$evalAsync(function(t){if(null!=t.bounds&&null!=t.bounds.sw&&null!=t.bounds.ne&&(t.bounds.ne={latitude:n.lat(),longitude:n.lng()},t.bounds.sw={latitude:i.lat(),longitude:i.lng()}),null!=t.bounds.getNorthEast&&null!=t.bounds.getSouthWest)return t.bounds=e})}}(this),h=function(t){return function(){return c(),t.removeEvents(f),f.push(google.maps.event.addListener(d,"dragstart",function(){return u=!0})),f.push(google.maps.event.addListener(d,"dragend",function(){return u=!1,m()})),f.push(google.maps.event.addListener(d,"bounds_changed",function(){if(!u)return m()}))}}(this),s=function(t){return function(){return t.removeEvents(f),null!=p&&t.removeEvents(p),d.setMap(null)}}(this),null!=a&&h(),this.scope.$watch("bounds",function(t,e){var n;if(!(_.isEqual(t,e)&&null!=a||u))return g=!0,null==t?void s():(null==a?n=!0:c(),l(),d.setBounds(a),g=!1,n&&null!=a?h():void 0)},!0),this.setMyOptions=function(t){return function(e,n){if(!_.isEqual(e,n)&&null!=a&&null!=e)return d.setOptions(t.buildOpts(a))}}(this),this.props.push("bounds"),this.watchProps(this.props),null!=this.attrs.events&&(p=this.setEvents(d,this.scope,this.scope),this.scope.$watch("events",function(t){return function(e,n){if(!_.isEqual(e,n))return null!=p&&t.removeEvents(p),p=t.setEvents(d,t.scope,t.scope)}}(this))),this.scope.$on("$destroy",function(t){return function(){return s()}}(this)),e.info(this)}return t(o,r),o.include(n),o.include(i),o}(r)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapSearchBoxParentModel",["uiGmapBaseObject","uiGmapLogger","uiGmapEventsHelper","$timeout","$http","$templateCache",function(i,r,o,a,s,l){var u;return u=function(i){function a(n,i,o,a,s,l,u){var c;return this.scope=n,this.element=i,this.attrs=o,this.gMap=a,this.ctrlPosition=s,this.template=l,this.$log=null!=u?u:r,this.setVisibility=t(this.setVisibility,this),this.getBounds=t(this.getBounds,this),this.setBounds=t(this.setBounds,this),this.createSearchBox=t(this.createSearchBox,this),this.addToParentDiv=t(this.addToParentDiv,this),this.addAsMapControl=t(this.addAsMapControl,this),this.init=t(this.init,this),null==this.attrs.template?void this.$log.error("template attribute for the search-box directive is mandatory. Places Search Box creation aborted!!"):(e.isUndefined(this.scope.options)&&(this.scope.options={},this.scope.options.visible=!0),e.isUndefined(this.scope.options.visible)&&(this.scope.options.visible=!0),e.isUndefined(this.scope.options.autocomplete)&&(this.scope.options.autocomplete=!1),this.visible=this.scope.options.visible,this.autocomplete=this.scope.options.autocomplete,c=e.element("<div></div>"),c.append(this.template),this.input=c.find("input")[0],void this.init())}return n(a,i),a.include(o),a.prototype.init=function(){return this.createSearchBox(),this.scope.$watch("options",function(t){return function(n,i){if(e.isObject(n)&&(null!=n.bounds&&t.setBounds(n.bounds),null!=n.visible&&t.visible!==n.visible))return t.setVisibility(n.visible)}}(this),!0),null!=this.attrs.parentdiv?this.addToParentDiv():this.addAsMapControl(),this.visible||this.setVisibility(this.visible),this.autocomplete?this.listener=google.maps.event.addListener(this.gObject,"place_changed",function(t){return function(){return t.places=t.gObject.getPlace()}}(this)):this.listener=google.maps.event.addListener(this.gObject,"places_changed",function(t){return function(){return t.places=t.gObject.getPlaces()}}(this)),this.listeners=this.setEvents(this.gObject,this.scope,this.scope),this.$log.info(this),this.scope.$on("$destroy",function(t){return function(){return t.gObject=null}}(this))},a.prototype.addAsMapControl=function(){return this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input)},a.prototype.addToParentDiv=function(){return this.parentDiv=e.element(document.getElementById(this.scope.parentdiv)),this.parentDiv.append(this.input)},a.prototype.createSearchBox=function(){return this.autocomplete?this.gObject=new google.maps.places.Autocomplete(this.input,this.scope.options):this.gObject=new google.maps.places.SearchBox(this.input,this.scope.options)},a.prototype.setBounds=function(t){if(e.isUndefined(t.isEmpty))this.$log.error("Error: SearchBoxParentModel setBounds. Bounds not an instance of LatLngBounds.");else if(t.isEmpty()===!1&&null!=this.gObject)return this.gObject.setBounds(t)},a.prototype.getBounds=function(){return this.gObject.getBounds()},a.prototype.setVisibility=function(t){return null!=this.attrs.parentdiv?t===!1?this.parentDiv.addClass("ng-hide"):this.parentDiv.removeClass("ng-hide"):t===!1?this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].clear():this.gMap.controls[google.maps.ControlPosition[this.ctrlPosition]].push(this.input),this.visible=t},a}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api.models.parent").factory("uiGmapWindowsParentModel",["uiGmapIWindowParentModel","uiGmapModelsWatcher","uiGmapPropMap","uiGmapWindowChildModel","uiGmapLinked","uiGmap_async","uiGmapLogger","$timeout","$compile","$http","$templateCache","$interpolate","uiGmapPromise","uiGmapIWindow","uiGmapGmapUtil",function(i,r,o,a,s,l,u,c,d,h,p,f,g,m,v){var y;return y=function(i){function y(e,n,i,r,a,l){this.gMap=a,this.markersScope=l,this.modelKeyComparison=t(this.modelKeyComparison,this),this.interpolateContent=t(this.interpolateContent,this),this.setChildScope=t(this.setChildScope,this),this.createWindow=t(this.createWindow,this),this.setContentKeys=t(this.setContentKeys,this),this.pieceMeal=t(this.pieceMeal,this),this.createAllNew=t(this.createAllNew,this),this.watchIdKey=t(this.watchIdKey,this),this.createChildScopes=t(this.createChildScopes,this),this.watchOurScope=t(this.watchOurScope,this),this.watchDestroy=t(this.watchDestroy,this),this.onDestroy=t(this.onDestroy,this),this.rebuildAll=t(this.rebuildAll,this),this.doINeedToWipe=t(this.doINeedToWipe,this),this.watchModels=t(this.watchModels,this),this.go=t(this.go,this),y.__super__.constructor.call(this,e,n,i,r,c,d,h,p),this["interface"]=m,this.plurals=new o,_.each(m.scopeKeys,function(t){return function(e){return t[e+"Key"]=void 0}}(this)),this.linked=new s(e,n,i,r),this.contentKeys=void 0,this.isIconVisibleOnClick=void 0,this.firstTime=!0,this.firstWatchModels=!0,this.$log.info(self),this.parentScope=void 0,this.go(e)}return n(y,i),y.include(r),y.prototype.go=function(t){return this.watchOurScope(t),this.doRebuildAll=null!=this.scope.doRebuildAll&&this.scope.doRebuildAll,t.$watch("doRebuildAll",function(t){return function(e,n){if(e!==n)return t.doRebuildAll=e}}(this)),this.createChildScopes()},y.prototype.watchModels=function(t){var e;return e=null!=this.markersScope?"pluralsUpdate":"models",
t.$watch(e,function(e){return function(n,i){var r;if(!_.isEqual(n,i)||e.firstWatchModels)return e.firstWatchModels=!1,e.doRebuildAll||e.doINeedToWipe(t.models)?e.rebuildAll(t,!0,!0):(r=0===e.plurals.length,null!=e.existingPieces?_.last(e.existingPieces._content).then(function(){return e.createChildScopes(r)}):e.createChildScopes(r))}}(this),!0)},y.prototype.doINeedToWipe=function(t){var e;return e=null==t||0===t.length,this.plurals.length>0&&e},y.prototype.rebuildAll=function(t,e,n){return this.onDestroy(n).then(function(t){return function(){if(e)return t.createChildScopes()}}(this))},y.prototype.onDestroy=function(t){return y.__super__.onDestroy.call(this,this.scope),l.promiseLock(this,g.promiseTypes["delete"],void 0,void 0,function(t){return function(){return l.each(t.plurals.values(),function(t){return t.destroy()},l.chunkSizeFrom(t.scope.cleanchunk,!1)).then(function(){var e;return null!=(e=t.plurals)?e.removeAll():void 0})}}(this))},y.prototype.watchDestroy=function(t){return t.$on("$destroy",function(e){return function(){return e.firstWatchModels=!0,e.firstTime=!0,e.rebuildAll(t,!1,!0)}}(this))},y.prototype.watchOurScope=function(t){return _.each(m.scopeKeys,function(e){return function(n){var i;return i=n+"Key",e[i]="function"==typeof t[n]?t[n]():t[n]}}(this))},y.prototype.createChildScopes=function(t){var n,i,r;return null==t&&(t=!0),this.isIconVisibleOnClick=!0,e.isDefined(this.linked.attrs.isiconvisibleonclick)&&(this.isIconVisibleOnClick=this.linked.scope.isIconVisibleOnClick),n=e.isUndefined(this.linked.scope.models),!n||void 0!==this.markersScope&&void 0!==(null!=(i=this.markersScope)?i.plurals:void 0)&&void 0!==(null!=(r=this.markersScope)?r.models:void 0)?null!=this.gMap?null!=this.linked.scope.models?(this.watchIdKey(this.linked.scope),t?this.createAllNew(this.linked.scope,!1):this.pieceMeal(this.linked.scope,!1)):(this.parentScope=this.markersScope,this.watchIdKey(this.parentScope),t?this.createAllNew(this.markersScope,!0,"plurals",!1):this.pieceMeal(this.markersScope,!0,"plurals",!1)):void 0:void this.$log.error("No models to create windows from! Need direct models or models derived from markers!")},y.prototype.watchIdKey=function(t){return this.setIdKey(t),t.$watch("idKey",function(e){return function(n,i){if(n!==i&&null==n)return e.idKey=n,e.rebuildAll(t,!0,!0)}}(this))},y.prototype.createAllNew=function(t,e,n,i){var r;if(null==n&&(n="models"),null==i&&(i=!1),this.firstTime&&(this.watchModels(t),this.watchDestroy(t)),this.setContentKeys(t.models),!this.didQueueInitPromise(this,t))return r=null,l.promiseLock(this,g.promiseTypes.create,"createAllNew",function(t){return r=t},function(i){return function(){return l.each(t.models,function(o){var a,s;return a=e&&null!=(s=i.getItem(t,n,o[i.idKey]))?s.gObject:void 0,r||(!a&&i.markersScope&&u.error("Unable to get gMarker from markersScope!"),i.createWindow(o,a,i.gMap)),r},l.chunkSizeFrom(t.chunk)).then(function(){return i.firstTime=!1})}}(this))},y.prototype.pieceMeal=function(t,e,n,i){var r,o;if(null==n&&(n="models"),null==i&&(i=!0),!t.$$destroyed)return r=null,o=null,null!=t&&this.modelsLength()&&this.plurals.length?l.promiseLock(this,g.promiseTypes.update,"pieceMeal",function(t){return r=t},function(e){return function(){return g.promise(function(){return e.figureOutState(e.idKey,t,e.plurals,e.modelKeyComparison)}).then(function(n){return o=n,l.each(o.removals,function(t){if(null!=t)return e.plurals.remove(t.id),null!=t.destroy&&t.destroy(!0),r},l.chunkSizeFrom(t.chunk))}).then(function(){return l.each(o.adds,function(i){var o,a;if(o=null!=(a=e.getItem(t,n,i[e.idKey]))?a.gObject:void 0,!o)throw"Gmarker undefined";return e.createWindow(i,o,e.gMap),r})}).then(function(){return l.each(o.updates,function(t){return e.updateChild(t.child,t.model),r},l.chunkSizeFrom(t.chunk))})}}(this)):(u.debug("pieceMeal: rebuildAll"),this.rebuildAll(this.scope,!0,!0))},y.prototype.setContentKeys=function(t){if(this.modelsLength(t))return this.contentKeys=Object.keys(t[0])},y.prototype.createWindow=function(t,e,n){var i,r,o,s,l,u;return r=this.linked.scope.$new(!1),this.setChildScope(r,t),r.$watch("model",function(t){return function(e,n){if(e!==n)return t.setChildScope(r,e)}}(this),!0),o={html:function(e){return function(){return e.interpolateContent(e.linked.element.html(),t)}}(this)},this.DEFAULTS=this.scopeOrModelVal(this.optionsKey,this.scope,t)||{},s=this.createWindowOptions(e,r,o.html(),this.DEFAULTS),i=new a(t,r,s,this.isIconVisibleOnClick,n,null!=(l=this.markersScope)&&null!=(u=l.plurals.get(t[this.idKey]))?u.scope:void 0,o,(!1),(!0)),null==t[this.idKey]?void this.$log.error("Window model has no id to assign a child to. This is required for performance. Please assign id, or redirect id to a different key."):(this.plurals.put(t[this.idKey],i),i)},y.prototype.setChildScope=function(t,e){return _.each(m.scopeKeys,function(n){return function(i){var r,o;if(r=i+"Key",o="self"===n[r]?e:e[n[r]],o!==t[i])return t[i]=o}}(this)),t.model=e},y.prototype.interpolateContent=function(t,e){var n,i,r,o,a,s;if(void 0!==this.contentKeys&&0!==this.contentKeys.length){for(n=f(t),r={},s=this.contentKeys,i=0,a=s.length;i<a;i++)o=s[i],r[o]=e[o];return n(r)}},y.prototype.modelKeyComparison=function(t,e){var n,i;if(i=null!=this.scope.coords?this.scope:this.parentScope,null==i)throw"No scope or parentScope set!";return(n=v.equalCoords(this.evalModelHandle(t,i.coords),this.evalModelHandle(e,i.coords)))?n=_.every(_.without(this["interface"].scopeKeys,"coords"),function(n){return function(r){return n.evalModelHandle(t,i[r])===n.evalModelHandle(e,i[r])}}(this)):n},y}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapCircle",["uiGmapICircle","uiGmapCircleParentModel",function(t,e){return _.extend(t,{link:function(t,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(r){return new e(t,n,i,r)}}(this))}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapControl",["uiGmapIControl","$http","$templateCache","$compile","$controller","uiGmapGoogleMapApi",function(i,r,o,a,s,l){var u;return u=function(u){function c(){this.link=t(this.link,this),c.__super__.constructor.call(this)}return n(c,u),c.prototype.link=function(t,n,u,c){return l.then(function(n){return function(l){var u,d;return e.isUndefined(t.template)?void n.$log.error("mapControl: could not find a valid template property"):(u=e.isDefined(t.index&&!isNaN(parseInt(t.index)))?parseInt(t.index):void 0,d=e.isDefined(t.position)?t.position.toUpperCase().replace(/-/g,"_"):"TOP_CENTER",l.ControlPosition[d]?i.mapPromise(t,c).then(function(i){var l,c;return l=void 0,c=e.element("<div></div>"),r.get(t.template,{cache:o}).success(function(n){var i,r;if(r=t.$new(),c.append(n),e.isDefined(t.controller)&&(i=s(t.controller,{$scope:r}),c.children().data("$ngControllerController",i)),l=a(c.children())(r),u)return l[0].index=u}).error(function(t){return n.$log.error("mapControl: template could not be found")}).then(function(){return i.controls[google.maps.ControlPosition[d]].push(l[0])})}):void n.$log.error("mapControl: invalid position property"))}}(this))},c}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapDragZoom",["uiGmapCtrlHandle","uiGmapPropertyAction",function(t,e){return{restrict:"EMA",transclude:!0,template:'<div class="angular-google-map-dragzoom" ng-transclude style="display: none"></div>',require:"^uiGmapGoogleMap",scope:{keyboardkey:"=",options:"=",spec:"="},controller:["$scope","$element",function(e,n){return e.ctrlType="uiGmapDragZoom",_.extend(this,t.handle(e,n))}],link:function(n,i,r,o){return t.mapPromise(n,o).then(function(t){var i,r,o;return i=function(e){if(t.enableKeyDragZoom(e),n.spec)return n.spec.enableKeyDragZoom(e)},r=new e(function(t,e){return e?i({key:e}):i()}),o=new e(function(t,e){if(e)return i(e)}),n.$watch("keyboardkey",r.sic),r.sic(n.keyboardkey),n.$watch("options",o.sic),o.sic(n.options)})}}}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapDrawingManager",["uiGmapIDrawingManager","uiGmapDrawingManagerParentModel",function(t,e){return _.extend(t,{link:function(t,n,i,r){return r.getScope().deferred.promise.then(function(r){return new e(t,n,i,r)})}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapApiFreeDrawPolygons",["uiGmapLogger","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapDrawFreeHandChildModel","uiGmapLodash",function(e,i,r,o,a){var s;return s=function(i){function s(){return this.link=t(this.link,this),s.__super__.constructor.apply(this,arguments)}return n(s,i),s.include(r),s.prototype.restrict="EMA",s.prototype.replace=!0,s.prototype.require="^uiGmapGoogleMap",s.prototype.scope={polygons:"=",draw:"="},s.prototype.link=function(t,n,i,r){return this.mapPromise(t,r).then(function(n){return function(n){var i,s;return t.polygons?_.isArray(t.polygons)?(i=new o(n,r.getScope()),s=void 0,t.draw=function(){return"function"==typeof s&&s(),i.engage(t.polygons).then(function(){var e;return e=!0,s=t.$watchCollection("polygons",function(t,n){var i;return e||t===n?void(e=!1):(i=a.differenceObjects(n,t),i.forEach(function(t){return t.setMap(null)}))})})}):e.error("Free Draw Polygons must be of type Array!"):e.error("No polygons to bind to!")}}(this))},s}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapICircle",[function(){var t;return t={},{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{center:"=center",radius:"=radius",stroke:"=stroke",fill:"=fill",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=icons",visible:"=",events:"=",control:"=",zIndex:"=zindex"}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIControl",["uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,n,i){var r;return r=function(e){function r(){this.restrict="EA",this.replace=!0,this.require="^uiGmapGoogleMap",this.scope={template:"@template",position:"@position",controller:"@controller",index:"@index"},this.$log=n}return t(r,e),r.extend(i),r.prototype.link=function(t,e,n,i){throw new Exception("Not implemented!!")},r}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapIDrawingManager",[function(){return{restrict:"EA",replace:!0,require:"^uiGmapGoogleMap",scope:{"static":"@",control:"=",options:"=",events:"="}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIMarker",["uiGmapBaseObject","uiGmapCtrlHandle",function(e,n){var i;return i=function(e){function i(){this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.replace=!0,this.scope=_.extend(this.scope||{},i.scope)}return t(i,e),i.scope={coords:"=coords",icon:"=icon",click:"&click",options:"=options",events:"=events",fit:"=fit",idKey:"=idkey",control:"=control"},i.scopeKeys=_.keys(i.scope),i.keys=i.scopeKeys,i.extend(n),i}(e)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolygon",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,n,i,r){var o;return o=function(n){function o(){}return t(o,n),o.scope={path:"=path",stroke:"=stroke",clickable:"=",draggable:"=",editable:"=",geodesic:"=",fill:"=",icons:"=icons",visible:"=","static":"=",events:"=",zIndex:"=zindex",fit:"=",control:"=control"},o.scopeKeys=_.keys(o.scope),o.include(e),o.extend(r),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(n)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIPolyline",["uiGmapGmapUtil","uiGmapBaseObject","uiGmapLogger","uiGmapCtrlHandle",function(e,n,i,r){var o;return o=function(n){function o(){}return t(o,n),o.scope={path:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",geodesic:"=",icons:"=",visible:"=","static":"=",fit:"=",events:"=",zIndex:"=zindex"},o.scopeKeys=_.keys(o.scope),o.include(e),o.extend(r),o.prototype.restrict="EMA",o.prototype.replace=!0,o.prototype.require="^uiGmapGoogleMap",o.prototype.scope=o.scope,o.prototype.DEFAULTS={},o.prototype.$log=i,o}(n)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapIRectangle",[function(){var t;return t={},{restrict:"EMA",require:"^uiGmapGoogleMap",replace:!0,scope:{bounds:"=",stroke:"=",clickable:"=",draggable:"=",editable:"=",fill:"=",visible:"=",events:"="}}}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapIWindow",["uiGmapBaseObject","uiGmapChildEvents","uiGmapCtrlHandle",function(e,n,i){var r;return r=function(e){function r(){this.restrict="EMA",this.template=void 0,this.transclude=!0,this.priority=-100,this.require="^uiGmapGoogleMap",this.replace=!0,this.scope=_.extend(this.scope||{},r.scope)}return t(r,e),r.scope={coords:"=coords",template:"=template",templateUrl:"=templateurl",templateParameter:"=templateparameter",isIconVisibleOnClick:"=isiconvisibleonclick",closeClick:"&closeclick",options:"=options",control:"=control",show:"=show"},r.scopeKeys=_.keys(r.scope),r.include(n),r.extend(i),r}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMap",["$timeout","$q","uiGmapLogger","uiGmapGmapUtil","uiGmapBaseObject","uiGmapCtrlHandle","uiGmapIsReady","uiGmapuuid","uiGmapExtendGWin","uiGmapExtendMarkerClusterer","uiGmapGoogleMapsUtilV3","uiGmapGoogleMapApi","uiGmapEventsHelper",function(i,r,o,a,s,l,u,c,d,h,p,f,g){var m,v,y;return m=void 0,y=[p,d,h],v=function(r){function s(){this.link=t(this.link,this);var e,n;e=function(t){var e,n;return n=void 0,t.$on("$destroy",function(){return u.decrement()}),e=l.handle(t),t.ctrlType="Map",t.deferred.promise.then(function(){return y.forEach(function(t){return t.init()})}),e.getMap=function(){return t.map},n=_.extend(this,e)},this.controller=["$scope",e],n=this}return n(s,r),s.include(a),s.prototype.restrict="EMA",s.prototype.transclude=!0,s.prototype.replace=!1,s.prototype.template='<div class="angular-google-map"><div class="angular-google-map-container">\n</div><div ng-transclude style="display: none"></div></div>',s.prototype.scope={center:"=",zoom:"=",dragging:"=",control:"=",options:"=",events:"=",eventOpts:"=",styles:"=",bounds:"=",update:"="},s.prototype.link=function(t,n,r){var a,s;return a=[],t.$on("$destroy",function(){return g.removeEvents(a)}),t.idleAndZoomChanged=!1,null==t.center?void(s=t.$watch("center",function(e){return function(){if(t.center)return s(),e.link(t,n,r)}}(this))):f.then(function(s){return function(l){var d,h,p,f,v,y,b,w,x,k,C,$,M,S,T,D,E;if(m={mapTypeId:l.MapTypeId.ROADMAP},S=u.spawn(),$=function(){return S.deferred.resolve({instance:S.instance,map:d})},!s.validateCoords(t.center))return void o.error("angular-google-maps: could not find a valid center property");if(!e.isDefined(t.zoom))return void o.error("angular-google-maps: map zoom property not set");if(v=e.element(n),v.addClass("angular-google-map"),k={options:{}},r.options&&(k.options=t.options),r.styles&&(k.styles=t.styles),r.type&&(T=r.type.toUpperCase(),google.maps.MapTypeId.hasOwnProperty(T)?k.mapTypeId=google.maps.MapTypeId[r.type.toUpperCase()]:o.error("angular-google-maps: invalid map type '"+r.type+"'")),w=e.extend({},m,k,{center:s.getCoords(t.center),zoom:t.zoom,bounds:t.bounds}),d=new google.maps.Map(v.find("div")[1],w),d.uiGmap_id=c.generate(),f=!1,a.push(google.maps.event.addListenerOnce(d,"idle",function(){return t.deferred.resolve(d),$()})),p=r.events&&null!=(null!=(C=t.events)?C.blacklist:void 0)?t.events.blacklist:[],_.isString(p)&&(p=[p]),x=function(e,n,i){if(!_.contains(p,e))return i&&i(),a.push(google.maps.event.addListener(d,e,function(){var e;if(!(null!=(e=t.update)?e.lazy:void 0))return n()}))},_.contains(p,"all")||(x("dragstart",function(){return f=!0,t.$evalAsync(function(t){if(null!=t.dragging)return t.dragging=f})}),x("dragend",function(){return f=!1,t.$evalAsync(function(t){if(null!=t.dragging)return t.dragging=f})}),D=function(n,i){if(null==n&&(n=d.center),null==i&&(i=t),!_.contains(p,"center"))if(e.isDefined(i.center.type)){if(i.center.coordinates[1]!==n.lat()&&(i.center.coordinates[1]=n.lat()),i.center.coordinates[0]!==n.lng())return i.center.coordinates[0]=n.lng()}else if(i.center.latitude!==n.lat()&&(i.center.latitude=n.lat()),i.center.longitude!==n.lng())return i.center.longitude=n.lng()},M=!1,x("idle",function(){var e,n,i;return e=d.getBounds(),n=e.getNorthEast(),i=e.getSouthWest(),M=!0,t.$evalAsync(function(e){return D(),_.isUndefined(e.bounds)||_.contains(p,"bounds")||(e.bounds.northeast={latitude:n.lat(),longitude:n.lng()},e.bounds.southwest={latitude:i.lat(),longitude:i.lng()}),_.contains(p,"zoom")||(e.zoom=d.zoom,t.idleAndZoomChanged=!t.idleAndZoomChanged),M=!1})})),e.isDefined(t.events)&&null!==t.events&&e.isObject(t.events)){b=function(e){return function(){return t.events[e].apply(t,[d,e,arguments])}},h=[];for(y in t.events)t.events.hasOwnProperty(y)&&e.isFunction(t.events[y])&&h.push(google.maps.event.addListener(d,y,b(y)));a.concat(h)}return d.getOptions=function(){return w},t.map=d,null!=r.control&&null!=t.control&&(t.control.refresh=function(t){var e,n,i;if(null!=d)return null!=("undefined"!=typeof google&&null!==google&&null!=(n=google.maps)&&null!=(i=n.event)?i.trigger:void 0)&&null!=d&&google.maps.event.trigger(d,"resize"),null!=(null!=t?t.latitude:void 0)&&null!=(null!=t?t.longitude:void 0)?(e=s.getCoords(t),s.isTrue(r.pan)?d.panTo(e):d.setCenter(e)):void 0},t.control.getGMap=function(){return d},t.control.getMapOptions=function(){return w},t.control.getCustomEventListeners=function(){return h},t.control.removeEvents=function(t){return g.removeEvents(t)}),t.$watch("center",function(e,n){var i,a;if(e!==n&&!M&&(i=s.getCoords(t.center),i.lat()!==d.center.lat()||i.lng()!==d.center.lng()))return a=!0,f||(s.validateCoords(e)||o.error("Invalid center for newValue: "+JSON.stringify(e)),s.isTrue(r.pan)&&t.zoom===d.zoom?d.panTo(i):d.setCenter(i)),a=!1},!0),E=null,t.$watch("zoom",function(e,n){var r,o,a;if(null!=e&&!_.isEqual(e,n)&&(null!=d?d.getZoom():void 0)!==(null!=t?t.zoom:void 0)&&!M)return a=!0,null!=E&&i.cancel(E),E=i(function(){return d.setZoom(e),a=!1},(null!=(r=t.eventOpts)&&null!=(o=r.debounce)?o.zoomMs:void 0)+20,!1)}),t.$watch("bounds",function(t,e){var n,i,r,a,s,l,u;if(t!==e)return null==(null!=t&&null!=(r=t.northeast)?r.latitude:void 0)||null==(null!=t&&null!=(a=t.northeast)?a.longitude:void 0)||null==(null!=t&&null!=(s=t.southwest)?s.latitude:void 0)||null==(null!=t&&null!=(l=t.southwest)?l.longitude:void 0)?void o.error("Invalid map bounds for new value: "+JSON.stringify(t)):(i=new google.maps.LatLng(t.northeast.latitude,t.northeast.longitude),u=new google.maps.LatLng(t.southwest.latitude,t.southwest.longitude),n=new google.maps.LatLngBounds(u,i),d.fitBounds(n))}),["options","styles"].forEach(function(e){return t.$watch(e,function(t,e){var n;if(n=this.exp,!_.isEqual(t,e))return"options"===n?k.options=t:k.options[n]=t,null!=d?d.setOptions(k):void 0},!0)})}}(this))},s}(s)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarker",["uiGmapIMarker","uiGmapMarkerChildModel","uiGmapMarkerManager","uiGmapLogger",function(e,i,r,o){var a;return a=function(a){function s(){this.link=t(this.link,this),s.__super__.constructor.call(this),this.template='<span class="angular-google-map-marker" ng-transclude></span>',o.info(this)}return n(s,a),s.prototype.controller=["$scope","$element",function(t,n){return t.ctrlType="Marker",_.extend(this,e.handle(t,n))}],s.prototype.link=function(t,n,o,a){var s;return s=e.mapPromise(t,a),s.then(function(n){return function(n){var o,a,s,l,u,c;if(s=new r(n),l=_.object(e.keys,e.keys),u=new i(t,t,l,n,{},o=!0,s,a=!1,c=!1),u.deferred.promise.then(function(e){return t.deferred.resolve(e)}),null!=t.control)return t.control.getGMarkers=s.getGMarkers}}(this)),t.$on("$destroy",function(t){return function(){var t;return"undefined"!=typeof t&&null!==t&&t.clear(),t=null}}(this))},s}(e)}])}.call(this),function(){var t=function(t,e){function i(){this.constructor=t}for(var r in e)n.call(e,r)&&(t[r]=e[r]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},n={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapMarkers",["uiGmapIMarker","uiGmapPlural","uiGmapMarkersParentModel","uiGmap_sync","uiGmapLogger",function(e,n,i,r,o){var a;return a=function(r){function a(){a.__super__.constructor.call(this),this.template='<span class="angular-google-map-markers" ng-transclude></span>',n.extend(this,{doCluster:"=?docluster",clusterOptions:"=clusteroptions",clusterEvents:"=clusterevents",modelsByRef:"=modelsbyref",type:"=?type",typeOptions:"=?typeoptions",typeEvents:"=?typeevents"}),o.info(this)}return t(a,r),a.prototype.controller=["$scope","$element",function(t,n){return t.ctrlType="Markers",_.extend(this,e.handle(t,n))}],a.prototype.link=function(t,r,o,a){var s,l;return s=void 0,l=function(){return t.deferred.resolve()},e.mapPromise(t,a).then(function(e){var u;return u=a.getScope(),u.$watch("idleAndZoomChanged",function(){return _.defer(s.gManager.draw)}),s=new i(t,r,o,e),n.link(t,s),null!=t.control&&(t.control.getGMarkers=function(){var t;return null!=(t=s.gManager)?t.getGMarkers():void 0},t.control.getChildMarkers=function(){return s.plurals}),_.last(s.existingPieces._content).then(function(){return l()})})},a}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").service("uiGmapPlural",[function(){var t;return t=function(t,e){if(null!=t.control)return t.control.updateModels=function(n){return t.models=n,e.createChildScopes(!1)},t.control.newModels=function(n){return t.models=n,e.rebuildAll(t,!0,!0)},t.control.clean=function(){return e.rebuildAll(t,!1,!0)},t.control.getPlurals=function(){return e.plurals},t.control.getManager=function(){return e.gManager},t.control.hasManager=function(){return null!=e.gManager==!0},t.control.managerDraw=function(){var e;if(t.control.hasManager())return null!=(e=t.control.getManager())?e.draw():void 0}},{extend:function(t,e){return _.extend(t.scope||{},e||{},{idKey:"=idkey",doRebuildAll:"=dorebuildall",models:"=models",chunk:"=chunk",cleanchunk:"=cleanchunk",control:"=control"})},link:function(e,n){return t(e,n)}}}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygon",["uiGmapIPolygon","$timeout","uiGmapPolygonChildModel",function(e,i,r){var o;return o=function(i){function o(){return this.link=t(this.link,this),o.__super__.constructor.apply(this,arguments)}return n(o,i),o.prototype.link=function(t,n,i,o){var a,s;return a=[],s=e.mapPromise(t,o),null!=t.control&&(t.control.getInstance=this,t.control.polygons=a,t.control.promise=s),s.then(function(e){return function(n){return a.push(new r(t,i,n,e.DEFAULTS))}}(this))},o}(e)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolygons",["uiGmapIPolygon","$timeout","uiGmapPolygonsParentModel","uiGmapPlural",function(i,r,o,a){var s;return s=function(i){function r(){this.link=t(this.link,this),r.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(t,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(s){return(e.isUndefined(t.path)||null===t.path)&&r.$log.warn("polygons: no valid path attribute found"),t.models||r.$log.warn("polygons: no models found to create from"),a.link(t,new o(t,n,i,s,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolyline",["uiGmapIPolyline","$timeout","uiGmapPolylineChildModel",function(i,r,o){var a;return a=function(r){function a(){return this.link=t(this.link,this),a.__super__.constructor.apply(this,arguments)}return n(a,r),a.prototype.link=function(t,n,r,a){return i.mapPromise(t,a).then(function(n){return function(i){return!e.isUndefined(t.path)&&null!==t.path&&n.validatePath(t.path)||n.$log.warn("polyline: no valid path attribute found"),new o(t,r,i,n.DEFAULTS)}}(this))},a}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapPolylines",["uiGmapIPolyline","$timeout","uiGmapPolylinesParentModel","uiGmapPlural",function(i,r,o,a){var s;return s=function(i){function r(){this.link=t(this.link,this),r.__super__.constructor.call(this),a.extend(this),this.$log.info(this)}return n(r,i),r.prototype.link=function(t,n,i,r){return r.getScope().deferred.promise.then(function(r){return function(s){return(e.isUndefined(t.path)||null===t.path)&&r.$log.warn("polylines: no valid path attribute found"),t.models||r.$log.warn("polylines: no models found to create from"),a.link(t,new o(t,n,i,s,r.DEFAULTS))}}(this))},r}(i)}])}.call(this),function(){e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapRectangle",["uiGmapLogger","uiGmapGmapUtil","uiGmapIRectangle","uiGmapRectangleParentModel",function(t,e,n,i){return _.extend(n,{link:function(t,e,n,r){return r.getScope().deferred.promise.then(function(r){return function(r){return new i(t,e,n,r)}}(this))}})}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindow",["uiGmapIWindow","uiGmapGmapUtil","uiGmapWindowChildModel","uiGmapLodash","uiGmapLogger",function(i,r,o,a,s){var l;return l=function(l){function u(){this.link=t(this.link,this),u.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarker"],this.template='<span class="angular-google-maps-window" ng-transclude></span>',s.debug(this),this.childWindows=[]}return n(u,l),u.include(r),u.prototype.link=function(t,n,r,o){var a,s;return a=o.length>1&&null!=o[1]?o[1]:void 0,s=null!=a?a.getScope():void 0,this.mapPromise=i.mapPromise(t,o[0]),this.mapPromise.then(function(i){return function(o){var l;return l=!0,e.isDefined(r.isiconvisibleonclick)&&(l=t.isIconVisibleOnClick),a?s.deferred.promise.then(function(e){return i.init(t,n,l,o,s)}):void i.init(t,n,l,o)}}(this))},u.prototype.init=function(t,e,n,i,r){var s,l,u,c,d;if(l=null!=t.options?t.options:{},c=null!=t&&this.validateCoords(t.coords),null!=(null!=r?r.getGMarker:void 0)&&(u=r.getGMarker()),d=c?this.createWindowOptions(u,t,e.html(),l):l,null!=i&&(s=new o({},t,d,n,i,r,e),this.childWindows.push(s),t.$on("$destroy",function(t){return function(){return t.childWindows=a.withoutObjects(t.childWindows,[s],function(t,e){return t.scope.$id===e.scope.$id}),t.childWindows.length=0}}(this))),null!=t.control&&(t.control.getGWindows=function(t){return function(){return t.childWindows.map(function(t){return t.gObject})}}(this),t.control.getChildWindows=function(t){return function(){return t.childWindows}}(this),t.control.getPlurals=t.control.getChildWindows,t.control.showWindow=function(t){return function(){return t.childWindows.map(function(t){return t.showWindow()})}}(this),t.control.hideWindow=function(t){return function(){return t.childWindows.map(function(t){return t.hideWindow()})}}(this)),null!=this.onChildCreation&&null!=s)return this.onChildCreation(s)},u}(i)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},n=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},i={}.hasOwnProperty;e.module("uiGmapgoogle-maps.directives.api").factory("uiGmapWindows",["uiGmapIWindow","uiGmapPlural","uiGmapWindowsParentModel","uiGmapPromise","uiGmapLogger",function(e,i,r,o,a){var s;return s=function(e){function s(){this.init=t(this.init,this),this.link=t(this.link,this),s.__super__.constructor.call(this),this.require=["^uiGmapGoogleMap","^?uiGmapMarkers"],this.template='<span class="angular-google-maps-windows" ng-transclude></span>',i.extend(this),a.debug(this)}return n(s,e),s.prototype.link=function(t,e,n,i){var r,a,s;return r=i[0].getScope(),a=i.length>1&&null!=i[1]?i[1]:void 0,s=null!=a?a.getScope():void 0,r.deferred.promise.then(function(r){return function(a){var l,u;return l=(null!=s&&null!=(u=s.deferred)?u.promise:void 0)||o.resolve(),l.then(function(){var o,l;return o=null!=(l=r.parentModel)?l.existingPieces:void 0,o?o.then(function(){return r.init(t,e,n,i,a,s)}):r.init(t,e,n,i,a,s)})}}(this))},s.prototype.init=function(t,e,n,o,a,s){var l;if(l=new r(t,e,n,o,a,s),i.link(t,l),null!=t.control)return t.control.getGWindows=function(t){return function(){return l.plurals.map(function(t){return t.gObject})}}(this),t.control.getChildWindows=function(t){return function(){return l.plurals}}(this)},s}(e)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapGoogleMap",["uiGmapMap",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMarker",["$timeout","uiGmapMarker",function(t,e){
return new e(t)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMarkers",["$timeout","uiGmapMarkers",function(t,e){return new e(t)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolygon",["uiGmapPolygon",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapCircle",["uiGmapCircle",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolyline",["uiGmapPolyline",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolylines",["uiGmapPolylines",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapRectangle",["uiGmapLogger","uiGmapRectangle",function(t,e){return e}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapWindow",["$timeout","$compile","$http","$templateCache","uiGmapWindow",function(t,e,n,i,r){return new r(t,e,n,i)}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapWindows",["$timeout","$compile","$http","$templateCache","$interpolate","uiGmapWindows",function(t,e,n,i,r,o){return new o(t,e,n,i,r)}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapLayer",["$timeout","uiGmapLogger","uiGmapLayerParentModel",function(e,n,i){var r;return new(r=function(){function e(){this.link=t(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-layer' ng-transclude></span>",this.replace=!0,this.scope={show:"=show",type:"=type",namespace:"=namespace",options:"=options",onCreated:"&oncreated"}}return e.prototype.link=function(t,e,n,r){return r.getScope().deferred.promise.then(function(r){return function(r){return null!=t.onCreated?new i(t,e,n,r,t.onCreated):new i(t,e,n,r)}}(this))},e}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapMapControl",["uiGmapControl",function(t){return new t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapDragZoom",["uiGmapDragZoom",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapDrawingManager",["uiGmapDrawingManager",function(t){return t}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapFreeDrawPolygons",["uiGmapApiFreeDrawPolygons",function(t){return new t}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapMapType",["$timeout","uiGmapLogger","uiGmapMapTypeParentModel",function(e,n,i){var r;return new(r=function(){function e(){this.link=t(this.link,this),this.$log=n,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template='<span class="angular-google-map-layer" ng-transclude></span>',this.replace=!0,this.scope={show:"=show",options:"=options",refresh:"=refresh",id:"@"}}return e.prototype.link=function(t,e,n,r){return r.getScope().deferred.promise.then(function(r){return function(r){return new i(t,e,n,r)}}(this))},e}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapPolygons",["uiGmapPolygons",function(t){return new t}])}.call(this),function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};e.module("uiGmapgoogle-maps").directive("uiGmapSearchBox",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapSearchBoxParentModel","$http","$templateCache","$compile",function(n,i,r,o,a,s){var l;return new(l=function(){function l(){this.link=t(this.link,this),this.$log=i,this.restrict="EMA",this.require="^uiGmapGoogleMap",this.priority=-1,this.transclude=!0,this.template="<span class='angular-google-map-search' ng-transclude></span>",this.replace=!0,this.scope={template:"=template",events:"=events",position:"=?position",options:"=?options",parentdiv:"=?parentdiv",ngModel:"=?"}}return l.prototype.require="ngModel",l.prototype.link=function(t,i,l,u){return n.then(function(n){return function(c){return null==t.template&&(a.put("uigmap-searchbox-default.tpl.html",'<input type="text">'),t.template="uigmap-searchbox-default.tpl.html"),o.get(t.template,{cache:a}).success(function(o){return e.isUndefined(t.events)?void n.$log.error("searchBox: the events property is required"):u.getScope().deferred.promise.then(function(a){var u;return u=e.isDefined(t.position)?t.position.toUpperCase().replace(/-/g,"_"):"TOP_LEFT",c.ControlPosition[u]?new r(t,i,l,a,u,s(o)(t)):void n.$log.error("searchBox: invalid position property")})})}}(this))},l}())}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapShow",["$animate","uiGmapLogger",function(t,n){return{scope:{uiGmapShow:"=",uiGmapAfterShow:"&",uiGmapAfterHide:"&"},link:function(i,r){var o,a,s;return o=function(e,n){return t[e](r,"ng-hide").then(function(){return n()})},a=function(e,n){return t[e](r,"ng-hide",n)},s=function(t,i){return e.version.major>1?n.error("uiGmapShow is not supported for Angular Major greater than 1.\nYour Major is "+e.version.major+'"'):1===e.version.major&&e.version.minor<3?a(t,i):o(t,i)},i.$watch("uiGmapShow",function(t){if(t&&s("removeClass",i.uiGmapAfterShow),!t)return s("addClass",i.uiGmapAfterHide)})}}}])}.call(this),function(){e.module("uiGmapgoogle-maps").directive("uiGmapStreetViewPanorama",["uiGmapGoogleMapApi","uiGmapLogger","uiGmapGmapUtil","uiGmapEventsHelper",function(t,n,i,r){var o;return o="uiGmapStreetViewPanorama",{restrict:"EMA",template:'<div class="angular-google-map-street-view-panorama"></div>',replace:!0,scope:{focalcoord:"=",radius:"=?",events:"=?",options:"=?",control:"=?",povoptions:"=?",imagestatus:"="},link:function(a,s,l){return t.then(function(t){return function(t){var l,u,c,d,h,p,f,g,m,v;return g=void 0,v=void 0,c=!1,p=void 0,f=null,m=null,l=function(){if(r.removeEvents(p),null!=g&&(g.unbind("position"),g.setVisible(!1)),null!=v)return null!=(null!=v?v.setVisible:void 0)&&v.setVisible(!1),v=void 0},h=function(t,n){var i;return i=google.maps.geometry.spherical.computeHeading(t,n),c=!0,a.radius=a.radius||50,m=e.extend({heading:i,zoom:1,pitch:0},a.povoptions||{}),f=f=e.extend({navigationControl:!1,addressControl:!1,linksControl:!1,position:t,pov:m,visible:!0},a.options||{}),c=!1},u=function(){var t;return a.focalcoord?a.radius?(l(),null==v&&(v=new google.maps.StreetViewService),a.events&&(p=r.setEvents(v,a,a)),t=i.getCoords(a.focalcoord),v.getPanoramaByLocation(t,a.radius,function(e,n){var i,r,o;if(null!=a.imagestatus&&(a.imagestatus=n),null!=(null!=(o=a.events)?o.image_status_changed:void 0)&&a.events.image_status_changed(v,"image_status_changed",a,n),"OK"===n)return r=e.location.latLng,h(r,t),i=s[0],g=new google.maps.StreetViewPanorama(i,f)})):void n.error(o+": needs a radius to set the camera view from its focal target."):void n.error(o+": focalCoord needs to be defined")},null!=a.control&&(a.control.getOptions=function(){return f},a.control.getPovOptions=function(){return m},a.control.getGObject=function(){return v},a.control.getGPano=function(){return g}),a.$watch("options",function(t,e){if(t!==e&&t!==f&&!c)return u()}),d=!0,a.$watch("focalcoord",function(t,e){if((t!==e||d)&&null!=t)return d=!1,u()}),a.$on("$destroy",function(){return l()})}}(this))}}}])}.call(this),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapuuid",function(){function t(){}return t.generate=function(){var e=t._gri,n=t._ha;return n(e(32),8)+"-"+n(e(16),4)+"-"+n(16384|e(12),4)+"-"+n(32768|e(14),4)+"-"+n(e(48),12)},t._gri=function(t){return 0>t?NaN:30>=t?0|Math.random()*(1<<t):53>=t?(0|1073741824*Math.random())+1073741824*(0|Math.random()*(1<<t-30)):NaN},t._ha=function(t,e){for(var n=t.toString(16),i=e-n.length,r="0";0<i;i>>>=1,r+=r)1&i&&(n=r+n);return n},t}),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapGoogleMapsUtilV3",function(){return{init:_.once(function(){function e(t){t=t||{},google.maps.OverlayView.apply(this,arguments),this.content_=t.content||"",this.disableAutoPan_=t.disableAutoPan||!1,this.maxWidth_=t.maxWidth||0,this.pixelOffset_=t.pixelOffset||new google.maps.Size(0,0),this.position_=t.position||new google.maps.LatLng(0,0),this.zIndex_=t.zIndex||null,this.boxClass_=t.boxClass||"infoBox",this.boxStyle_=t.boxStyle||{},this.closeBoxMargin_=t.closeBoxMargin||"2px",this.closeBoxURL_=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof t.visible&&("undefined"==typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden_=!t.visible,this.alignBottom_=t.alignBottom||!1,this.pane_=t.pane||"floatPane",this.enableEventPropagation_=t.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}function i(t,e){t.getMarkerClusterer().extend(i,google.maps.OverlayView),this.cluster_=t,this.className_=t.getMarkerClusterer().getClusterClass(),this.styles_=e,this.center_=null,this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(t.getMap())}function r(t){this.markerClusterer_=t,this.map_=t.getMap(),this.gridSize_=t.getGridSize(),this.minClusterSize_=t.getMinimumClusterSize(),this.averageCenter_=t.getAverageCenter(),this.markers_=[],this.center_=null,this.bounds_=null,this.clusterIcon_=new i(this,t.getStyles())}function o(t,e,i){this.extend(o,google.maps.OverlayView),e=e||[],i=i||{},this.markers_=[],this.clusters_=[],this.listeners_=[],this.activeMap_=null,this.ready_=!1,this.gridSize_=i.gridSize||60,this.minClusterSize_=i.minimumClusterSize||2,this.maxZoom_=i.maxZoom||null,this.styles_=i.styles||[],this.title_=i.title||"",this.zoomOnClick_=!0,i.zoomOnClick!==n&&(this.zoomOnClick_=i.zoomOnClick),this.averageCenter_=!1,i.averageCenter!==n&&(this.averageCenter_=i.averageCenter),this.ignoreHidden_=!1,i.ignoreHidden!==n&&(this.ignoreHidden_=i.ignoreHidden),this.enableRetinaIcons_=!1,i.enableRetinaIcons!==n&&(this.enableRetinaIcons_=i.enableRetinaIcons),this.imagePath_=i.imagePath||o.IMAGE_PATH,this.imageExtension_=i.imageExtension||o.IMAGE_EXTENSION,this.imageSizes_=i.imageSizes||o.IMAGE_SIZES,this.calculator_=i.calculator||o.CALCULATOR,this.batchSize_=i.batchSize||o.BATCH_SIZE,this.batchSizeIE_=i.batchSizeIE||o.BATCH_SIZE_IE,this.clusterClass_=i.clusterClass||"cluster",navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize_=this.batchSizeIE_),this.setupStyles_(),this.addMarkers(e,!0),this.setMap(t)}function a(t,e){function n(){}n.prototype=e.prototype,t.superClass_=e.prototype,t.prototype=new n,t.prototype.constructor=t}function s(t,e,n){this.marker_=t,this.handCursorURL_=t.handCursorURL,this.labelDiv_=document.createElement("div"),this.labelDiv_.style.cssText="position: absolute; overflow: hidden;",this.eventDiv_=document.createElement("div"),this.eventDiv_.style.cssText=this.labelDiv_.style.cssText,this.eventDiv_.setAttribute("onselectstart","return false;"),this.eventDiv_.setAttribute("ondragstart","return false;"),this.crossDiv_=s.getSharedCross(e)}function l(t){t=t||{},t.labelContent=t.labelContent||"",t.labelAnchor=t.labelAnchor||new google.maps.Point(0,0),t.labelClass=t.labelClass||"markerLabels",t.labelStyle=t.labelStyle||{},t.labelInBackground=t.labelInBackground||!1,"undefined"==typeof t.labelVisible&&(t.labelVisible=!0),"undefined"==typeof t.raiseOnDrag&&(t.raiseOnDrag=!0),"undefined"==typeof t.clickable&&(t.clickable=!0),"undefined"==typeof t.draggable&&(t.draggable=!1),"undefined"==typeof t.optimized&&(t.optimized=!1),t.crossImage=t.crossImage||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/drag_cross_67_16.png",t.handCursor=t.handCursor||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/intl/en_us/mapfiles/closedhand_8_8.cur",t.optimized=!1,this.label=new s(this,t.crossImage,t.handCursor),google.maps.Marker.apply(this,arguments)}function u(t){var e=t||{};this.ready_=!1,this.dragging_=!1,t.visible==n&&(t.visible=!0),t.shadow==n&&(t.shadow="7px -3px 5px rgba(88,88,88,0.7)"),t.anchor==n&&(t.anchor=c.BOTTOM),this.setValues(e)}e.prototype=new google.maps.OverlayView,e.prototype.createInfoBoxDiv_=function(){var t,e,n,i=this,r=function(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},o=function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),i.enableEventPropagation_||r(t)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(n=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-n.left-n.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],e=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],t=0;t<e.length;t++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,e[t],r));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(t){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",o),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg_=function(){var t="";return""!==this.closeBoxURL_&&(t="<img",t+=" src='"+this.closeBoxURL_+"'",t+=" align=right",t+=" style='",t+=" position: relative;",t+=" cursor: pointer;",t+=" margin: "+this.closeBoxMargin_+";",t+="'>"),t},e.prototype.addClickHandler_=function(){var t;""!==this.closeBoxURL_?(t=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(t,"click",this.getCloseClickHandler_())):this.closeListener_=null},e.prototype.getCloseClickHandler_=function(){var t=this;return function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(t,"closeclick"),t.close()}},e.prototype.panBox_=function(t){var e,n,i=0,r=0;if(!t&&(e=this.getMap(),e instanceof google.maps.Map)){e.getBounds().contains(this.position_)||e.setCenter(this.position_),n=e.getBounds();var o=e.getDiv(),a=o.offsetWidth,s=o.offsetHeight,l=this.pixelOffset_.width,u=this.pixelOffset_.height,c=this.div_.offsetWidth,d=this.div_.offsetHeight,h=this.infoBoxClearance_.width,p=this.infoBoxClearance_.height,f=this.getProjection().fromLatLngToContainerPixel(this.position_);if(f.x<-l+h?i=f.x+l-h:f.x+c+l+h>a&&(i=f.x+c+l+h-a),this.alignBottom_?f.y<-u+p+d?r=f.y+u-p-d:f.y+u+p>s&&(r=f.y+u+p-s):f.y<-u+p?r=f.y+u-p:f.y+d+u+p>s&&(r=f.y+d+u+p-s),0!==i||0!==r){e.getCenter();e.panBy(i,r)}}},e.prototype.setBoxStyle_=function(){var t,e;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",e=this.boxStyle_;for(t in e)e.hasOwnProperty(t)&&(this.div_.style[t]=e[t]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},e.prototype.getBoxWidths_=function(){var t,e={top:0,bottom:0,left:0,right:0},n=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(t=n.ownerDocument.defaultView.getComputedStyle(n,""),t&&(e.top=parseInt(t.borderTopWidth,10)||0,e.bottom=parseInt(t.borderBottomWidth,10)||0,e.left=parseInt(t.borderLeftWidth,10)||0,e.right=parseInt(t.borderRightWidth,10)||0)):document.documentElement.currentStyle&&n.currentStyle&&(e.top=parseInt(n.currentStyle.borderTopWidth,10)||0,e.bottom=parseInt(n.currentStyle.borderBottomWidth,10)||0,e.left=parseInt(n.currentStyle.borderLeftWidth,10)||0,e.right=parseInt(n.currentStyle.borderRightWidth,10)||0),e},e.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},e.prototype.draw=function(){this.createInfoBoxDiv_();var t=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=t.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(t.y+this.pixelOffset_.height)+"px":this.div_.style.top=t.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},e.prototype.setOptions=function(t){"undefined"!=typeof t.boxClass&&(this.boxClass_=t.boxClass,this.setBoxStyle_()),"undefined"!=typeof t.boxStyle&&(this.boxStyle_=t.boxStyle,this.setBoxStyle_()),"undefined"!=typeof t.content&&this.setContent(t.content),"undefined"!=typeof t.disableAutoPan&&(this.disableAutoPan_=t.disableAutoPan),"undefined"!=typeof t.maxWidth&&(this.maxWidth_=t.maxWidth),"undefined"!=typeof t.pixelOffset&&(this.pixelOffset_=t.pixelOffset),"undefined"!=typeof t.alignBottom&&(this.alignBottom_=t.alignBottom),"undefined"!=typeof t.position&&this.setPosition(t.position),"undefined"!=typeof t.zIndex&&this.setZIndex(t.zIndex),"undefined"!=typeof t.closeBoxMargin&&(this.closeBoxMargin_=t.closeBoxMargin),"undefined"!=typeof t.closeBoxURL&&(this.closeBoxURL_=t.closeBoxURL),"undefined"!=typeof t.infoBoxClearance&&(this.infoBoxClearance_=t.infoBoxClearance),"undefined"!=typeof t.isHidden&&(this.isHidden_=t.isHidden),"undefined"!=typeof t.visible&&(this.isHidden_=!t.visible),"undefined"!=typeof t.enableEventPropagation&&(this.enableEventPropagation_=t.enableEventPropagation),this.div_&&this.draw()},e.prototype.setContent=function(t){this.content_=t,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof t.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+t:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(t))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(t){this.position_=t,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setZIndex=function(t){this.zIndex_=t,this.div_&&(this.div_.style.zIndex=t),google.maps.event.trigger(this,"zindex_changed")},e.prototype.setVisible=function(t){this.isHidden_=!t,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},e.prototype.getContent=function(){return this.content_},e.prototype.getPosition=function(){return this.position_},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.getVisible=function(){var t;return t="undefined"!=typeof this.getMap()&&null!==this.getMap()&&!this.isHidden_},e.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},e.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},e.prototype.open=function(t,e){var n=this;e&&(this.position_=e.getPosition(),this.moveListener_=google.maps.event.addListener(e,"position_changed",function(){n.setPosition(this.getPosition())})),this.setMap(t),this.div_&&this.panBox_()},e.prototype.close=function(){var t;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(t=0;t<this.eventListeners_.length;t++)google.maps.event.removeListener(this.eventListeners_[t]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},function(){function e(t,e){var n=this,i=new google.maps.OverlayView;i.onAdd=function(){n.init_(t,e)},i.draw=function(){},i.onRemove=function(){},i.setMap(t),this.prjov_=i}var n=function(t){var e;switch(t){case"thin":e="2px";break;case"medium":e="4px";break;case"thick":e="6px";break;default:e=t}return e},i=function(t){var e,i={};if(document.defaultView&&document.defaultView.getComputedStyle){if(e=t.ownerDocument.defaultView.getComputedStyle(t,""))return i.top=parseInt(e.borderTopWidth,10)||0,i.bottom=parseInt(e.borderBottomWidth,10)||0,i.left=parseInt(e.borderLeftWidth,10)||0,i.right=parseInt(e.borderRightWidth,10)||0,i}else if(document.documentElement.currentStyle&&t.currentStyle)return i.top=parseInt(n(t.currentStyle.borderTopWidth),10)||0,i.bottom=parseInt(n(t.currentStyle.borderBottomWidth),10)||0,i.left=parseInt(n(t.currentStyle.borderLeftWidth),10)||0,i.right=parseInt(n(t.currentStyle.borderRightWidth),10)||0,i;return i.top=parseInt(t.style["border-top-width"],10)||0,i.bottom=parseInt(t.style["border-bottom-width"],10)||0,i.left=parseInt(t.style["border-left-width"],10)||0,i.right=parseInt(t.style["border-right-width"],10)||0,i},r={x:0,y:0},o=function(t){r.x="undefined"!=typeof document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft,r.y="undefined"!=typeof document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop};o();var a=function(e){var n=0,i=0;return e=e||t.event,"undefined"!=typeof e.pageX?(n=e.pageX,i=e.pageY):"undefined"!=typeof e.clientX&&(n=e.clientX+r.x,i=e.clientY+r.y),{left:n,top:i}},s=function(e){for(var n=e.offsetLeft,i=e.offsetTop,r=e.offsetParent;null!==r;){r!==document.body&&r!==document.documentElement&&(n-=r.scrollLeft,i-=r.scrollTop);var o=r,a=o.offsetLeft,s=o.offsetTop;if(!a&&!s&&t.getComputedStyle){var l=document.defaultView.getComputedStyle(o,null).MozTransform||document.defaultView.getComputedStyle(o,null).WebkitTransform;if(l&&"string"==typeof l){var u=l.split(",");a+=parseInt(u[4],10)||0,s+=parseInt(u[5],10)||0}}n+=a,i+=s,r=r.offsetParent}return{left:n,top:i}},l=function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},u=function(t,e){"undefined"!=typeof e&&(t.style.opacity=e),"undefined"!=typeof t.style.opacity&&""!==t.style.opacity&&(t.style.filter="alpha(opacity="+100*t.style.opacity+")")};e.prototype.init_=function(e,n){var r,a=this;for(this.map_=e,n=n||{},this.key_=n.key||"shift",this.key_=this.key_.toLowerCase(),this.borderWidths_=i(this.map_.getDiv()),this.veilDiv_=[],r=0;r<4;r++)this.veilDiv_[r]=document.createElement("div"),this.veilDiv_[r].onselectstart=function(){return!1},l(this.veilDiv_[r].style,{backgroundColor:"gray",opacity:.25,cursor:"crosshair"}),l(this.veilDiv_[r].style,n.paneStyle),l(this.veilDiv_[r].style,n.veilStyle),l(this.veilDiv_[r].style,{position:"absolute",overflow:"hidden",display:"none"}),"shift"===this.key_&&(this.veilDiv_[r].style.MozUserSelect="none"),u(this.veilDiv_[r]),"transparent"===this.veilDiv_[r].style.backgroundColor&&(this.veilDiv_[r].style.backgroundColor="white",u(this.veilDiv_[r],0)),this.map_.getDiv().appendChild(this.veilDiv_[r]);this.noZoom_=n.noZoom||!1,this.visualEnabled_=n.visualEnabled||!1,this.visualClass_=n.visualClass||"",this.visualPosition_=n.visualPosition||google.maps.ControlPosition.LEFT_TOP,this.visualPositionOffset_=n.visualPositionOffset||new google.maps.Size(35,0),this.visualPositionIndex_=n.visualPositionIndex||null,this.visualSprite_=n.visualSprite||"http"+("https:"===document.location.protocol?"s":"")+"://maps.gstatic.com/mapfiles/ftr/controls/dragzoom_btn.png",this.visualSize_=n.visualSize||new google.maps.Size(20,20),this.visualTips_=n.visualTips||{},this.visualTips_.off=this.visualTips_.off||"Turn on drag zoom mode",this.visualTips_.on=this.visualTips_.on||"Turn off drag zoom mode",this.boxDiv_=document.createElement("div"),l(this.boxDiv_.style,{border:"4px solid #736AFF"}),l(this.boxDiv_.style,n.boxStyle),l(this.boxDiv_.style,{position:"absolute",display:"none"}),u(this.boxDiv_),this.map_.getDiv().appendChild(this.boxDiv_),this.boxBorderWidths_=i(this.boxDiv_),this.listeners_=[google.maps.event.addDomListener(document,"keydown",function(t){a.onKeyDown_(t)}),google.maps.event.addDomListener(document,"keyup",function(t){a.onKeyUp_(t)}),google.maps.event.addDomListener(this.veilDiv_[0],"mousedown",function(t){a.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[1],"mousedown",function(t){a.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[2],"mousedown",function(t){a.onMouseDown_(t)}),google.maps.event.addDomListener(this.veilDiv_[3],"mousedown",function(t){a.onMouseDown_(t)}),google.maps.event.addDomListener(document,"mousedown",function(t){a.onMouseDownDocument_(t)}),google.maps.event.addDomListener(document,"mousemove",function(t){a.onMouseMove_(t)}),google.maps.event.addDomListener(document,"mouseup",function(t){a.onMouseUp_(t)}),google.maps.event.addDomListener(t,"scroll",o)],this.hotKeyDown_=!1,this.mouseDown_=!1,this.dragging_=!1,this.startPt_=null,this.endPt_=null,this.mapWidth_=null,this.mapHeight_=null,this.mousePosn_=null,this.mapPosn_=null,this.visualEnabled_&&(this.buttonDiv_=this.initControl_(this.visualPositionOffset_),null!==this.visualPositionIndex_&&(this.buttonDiv_.index=this.visualPositionIndex_),this.map_.controls[this.visualPosition_].push(this.buttonDiv_),this.controlIndex_=this.map_.controls[this.visualPosition_].length-1)},e.prototype.initControl_=function(t){var e,n,i=this;return e=document.createElement("div"),e.className=this.visualClass_,e.style.position="relative",e.style.overflow="hidden",e.style.height=this.visualSize_.height+"px",e.style.width=this.visualSize_.width+"px",e.title=this.visualTips_.off,n=document.createElement("img"),n.src=this.visualSprite_,n.style.position="absolute",n.style.left=-(2*this.visualSize_.width)+"px",n.style.top="0px",e.appendChild(n),e.onclick=function(t){i.hotKeyDown_=!i.hotKeyDown_,i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on,i.activatedByControl_=!0,google.maps.event.trigger(i,"activate")):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off,google.maps.event.trigger(i,"deactivate")),i.onMouseMove_(t)},e.onmouseover=function(){i.buttonDiv_.firstChild.style.left=-(1*i.visualSize_.width)+"px"},e.onmouseout=function(){i.hotKeyDown_?(i.buttonDiv_.firstChild.style.left=-(0*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.on):(i.buttonDiv_.firstChild.style.left=-(2*i.visualSize_.width)+"px",i.buttonDiv_.title=i.visualTips_.off)},e.ondragstart=function(){return!1},l(e.style,{cursor:"pointer",marginTop:t.height+"px",marginLeft:t.width+"px"}),e},e.prototype.isHotKeyDown_=function(e){var n;if(e=e||t.event,n=e.shiftKey&&"shift"===this.key_||e.altKey&&"alt"===this.key_||e.ctrlKey&&"ctrl"===this.key_,!n)switch(e.keyCode){case 16:"shift"===this.key_&&(n=!0);break;case 17:"ctrl"===this.key_&&(n=!0);break;case 18:"alt"===this.key_&&(n=!0)}return n},e.prototype.isMouseOnMap_=function(){var t=this.mousePosn_;if(t){var e=this.mapPosn_,n=this.map_.getDiv();return t.left>e.left&&t.left<e.left+n.offsetWidth&&t.top>e.top&&t.top<e.top+n.offsetHeight}return!1},e.prototype.setVeilVisibility_=function(){var t;if(this.map_&&this.hotKeyDown_&&this.isMouseOnMap_()){var e=this.map_.getDiv();if(this.mapWidth_=e.offsetWidth-(this.borderWidths_.left+this.borderWidths_.right),this.mapHeight_=e.offsetHeight-(this.borderWidths_.top+this.borderWidths_.bottom),this.activatedByControl_){var n=parseInt(this.buttonDiv_.style.left,10)+this.visualPositionOffset_.width,i=parseInt(this.buttonDiv_.style.top,10)+this.visualPositionOffset_.height,r=this.visualSize_.width,o=this.visualSize_.height;for(this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=n+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=n+r+"px",this.veilDiv_[1].style.width=this.mapWidth_-(n+r)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=n+"px",this.veilDiv_[2].style.width=r+"px",this.veilDiv_[2].style.height=i+"px",this.veilDiv_[3].style.top=i+o+"px",this.veilDiv_[3].style.left=n+"px",this.veilDiv_[3].style.width=r+"px",this.veilDiv_[3].style.height=this.mapHeight_-(i+o)+"px",t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="block"}else{for(this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.width=this.mapWidth_+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",t=1;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.width="0px",this.veilDiv_[t].style.height="0px";for(t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="block"}}else for(t=0;t<this.veilDiv_.length;t++)this.veilDiv_[t].style.display="none"},e.prototype.onKeyDown_=function(t){this.map_&&!this.hotKeyDown_&&this.isHotKeyDown_(t)&&(this.mapPosn_=s(this.map_.getDiv()),this.hotKeyDown_=!0,this.activatedByControl_=!1,this.setVeilVisibility_(),google.maps.event.trigger(this,"activate"))},e.prototype.getMousePoint_=function(t){var e=a(t),n=new google.maps.Point;return n.x=e.left-this.mapPosn_.left-this.borderWidths_.left,n.y=e.top-this.mapPosn_.top-this.borderWidths_.top,n.x=Math.min(n.x,this.mapWidth_),n.y=Math.min(n.y,this.mapHeight_),n.x=Math.max(n.x,0),n.y=Math.max(n.y,0),n},e.prototype.onMouseDown_=function(t){if(this.map_&&this.hotKeyDown_){this.mapPosn_=s(this.map_.getDiv()),this.dragging_=!0,this.startPt_=this.endPt_=this.getMousePoint_(t),this.boxDiv_.style.width=this.boxDiv_.style.height="0px";var e=this.prjov_.getProjection(),n=e.fromContainerPixelToLatLng(this.startPt_);google.maps.event.trigger(this,"dragstart",n)}},e.prototype.onMouseDownDocument_=function(t){this.mouseDown_=!0},e.prototype.onMouseMove_=function(t){if(this.mousePosn_=a(t),this.dragging_){this.endPt_=this.getMousePoint_(t);var e=Math.min(this.startPt_.x,this.endPt_.x),n=Math.min(this.startPt_.y,this.endPt_.y),i=Math.abs(this.startPt_.x-this.endPt_.x),r=Math.abs(this.startPt_.y-this.endPt_.y),o=Math.max(0,i-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)),l=Math.max(0,r-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom));this.veilDiv_[0].style.top="0px",this.veilDiv_[0].style.left="0px",this.veilDiv_[0].style.width=e+"px",this.veilDiv_[0].style.height=this.mapHeight_+"px",this.veilDiv_[1].style.top="0px",this.veilDiv_[1].style.left=e+i+"px",this.veilDiv_[1].style.width=this.mapWidth_-(e+i)+"px",this.veilDiv_[1].style.height=this.mapHeight_+"px",this.veilDiv_[2].style.top="0px",this.veilDiv_[2].style.left=e+"px",this.veilDiv_[2].style.width=i+"px",this.veilDiv_[2].style.height=n+"px",this.veilDiv_[3].style.top=n+r+"px",this.veilDiv_[3].style.left=e+"px",this.veilDiv_[3].style.width=i+"px",this.veilDiv_[3].style.height=this.mapHeight_-(n+r)+"px",this.boxDiv_.style.top=n+"px",this.boxDiv_.style.left=e+"px",this.boxDiv_.style.width=o+"px",this.boxDiv_.style.height=l+"px",this.boxDiv_.style.display="block",google.maps.event.trigger(this,"drag",new google.maps.Point(e,n+r),new google.maps.Point(e+i,n),this.prjov_.getProjection())}else this.mouseDown_||(this.mapPosn_=s(this.map_.getDiv()),this.setVeilVisibility_())},e.prototype.onMouseUp_=function(t){var e,n=this;if(this.mouseDown_=!1,this.dragging_){if(this.getMousePoint_(t).x===this.startPt_.x&&this.getMousePoint_(t).y===this.startPt_.y)return void this.onKeyUp_(t);var i=Math.min(this.startPt_.x,this.endPt_.x),r=Math.min(this.startPt_.y,this.endPt_.y),o=Math.abs(this.startPt_.x-this.endPt_.x),a=Math.abs(this.startPt_.y-this.endPt_.y),s=!0;s&&(i+=this.borderWidths_.left,
r+=this.borderWidths_.top);var l=this.prjov_.getProjection(),u=l.fromContainerPixelToLatLng(new google.maps.Point(i,r+a)),c=l.fromContainerPixelToLatLng(new google.maps.Point(i+o,r)),d=new google.maps.LatLngBounds(u,c);if(this.noZoom_)this.boxDiv_.style.display="none";else{e=this.map_.getZoom(),this.map_.fitBounds(d),this.map_.getZoom()<e&&this.map_.setZoom(e);var h=l.fromLatLngToContainerPixel(u),p=l.fromLatLngToContainerPixel(c);s&&(h.x-=this.borderWidths_.left,h.y-=this.borderWidths_.top,p.x-=this.borderWidths_.left,p.y-=this.borderWidths_.top),this.boxDiv_.style.left=h.x+"px",this.boxDiv_.style.top=p.y+"px",this.boxDiv_.style.width=Math.abs(p.x-h.x)-(this.boxBorderWidths_.left+this.boxBorderWidths_.right)+"px",this.boxDiv_.style.height=Math.abs(p.y-h.y)-(this.boxBorderWidths_.top+this.boxBorderWidths_.bottom)+"px",setTimeout(function(){n.boxDiv_.style.display="none"},1e3)}this.dragging_=!1,this.onMouseMove_(t),google.maps.event.trigger(this,"dragend",d),this.isHotKeyDown_(t)||this.onKeyUp_(t)}},e.prototype.onKeyUp_=function(t){var e,n,i,r,o,a,s,l,u=null;if(this.map_&&this.hotKeyDown_){for(this.hotKeyDown_=!1,this.dragging_&&(this.boxDiv_.style.display="none",this.dragging_=!1,n=Math.min(this.startPt_.x,this.endPt_.x),i=Math.min(this.startPt_.y,this.endPt_.y),r=Math.abs(this.startPt_.x-this.endPt_.x),o=Math.abs(this.startPt_.y-this.endPt_.y),a=this.prjov_.getProjection(),s=a.fromContainerPixelToLatLng(new google.maps.Point(n,i+o)),l=a.fromContainerPixelToLatLng(new google.maps.Point(n+r,i)),u=new google.maps.LatLngBounds(s,l)),e=0;e<this.veilDiv_.length;e++)this.veilDiv_[e].style.display="none";this.visualEnabled_&&(this.buttonDiv_.firstChild.style.left=-(2*this.visualSize_.width)+"px",this.buttonDiv_.title=this.visualTips_.off,this.buttonDiv_.style.display=""),google.maps.event.trigger(this,"deactivate",u)}},google.maps.Map.prototype.enableKeyDragZoom=function(t){this.dragZoom_=new e(this,t)},google.maps.Map.prototype.disableKeyDragZoom=function(){var t,e=this.dragZoom_;if(e){for(t=0;t<e.listeners_.length;++t)google.maps.event.removeListener(e.listeners_[t]);for(this.getDiv().removeChild(e.boxDiv_),t=0;t<e.veilDiv_.length;t++)this.getDiv().removeChild(e.veilDiv_[t]);e.visualEnabled_&&this.controls[e.visualPosition_].removeAt(e.controlIndex_),e.prjov_.setMap(null),this.dragZoom_=null}},google.maps.Map.prototype.keyDragZoomEnabled=function(){return null!==this.dragZoom_},google.maps.Map.prototype.getDragZoomObject=function(){return this.dragZoom_}}(),i.prototype.onAdd=function(){var t,e,n=this;this.div_=document.createElement("div"),this.div_.className=this.className_,this.visible_&&this.show(),this.getPanes().overlayMouseTarget.appendChild(this.div_),this.boundsChangedListener_=google.maps.event.addListener(this.getMap(),"bounds_changed",function(){e=t}),google.maps.event.addDomListener(this.div_,"mousedown",function(){t=!0,e=!1}),google.maps.event.addDomListener(this.div_,"click",function(i){if(t=!1,!e){var r,o,a=n.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"click",n.cluster_),google.maps.event.trigger(a,"clusterclick",n.cluster_),a.getZoomOnClick()&&(o=a.getMaxZoom(),r=n.cluster_.getBounds(),a.getMap().fitBounds(r),setTimeout(function(){a.getMap().fitBounds(r),null!==o&&a.getMap().getZoom()>o&&a.getMap().setZoom(o+1)},100)),i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}}),google.maps.event.addDomListener(this.div_,"mouseover",function(){var t=n.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseover",n.cluster_)}),google.maps.event.addDomListener(this.div_,"mouseout",function(){var t=n.cluster_.getMarkerClusterer();google.maps.event.trigger(t,"mouseout",n.cluster_)})},i.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),google.maps.event.removeListener(this.boundsChangedListener_),google.maps.event.clearInstanceListeners(this.div_),this.div_.parentNode.removeChild(this.div_),this.div_=null)},i.prototype.draw=function(){if(this.visible_){var t=this.getPosFromLatLng_(this.center_);this.div_.style.top=t.y+"px",this.div_.style.left=t.x+"px"}},i.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},i.prototype.show=function(){if(this.div_){var t="",e=this.backgroundPosition_.split(" "),n=parseInt(e[0].trim(),10),i=parseInt(e[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),t="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",this.cluster_.getMarkerClusterer().enableRetinaIcons_||(t+="clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);"),t+="'>",this.div_.innerHTML=t+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>","undefined"==typeof this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},i.prototype.useStyle=function(t){this.sums_=t;var e=Math.max(0,t.index-1);e=Math.min(this.styles_.length-1,e);var n=this.styles_[e];this.url_=n.url,this.height_=n.height,this.width_=n.width,this.anchorText_=n.anchorText||[0,0],this.anchorIcon_=n.anchorIcon||[parseInt(this.height_/2,10),parseInt(this.width_/2,10)],this.textColor_=n.textColor||"black",this.textSize_=n.textSize||11,this.textDecoration_=n.textDecoration||"none",this.fontWeight_=n.fontWeight||"bold",this.fontStyle_=n.fontStyle||"normal",this.fontFamily_=n.fontFamily||"Arial,sans-serif",this.backgroundPosition_=n.backgroundPosition||"0 0"},i.prototype.setCenter=function(t){this.center_=t},i.prototype.createCss=function(t){var e=[];return e.push("cursor: pointer;"),e.push("position: absolute; top: "+t.y+"px; left: "+t.x+"px;"),e.push("width: "+this.width_+"px; height: "+this.height_+"px;"),e.join("")},i.prototype.getPosFromLatLng_=function(t){var e=this.getProjection().fromLatLngToDivPixel(t);return e.x-=this.anchorIcon_[1],e.y-=this.anchorIcon_[0],e.x=parseInt(e.x,10),e.y=parseInt(e.y,10),e},r.prototype.getSize=function(){return this.markers_.length},r.prototype.getMarkers=function(){return this.markers_},r.prototype.getCenter=function(){return this.center_},r.prototype.getMap=function(){return this.map_},r.prototype.getMarkerClusterer=function(){return this.markerClusterer_},r.prototype.getBounds=function(){var t,e=new google.maps.LatLngBounds(this.center_,this.center_),n=this.getMarkers();for(t=0;t<n.length;t++)e.extend(n[t].getPosition());return e},r.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=[],delete this.markers_},r.prototype.addMarker=function(t){var e,n,i;if(this.isMarkerAlreadyAdded_(t))return!1;if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+t.getPosition().lat())/r,a=(this.center_.lng()*(r-1)+t.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();if(t.isAdded=!0,this.markers_.push(t),n=this.markers_.length,i=this.markerClusterer_.getMaxZoom(),null!==i&&this.map_.getZoom()>i)t.getMap()!==this.map_&&t.setMap(this.map_);else if(n<this.minClusterSize_)t.getMap()!==this.map_&&t.setMap(this.map_);else if(n===this.minClusterSize_)for(e=0;e<n;e++)this.markers_[e].setMap(null);else t.setMap(null);return this.updateIcon_(),!0},r.prototype.isMarkerInClusterBounds=function(t){return this.bounds_.contains(t.getPosition())},r.prototype.calculateBounds_=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(t)},r.prototype.updateIcon_=function(){var t=this.markers_.length,e=this.markerClusterer_.getMaxZoom();if(null!==e&&this.map_.getZoom()>e)return void this.clusterIcon_.hide();if(t<this.minClusterSize_)return void this.clusterIcon_.hide();var n=this.markerClusterer_.getStyles().length,i=this.markerClusterer_.getCalculator()(this.markers_,n);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.useStyle(i),this.clusterIcon_.show()},r.prototype.isMarkerAlreadyAdded_=function(t){var e;if(this.markers_.indexOf)return this.markers_.indexOf(t)!==-1;for(e=0;e<this.markers_.length;e++)if(t===this.markers_[e])return!0;return!1},o.prototype.onAdd=function(){var t=this;this.activeMap_=this.getMap(),this.ready_=!0,this.repaint(),this.listeners_=[google.maps.event.addListener(this.getMap(),"zoom_changed",function(){t.resetViewport_(!1),this.getZoom()!==(this.get("minZoom")||0)&&this.getZoom()!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")}),google.maps.event.addListener(this.getMap(),"idle",function(){t.redraw_()})]},o.prototype.onRemove=function(){var t;for(t=0;t<this.markers_.length;t++)this.markers_[t].getMap()!==this.activeMap_&&this.markers_[t].setMap(this.activeMap_);for(t=0;t<this.clusters_.length;t++)this.clusters_[t].remove();for(this.clusters_=[],t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t]);this.listeners_=[],this.activeMap_=null,this.ready_=!1},o.prototype.draw=function(){},o.prototype.setupStyles_=function(){var t,e;if(!(this.styles_.length>0))for(t=0;t<this.imageSizes_.length;t++)e=this.imageSizes_[t],this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},o.prototype.fitMapToMarkers=function(){var t,e=this.getMarkers(),n=new google.maps.LatLngBounds;for(t=0;t<e.length;t++)n.extend(e[t].getPosition());this.getMap().fitBounds(n)},o.prototype.getGridSize=function(){return this.gridSize_},o.prototype.setGridSize=function(t){this.gridSize_=t},o.prototype.getMinimumClusterSize=function(){return this.minClusterSize_},o.prototype.setMinimumClusterSize=function(t){this.minClusterSize_=t},o.prototype.getMaxZoom=function(){return this.maxZoom_},o.prototype.setMaxZoom=function(t){this.maxZoom_=t},o.prototype.getStyles=function(){return this.styles_},o.prototype.setStyles=function(t){this.styles_=t},o.prototype.getTitle=function(){return this.title_},o.prototype.setTitle=function(t){this.title_=t},o.prototype.getZoomOnClick=function(){return this.zoomOnClick_},o.prototype.setZoomOnClick=function(t){this.zoomOnClick_=t},o.prototype.getAverageCenter=function(){return this.averageCenter_},o.prototype.setAverageCenter=function(t){this.averageCenter_=t},o.prototype.getIgnoreHidden=function(){return this.ignoreHidden_},o.prototype.setIgnoreHidden=function(t){this.ignoreHidden_=t},o.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons_},o.prototype.setEnableRetinaIcons=function(t){this.enableRetinaIcons_=t},o.prototype.getImageExtension=function(){return this.imageExtension_},o.prototype.setImageExtension=function(t){this.imageExtension_=t},o.prototype.getImagePath=function(){return this.imagePath_},o.prototype.setImagePath=function(t){this.imagePath_=t},o.prototype.getImageSizes=function(){return this.imageSizes_},o.prototype.setImageSizes=function(t){this.imageSizes_=t},o.prototype.getCalculator=function(){return this.calculator_},o.prototype.setCalculator=function(t){this.calculator_=t},o.prototype.getBatchSizeIE=function(){return this.batchSizeIE_},o.prototype.setBatchSizeIE=function(t){this.batchSizeIE_=t},o.prototype.getClusterClass=function(){return this.clusterClass_},o.prototype.setClusterClass=function(t){this.clusterClass_=t},o.prototype.getMarkers=function(){return this.markers_},o.prototype.getTotalMarkers=function(){return this.markers_.length},o.prototype.getClusters=function(){return this.clusters_},o.prototype.getTotalClusters=function(){return this.clusters_.length},o.prototype.addMarker=function(t,e){this.pushMarkerTo_(t),e||this.redraw_()},o.prototype.addMarkers=function(t,e){var n;for(n in t)t.hasOwnProperty(n)&&this.pushMarkerTo_(t[n]);e||this.redraw_()},o.prototype.pushMarkerTo_=function(t){if(t.getDraggable()){var e=this;google.maps.event.addListener(t,"dragend",function(){e.ready_&&(this.isAdded=!1,e.repaint())})}t.isAdded=!1,this.markers_.push(t)},o.prototype.removeMarker=function(t,e){var n=this.removeMarker_(t);return!e&&n&&this.repaint(),n},o.prototype.removeMarkers=function(t,e){var n,i,r=!1;for(n=0;n<t.length;n++)i=this.removeMarker_(t[n]),r=r||i;return!e&&r&&this.repaint(),r},o.prototype.removeMarker_=function(t){var e,n=-1;if(this.markers_.indexOf)n=this.markers_.indexOf(t);else for(e=0;e<this.markers_.length;e++)if(t===this.markers_[e]){n=e;break}return n!==-1&&(t.setMap(null),this.markers_.splice(n,1),!0)},o.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=[]},o.prototype.repaint=function(){var t=this.clusters_.slice();this.clusters_=[],this.resetViewport_(!1),this.redraw_(),setTimeout(function(){var e;for(e=0;e<t.length;e++)t[e].remove()},0)},o.prototype.getExtendedBounds=function(t){var e=this.getProjection(),n=new google.maps.LatLng(t.getNorthEast().lat(),t.getNorthEast().lng()),i=new google.maps.LatLng(t.getSouthWest().lat(),t.getSouthWest().lng()),r=e.fromLatLngToDivPixel(n);r.x+=this.gridSize_,r.y-=this.gridSize_;var o=e.fromLatLngToDivPixel(i);o.x-=this.gridSize_,o.y+=this.gridSize_;var a=e.fromDivPixelToLatLng(r),s=e.fromDivPixelToLatLng(o);return t.extend(a),t.extend(s),t},o.prototype.redraw_=function(){this.createClusters_(0)},o.prototype.resetViewport_=function(t){var e,n;for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();for(this.clusters_=[],e=0;e<this.markers_.length;e++)n=this.markers_[e],n.isAdded=!1,t&&n.setMap(null)},o.prototype.distanceBetweenPoints_=function(t,e){var n=6371,i=(e.lat()-t.lat())*Math.PI/180,r=(e.lng()-t.lng())*Math.PI/180,o=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.lat()*Math.PI/180)*Math.cos(e.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2),a=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)),s=n*a;return s},o.prototype.isMarkerInBounds_=function(t,e){return e.contains(t.getPosition())},o.prototype.addToClosestCluster_=function(t){var e,n,i,o,a=4e4,s=null;for(e=0;e<this.clusters_.length;e++)i=this.clusters_[e],o=i.getCenter(),o&&(n=this.distanceBetweenPoints_(o,t.getPosition()),n<a&&(a=n,s=i));s&&s.isMarkerInClusterBounds(t)?s.addMarker(t):(i=new r(this),i.addMarker(t),this.clusters_.push(i))},o.prototype.createClusters_=function(t){var e,n,i,r=this;if(this.ready_){0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,(-178.48388434375)),new google.maps.LatLng((-85.08136444384544),178.00048865625));var o=this.getExtendedBounds(i),a=Math.min(t+this.batchSize_,this.markers_.length);for(e=t;e<a;e++)n=this.markers_[e],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);a<this.markers_.length?this.timerRefStatic=setTimeout(function(){r.createClusters_(a)},0):(delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this))}},o.prototype.extend=function(t,e){return function(t){var e;for(e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},o.CALCULATOR=function(t,e){for(var n=0,i="",r=t.length.toString(),o=r;0!==o;)o=parseInt(o/10,10),n++;return n=Math.min(n,e),{text:r,index:n,title:i}},o.BATCH_SIZE=2e3,o.BATCH_SIZE_IE=500,o.IMAGE_PATH="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclustererplus/images/m",o.IMAGE_EXTENSION="png",o.IMAGE_SIZES=[53,56,66,78,90],a(s,google.maps.OverlayView),s.getSharedCross=function(t){var e;return"undefined"==typeof s.getSharedCross.crossDiv&&(e=document.createElement("img"),e.style.cssText="position: absolute; z-index: 1000002; display: none;",e.style.marginLeft="-8px",e.style.marginTop="-9px",e.src=t,s.getSharedCross.crossDiv=e),s.getSharedCross.crossDiv},s.prototype.onAdd=function(){var t,e,n,i,r,o,a,l=this,u=!1,c=!1,d=20,h="url("+this.handCursorURL_+")",p=function(t){t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},f=function(){l.marker_.setAnimation(null)};this.getPanes().overlayImage.appendChild(this.labelDiv_),this.getPanes().overlayMouseTarget.appendChild(this.eventDiv_),"undefined"==typeof s.getSharedCross.processed&&(this.getPanes().overlayImage.appendChild(this.crossDiv_),s.getSharedCross.processed=!0),this.listeners_=[google.maps.event.addDomListener(this.eventDiv_,"mouseover",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(this.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseover",t))}),google.maps.event.addDomListener(this.eventDiv_,"mouseout",function(t){!l.marker_.getDraggable()&&!l.marker_.getClickable()||c||(this.style.cursor=l.marker_.getCursor(),google.maps.event.trigger(l.marker_,"mouseout",t))}),google.maps.event.addDomListener(this.eventDiv_,"mousedown",function(t){c=!1,l.marker_.getDraggable()&&(u=!0,this.style.cursor=h),(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"mousedown",t),p(t))}),google.maps.event.addDomListener(document,"mouseup",function(e){var n;if(u&&(u=!1,l.eventDiv_.style.cursor="pointer",google.maps.event.trigger(l.marker_,"mouseup",e)),c){if(r){n=l.getProjection().fromLatLngToDivPixel(l.marker_.getPosition()),n.y+=d,l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(n));try{l.marker_.setAnimation(google.maps.Animation.BOUNCE),setTimeout(f,1406)}catch(o){}}l.crossDiv_.style.display="none",l.marker_.setZIndex(t),i=!0,c=!1,e.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragend",e)}}),google.maps.event.addListener(l.marker_.getMap(),"mousemove",function(i){var s;u&&(c?(i.latLng=new google.maps.LatLng(i.latLng.lat()-e,i.latLng.lng()-n),s=l.getProjection().fromLatLngToDivPixel(i.latLng),r&&(l.crossDiv_.style.left=s.x+"px",l.crossDiv_.style.top=s.y+"px",l.crossDiv_.style.display="",s.y-=d),l.marker_.setPosition(l.getProjection().fromDivPixelToLatLng(s)),r&&(l.eventDiv_.style.top=s.y+d+"px"),google.maps.event.trigger(l.marker_,"drag",i)):(e=i.latLng.lat()-l.marker_.getPosition().lat(),n=i.latLng.lng()-l.marker_.getPosition().lng(),t=l.marker_.getZIndex(),o=l.marker_.getPosition(),a=l.marker_.getMap().getCenter(),r=l.marker_.get("raiseOnDrag"),c=!0,l.marker_.setZIndex(1e6),i.latLng=l.marker_.getPosition(),google.maps.event.trigger(l.marker_,"dragstart",i)))}),google.maps.event.addDomListener(document,"keydown",function(t){c&&27===t.keyCode&&(r=!1,l.marker_.setPosition(o),l.marker_.getMap().setCenter(a),google.maps.event.trigger(document,"mouseup",t))}),google.maps.event.addDomListener(this.eventDiv_,"click",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(i?i=!1:(google.maps.event.trigger(l.marker_,"click",t),p(t)))}),google.maps.event.addDomListener(this.eventDiv_,"dblclick",function(t){(l.marker_.getDraggable()||l.marker_.getClickable())&&(google.maps.event.trigger(l.marker_,"dblclick",t),p(t))}),google.maps.event.addListener(this.marker_,"dragstart",function(t){c||(r=this.get("raiseOnDrag"))}),google.maps.event.addListener(this.marker_,"drag",function(t){c||r&&(l.setPosition(d),l.labelDiv_.style.zIndex=1e6+(this.get("labelInBackground")?-1:1))}),google.maps.event.addListener(this.marker_,"dragend",function(t){c||r&&l.setPosition(0)}),google.maps.event.addListener(this.marker_,"position_changed",function(){l.setPosition()}),google.maps.event.addListener(this.marker_,"zindex_changed",function(){l.setZIndex()}),google.maps.event.addListener(this.marker_,"visible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"labelvisible_changed",function(){l.setVisible()}),google.maps.event.addListener(this.marker_,"title_changed",function(){l.setTitle()}),google.maps.event.addListener(this.marker_,"labelcontent_changed",function(){l.setContent()}),google.maps.event.addListener(this.marker_,"labelanchor_changed",function(){l.setAnchor()}),google.maps.event.addListener(this.marker_,"labelclass_changed",function(){l.setStyles()}),google.maps.event.addListener(this.marker_,"labelstyle_changed",function(){l.setStyles()})]},s.prototype.onRemove=function(){var t;for(this.labelDiv_.parentNode.removeChild(this.labelDiv_),this.eventDiv_.parentNode.removeChild(this.eventDiv_),t=0;t<this.listeners_.length;t++)google.maps.event.removeListener(this.listeners_[t])},s.prototype.draw=function(){this.setContent(),this.setTitle(),this.setStyles()},s.prototype.setContent=function(){var t=this.marker_.get("labelContent");"undefined"==typeof t.nodeType?(this.labelDiv_.innerHTML=t,this.eventDiv_.innerHTML=this.labelDiv_.innerHTML):(this.labelDiv_.innerHTML="",this.labelDiv_.appendChild(t),t=t.cloneNode(!0),this.eventDiv_.innerHTML="",this.eventDiv_.appendChild(t))},s.prototype.setTitle=function(){this.eventDiv_.title=this.marker_.getTitle()||""},s.prototype.setStyles=function(){var t,e;this.labelDiv_.className=this.marker_.get("labelClass"),this.eventDiv_.className=this.labelDiv_.className,this.labelDiv_.style.cssText="",this.eventDiv_.style.cssText="",e=this.marker_.get("labelStyle");for(t in e)e.hasOwnProperty(t)&&(this.labelDiv_.style[t]=e[t],this.eventDiv_.style[t]=e[t]);this.setMandatoryStyles()},s.prototype.setMandatoryStyles=function(){this.labelDiv_.style.position="absolute",this.labelDiv_.style.overflow="hidden","undefined"!=typeof this.labelDiv_.style.opacity&&""!==this.labelDiv_.style.opacity&&(this.labelDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity='+100*this.labelDiv_.style.opacity+')"',this.labelDiv_.style.filter="alpha(opacity="+100*this.labelDiv_.style.opacity+")"),this.eventDiv_.style.position=this.labelDiv_.style.position,this.eventDiv_.style.overflow=this.labelDiv_.style.overflow,this.eventDiv_.style.opacity=.01,this.eventDiv_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(opacity=1)"',this.eventDiv_.style.filter="alpha(opacity=1)",this.setAnchor(),this.setPosition(),this.setVisible()},s.prototype.setAnchor=function(){var t=this.marker_.get("labelAnchor");this.labelDiv_.style.marginLeft=-t.x+"px",this.labelDiv_.style.marginTop=-t.y+"px",this.eventDiv_.style.marginLeft=-t.x+"px",this.eventDiv_.style.marginTop=-t.y+"px"},s.prototype.setPosition=function(t){var e=this.getProjection().fromLatLngToDivPixel(this.marker_.getPosition());"undefined"==typeof t&&(t=0),this.labelDiv_.style.left=Math.round(e.x)+"px",this.labelDiv_.style.top=Math.round(e.y-t)+"px",this.eventDiv_.style.left=this.labelDiv_.style.left,this.eventDiv_.style.top=this.labelDiv_.style.top,this.setZIndex()},s.prototype.setZIndex=function(){var t=this.marker_.get("labelInBackground")?-1:1;"undefined"==typeof this.marker_.getZIndex()?(this.labelDiv_.style.zIndex=parseInt(this.labelDiv_.style.top,10)+t,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex):(this.labelDiv_.style.zIndex=this.marker_.getZIndex()+t,this.eventDiv_.style.zIndex=this.labelDiv_.style.zIndex)},s.prototype.setVisible=function(){this.marker_.get("labelVisible")?this.labelDiv_.style.display=this.marker_.getVisible()?"block":"none":this.labelDiv_.style.display="none",this.eventDiv_.style.display=this.labelDiv_.style.display},a(l,google.maps.Marker),l.prototype.setMap=function(t){google.maps.Marker.prototype.setMap.apply(this,arguments),this.label.setMap(t)},u.prototype=new google.maps.OverlayView,t.RichMarker=u,u.prototype.getVisible=function(){return this.get("visible")},u.prototype.getVisible=u.prototype.getVisible,u.prototype.setVisible=function(t){this.set("visible",t)},u.prototype.setVisible=u.prototype.setVisible,u.prototype.visible_changed=function(){this.ready_&&(this.markerWrapper_.style.display=this.getVisible()?"":"none",this.draw())},u.prototype.visible_changed=u.prototype.visible_changed,u.prototype.setFlat=function(t){this.set("flat",!!t)},u.prototype.setFlat=u.prototype.setFlat,u.prototype.getFlat=function(){return this.get("flat")},u.prototype.getFlat=u.prototype.getFlat,u.prototype.getWidth=function(){return this.get("width")},u.prototype.getWidth=u.prototype.getWidth,u.prototype.getHeight=function(){return this.get("height")},u.prototype.getHeight=u.prototype.getHeight,u.prototype.setShadow=function(t){this.set("shadow",t),this.flat_changed()},u.prototype.setShadow=u.prototype.setShadow,u.prototype.getShadow=function(){return this.get("shadow")},u.prototype.getShadow=u.prototype.getShadow,u.prototype.flat_changed=function(){this.ready_&&(this.markerWrapper_.style.boxShadow=this.markerWrapper_.style.webkitBoxShadow=this.markerWrapper_.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},u.prototype.flat_changed=u.prototype.flat_changed,u.prototype.setZIndex=function(t){this.set("zIndex",t)},u.prototype.setZIndex=u.prototype.setZIndex,u.prototype.getZIndex=function(){return this.get("zIndex")},u.prototype.getZIndex=u.prototype.getZIndex,u.prototype.zIndex_changed=function(){this.getZIndex()&&this.ready_&&(this.markerWrapper_.style.zIndex=this.getZIndex())},u.prototype.zIndex_changed=u.prototype.zIndex_changed,u.prototype.getDraggable=function(){return this.get("draggable")},u.prototype.getDraggable=u.prototype.getDraggable,u.prototype.setDraggable=function(t){this.set("draggable",!!t)},u.prototype.setDraggable=u.prototype.setDraggable,u.prototype.draggable_changed=function(){this.ready_&&(this.getDraggable()?this.addDragging_(this.markerWrapper_):this.removeDragListeners_())},u.prototype.draggable_changed=u.prototype.draggable_changed,u.prototype.getPosition=function(){return this.get("position")},u.prototype.getPosition=u.prototype.getPosition,u.prototype.setPosition=function(t){this.set("position",t)},u.prototype.setPosition=u.prototype.setPosition,u.prototype.position_changed=function(){this.draw()},u.prototype.position_changed=u.prototype.position_changed,u.prototype.getAnchor=function(){return this.get("anchor")},u.prototype.getAnchor=u.prototype.getAnchor,u.prototype.setAnchor=function(t){this.set("anchor",t)},u.prototype.setAnchor=u.prototype.setAnchor,u.prototype.anchor_changed=function(){this.draw()},u.prototype.anchor_changed=u.prototype.anchor_changed,u.prototype.htmlToDocumentFragment_=function(t){var e=document.createElement("DIV");if(e.innerHTML=t,1==e.childNodes.length)return e.removeChild(e.firstChild);for(var n=document.createDocumentFragment();e.firstChild;)n.appendChild(e.firstChild);return n},u.prototype.removeChildren_=function(t){if(t)for(var e;e=t.firstChild;)t.removeChild(e)},u.prototype.setContent=function(t){this.set("content",t)},u.prototype.setContent=u.prototype.setContent,u.prototype.getContent=function(){return this.get("content")},u.prototype.getContent=u.prototype.getContent,u.prototype.content_changed=function(){if(this.markerContent_){this.removeChildren_(this.markerContent_);var t=this.getContent();if(t){"string"==typeof t&&(t=t.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),t=this.htmlToDocumentFragment_(t)),this.markerContent_.appendChild(t);for(var e,n=this,i=this.markerContent_.getElementsByTagName("IMG"),r=0;e=i[r];r++)google.maps.event.addDomListener(e,"mousedown",function(t){n.getDraggable()&&(t.preventDefault&&t.preventDefault(),t.returnValue=!1)}),google.maps.event.addDomListener(e,"load",function(){n.draw()});google.maps.event.trigger(this,"domready")}this.ready_&&this.draw()}},u.prototype.content_changed=u.prototype.content_changed,u.prototype.setCursor_=function(t){if(this.ready_){var e="";navigator.userAgent.indexOf("Gecko/")!==-1?("dragging"==t&&(e="-moz-grabbing"),"dragready"==t&&(e="-moz-grab"),"draggable"==t&&(e="pointer")):("dragging"!=t&&"dragready"!=t||(e="move"),"draggable"==t&&(e="pointer")),this.markerWrapper_.style.cursor!=e&&(this.markerWrapper_.style.cursor=e)}},u.prototype.startDrag=function(t){if(this.getDraggable()&&!this.dragging_){this.dragging_=!0;var e=this.getMap();this.mapDraggable_=e.get("draggable"),e.set("draggable",!1),this.mouseX_=t.clientX,this.mouseY_=t.clientY,this.setCursor_("dragready"),this.markerWrapper_.style.MozUserSelect="none",this.markerWrapper_.style.KhtmlUserSelect="none",this.markerWrapper_.style.WebkitUserSelect="none",this.markerWrapper_.unselectable="on",this.markerWrapper_.onselectstart=function(){return!1},this.addDraggingListeners_(),google.maps.event.trigger(this,"dragstart")}},u.prototype.stopDrag=function(){this.getDraggable()&&this.dragging_&&(this.dragging_=!1,this.getMap().set("draggable",this.mapDraggable_),this.mouseX_=this.mouseY_=this.mapDraggable_=null,this.markerWrapper_.style.MozUserSelect="",this.markerWrapper_.style.KhtmlUserSelect="",this.markerWrapper_.style.WebkitUserSelect="",this.markerWrapper_.unselectable="off",this.markerWrapper_.onselectstart=function(){},this.removeDraggingListeners_(),this.setCursor_("draggable"),google.maps.event.trigger(this,"dragend"),this.draw())},u.prototype.drag=function(t){if(!this.getDraggable()||!this.dragging_)return void this.stopDrag();var e=this.mouseX_-t.clientX,n=this.mouseY_-t.clientY;this.mouseX_=t.clientX,this.mouseY_=t.clientY;var i=parseInt(this.markerWrapper_.style.left,10)-e,r=parseInt(this.markerWrapper_.style.top,10)-n;this.markerWrapper_.style.left=i+"px",this.markerWrapper_.style.top=r+"px";var o=this.getOffset_(),a=new google.maps.Point(i-o.width,r-o.height),s=this.getProjection();this.setPosition(s.fromDivPixelToLatLng(a)),this.setCursor_("dragging"),google.maps.event.trigger(this,"drag")},u.prototype.removeDragListeners_=function(){this.draggableListener_&&(google.maps.event.removeListener(this.draggableListener_),delete this.draggableListener_),this.setCursor_("")},u.prototype.addDragging_=function(t){if(t){var e=this;this.draggableListener_=google.maps.event.addDomListener(t,"mousedown",function(t){e.startDrag(t)}),this.setCursor_("draggable")}},u.prototype.addDraggingListeners_=function(){var e=this;this.markerWrapper_.setCapture?(this.markerWrapper_.setCapture(!0),this.draggingListeners_=[google.maps.event.addDomListener(this.markerWrapper_,"mousemove",function(t){e.drag(t)},!0),google.maps.event.addDomListener(this.markerWrapper_,"mouseup",function(){e.stopDrag(),e.markerWrapper_.releaseCapture()},!0)]):this.draggingListeners_=[google.maps.event.addDomListener(t,"mousemove",function(t){e.drag(t)},!0),google.maps.event.addDomListener(t,"mouseup",function(){e.stopDrag()},!0)]},u.prototype.removeDraggingListeners_=function(){if(this.draggingListeners_){for(var t,e=0;t=this.draggingListeners_[e];e++)google.maps.event.removeListener(t);this.draggingListeners_.length=0}},u.prototype.getOffset_=function(){var t=this.getAnchor();if("object"==typeof t)return t;var e=new google.maps.Size(0,0);if(!this.markerContent_)return e;var n=this.markerContent_.offsetWidth,i=this.markerContent_.offsetHeight;switch(t){case c.TOP_LEFT:break;case c.TOP:e.width=-n/2;break;case c.TOP_RIGHT:e.width=-n;break;case c.LEFT:e.height=-i/2;break;case c.MIDDLE:e.width=-n/2,e.height=-i/2;break;case c.RIGHT:e.width=-n,e.height=-i/2;break;case c.BOTTOM_LEFT:e.height=-i;break;case c.BOTTOM:e.width=-n/2,e.height=-i;break;case c.BOTTOM_RIGHT:e.width=-n,e.height=-i}return e},u.prototype.onAdd=function(){if(this.markerWrapper_||(this.markerWrapper_=document.createElement("DIV"),this.markerWrapper_.style.position="absolute"),this.getZIndex()&&(this.markerWrapper_.style.zIndex=this.getZIndex()),this.markerWrapper_.style.display=this.getVisible()?"":"none",!this.markerContent_){this.markerContent_=document.createElement("DIV"),this.markerWrapper_.appendChild(this.markerContent_);var t=this;google.maps.event.addDomListener(this.markerContent_,"click",function(e){google.maps.event.trigger(t,"click")}),google.maps.event.addDomListener(this.markerContent_,"mouseover",function(e){google.maps.event.trigger(t,"mouseover")}),google.maps.event.addDomListener(this.markerContent_,"mouseout",function(e){
google.maps.event.trigger(t,"mouseout")})}this.ready_=!0,this.content_changed(),this.flat_changed(),this.draggable_changed();var e=this.getPanes();e&&e.overlayMouseTarget.appendChild(this.markerWrapper_),google.maps.event.trigger(this,"ready")},u.prototype.onAdd=u.prototype.onAdd,u.prototype.draw=function(){if(this.ready_&&!this.dragging_){var t=this.getProjection();if(t){var e=this.get("position"),n=t.fromLatLngToDivPixel(e),i=this.getOffset_();this.markerWrapper_.style.top=n.y+i.height+"px",this.markerWrapper_.style.left=n.x+i.width+"px";var r=this.markerContent_.offsetHeight,o=this.markerContent_.offsetWidth;o!=this.get("width")&&this.set("width",o),r!=this.get("height")&&this.set("height",r)}}},u.prototype.draw=u.prototype.draw,u.prototype.onRemove=function(){this.markerWrapper_&&this.markerWrapper_.parentNode&&this.markerWrapper_.parentNode.removeChild(this.markerWrapper_),this.removeDragListeners_()},u.prototype.onRemove=u.prototype.onRemove;var c={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};t.RichMarkerPosition=c,t.InfoBox=e,t.Cluster=r,t.ClusterIcon=i,t.MarkerClusterer=o,t.MarkerLabel_=s,t.MarkerWithLabel=l,t.RichMarker=u})}}),function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,n,i){e.module("uiGmapgoogle-maps.wrapped").service("uiGmapDataStructures",function(){return{Graph:i(1).Graph,Queue:i(1).Queue}})},function(t,e,n){(function(){t.exports={Graph:n(2),Heap:n(3),LinkedList:n(4),Map:n(5),Queue:n(6),RedBlackTree:n(7),Trie:n(8)}}).call(this)},function(t,e){(function(){var e,n={}.hasOwnProperty;e=function(){function t(){this._nodes={},this.nodeSize=0,this.edgeSize=0}return t.prototype.addNode=function(t){if(!this._nodes[t])return this.nodeSize++,this._nodes[t]={_outEdges:{},_inEdges:{}}},t.prototype.getNode=function(t){return this._nodes[t]},t.prototype.removeNode=function(t){var e,i,r,o,a;if(i=this._nodes[t]){o=i._outEdges;for(r in o)n.call(o,r)&&this.removeEdge(t,r);a=i._inEdges;for(e in a)n.call(a,e)&&this.removeEdge(e,t);return this.nodeSize--,delete this._nodes[t],i}},t.prototype.addEdge=function(t,e,n){var i,r,o;if(null==n&&(n=1),!this.getEdge(t,e)&&(r=this._nodes[t],o=this._nodes[e],r&&o))return i={weight:n},r._outEdges[e]=i,o._inEdges[t]=i,this.edgeSize++,i},t.prototype.getEdge=function(t,e){var n,i;if(n=this._nodes[t],i=this._nodes[e],n&&i)return n._outEdges[e]},t.prototype.removeEdge=function(t,e){var n,i,r;if(i=this._nodes[t],r=this._nodes[e],n=this.getEdge(t,e))return delete i._outEdges[e],delete r._inEdges[t],this.edgeSize--,n},t.prototype.getInEdgesOf=function(t){var e,i,r,o;r=this._nodes[t],i=[],o=null!=r?r._inEdges:void 0;for(e in o)n.call(o,e)&&i.push(this.getEdge(e,t));return i},t.prototype.getOutEdgesOf=function(t){var e,i,r,o;e=this._nodes[t],i=[],o=null!=e?e._outEdges:void 0;for(r in o)n.call(o,r)&&i.push(this.getEdge(t,r));return i},t.prototype.getAllEdgesOf=function(t){var e,n,i,r,o,a,s;if(n=this.getInEdgesOf(t),i=this.getOutEdgesOf(t),0===n.length)return i;for(r=this.getEdge(t,t),e=o=0,a=n.length;0<=a?o<a:o>a;e=0<=a?++o:--o)if(n[e]===r){s=[n[n.length-1],n[e]],n[e]=s[0],n[n.length-1]=s[1],n.pop();break}return n.concat(i)},t.prototype.forEachNode=function(t){var e,i,r;r=this._nodes;for(e in r)n.call(r,e)&&(i=r[e],t(i,e))},t.prototype.forEachEdge=function(t){var e,i,r,o,a,s;a=this._nodes;for(i in a)if(n.call(a,i)){r=a[i],s=r._outEdges;for(o in s)n.call(s,o)&&(e=s[o],t(e))}},t}(),t.exports=e}).call(this)},function(t,e){(function(){var e,n,i,r;e=function(){function t(t){var e,n,i,r,o,a;for(null==t&&(t=[]),this._data=[void 0],i=0,o=t.length;i<o;i++)n=t[i],null!=n&&this._data.push(n);if(this._data.length>1)for(e=r=2,a=this._data.length;2<=a?r<a:r>a;e=2<=a?++r:--r)this._upHeap(e);this.size=this._data.length-1}return t.prototype.add=function(t){if(null!=t)return this._data.push(t),this._upHeap(this._data.length-1),this.size++,t},t.prototype.removeMin=function(){var t;if(1!==this._data.length)return this.size--,2===this._data.length?this._data.pop():(t=this._data[1],this._data[1]=this._data.pop(),this._downHeap(),t)},t.prototype.peekMin=function(){return this._data[1]},t.prototype._upHeap=function(t){var e,n;for(e=this._data[t];this._data[t]<this._data[i(t)]&&t>1;)n=[this._data[i(t)],this._data[t]],this._data[t]=n[0],this._data[i(t)]=n[1],t=i(t)},t.prototype._downHeap=function(){var t,e,i;for(t=1;n(t<this._data.length)&&(e=n(t),e<this._data.length-1&&this._data[r(t)]<this._data[e]&&(e=r(t)),this._data[e]<this._data[t]);)i=[this._data[t],this._data[e]],this._data[e]=i[0],this._data[t]=i[1],t=e},t}(),i=function(t){return t>>1},n=function(t){return t<<1},r=function(t){return(t<<1)+1},t.exports=e}).call(this)},function(t,e){(function(){var e;e=function(){function t(t){var e,n,i;for(null==t&&(t=[]),this.head={prev:void 0,value:void 0,next:void 0},this.tail={prev:void 0,value:void 0,next:void 0},this.size=0,n=0,i=t.length;n<i;n++)e=t[n],this.add(e)}return t.prototype.at=function(t){var e,n,i,r,o;if(-this.size<=t&&t<this.size){if(t=this._adjust(t),2*t<this.size)for(e=this.head,n=i=1;i<=t;n=i+=1)e=e.next;else for(e=this.tail,n=r=1,o=this.size-t-1;r<=o;n=r+=1)e=e.prev;return e}},t.prototype.add=function(t,e){var n,i,r,o,a;if(null==e&&(e=this.size),-this.size<=e&&e<=this.size)return i={value:t},e=this._adjust(e),0===this.size?this.head=i:0===e?(r=[i,this.head,i],this.head.prev=r[0],i.next=r[1],this.head=r[2]):(n=this.at(e-1),o=[n.next,i,i,n],i.next=o[0],null!=(a=n.next)?a.prev=o[1]:void 0,n.next=o[2],i.prev=o[3]),e===this.size&&(this.tail=i),this.size++,t},t.prototype.removeAt=function(t){var e,n,i;if(null==t&&(t=this.size-1),-this.size<=t&&t<this.size&&0!==this.size)return t=this._adjust(t),1===this.size?(n=this.head.value,this.head.value=this.tail.value=void 0):0===t?(n=this.head.value,this.head=this.head.next,this.head.prev=void 0):(e=this.at(t),n=e.value,e.prev.next=e.next,null!=(i=e.next)&&(i.prev=e.prev),t===this.size-1&&(this.tail=e.prev)),this.size--,n},t.prototype.remove=function(t){var e;if(null!=t){for(e=this.head;e&&e.value!==t;)e=e.next;if(e)return 1===this.size?this.head.value=this.tail.value=void 0:e===this.head?(this.head=this.head.next,this.head.prev=void 0):e===this.tail?(this.tail=this.tail.prev,this.tail.next=void 0):(e.prev.next=e.next,e.next.prev=e.prev),this.size--,t}},t.prototype.indexOf=function(t,e){var n,i;if(null==e&&(e=0),null==this.head.value&&!this.head.next||e>=this.size)return-1;for(e=Math.max(0,this._adjust(e)),n=this.at(e),i=e;n&&n.value!==t;)n=n.next,i++;return i===this.size?-1:i},t.prototype._adjust=function(t){return t<0?this.size+t:t},t}(),t.exports=e}).call(this)},function(t,e){(function(){var e,n,i,r,o={}.hasOwnProperty;n="_mapId_",e=function(){function t(e){var n,i;this._content={},this._itemId=0,this._id=t._newMapId(),this.size=0;for(n in e)o.call(e,n)&&(i=e[n],this.set(n,i))}return t._mapIdTracker=0,t._newMapId=function(){return this._mapIdTracker++},t.prototype.hash=function(t,e){var o,a;return null==e&&(e=!1),a=i(t),r(t)?(o=n+this._id,e&&!t[o]&&(t[o]=this._itemId++),o+"_"+t[o]):a+"_"+t},t.prototype.set=function(t,e){return this.has(t)||this.size++,this._content[this.hash(t,!0)]=[e,t],e},t.prototype.get=function(t){var e;return null!=(e=this._content[this.hash(t)])?e[0]:void 0},t.prototype.has=function(t){return this.hash(t)in this._content},t.prototype["delete"]=function(t){var e;return e=this.hash(t),e in this._content&&(delete this._content[e],r(t)&&delete t[n+this._id],this.size--,!0)},t.prototype.forEach=function(t){var e,n,i;i=this._content;for(e in i)o.call(i,e)&&(n=i[e],t(n[1],n[0]))},t}(),r=function(t){var e,n,r,o,a;for(e=["Boolean","Number","String","Undefined","Null","RegExp","Function"],r=i(t),o=0,a=e.length;o<a;o++)if(n=e[o],r===n)return!1;return!0},i=function(t){return Object.prototype.toString.apply(t).match(/\[object (.+)\]/)[1]},t.exports=e}).call(this)},function(t,e){(function(){var e;e=function(){function t(t){null==t&&(t=[]),this._content=t,this._dequeueIndex=0,this.size=this._content.length}return t.prototype.enqueue=function(t){return this.size++,this._content.push(t),t},t.prototype.dequeue=function(){var t;if(0!==this.size)return this.size--,t=this._content[this._dequeueIndex],this._dequeueIndex++,2*this._dequeueIndex>this._content.length&&(this._content=this._content.slice(this._dequeueIndex),this._dequeueIndex=0),t},t.prototype.peek=function(){return this._content[this._dequeueIndex]},t}(),t.exports=e}).call(this)},function(t,e){(function(){var e,n,i,r,o,a,s,l,u,c,d,h,p,f,g;n=0,i=1,r=2,s=3,o=1,e=2,a=function(){function t(t){var e,n,i;for(null==t&&(t=[]),this._root,this.size=0,n=0,i=t.length;n<i;n++)e=t[n],null!=e&&this.add(e)}return t.prototype.add=function(t){var a,d,h,p;if(null!=t){if(this.size++,h={value:t,_color:o},this._root){if(d=l(this._root,function(e){return t===e.value?n:t<e.value?e._left?i:(h._parent=e,e._left=h,s):e._right?r:(h._parent=e,e._right=h,s)}),null!=d)return}else this._root=h;for(a=h;;){if(a===this._root){a._color=e;break}if(a._parent._color===e)break;{if((null!=(p=g(a))?p._color:void 0)!==o){!c(a)&&c(a._parent)?(this._rotateLeft(a._parent),a=a._left):c(a)&&!c(a._parent)&&(this._rotateRight(a._parent),a=a._right),a._parent._color=e,u(a)._color=o,c(a)?this._rotateRight(u(a)):this._rotateLeft(u(a));break}a._parent._color=e,g(a)._color=e,u(a)._color=o,a=u(a)}}return t}},t.prototype.has=function(t){var e;return e=l(this._root,function(e){return t===e.value?n:t<e.value?i:r}),!!e},t.prototype.peekMin=function(){var t;return null!=(t=p(this._root))?t.value:void 0},t.prototype.peekMax=function(){var t;return null!=(t=h(this._root))?t.value:void 0},t.prototype.remove=function(t){var e;if(e=l(this._root,function(e){return t===e.value?n:t<e.value?i:r}))return this._removeNode(this._root,e),this.size--,t},t.prototype.removeMin=function(){var t,e;if(t=p(this._root))return e=t.value,this._removeNode(this._root,t),e},t.prototype.removeMax=function(){var t,e;if(t=h(this._root))return e=t.value,this._removeNode(this._root,t),e},t.prototype._removeNode=function(t,n){var i,r,a,s,l,u,h,g,m,v;if(n._left&&n._right&&(r=p(n._right),n.value=r.value,n=r),r=n._left||n._right,r||(r={color:e,_right:void 0,_left:void 0,isLeaf:!0}),r._parent=n._parent,null!=(a=n._parent)&&(a[d(n)]=r),n._color===e)if(r._color===o)r._color=e,r._parent||(this._root=r);else for(;;){if(!r._parent){r.isLeaf?this._root=void 0:this._root=r;break}if(i=f(r),(null!=i?i._color:void 0)===o&&(r._parent._color=o,i._color=e,c(r)?this._rotateLeft(r._parent):this._rotateRight(r._parent)),i=f(r),r._parent._color!==e||i&&(i._color!==e||i._left&&i._left._color!==e||i._right&&i._right._color!==e)){if(!(r._parent._color!==o||i&&(i._color!==e||i._left&&(null!=(s=i._left)?s._color:void 0)!==e||i._right&&(null!=(l=i._right)?l._color:void 0)!==e))){null!=i&&(i._color=o),r._parent._color=e;break}if((null!=i?i._color:void 0)===e){!c(r)||i._right&&i._right._color!==e||(null!=(u=i._left)?u._color:void 0)!==o?c(r)||i._left&&i._left._color!==e||(null!=(g=i._right)?g._color:void 0)!==o||(i._color=o,null!=(m=i._right)&&(m._color=e),this._rotateLeft(i)):(i._color=o,null!=(h=i._left)&&(h._color=e),this._rotateRight(i));break}i=f(r),i._color=r._parent._color,c(r)?(i._right._color=e,this._rotateRight(r._parent)):(i._left._color=e,this._rotateLeft(r._parent))}else null!=i&&(i._color=o),r.isLeaf&&(r._parent[d(r)]=void 0),r=r._parent}if(r.isLeaf)return null!=(v=r._parent)?v[d(r)]=void 0:void 0},t.prototype._rotateLeft=function(t){var e,n;if(null!=(e=t._parent)&&(e[d(t)]=t._right),t._right._parent=t._parent,t._parent=t._right,t._right=t._right._left,t._parent._left=t,null!=(n=t._right)&&(n._parent=t),null==t._parent._parent)return this._root=t._parent},t.prototype._rotateRight=function(t){var e,n;if(null!=(e=t._parent)&&(e[d(t)]=t._left),t._left._parent=t._parent,t._parent=t._left,t._left=t._left._right,t._parent._right=t,null!=(n=t._left)&&(n._parent=t),null==t._parent._parent)return this._root=t._parent},t}(),c=function(t){return t===t._parent._left},d=function(t){return c(t)?"_left":"_right"},l=function(t,e){var o,a,l;for(a=t,l=void 0;a;){if(o=e(a),o===n){l=a;break}if(o===i)a=a._left;else if(o===r)a=a._right;else if(o===s)break}return l},p=function(t){return l(t,function(t){return t._left?i:n})},h=function(t){return l(t,function(t){return t._right?r:n})},u=function(t){var e;return null!=(e=t._parent)?e._parent:void 0},g=function(t){if(u(t))return c(t._parent)?u(t)._right:u(t)._left},f=function(t){return c(t)?t._parent._right:t._parent._left},t.exports=a}).call(this)},function(t,e,n){(function(){var e,i,r,o,a={}.hasOwnProperty;e=n(6),r="end",i=function(){function t(t){var e,n,i;for(null==t&&(t=[]),this._root={},this.size=0,n=0,i=t.length;n<i;n++)e=t[n],this.add(e)}return t.prototype.add=function(t){var e,n,i,o;if(null!=t){for(this.size++,e=this._root,i=0,o=t.length;i<o;i++)n=t[i],null==e[n]&&(e[n]={}),e=e[n];return e[r]=!0,t}},t.prototype.has=function(t){var e,n,i,o;if(null==t)return!1;for(e=this._root,i=0,o=t.length;i<o;i++){if(n=t[i],null==e[n])return!1;e=e[n]}return!!e[r]},t.prototype.longestPrefixOf=function(t){var e,n,i,r,o;if(null==t)return"";for(e=this._root,i="",r=0,o=t.length;r<o&&(n=t[r],null!=e[n]);r++)i+=n,e=e[n];return i},t.prototype.wordsWithPrefix=function(t){var n,i,o,s,l,u,c,d,h,p;if(null==t)return[];for(null!=t||(t=""),c=[],i=this._root,d=0,h=t.length;d<h;d++)if(o=t[d],i=i[o],null==i)return[];for(l=new e,l.enqueue([i,""]);0!==l.size;){p=l.dequeue(),s=p[0],n=p[1],s[r]&&c.push(t+n);for(o in s)a.call(s,o)&&(u=s[o],l.enqueue([u,n+o]))}return c},t.prototype.remove=function(t){var e,n,i,a,s,l,u,c;if(null!=t){for(e=this._root,a=[],s=0,u=t.length;s<u;s++){if(i=t[s],null==e[i])return;e=e[i],a.push([i,e])}if(e[r]){if(this.size--,delete e[r],o(e,1))return t;for(n=l=c=a.length-1;(c<=1?l<=1:l>=1)&&!o(a[n][1],1);n=c<=1?++l:--l)delete a[n-1][1][a[n][0]];return o(this._root[a[0][0]],1)||delete this._root[a[0][0]],t}}},t}(),o=function(t,e){var n,i;if(0===e)return!0;i=0;for(n in t)if(a.call(t,n)&&(i++,i>=e))return!0;return!1},t.exports=i}).call(this)}]),e.module("uiGmapgoogle-maps.wrapped").service("uiGmapMarkerSpiderfier",["uiGmapGoogleMapApi",function(e){var n=this,i={}.hasOwnProperty,r=[].slice;return this.OverlappingMarkerSpiderfier=function(){function e(t,e){var r,o,a,s,l,u;this.map=t,null==e&&(e={});for(o in e)i.call(e,o)&&(u=e[o],this[o]=u);for(this.projHelper=new this.constructor.ProjHelper(this.map),this.initMarkerArrays(),this.listeners={},l=["click","zoom_changed","maptypeid_changed"],a=0,s=l.length;a<s;a++)r=l[a],n.addListener(this.map,r,function(t){return function(){return t.unspiderfy()}}(this))}var n,o,a,s,l,u,c,d,h,p,f;for(d=e.prototype,h=[e,d],a=0,u=h.length;a<u;a++)f=h[a],f.VERSION="0.3.3";return o=void 0,n=void 0,c=void 0,p=2*Math.PI,d.keepSpiderfied=!1,d.markersWontHide=!1,d.markersWontMove=!1,d.nearbyDistance=20,d.circleSpiralSwitchover=9,d.circleFootSeparation=23,d.circleStartAngle=p/12,d.spiralFootSeparation=26,d.spiralLengthStart=11,d.spiralLengthFactor=4,d.spiderfiedZIndex=1e3,d.usualLegZIndex=10,d.highlightedLegZIndex=20,d.event="click",d.minZoomLevel=!1,d.legWeight=1.5,d.legColors={usual:{},highlighted:{}},l=d.legColors.usual,s=d.legColors.highlighted,e.initializeGoogleMaps=function(t){return o=t.maps,n=o.event,c=o.MapTypeId,l[c.HYBRID]=l[c.SATELLITE]="#fff",s[c.HYBRID]=s[c.SATELLITE]="#f00",l[c.TERRAIN]=l[c.ROADMAP]="#444",s[c.TERRAIN]=s[c.ROADMAP]="#f00",this.ProjHelper=function(t){return this.setMap(t)},this.ProjHelper.prototype=new o.OverlayView,this.ProjHelper.prototype.draw=function(){}},d.initMarkerArrays=function(){return this.markers=[],this.markerListenerRefs=[]},d.addMarker=function(t){var e;return null!=t._oms?this:(t._oms=!0,e=[n.addListener(t,this.event,function(e){return function(n){return e.spiderListener(t,n)}}(this))],this.markersWontHide||e.push(n.addListener(t,"visible_changed",function(e){return function(){return e.markerChangeListener(t,!1)}}(this))),this.markersWontMove||e.push(n.addListener(t,"position_changed",function(e){return function(){return e.markerChangeListener(t,!0)}}(this))),this.markerListenerRefs.push(e),this.markers.push(t),this)},d.markerChangeListener=function(t,e){if(null!=t._omsData&&(e||!t.getVisible())&&null==this.spiderfying&&null==this.unspiderfying)return this.unspiderfy(e?t:null)},d.getMarkers=function(){return this.markers.slice(0)},d.removeMarker=function(t){var e,i,r,o,a;if(null!=t._omsData&&this.unspiderfy(),e=this.arrIndexOf(this.markers,t),e<0)return this;for(a=this.markerListenerRefs.splice(e,1)[0],i=0,r=a.length;i<r;i++)o=a[i],n.removeListener(o);return delete t._oms,this.markers.splice(e,1),this},d.clearMarkers=function(){var t,e,i,r,o,a,s,l,u;for(this.unspiderfy(),u=this.markers,t=e=0,i=u.length;e<i;t=++e){for(s=u[t],a=this.markerListenerRefs[t],l=0,r=a.length;l<r;l++)o=a[l],n.removeListener(o);delete s._oms}return this.initMarkerArrays(),this},d.addListener=function(t,e){var n;return(null!=(n=this.listeners)[t]?n[t]:n[t]=[]).push(e),this},d.removeListener=function(t,e){var n;return n=this.arrIndexOf(this.listeners[t],e),n<0||this.listeners[t].splice(n,1),this},d.clearListeners=function(t){return this.listeners[t]=[],this},d.trigger=function(){var t,e,n,i,o,a,s,l;for(e=arguments[0],t=2<=arguments.length?r.call(arguments,1):[],s=null!=(a=this.listeners[e])?a:[],l=[],i=0,o=s.length;i<o;i++)n=s[i],l.push(n.apply(null,t));return l},d.generatePtsCircle=function(t,e){var n,i,r,a,s,l,u,c;for(r=this.circleFootSeparation*(2+t),l=r/p,i=p/t,c=[],a=s=0,u=t;0<=u?s<u:s>u;a=0<=u?++s:--s)n=this.circleStartAngle+a*i,c.push(new o.Point(e.x+l*Math.cos(n),e.y+l*Math.sin(n)));return c},d.generatePtsSpiral=function(t,e){var n,i,r,a,s,l,u;for(a=this.spiralLengthStart,n=0,u=[],i=r=0,l=t;0<=l?r<l:r>l;i=0<=l?++r:--r)n+=this.spiralFootSeparation/a+5e-4*i,s=new o.Point(e.x+a*Math.cos(n),e.y+a*Math.sin(n)),a+=p*this.spiralLengthFactor/n,u.push(s);return u},d.spiderListener=function(e,n){var i,r,o,a,s,l,u,c,h,p,f,g,m;if(c=null!=e._omsData,c&&this.keepSpiderfied||("mouseover"===this.event?(i=this,r=function(){return i.unspiderfy()},t.clearTimeout(d.timeout),d.timeout=setTimeout(r,3e3)):this.unspiderfy()),c||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",e,n);for(p=[],f=[],h=this.nearbyDistance,g=h*h,u=this.llToPt(e.position),m=this.markers,o=0,a=m.length;o<a;o++)s=m[o],null!=s.map&&s.getVisible()&&(l=this.llToPt(s.position),this.ptDistanceSq(l,u)<g?p.push({marker:s,markerPt:l}):f.push(s));return 1===p.length?this.trigger("click",e,n):this.spiderfy(p,f)},d.markersNearMarker=function(t,e){var n,i,r,o,a,s,l,u,c,d,h;if(null==e&&(e=!1),null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearMarker";for(l=this.nearbyDistance,u=l*l,a=this.llToPt(t.position),s=[],c=this.markers,n=0,i=c.length;n<i&&(r=c[n],!(r!==t&&null!=r.map&&r.getVisible()&&(o=this.llToPt(null!=(d=null!=(h=r._omsData)?h.usualPosition:void 0)?d:r.position),this.ptDistanceSq(o,a)<u&&(s.push(r),e))));n++);return s},d.markersNearAnyOtherMarker=function(){var t,e,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m,v,y,b,w;if(null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(f=this.nearbyDistance,g=f*f,h=function(){var t,e,n,i,r,o;for(n=this.markers,o=[],t=0,e=n.length;t<e;t++)s=n[t],o.push({pt:this.llToPt(null!=(i=null!=(r=s._omsData)?r.usualPosition:void 0)?i:s.position),willSpiderfy:!1});return o}.call(this),v=this.markers,e=i=0,r=v.length;i<r;e=++i)if(l=v[e],null!=l.map&&l.getVisible()&&(u=h[e],!u.willSpiderfy))for(y=this.markers,n=p=0,o=y.length;p<o;n=++p)if(c=y[n],n!==e&&null!=c.map&&c.getVisible()&&(d=h[n],(!(n<e)||d.willSpiderfy)&&this.ptDistanceSq(u.pt,d.pt)<g)){u.willSpiderfy=d.willSpiderfy=!0;break}for(b=this.markers,w=[],t=m=0,a=b.length;m<a;t=++m)s=b[t],h[t].willSpiderfy&&w.push(s);return w},d.makeHighlightListenerFuncs=function(t){return{highlight:function(e){return function(){return t._omsData.leg.setOptions({strokeColor:e.legColors.highlighted[e.map.mapTypeId],zIndex:e.highlightedLegZIndex})}}(this),unhighlight:function(e){return function(){return t._omsData.leg.setOptions({strokeColor:e.legColors.usual[e.map.mapTypeId],zIndex:e.usualLegZIndex})}}(this)}},d.spiderfy=function(t,e){var i,r,a,s,l,u,c,d,h,p,f;return!(this.minZoomLevel&&this.map.getZoom()<this.minZoomLevel)&&(this.spiderfying=!0,p=t.length,i=this.ptAverage(function(){var e,n,i;for(i=[],e=0,n=t.length;e<n;e++)d=t[e],i.push(d.markerPt);return i}()),s=p>=this.circleSpiralSwitchover?this.generatePtsSpiral(p,i).reverse():this.generatePtsCircle(p,i),f=function(){var e,i,d;for(d=[],e=0,i=s.length;e<i;e++)a=s[e],r=this.ptToLl(a),h=this.minExtract(t,function(t){return function(e){return t.ptDistanceSq(e.markerPt,a)}}(this)),c=h.marker,u=new o.Polyline({map:this.map,path:[c.position,r],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),c._omsData={usualPosition:c.position,leg:u},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(l=this.makeHighlightListenerFuncs(c),c._omsData.hightlightListeners={highlight:n.addListener(c,"mouseover",l.highlight),unhighlight:n.addListener(c,"mouseout",l.unhighlight)}),c.setPosition(r),c.setZIndex(Math.round(this.spiderfiedZIndex+a.y)),d.push(c);return d}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",f,e))},d.unspiderfy=function(t){var e,i,r,o,a,s,l;if(null==t&&(t=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,l=[],a=[],s=this.markers,e=0,i=s.length;e<i;e++)o=s[e],null!=o._omsData?(o._omsData.leg.setMap(null),o!==t&&o.setPosition(o._omsData.usualPosition),o.setZIndex(null),r=o._omsData.hightlightListeners,null!=r&&(n.removeListener(r.highlight),n.removeListener(r.unhighlight)),delete o._omsData,l.push(o)):a.push(o);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",l,a),this},d.ptDistanceSq=function(t,e){var n,i;return n=t.x-e.x,i=t.y-e.y,n*n+i*i},d.ptAverage=function(t){var e,n,i,r,a,s;for(a=s=0,e=0,n=t.length;e<n;e++)r=t[e],a+=r.x,s+=r.y;return i=t.length,new o.Point(a/i,s/i)},d.llToPt=function(t){return this.projHelper.getProjection().fromLatLngToDivPixel(t)},d.ptToLl=function(t){return this.projHelper.getProjection().fromDivPixelToLatLng(t)},d.minExtract=function(t,e){var n,i,r,o,a,s,l;for(r=a=0,s=t.length;a<s;r=++a)o=t[r],l=e(o),("undefined"==typeof n||null===n||l<i)&&(i=l,n=r);return t.splice(n,1)[0]},d.arrIndexOf=function(t,e){var n,i,r,o;if(null!=t.indexOf)return t.indexOf(e);for(n=i=0,r=t.length;i<r;n=++i)if(o=t[n],o===e)return n;return-1},e}(),e.then(function(){n.OverlappingMarkerSpiderfier.initializeGoogleMaps(t.google)}),this.OverlappingMarkerSpiderfier}]),e.module("uiGmapgoogle-maps.extensions").service("uiGmapExtendMarkerClusterer",["uiGmapLodash","uiGmapPropMap",function(e,n){return{init:_.once(function(){(function(){var i={}.hasOwnProperty,r=function(t,e){function n(){this.constructor=t}for(var r in e)i.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};t.NgMapCluster=function(t){function i(t){i.__super__.constructor.call(this,t),this.markers_=new n}return r(i,t),i.prototype.addMarker=function(t){var e,n;if(this.isMarkerAlreadyAdded_(t)){var i=this.markers_.get(t.key);if(i.getPosition().lat()==t.getPosition().lat()&&i.getPosition().lon()==t.getPosition().lon())return!1}if(this.center_){if(this.averageCenter_){var r=this.markers_.length+1,o=(this.center_.lat()*(r-1)+t.getPosition().lat())/r,a=(this.center_.lng()*(r-1)+t.getPosition().lng())/r;this.center_=new google.maps.LatLng(o,a),this.calculateBounds_()}}else this.center_=t.getPosition(),this.calculateBounds_();return t.isAdded=!0,this.markers_.push(t),e=this.markers_.length,n=this.markerClusterer_.getMaxZoom(),null!==n&&this.map_.getZoom()>n?t.getMap()!==this.map_&&t.setMap(this.map_):e<this.minClusterSize_?t.getMap()!==this.map_&&t.setMap(this.map_):e===this.minClusterSize_?this.markers_.each(function(t){t.setMap(null)}):t.setMap(null),!0},i.prototype.isMarkerAlreadyAdded_=function(t){return e.isNullOrUndefined(this.markers_.get(t.key))},i.prototype.getBounds=function(){var t=new google.maps.LatLngBounds(this.center_,this.center_);return this.getMarkers().each(function(e){t.extend(e.getPosition())}),t},i.prototype.remove=function(){this.clusterIcon_.setMap(null),this.markers_=new n,delete this.markers_},i}(Cluster),t.NgMapMarkerClusterer=function(t){function e(t,i,r){e.__super__.constructor.call(this,t,i,r),this.markers_=new n}return r(e,t),e.prototype.clearMarkers=function(){this.resetViewport_(!0),this.markers_=new n},e.prototype.removeMarker_=function(t){return!!this.markers_.get(t.key)&&(t.setMap(null),this.markers_.remove(t.key),!0)},e.prototype.createClusters_=function(t){var e,n,i,r=this;if(this.ready_){0===t&&(google.maps.event.trigger(this,"clusteringbegin",this),"undefined"!=typeof this.timerRefStatic&&(clearTimeout(this.timerRefStatic),delete this.timerRefStatic)),i=this.getMap().getZoom()>3?new google.maps.LatLngBounds(this.getMap().getBounds().getSouthWest(),this.getMap().getBounds().getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,(-178.48388434375)),new google.maps.LatLng((-85.08136444384544),178.00048865625));var o=this.getExtendedBounds(i),a=Math.min(t+this.batchSize_,this.markers_.length),s=this.markers_.values();for(e=t;e<a;e++)n=s[e],!n.isAdded&&this.isMarkerInBounds_(n,o)&&(!this.ignoreHidden_||this.ignoreHidden_&&n.getVisible())&&this.addToClosestCluster_(n);if(a<this.markers_.length)this.timerRefStatic=setTimeout(function(){r.createClusters_(a)},0);else{for(e=0;e<this.clusters_.length;e++)this.clusters_[e].updateIcon_();delete this.timerRefStatic,google.maps.event.trigger(this,"clusteringend",this)}}},e.prototype.addToClosestCluster_=function(t){var e,n,i,r,o=4e4,a=null;for(e=0;e<this.clusters_.length;e++)i=this.clusters_[e],r=i.getCenter(),r&&(n=this.distanceBetweenPoints_(r,t.getPosition()),n<o&&(o=n,a=i));a&&a.isMarkerInClusterBounds(t)?a.addMarker(t):(i=new NgMapCluster(this),i.addMarker(t),this.clusters_.push(i))},e.prototype.redraw_=function(){this.createClusters_(0)},e.prototype.resetViewport_=function(t){var e;for(e=0;e<this.clusters_.length;e++)this.clusters_[e].remove();this.clusters_=[],this.markers_.each(function(e){e.isAdded=!1,t&&e.setMap(null)})},e.prototype.extend=function(t,e){return function(t){var e;for(e in t.prototype)"constructor"!==e&&(this.prototype[e]=t.prototype[e]);return this}.apply(t,[e])},ClusterIcon.prototype.show=function(){if(this.div_){var t="",e=this.backgroundPosition_.split(" "),n=parseInt(e[0].trim(),10),i=parseInt(e[1].trim(),10),r=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(r),t="<img src='"+this.url_+"' style='position: absolute; top: "+i+"px; left: "+n+"px; ",t+=this.cluster_.getMarkerClusterer().enableRetinaIcons_?"width: "+this.width_+"px;height: "+this.height_+"px;":"clip: rect("+-1*i+"px, "+(-1*n+this.width_)+"px, "+(-1*i+this.height_)+"px, "+-1*n+"px);",t+="'>",this.div_.innerHTML=t+"<div style='position: absolute;top: "+this.anchorText_[0]+"px;left: "+this.anchorText_[1]+"px;color: "+this.textColor_+";font-size: "+this.textSize_+"px;font-family: "+this.fontFamily_+";font-weight: "+this.fontWeight_+";font-style: "+this.fontStyle_+";text-decoration: "+this.textDecoration_+";text-align: center;width: "+this.width_+"px;line-height:"+this.height_+"px;'>"+this.sums_.text+"</div>","undefined"==typeof this.sums_.title||""===this.sums_.title?this.div_.title=this.cluster_.getMarkerClusterer().getTitle():this.div_.title=this.sums_.title,this.div_.style.display=""}this.visible_=!0},e}(MarkerClusterer)}).call(this)})}}])}(window,angular),function(t,e){"use strict";function n(e){var n=x.defer();return _("Geocoder").geocode(t.isString(e)?{address:e}:e,function(t,e){e===w.GeocoderStatus.OK?n.resolve(t[0].geometry.location,t):(i("geocode: "+e),n.reject())}),n.promise}function i(){console&&console.error.apply(console,arguments)}function r(t){return(t.ngShow?"("+t.ngShow+")":"")+(t.ngHide?(t.ngShow?" && ":"")+"!("+t.ngHide+")":"")||""}function o(t){return t}function a(t){if(t=1*t,!isNaN(t))return t}function s(e){var n,i,r;return e instanceof w.LatLng?e:(t.isArray(e)?(n=a(e[0]),i=a(e[1])):t.isObject(e)&&(n=a(e.lat),i=a(e.lng)),M(n)&&M(i)&&(r=new w.LatLng(n,i)),r)}function l(n){var i,r,o;return!n||n instanceof w.LatLngBounds?n||e:(t.isArray(n)?2===n.length?(i=s(n[0]),r=s(n[1])):4===n.length&&(i=s([n[0],n[1]]),r=s([n[2],n[3]])):"ne"in n&&"sw"in n?(i=s(n.ne),r=s(n.sw)):"n"in n&&"e"in n&&"s"in n&&"w"in n&&(i=s([n.n,n.e]),r=s([n.s,n.w])),i&&r&&(o=new w.LatLngBounds(r,i)),o)}function u(t){return t+="",S(t.charAt(0))+t.substr(1)}function c(t){return t+="",t.charAt(0).toUpperCase()+t.substr(1)}function d(t,e){var n;return function(){return t&&(n=t.apply(e||this,arguments),t=null),n}}function h(t){return S(t.replace(/([a-z0-9])([A-Z])/g,"$1_$2").replace(/^[^_]+_/,""))}function p(t,e,n){$(n,function(n,i){var r=i.match(/^on(ce)?[A-Z]/);r&&w.event["addListener"+(r[1]?"Once":"")](t,h(i),function(t){C(function(){e.$apply(function(){var i=e.$new(!1);i.event=t,k(n)(i)})})})})}function f(e,i,r){var o,a;return T in i&&(a=e.$watch(i[T],function(e){o=e,e&&n(e).then(function(n){t.equals(o,e)&&r(n)})})),a}function g(t,e,n,i,r){function o(t){n.then(function(e){t=r(t),M(t)&&e["set"+c(i)](t)})}var a=S(i);a in e&&t.$watch(e[a],function(t){M(t)&&o(t)}),r===s&&f(t,e,function(t){o(t)})}function m(t,e,n,i){$(i,function(i,r){g(t,e,n,r,i)}),"options"in e&&g(t,e,n,"options",function(t){return $(i,function(e,n){n in t&&(t[n]=e(t[n]))}),t})}function v(e,n,r,o,a){function l(){var t=!0;return $(c,function(e){M(p[e])&&r[e]&&(p[e]=r[e](p[e])),t=t&&M(p[e])}),t}function u(){if(l())return a&&$(h,function(t){t()}),o(p),a}var c,d,h=[],p={};t.isString(r)?(c=r.split(" "),r={}):c=Object.keys(r),n.options&&(p=k(n.options)(e)),u()||$(c,function(t){var o=!1,a=S(t);a in n&&(o=!0,h.push(e.$watch(n[a],function(e){M(e)&&(p[t]=e,u())}))),r[t]===s&&(d=f(e,n,function(e){p[t]=e,u()}),d&&(o=!0,h.push(d))),o||M(p[t])||i(t+" missing")})}function y(n,i){var o=[i.directive||"gm"+c(S(n))];return t.isArray(i.require)?Array.prototype.push.apply(o,i.require):i.require&&t.isString(i.require)&&o.push(i.require),o.push("^gmMap"),{restrict:"E",scope:!0,require:o,controller:["$scope","$element","$attrs",function(t,o,a){function s(e){var n=r(a),s=h.get();n?t.$watch(n,function(n){l?i.visibility?i.visibility(t,o,a,f,n):l.setMap(n?s:null):(c(e,s,n),i.visibility&&i.visibility(t,o,a,f,n))}):c(e,s,!0)}var l,c,h,f,g=i.name||u(n),y=this,b=x.defer();t.$on("$destroy",function(){l?(i.destroy?i.destroy(t,o,a,l):l.setMap(e),l=e,delete t[g]):b.reject()}),c=d(function(e,r,s){var u=i.opts?e.opts||{}:e;!s&&u.map&&delete u.map,l=i.instantiate?i.instantiate(t,o,a,e):new w[n](e),s&&!u.map&&l.setMap&&l.setMap(r),t[g]=l,p(l,t,a),b.resolve(l)}),y.init=d(function(e){f=e,h=f[f.length-1],h.then(function(e){var n={};i.create&&(a.options&&(n=k(a.options)(t),$(i.main,function(t,e){e in n&&(n[e]=t(n[e]))})),i.create(t,o,a,f,n,s))||v(t,a,i.main,function(n){i.opts?(n.opts=n.opts||{},n.opts.map=e):n.map=e,s(n),m(t,a,y,i.main)},!0)}),a.gmThen&&y.then(function(){k(a.gmThen)(t.$new(!1))})}),y.then=function(t){b.promise.then(t)},y.get=function(){return l}}],link:function(t,e,n,i){i[0].init(i)}}}function b(e,n){return y(e,t.extend({create:function(t,e,n,i,r,o){return n.ngShow||n.ngHide||i[0].then(function(t){t.setMap(i[1].get())}),o(r),!0}},n))}var w,_,x,k,C,$=t.forEach,M=t.isDefined,S=t.lowercase,T="gmAddress";_=function(){var t={};return function(e){return!t.hasOwnProperty(e)&&w[e]&&(t[e]=new w[e]),t[e]}}(),t.module("GoogleMapsNative",[]).provider("gmLibrary",function(){function e(){var t=a.url,e=t.indexOf("?");return e===-1?t+="?":e===t.length-1&&(t+="&"),$(a,function(e,n){o.indexOf(n)===-1&&(t+=n+"="+e+"&");
}),a.libraries.length&&(t+="libraries="+a.libraries.join(",")),t}function n(t,n){var o,s=a.callback;return r||(r=!0,i=x.defer(),n.google&&n.google.maps?(i.resolve(),w=n.google.maps):(n[s]=function(){if(delete n[s],w=n.google.maps,!w)throw"google.maps library not found";i.resolve()},o=t[0].createElement("script"),o.type="text/javascript",o.src=e(),t.find("body").append(o))),i.promise}var i,r=!1,o=["url","libraries"],a={url:"https://maps.googleapis.com/maps/api/js",v:3,libraries:[],language:"en",sensor:"false",callback:"__mapLibraryLoaded"};this.configure=function(e){t.extend(a,e)},this.$get=["$document","$window","$rootScope","$q","$parse","$timeout",function(t,e,i,r,o,s){return x=r,k=o,C=s,{populate:function(t){t.google=e.google,i.google=e.google},load:function(){var i;return a.load?(i=x.defer(),a.load(i),i.promise.then(function(){return n(t,e)})):n(t,e)}}}]}).directive("gmMap",["gmLibrary",function(n){return{restrict:"E",scope:!0,controller:["$scope","$element","$attrs",function(i,l,u){function c(t){var e=r(u);e?i.$watch(e,function(e){e&&(h?C(function(){w.event.trigger(h,"resize")}):f(t))}):f(t)}var h,f,g=this,y=x.defer(),b=t.element(document.createElement("DIV"));l.css("position")||l.css("position","relative"),b.css({position:"absolute",top:0,right:0,bottom:0,left:0}),l.append(b),i.$on("$destroy",function(){h?(h=e,delete i.map):y.reject()}),f=d(function(t){C(function(){h=new w.Map(b[0],t),i.map=h,p(h,i,u),y.resolve(h)},100)}),g.init=function(){n.load().then(function(){n.populate(i),v(i,u,{center:s,zoom:a},function(t){c(t),m(i,u,g,{center:s,zoom:a,mapTypeId:o,heading:a,tilt:a})},!0)}),u.gmThen&&g.then(function(){k(u.gmThen)(i.$new(!1))})},g.then=function(t){y.promise.then(t)},g.get=function(){return h}}],link:function(t,e,n,i){i.init()}}}]).directive("gmMarker",function(){return y("Marker",{main:{position:s}})}).directive("gmCircle",function(){return y("Circle",{main:{center:s,radius:a}})}).directive("gmRectangle",function(){return y("Rectangle",{main:{bounds:l}})}).directive("gmInfowindow",function(){return y("InfoWindow",{require:"^?gmMarker",main:{position:s},destroy:function(t,e,n,i){i.close()},create:function(t,e,n,i,r,o){var a=i[0],l=i[1],u=i[2],c=function(t){o(t),n.ngShow||n.ngHide||a.then(function(t){t.open(u.get(),l?l.get():null)})};return l?l.then(function(){c(r)}):v(t,n,{position:s},function(e){c(e),m(t,n,i[0],{position:s})},!0),!0},visibility:function(t,e,n,i,r){var o=i[0].get(),a=i[1],s=i[2];return r?void o.open(s.get(),a?a.get():null):o.close()}})}).directive("gmDirections",function(){return{restrict:"E",scope:!0,require:["gmDirections","^gmMap"],controller:["$scope",function(t){var e=x.defer(),n={result:null,status:""};this._run=function(i){i.origin=s(i.origin)||i.origin,i.destination=s(i.destination)||i.destination,_("DirectionsService").route(i,function(i,r){n.result=i,n.status=r,t.$apply(function(){t.directions={result:i,status:r}}),e.resolve(n)})},this.then=function(t){e.promise.then(t)},this.get=function(){return n}}],link:function(t,e,n,i){var r=i[0],o=i[1];o.then(function(){v(t,n,"origin destination travelMode",function(t){r._run(t)})})}}}).directive("gmRenderer",function(){return y("DirectionsRenderer",{directive:"gmRenderer",name:"renderer",require:"^gmDirections",create:function(t,e,n,i,r,o){var a=i[0],s=i[1],l=i[2];return s.then(function(e){r.map=l.get(),r.directions=e.result,t.$watch("directions",function(t){a.get().setDirections(t.result)}),o(r)}),!0}})}).directive("gmPolyline",function(){return y("Polyline",{main:{path:function(t){return $(t,function(e,n){t[n]=s(e)}),t}}})}).directive("gmPolygon",function(){return y("Polygon",{main:{paths:function(t){return $(t,function(e,n){t[n]=s(e)}),t}}})}).directive("gmGroundoverlay",function(){return y("GroundOverlay",{opts:!0,instantiate:function(t,e,n,i){return new w.GroundOverlay(i.url,i.bounds,i.opts)},create:function(t,e,n,i,r,o){return i[1].then(function(){v(t,n,"url bounds",function(t){t.bounds=l(t.bounds),o(t)},!0)}),!0}})}).directive("gmKmllayer",function(){return y("KmlLayer",{opts:!0,main:{url:o},instantiate:function(t,e,n,i){return new w.KmlLayer(i.url,i.opts)}})}).directive("gmStyledmaptype",function(){return{restrict:"E",require:"^gmMap",link:function(t,n,i,r){r.then(function(n){t.map=n,n.mapTypes.set(i.id,new w.StyledMapType(k(i.styles)(t),i.options?k(i.options)(t):e))})}}}).directive("gmTrafficlayer",function(){return b("TrafficLayer")}).directive("gmBicyclinglayer",function(){return b("BicyclingLayer")}).directive("gmTransitlayer",function(){return b("TransitLayer")}).directive("gmStreetviewpanorama",["gmLibrary",function(t){return{restrict:"E",scope:!0,controller:["$scope","$element","$attrs",function(n,i,l){function u(t){var e=r(l);e?n.$watch(e,function(e){e&&(c?C(function(){w.event.trigger(c,"resize")}):h(t))}):h(t)}var c,h,f=this,g=x.defer();n.$on("$destroy",function(){c?(c=e,delete n.streetViewPanorama):g.reject()}),h=d(function(t){C(function(){c=new w.StreetViewPanorama(i[0],t),n.streetViewPanorama=c,p(c,n,l),g.resolve(c)},100)}),f.init=d(function(){t.load().then(function(){t.populate(n),v(n,l,{position:s},function(t){u(t),m(n,l,f,{position:s,pov:o,zoom:a})},!0)}),l.gmThen&&f.then(function(){k(l.gmThen)(n.$new(!1))})}),f.then=function(t){g.promise.then(t)},f.get=function(){return c}}],link:function(t,e,n,i){i.init()}}}])}(angular),angular.module("ngMap",[]),function(){"use strict";var t,e=function(e,n,i,r,o,a,s){t=o;var l=this;l.mapOptions,l.mapEvents,l.addObject=function(t,e){if(l.map){l.map[t]=l.map[t]||{};var n=Object.keys(l.map[t]).length;l.map[t][e.id||n]=e,l.map instanceof google.maps.Map&&("infoWindows"!=t&&e.setMap&&e.setMap&&e.setMap(l.map),e.centered&&e.position&&l.map.setCenter(e.position),"markers"==t&&l.objectChanged("markers"),"customMarkers"==t&&l.objectChanged("customMarkers"))}},l.deleteObject=function(t,e){if(e.map){var n=e.map[t];for(var i in n)n[i]===e&&(google.maps.event.clearInstanceListeners(e),delete n[i]);e.map&&e.setMap&&e.setMap(null),"markers"==t&&l.objectChanged("markers"),"customMarkers"==t&&l.objectChanged("customMarkers")}},l.observeAttrSetObj=function(e,n,i){if(n.noWatcher)return!1;for(var r=t.getAttrsToObserve(e),o=0;o<r.length;o++){var s=r[o];n.$observe(s,a.observeAndSet(s,i))}},l.zoomToIncludeMarkers=function(){var t=new google.maps.LatLngBounds;for(var e in l.map.markers)t.extend(l.map.markers[e].getPosition());for(var n in l.map.customMarkers)t.extend(l.map.customMarkers[n].getPosition());l.map.fitBounds(t)},l.objectChanged=function(t){!l.map||"markers"!=t&&"customMarkers"!=t||"auto"!=l.map.zoomToIncludeMarkers||l.zoomToIncludeMarkers()},l.initializeMap=function(){var o=l.mapOptions,c=l.mapEvents,d=l.map;if(l.map=s.getMapInstance(n[0]),a.setStyle(n[0]),d){var h=t.filter(i),p=t.getOptions(h),f=t.getControlOptions(h);o=angular.extend(p,f);for(var g in d){var m=d[g];if("object"==typeof m)for(var v in m)l.addObject(g,m[v])}l.map.showInfoWindow=l.showInfoWindow,l.map.hideInfoWindow=l.hideInfoWindow}o.zoom=o.zoom||15;var y=o.center;if(!o.center||"string"==typeof y&&y.match(/\{\{.*\}\}/))o.center=new google.maps.LatLng(0,0);else if(!(y instanceof google.maps.LatLng)){var b=o.center;delete o.center,a.getGeoLocation(b,o.geoLocationOptions).then(function(t){l.map.setCenter(t);var n=o.geoCallback;n&&r(n)(e)},function(){o.geoFallbackCenter&&l.map.setCenter(o.geoFallbackCenter)})}l.map.setOptions(o);for(var w in c)google.maps.event.addListener(l.map,w,c[w]);l.observeAttrSetObj(u,i,l.map),l.singleInfoWindow=o.singleInfoWindow,google.maps.event.addListenerOnce(l.map,"idle",function(){a.addMap(l),o.zoomToIncludeMarkers&&l.zoomToIncludeMarkers(),e.map=l.map,e.$emit("mapInitialized",l.map),i.mapInitialized&&r(i.mapInitialized)(e,{map:l.map})})},e.google=google;var u=t.orgAttributes(n),c=t.filter(i),d=t.getOptions(c,{scope:e}),h=t.getControlOptions(c),p=angular.extend(d,h),f=t.getEvents(e,c);Object.keys(f).length&&void 0,l.mapOptions=p,l.mapEvents=f,d.lazyInit?(l.map={id:i.id},a.addMap(l)):l.initializeMap(),d.triggerResize&&google.maps.event.trigger(l.map,"resize"),n.bind("$destroy",function(){s.returnMapInstance(l.map),a.deleteMap(l)})};e.$inject=["$scope","$element","$attrs","$parse","Attr2MapOptions","NgMap","NgMapPool"],angular.module("ngMap").controller("__MapController",e)}(),function(){"use strict";var t,e=function(e,i,r,o){o=o[0]||o[1];var a=t.orgAttributes(i),s=t.filter(r),l=t.getOptions(s,{scope:e}),u=t.getEvents(e,s),c=n(l,u);o.addObject("bicyclingLayers",c),o.observeAttrSetObj(a,r,c),i.bind("$destroy",function(){o.deleteObject("bicyclingLayers",c)})},n=function(t,e){var n=new google.maps.BicyclingLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n},i=function(n){return t=n,{restrict:"E",require:["?^map","?^ngMap"],link:e}};i.$inject=["Attr2MapOptions"],angular.module("ngMap").directive("bicyclingLayer",i)}(),function(){"use strict";var t,e,n,i=function(n,i,r,o){o=o[0]||o[1];var a=t.filter(r),s=t.getOptions(a,{scope:n}),l=t.getEvents(n,a),u=i[0].parentElement.removeChild(i[0]);e(u.innerHTML.trim())(n);for(var c in l)google.maps.event.addDomListener(u,c,l[c]);o.addObject("customControls",u);var d=s.position;o.map.controls[google.maps.ControlPosition[d]].push(u),i.bind("$destroy",function(){o.deleteObject("customControls",u)})},r=function(r,o,a){return t=r,e=o,n=a,{restrict:"E",require:["?^map","?^ngMap"],link:i}};r.$inject=["Attr2MapOptions","$compile","NgMap"],angular.module("ngMap").directive("customControl",r)}(),function(){"use strict";var t,e,n,i,r=function(t){t=t||{},this.el=document.createElement("div"),this.el.style.display="inline-block",this.el.style.visibility="hidden",this.visible=!0;for(var e in t)this[e]=t[e]},o=function(){r.prototype=new google.maps.OverlayView,r.prototype.setContent=function(t,e){this.el.innerHTML=t,this.el.style.position="absolute",e&&n(angular.element(this.el).contents())(e)},r.prototype.getDraggable=function(){return this.draggable},r.prototype.setDraggable=function(t){this.draggable=t},r.prototype.getPosition=function(){return this.position},r.prototype.setPosition=function(t){if(t&&(this.position=t),this.getProjection()&&"function"==typeof this.position.lng){var n=this.getProjection().fromLatLngToDivPixel(this.position),i=this;e(function(){var t=Math.round(n.x-i.el.offsetWidth/2),e=Math.round(n.y-i.el.offsetHeight-10);i.el.style.left=t+"px",i.el.style.top=e+"px",i.el.style.visibility="visible"},300)}},r.prototype.setZIndex=function(t){t&&(this.zIndex=t),this.el.style.zIndex=this.zIndex},r.prototype.setVisible=function(t){this.el.style.display=t?"inline-block":"none",this.visible=t},r.prototype.addClass=function(t){var e=this.el.className.trim().split(" ");-1==e.indexOf(t)&&e.push(t),this.el.className=e.join(" ")},r.prototype.removeClass=function(t){var e=this.el.className.split(" "),n=e.indexOf(t);n>-1&&e.splice(n,1),this.el.className=e.join(" ")},r.prototype.onAdd=function(){this.getPanes().overlayMouseTarget.appendChild(this.el)},r.prototype.draw=function(){this.setPosition(),this.setZIndex(this.zIndex),this.setVisible(this.visible)},r.prototype.onRemove=function(){this.el.parentNode.removeChild(this.el)}},a=function(n,o){return function(a,s,l,u){u=u[0]||u[1];var c=t.orgAttributes(s),d=t.filter(l),h=t.getOptions(d,{scope:a}),p=t.getEvents(a,d);s[0].style.display="none";var f=new r(h);e(function(){a.$watch("["+o.join(",")+"]",function(){f.setContent(n,a)}),f.setContent(s[0].innerHTML,a);var t=s[0].firstElementChild.className;f.addClass("custom-marker"),f.addClass(t),h.position instanceof google.maps.LatLng||i.getGeoLocation(h.position).then(function(t){f.setPosition(t)})});for(var g in p)google.maps.event.addDomListener(f.el,g,p[g]);u.addObject("customMarkers",f),u.observeAttrSetObj(c,l,f),s.bind("$destroy",function(){u.deleteObject("customMarkers",f)})}},s=function(r,s,l,u){return t=l,e=r,n=s,i=u,{restrict:"E",require:["?^map","?^ngMap"],compile:function(t){o(),t[0].style.display="none";var e=t.html(),n=e.match(/{{([^}]+)}}/g),i=[];return(n||[]).forEach(function(t){var e=t.replace("{{","").replace("}}","");-1==t.indexOf("::")&&-1==t.indexOf("this.")&&-1==i.indexOf(e)&&i.push(t.replace("{{","").replace("}}",""))}),a(e,i)}}};s.$inject=["$timeout","$compile","Attr2MapOptions","NgMap"],angular.module("ngMap").directive("customMarker",s)}(),function(){"use strict";var t,e,n,i=function(t,e){t.panel&&(t.panel=document.getElementById(t.panel)||document.querySelector(t.panel));var n=new google.maps.DirectionsRenderer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n},r=function(t,i){var r=new google.maps.DirectionsService,o=i;o.travelMode=o.travelMode||"DRIVING";var a=["origin","destination","travelMode","transitOptions","unitSystem","durationInTraffic","waypoints","optimizeWaypoints","provideRouteAlternatives","avoidHighways","avoidTolls","region"];for(var s in o)-1===a.indexOf(s)&&delete o[s];o.waypoints&&("[]"==o.waypoints||""===o.waypoints)&&delete o.waypoints;var l=function(n){r.route(n,function(n,i){i==google.maps.DirectionsStatus.OK&&e(function(){t.setDirections(n)})})};o.origin&&o.destination&&("current-location"==o.origin?n.getCurrentPosition().then(function(t){o.origin=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),l(o)}):"current-location"==o.destination?n.getCurrentPosition().then(function(t){o.destination=new google.maps.LatLng(t.coords.latitude,t.coords.longitude),l(o)}):l(o))},o=function(o,a,s,l){var u=o;t=l,e=a,n=s;var c=function(n,o,a,s){s=s[0]||s[1];var l=u.orgAttributes(o),c=u.filter(a),d=u.getOptions(c,{scope:n}),h=u.getEvents(n,c),p=u.getAttrsToObserve(l),f=i(d,h);s.addObject("directionsRenderers",f),p.forEach(function(t){!function(t){a.$observe(t,function(n){if("panel"==t)e(function(){var t=document.getElementById(n)||document.querySelector(n);t&&f.setPanel(t)});else if(d[t]!==n){var i=u.toOptionValue(n,{key:t});d[t]=i,r(f,d)}})}(t)}),t.getMap().then(function(){r(f,d)}),o.bind("$destroy",function(){s.deleteObject("directionsRenderers",f)})};return{restrict:"E",require:["?^map","?^ngMap"],link:c}};o.$inject=["Attr2MapOptions","$timeout","NavigatorGeolocation","NgMap"],angular.module("ngMap").directive("directions",o)}(),function(){"use strict";angular.module("ngMap").directive("drawingManager",["Attr2MapOptions",function(t){var e=t;return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,n,i,r){r=r[0]||r[1];var o=e.filter(i),a=e.getOptions(o,{scope:t}),s=e.getControlOptions(o),l=e.getEvents(t,o),u=new google.maps.drawing.DrawingManager({drawingMode:a.drawingmode,drawingControl:a.drawingcontrol,drawingControlOptions:s.drawingControlOptions,circleOptions:a.circleoptions,markerOptions:a.markeroptions,polygonOptions:a.polygonoptions,polylineOptions:a.polylineoptions,rectangleOptions:a.rectangleoptions});i.$observe("drawingControlOptions",function(t){u.drawingControlOptions=e.getControlOptions({drawingControlOptions:t}).drawingControlOptions,u.setDrawingMode(null),u.setMap(r.map)});for(var c in l)google.maps.event.addListener(u,c,l[c]);r.addObject("mapDrawingManager",u),n.bind("$destroy",function(){r.deleteObject("mapDrawingManager",u)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("dynamicMapsEngineLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.visualization.DynamicMapsEngineLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var a=e.filter(r),s=e.getOptions(a,{scope:t}),l=e.getEvents(t,a,l),u=n(s,l);o.addObject("mapsEngineLayers",u)}}}])}(),function(){"use strict";angular.module("ngMap").directive("fusionTablesLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.FusionTablesLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var a=e.filter(r),s=e.getOptions(a,{scope:t}),l=e.getEvents(t,a,l),u=n(s,l);o.addObject("fusionTablesLayers",u)}}}])}(),function(){"use strict";angular.module("ngMap").directive("heatmapLayer",["Attr2MapOptions","$window",function(t,e){var n=t;return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var a=n.filter(r),s=n.getOptions(a,{scope:t});if(s.data=e[r.data]||t[r.data],!(s.data instanceof Array))throw"invalid heatmap data";s.data=new google.maps.MVCArray(s.data);var l=new google.maps.visualization.HeatmapLayer(s);n.getEvents(t,a),o.addObject("heatmapLayers",l)}}}])}(),function(){"use strict";var t=function(t,e,n,i,r){var o=t,a=function(t,i,r){var o;!t.position||t.position instanceof google.maps.LatLng||delete t.position,o=new google.maps.InfoWindow(t);for(var a in i)a&&google.maps.event.addListener(o,a,i[a]);var s=r.html().trim();if(1!=angular.element(s).length)throw"info-window working as a template must have a container";return o.__template=s.replace(/\s?ng-non-bindable[='"]+/,""),o.__open=function(t,i,r){n(function(){r&&(i.anchor=r);var n=e(o.__template)(i);o.setContent(n[0]),i.$apply(),r&&r.getPosition?o.open(t,r):r&&r instanceof google.maps.LatLng?(o.open(t),o.setPosition(r)):o.open(t)})},o},s=function(t,e,n,s){s=s[0]||s[1],e.css("display","none");var l,u=o.orgAttributes(e),c=o.filter(n),d=o.getOptions(c,{scope:t}),h=o.getEvents(t,c);!d.position||d.position instanceof google.maps.LatLng||(l=d.position);var p=a(d,h,e);l&&r.getGeoLocation(l).then(function(e){p.setPosition(e),p.__open(s.map,t,e);var r=n.geoCallback;r&&i(r)(t)}),s.addObject("infoWindows",p),s.observeAttrSetObj(u,n,p),s.showInfoWindow=s.map.showInfoWindow=s.showInfoWindow||function(e,n,i){var r="string"==typeof e?e:n,o="string"==typeof e?n:i;if("string"==typeof o)if("undefined"!=typeof s.map.markers&&"undefined"!=typeof s.map.markers[o])o=s.map.markers[o];else{if("undefined"==typeof s.map.customMarkers[o])throw new Error("Cant open info window for id "+o+". Marker or CustomMarker is not defined");o=s.map.customMarkers[o]}var a=s.map.infoWindows[r],l=o?o:this.getPosition?this:null;a.__open(s.map,t,l),s.singleInfoWindow&&(s.lastInfoWindow&&t.hideInfoWindow(s.lastInfoWindow),s.lastInfoWindow=r)},s.hideInfoWindow=s.map.hideInfoWindow=s.hideInfoWindow||function(t,e){var n="string"==typeof t?t:e,i=s.map.infoWindows[n];i.close()},t.showInfoWindow=s.map.showInfoWindow,t.hideInfoWindow=s.map.hideInfoWindow,r.getMap().then(function(e){if(p.visible&&p.__open(e,t),p.visibleOnMarker){var n=p.visibleOnMarker;p.__open(e,t,e.markers[n])}})};return{restrict:"E",require:["?^map","?^ngMap"],link:s}};t.$inject=["Attr2MapOptions","$compile","$timeout","$parse","NgMap"],angular.module("ngMap").directive("infoWindow",t)}(),function(){"use strict";angular.module("ngMap").directive("kmlLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.KmlLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var a=e.orgAttributes(i),s=e.filter(r),l=e.getOptions(s,{scope:t}),u=e.getEvents(t,s),c=n(l,u);o.addObject("kmlLayers",c),o.observeAttrSetObj(a,r,c),i.bind("$destroy",function(){o.deleteObject("kmlLayers",c)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("mapData",["Attr2MapOptions","NgMap",function(t,e){var n=t;return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r){var o=n.filter(r),a=n.getOptions(o,{scope:t}),s=n.getEvents(t,o,s);e.getMap().then(function(e){for(var n in a){var i=a[n];"function"==typeof t[i]?e.data[n](t[i]):e.data[n](i)}for(var r in s)e.data.addListener(r,s[r])})}}}])}(),function(){"use strict";var t,e,n,i,r=function(n,r,o){var a=o.mapLazyLoadParams||o.mapLazyLoad;if(window.lazyLoadCallback=function(){t(function(){r.html(i),e(r.contents())(n)},100)},void 0===window.google||void 0===window.google.maps){var s=document.createElement("script");s.src=a+(a.indexOf("?")>-1?"&":"?")+"callback=lazyLoadCallback",document.querySelector('script[src="'+s.src+'"]')||document.body.appendChild(s)}else r.html(i),e(r.contents())(n)},o=function(t,e){return!e.mapLazyLoad&&void 0,i=t.html(),n=e.mapLazyLoad,(void 0===window.google||void 0===window.google.maps)&&(t.html(""),{pre:r})},a=function(n,i){return e=n,t=i,{compile:o}};a.$inject=["$compile","$timeout"],angular.module("ngMap").directive("mapLazyLoad",a)}(),function(){"use strict";angular.module("ngMap").directive("mapType",["$parse","NgMap",function(t,e){return{restrict:"E",require:["?^map","?^ngMap"],link:function(n,i,r,o){o=o[0]||o[1];var a,s=r.name;if(!s)throw"invalid map-type name";if(a=t(r.object)(n),!a)throw"invalid map-type object";e.getMap().then(function(t){t.mapTypes.set(s,a)}),o.addObject("mapTypes",a)}}}])}(),function(){"use strict";var t=function(){return{restrict:"AE",controller:"__MapController",conrollerAs:"ngmap"}};angular.module("ngMap").directive("map",[t]),angular.module("ngMap").directive("ngMap",[t])}(),function(){"use strict";angular.module("ngMap").directive("mapsEngineLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.visualization.MapsEngineLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var a=e.filter(r),s=e.getOptions(a,{scope:t}),l=e.getEvents(t,a,l),u=n(s,l);o.addObject("mapsEngineLayers",u)}}}])}(),function(){"use strict";var t,e,n,i=function(t,e){var i;if(n.defaultOptions.marker)for(var r in n.defaultOptions.marker)"undefined"==typeof t[r]&&(t[r]=n.defaultOptions.marker[r]);t.position instanceof google.maps.LatLng||(t.position=new google.maps.LatLng(0,0)),i=new google.maps.Marker(t),Object.keys(e).length>0;for(var o in e)o&&google.maps.event.addListener(i,o,e[o]);return i},r=function(r,o,a,s){s=s[0]||s[1];var l,u=t.orgAttributes(o),c=t.filter(a),d=t.getOptions(c,r,{scope:r}),h=t.getEvents(r,c);d.position instanceof google.maps.LatLng||(l=d.position);var p=i(d,h);s.addObject("markers",p),l&&n.getGeoLocation(l).then(function(t){p.setPosition(t),d.centered&&p.map.setCenter(t);var n=a.geoCallback;n&&e(n)(r)}),s.observeAttrSetObj(u,a,p),o.bind("$destroy",function(){s.deleteObject("markers",p)})},o=function(i,o,a){return t=i,e=o,n=a,{restrict:"E",require:["^?map","?^ngMap"],link:r}};o.$inject=["Attr2MapOptions","$parse","NgMap"],angular.module("ngMap").directive("marker",o)}(),function(){"use strict";angular.module("ngMap").directive("overlayMapType",["NgMap",function(t){return{restrict:"E",require:["?^map","?^ngMap"],link:function(e,n,i,r){r=r[0]||r[1];var o=i.initMethod||"insertAt",a=e[i.object];t.getMap().then(function(t){if("insertAt"==o){var e=parseInt(i.index,10);t.overlayMapTypes.insertAt(e,a)}else"push"==o&&t.overlayMapTypes.push(a)}),r.addObject("overlayMapTypes",a)}}}])}(),function(){"use strict";var t=function(t,e){var n=t,i=function(t,i,r,o){if("false"===r.placesAutoComplete)return!1;var a=n.filter(r),s=n.getOptions(a,{scope:t}),l=n.getEvents(t,a),u=new google.maps.places.Autocomplete(i[0],s);for(var c in l)google.maps.event.addListener(u,c,l[c]);var d=function(){e(function(){o&&o.$setViewValue(i.val())},100)};google.maps.event.addListener(u,"place_changed",d),i[0].addEventListener("change",d),r.$observe("types",function(t){if(t){var e=n.toOptionValue(t,{key:"types"});u.setTypes(e)}})};return{restrict:"A",require:"?ngModel",link:i}};t.$inject=["Attr2MapOptions","$timeout"],angular.module("ngMap").directive("placesAutoComplete",t)}(),function(){"use strict";var t=function(t,e){var n,i=t.name;switch(delete t.name,i){case"circle":t.center instanceof google.maps.LatLng||(t.center=new google.maps.LatLng(0,0)),n=new google.maps.Circle(t);break;case"polygon":n=new google.maps.Polygon(t);break;case"polyline":n=new google.maps.Polyline(t);break;case"rectangle":n=new google.maps.Rectangle(t);break;case"groundOverlay":case"image":var r=t.url,o={opacity:t.opacity,clickable:t.clickable,id:t.id};n=new google.maps.GroundOverlay(r,t.bounds,o)}for(var a in e)e[a]&&google.maps.event.addListener(n,a,e[a]);return n},e=function(e,n,i){var r=e,o=function(e,o,a,s){s=s[0]||s[1];var l,u,c=r.orgAttributes(o),d=r.filter(a),h=r.getOptions(d,{scope:e}),p=r.getEvents(e,d);u=h.name,h.center instanceof google.maps.LatLng||(l=h.center);var f=t(h,p);s.addObject("shapes",f),l&&"circle"==u&&i.getGeoLocation(l).then(function(t){f.setCenter(t),f.centered&&f.map.setCenter(t);var i=a.geoCallback;i&&n(i)(e)}),s.observeAttrSetObj(c,a,f),o.bind("$destroy",function(){s.deleteObject("shapes",f)})};return{restrict:"E",require:["?^map","?^ngMap"],link:o}};e.$inject=["Attr2MapOptions","$parse","NgMap"],angular.module("ngMap").directive("shape",e)}(),function(){"use strict";var t=function(t,e){var n=t,i=function(t,e,n){var i,r;e.container&&(r=document.getElementById(e.container),r=r||document.querySelector(e.container)),r?i=new google.maps.StreetViewPanorama(r,e):(i=t.getStreetView(),i.setOptions(e));for(var o in n)o&&google.maps.event.addListener(i,o,n[o]);return i},r=function(t,r,o){var a=n.filter(o),s=n.getOptions(a,{scope:t}),l=n.getControlOptions(a),u=angular.extend(s,l),c=n.getEvents(t,a);e.getMap().then(function(t){var e=i(t,u,c);t.setStreetView(e),!e.getPosition()&&e.setPosition(t.getCenter()),google.maps.event.addListener(e,"position_changed",function(){e.getPosition()!==t.getCenter()&&t.setCenter(e.getPosition())});var n=google.maps.event.addListener(t,"center_changed",function(){e.setPosition(t.getCenter()),google.maps.event.removeListener(n)})})};return{restrict:"E",require:["?^map","?^ngMap"],link:r}};t.$inject=["Attr2MapOptions","NgMap"],angular.module("ngMap").directive("streetViewPanorama",t)}(),function(){"use strict";angular.module("ngMap").directive("trafficLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.TrafficLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var a=e.orgAttributes(i),s=e.filter(r),l=e.getOptions(s,{scope:t}),u=e.getEvents(t,s),c=n(l,u);o.addObject("trafficLayers",c),o.observeAttrSetObj(a,r,c),i.bind("$destroy",function(){o.deleteObject("trafficLayers",c)})}}}])}(),function(){"use strict";angular.module("ngMap").directive("transitLayer",["Attr2MapOptions",function(t){var e=t,n=function(t,e){var n=new google.maps.TransitLayer(t);for(var i in e)google.maps.event.addListener(n,i,e[i]);return n};return{restrict:"E",require:["?^map","?^ngMap"],link:function(t,i,r,o){o=o[0]||o[1];var a=e.orgAttributes(i),s=e.filter(r),l=e.getOptions(s,{scope:t}),u=e.getEvents(t,s),c=n(l,u);o.addObject("transitLayers",c),o.observeAttrSetObj(a,r,c),i.bind("$destroy",function(){o.deleteObject("transitLayers",c)})}}}])}(),function(){"use strict";var t=/([\:\-\_]+(.))/g,e=/^moz([A-Z])/,n=function(){return function(n){return n.replace(t,function(t,e,n,i){return i?n.toUpperCase():n}).replace(e,"Moz$1")}};angular.module("ngMap").filter("camelCase",n)}(),function(){"use strict";var t=function(){return function(t){try{return JSON.parse(t),t}catch(e){return t.replace(/([\$\w]+)\s*:/g,function(t,e){return'"'+e+'":'}).replace(/'([^']+)'/g,function(t,e){return'"'+e+'"'})}}};angular.module("ngMap").filter("jsonize",t)}(),function(){"use strict";var isoDateRE=/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/,Attr2MapOptions=function($parse,$timeout,$log,NavigatorGeolocation,GeoCoder,camelCaseFilter,jsonizeFilter){var orgAttributes=function(t){t.length>0&&(t=t[0]);for(var e={},n=0;n<t.attributes.length;n++){var i=t.attributes[n];e[i.name]=i.value}return e},getJSON=function(t){var e=/^[\+\-]?[0-9\.]+,[ ]*\ ?[\+\-]?[0-9\.]+$/;return t.match(e)&&(t="["+t+"]"),JSON.parse(jsonizeFilter(t))},getLatLng=function(t){var e=t;return t[0].constructor==Array?e=t.map(function(t){return new google.maps.LatLng(t[0],t[1])}):!isNaN(parseFloat(t[0]))&&isFinite(t[0])&&(e=new google.maps.LatLng(e[0],e[1])),e},toOptionValue=function(input,options){var output;try{output=getNumber(input)}catch(err){try{var output=getJSON(input);if(output instanceof Array)output=output[0].constructor==Object?output:getLatLng(output);else if(output===Object(output)){var newOptions=options;newOptions.doNotConverStringToNumber=!0,output=getOptions(output,newOptions)}}catch(err2){if(input.match(/^[A-Z][a-zA-Z0-9]+\(.*\)$/))try{var exp="new google.maps."+input;output=eval(exp)}catch(e){output=input}else if(input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/))try{var matches=input.match(/^([A-Z][a-zA-Z0-9]+)\.([A-Z]+)$/);output=google.maps[matches[1]][matches[2]]}catch(e){output=input}else if(input.match(/^[A-Z]+$/))try{var capitalizedKey=options.key.charAt(0).toUpperCase()+options.key.slice(1);options.key.match(/temperatureUnit|windSpeedUnit|labelColor/)?(capitalizedKey=capitalizedKey.replace(/s$/,""),output=google.maps.weather[capitalizedKey][input]):output=google.maps[capitalizedKey][input]}catch(e){output=input}else if(input.match(isoDateRE))try{output=new Date(input)}catch(e){output=input}else if(input.match(/^{/)&&options.scope)try{var expr=input.replace(/{{/,"").replace(/}}/g,"");output=options.scope.$eval(expr)}catch(err){output=input}else output=input}}if(("center"==options.key||"center"==options.key)&&output instanceof Array&&(output=new google.maps.LatLng(output[0],output[1])),"bounds"==options.key&&output instanceof Array&&(output=new google.maps.LatLngBounds(output[0],output[1])),"icons"==options.key&&output instanceof Array)for(var i=0;i<output.length;i++){var el=output[i];el.icon.path.match(/^[A-Z_]+$/)&&(el.icon.path=google.maps.SymbolPath[el.icon.path])}if("icon"==options.key&&output instanceof Object){(""+output.path).match(/^[A-Z_]+$/)&&(output.path=google.maps.SymbolPath[output.path]);for(var key in output){var arr=output[key];"anchor"==key||"origin"==key?output[key]=new google.maps.Point(arr[0],arr[1]):("size"==key||"scaledSize"==key)&&(output[key]=new google.maps.Size(arr[0],arr[1]))}}return output},getAttrsToObserve=function(t){var e=[];if(!t.noWatcher)for(var n in t){var i=t[n];i&&i.match(/\{\{.*\}\}/)&&e.push(camelCaseFilter(n))}return e},filter=function(t){var e={};for(var n in t)n.match(/^\$/)||n.match(/^ng[A-Z]/)||(e[n]=t[n]);return e},getOptions=function(t,e){e=e||{};var n={};for(var i in t)if(t[i]||0===t[i]){if(i.match(/^on[A-Z]/))continue;if(i.match(/ControlOptions$/))continue;n[i]="string"!=typeof t[i]?t[i]:e.doNotConverStringToNumber&&t[i].match(/^[0-9]+$/)?t[i]:toOptionValue(t[i],{key:i,scope:e.scope})}return n},getEvents=function(t,e){var n={},i=function(t){return"_"+t.toLowerCase()},r=function(e){var n=e.match(/([^\(]+)\(([^\)]*)\)/),i=n[1],r=n[2].replace(/event[ ,]*/,""),o=$parse("["+r+"]");return function(e){function n(t,e){return t[e]}var r=o(t),a=i.split(".").reduce(n,t);a&&a.apply(this,[e].concat(r)),$timeout(function(){t.$apply()})}};for(var o in e)if(e[o]){if(!o.match(/^on[A-Z]/))continue;var a=o.replace(/^on/,"");a=a.charAt(0).toLowerCase()+a.slice(1),a=a.replace(/([A-Z])/g,i);var s=e[o];n[a]=new r(s)}return n},getControlOptions=function(t){var e={};if("object"!=typeof t)return!1;for(var n in t)if(t[n]){if(!n.match(/(.*)ControlOptions$/))continue;var i=t[n],r=i.replace(/'/g,'"');r=r.replace(/([^"]+)|("[^"]+")/g,function(t,e,n){return e?e.replace(/([a-zA-Z0-9]+?):/g,'"$1":'):n});try{var o=JSON.parse(r);for(var a in o)if(o[a]){var s=o[a];if("string"==typeof s?s=s.toUpperCase():"mapTypeIds"===a&&(s=s.map(function(t){return t.match(/^[A-Z]+$/)?google.maps.MapTypeId[t.toUpperCase()]:t})),"style"===a){var l=n.charAt(0).toUpperCase()+n.slice(1),u=l.replace(/Options$/,"")+"Style";o[a]=google.maps[u][s]}else o[a]="position"===a?google.maps.ControlPosition[s]:s}e[n]=o}catch(c){}}return e};return{filter:filter,getOptions:getOptions,getEvents:getEvents,getControlOptions:getControlOptions,toOptionValue:toOptionValue,getAttrsToObserve:getAttrsToObserve,orgAttributes:orgAttributes}};Attr2MapOptions.$inject=["$parse","$timeout","$log","NavigatorGeolocation","GeoCoder","camelCaseFilter","jsonizeFilter"],angular.module("ngMap").service("Attr2MapOptions",Attr2MapOptions)}(),function(){"use strict";var t,e=function(e){
var n=t.defer(),i=new google.maps.Geocoder;return i.geocode(e,function(t,e){e==google.maps.GeocoderStatus.OK?n.resolve(t):n.reject(e)}),n.promise},n=function(n){return t=n,{geocode:e}};n.$inject=["$q"],angular.module("ngMap").service("GeoCoder",n)}(),function(){"use strict";var t,e=function(e){var n=t.defer();return navigator.geolocation?(void 0===e?e={timeout:5e3}:void 0===e.timeout&&(e.timeout=5e3),navigator.geolocation.getCurrentPosition(function(t){n.resolve(t)},function(t){n.reject(t)},e)):n.reject("Browser Geolocation service failed."),n.promise},n=function(n){return t=n,{getCurrentPosition:e}};n.$inject=["$q"],angular.module("ngMap").service("NavigatorGeolocation",n)}(),function(){"use strict";var t,e,n=[],i=function(i){var r=e.createElement("div");r.style.width="100%",r.style.height="100%",i.appendChild(r);var o=new t.google.maps.Map(r,{});return n.push(o),o},r=function(t){for(var e,i=0;i<n.length;i++){var r=n[i];if(!r.inUse){var o=r.getDiv();t.appendChild(o),e=r;break}}return e},o=function(t){var e=r(t);return e||(e=i(t)),e.inUse=!0,e},a=function(t){t.inUse=!1},s=function(i,r){return e=i[0],t=r,{mapInstances:n,getMapInstance:o,returnMapInstance:a}};s.$inject=["$document","$window"],angular.module("ngMap").factory("NgMapPool",s)}(),function(){"use strict";var t,e,n,i,r,o,a,s={},l=function(n,i){var r;return n.currentStyle?r=n.currentStyle[i]:t.getComputedStyle&&(r=e.defaultView.getComputedStyle(n,null).getPropertyValue(i)),r},u=function(t){var e=s[t||0];return e.map instanceof google.maps.Map?void 0:(e.initializeMap(),e.map)},c=function(e){function i(e){s[o]?r.resolve(s[o].map):e>a?r.reject("could not find map"):t.setTimeout(function(){i(e+100)},100)}e=e||{};var r=n.defer(),o=e.id||0,a=e.timeout||2e3;return i(0),r.promise},d=function(t){if(t.map){var e=Object.keys(s).length;s[t.map.id||e]=t}},h=function(t){var e=Object.keys(s).length-1,n=t.map.id||e;t.map&&(google.maps.event.clearInstanceListeners(t.map),t.map.controls&&t.map.controls.forEach(function(t){t.clear()})),delete s[n]},p=function(t,e){var r=n.defer();return!t||t.match(/^current/i)?i.getCurrentPosition(e).then(function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new google.maps.LatLng(e,n);r.resolve(i)},function(t){r.reject(t)}):o.geocode({address:t}).then(function(t){r.resolve(t[0].geometry.location)},function(t){r.reject(t)}),r.promise},f=function(t,e){return function(n){if(n){var i=a("set-"+t),o=r.toOptionValue(n,{key:t});e[i]&&(t.match(/center|position/)&&"string"==typeof o?p(o).then(function(t){e[i](t)}):e[i](o))}}},g=function(t){var e=t.getAttribute("default-style");"true"==e?(t.style.display="block",t.style.height="300px"):("block"!=l(t,"display")&&(t.style.display="block"),l(t,"height").match(/^(0|auto)/)&&(t.style.height="300px"))};angular.module("ngMap").provider("NgMap",function(){var s={};this.setDefaultOptions=function(t){s=t};var l=function(l,m,v,y,b,w,_){return t=l,e=m[0],n=v,i=y,r=b,o=w,a=_,{defaultOptions:s,addMap:d,deleteMap:h,getMap:c,initMap:u,setStyle:g,getGeoLocation:p,observeAndSet:f}};l.$inject=["$window","$document","$q","NavigatorGeolocation","Attr2MapOptions","GeoCoder","camelCaseFilter"],this.$get=l})}(),function(){"use strict";var t,e=function(e,n){n=n||e.getCenter();var i=t.defer(),r=new google.maps.StreetViewService;return r.getPanoramaByLocation(n||e.getCenter,100,function(t,e){e===google.maps.StreetViewStatus.OK?i.resolve(t.location.pano):i.resolve(!1)}),i.promise},n=function(t,e){var n=new google.maps.StreetViewPanorama(t.getDiv(),{enableCloseButton:!0});n.setPano(e)},i=function(i){return t=i,{getPanorama:e,setPanorama:n}};i.$inject=["$q"],angular.module("ngMap").service("StreetView",i)}(),function(){function t(t){function e(e,n,i,r){function o(){var t=s.querySelector("tbody tr:first-child td:first-child");return t&&!t.style.width}function a(){angular.element(s.querySelectorAll("thead, tbody, tfoot")).css("display",""),t(function(){angular.forEach(s.querySelectorAll("tr:first-child th"),function(t,e){var n=s.querySelector("tbody tr:first-child td:nth-child("+(e+1)+")"),i=s.querySelector("tfoot tr:first-child td:nth-child("+(e+1)+")"),r=n?n.offsetWidth:t.offsetWidth;n&&(n.style.width=r+"px"),t&&(t.style.width=r+"px"),i&&(i.style.width=r+"px")}),angular.element(s.querySelectorAll("thead, tfoot")).css("display","block"),angular.element(s.querySelectorAll("tbody")).css({display:"block",height:i.tableHeight||"inherit",overflow:"auto"});var t=s.querySelector("tbody"),e=t.offsetWidth-t.clientWidth;if(e>0){e-=2;var n=s.querySelector("tbody tr:first-child td:last-child");n.style.width=n.offsetWidth-e+"px"}})}var s=n[0];e.$watch(o,function(t){t&&a()})}return{restrict:"A",link:e}}angular.module("anguFixedHeaderTable",[]).directive("fixedHeader",t),t.$inject=["$timeout"]}(),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(t,e,n,i,r,o){o=o||{};var a=0,s="ui-tinymce";return o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],priority:599,link:function(l,u,c,d){function h(t){t?(p(),g&&g.getBody().setAttribute("contenteditable",!1)):(p(),g&&!g.settings.readonly&&g.getBody().setAttribute("contenteditable",!0))}function p(){g||(g=tinymce.get(c.id))}if(i.tinymce){var f,g,m=d[0],v=d[1]||null,y={},b=function(e){var n=e.getContent({format:y.format}).trim();n=r.trustAsHtml(n),m.$setViewValue(n),t.$$phase||l.$digest()};c.$set("id",s+"-"+a++),f={},angular.extend(f,l.$eval(c.uiTinymce));var w=function(t){var e;return function(i){n.cancel(e),e=n(function(){return function(t){t.isDirty()&&(t.save(),b(t))}(i)},t)}}(400),_={setup:function(t){t.on("init",function(){m.$render(),m.$setPristine(),m.$setUntouched(),v&&v.$setPristine()}),t.on("ExecCommand change NodeChange ObjectResized",function(){w(t)}),t.on("blur",function(){u[0].blur(),m.$setTouched(),l.$digest()}),t.on("remove",function(){u.remove()}),f.setup&&f.setup(t,{updateView:b})},format:f.format||"html",selector:"#"+c.id};angular.extend(y,o,f,_),n(function(){y.baseURL&&(tinymce.baseURL=y.baseURL),tinymce.init(y),h(l.$eval(c.ngDisabled))}),m.$formatters.unshift(function(t){return t?r.trustAsHtml(t):""}),m.$parsers.unshift(function(t){return t?r.getTrustedHtml(t):""}),m.$render=function(){p();var t=m.$viewValue?r.getTrustedHtml(m.$viewValue):"";g&&g.getDoc()&&(g.setContent(t),g.fire("change"))},c.$observe("disabled",h),l.$on("$tinymce:refresh",function(t,n){var i=c.id;if(angular.isUndefined(n)||n===i){var r=u.parent(),o=u.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,i),r.append(e(o)(l))}}),l.$on("$destroy",function(){p(),g&&(g.remove(),g=null)})}}}}]),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="monospaced.elastic"),angular.module("monospaced.elastic",[]).constant("msdElasticConfig",{append:""}).directive("msdElastic",["$timeout","$window","msdElasticConfig",function(t,e,n){"use strict";return{require:"ngModel",restrict:"A, C",link:function(i,r,o,a){function s(){var t=v;p=c,w=getComputedStyle(c),angular.forEach(T,function(e){t+=e+":"+w.getPropertyValue(e)+";"}),b.setAttribute("style",t)}function l(){var e,n,r,o,a;p!==c&&s(),f||(f=!0,b.value=c.value+g,b.style.overflowY=c.style.overflowY,e=""===c.style.height?"auto":parseInt(c.style.height,10),n=getComputedStyle(c).getPropertyValue("width"),"px"===n.substr(n.length-2,2)&&(o=parseInt(n,10)-k.width,b.style.width=o+"px"),r=b.scrollHeight,r>S?(r=S,a="scroll"):r<M&&(r=M),r+=k.height,c.style.overflowY=a||"hidden",e!==r&&(i.$emit("elastic:resize",d,e,r),c.style.height=r+"px"),t(function(){f=!1},1,!1))}function u(){f=!1,l()}var c=r[0],d=r;if("TEXTAREA"===c.nodeName&&e.getComputedStyle){d.css({overflow:"hidden","overflow-y":"hidden","word-wrap":"break-word"});var h=c.value;c.value="",c.value=h;var p,f,g=o.msdElastic?o.msdElastic.replace(/\\n/g,"\n"):n.append,m=angular.element(e),v="position: absolute; top: -999px; right: auto; bottom: auto;left: 0; overflow: hidden; -webkit-box-sizing: content-box;-moz-box-sizing: content-box; box-sizing: content-box;min-height: 0 !important; height: 0 !important; padding: 0;word-wrap: break-word; border: 0;",y=angular.element('<textarea aria-hidden="true" tabindex="-1" style="'+v+'"/>').data("elastic",!0),b=y[0],w=getComputedStyle(c),_=w.getPropertyValue("resize"),x="border-box"===w.getPropertyValue("box-sizing")||"border-box"===w.getPropertyValue("-moz-box-sizing")||"border-box"===w.getPropertyValue("-webkit-box-sizing"),k=x?{width:parseInt(w.getPropertyValue("border-right-width"),10)+parseInt(w.getPropertyValue("padding-right"),10)+parseInt(w.getPropertyValue("padding-left"),10)+parseInt(w.getPropertyValue("border-left-width"),10),height:parseInt(w.getPropertyValue("border-top-width"),10)+parseInt(w.getPropertyValue("padding-top"),10)+parseInt(w.getPropertyValue("padding-bottom"),10)+parseInt(w.getPropertyValue("border-bottom-width"),10)}:{width:0,height:0},C=parseInt(w.getPropertyValue("min-height"),10),$=parseInt(w.getPropertyValue("height"),10),M=Math.max(C,$)-k.height,S=parseInt(w.getPropertyValue("max-height"),10),T=["font-family","font-size","font-weight","font-style","letter-spacing","line-height","text-transform","word-spacing","text-indent"];d.data("elastic")||(S=S&&S>0?S:9e4,b.parentNode!==document.body&&angular.element(document.body).append(b),d.css({resize:"none"===_||"vertical"===_?"none":"horizontal"}).data("elastic",!0),"onpropertychange"in c&&"oninput"in c?c.oninput=c.onkeyup=l:c.oninput=l,m.bind("resize",u),i.$watch(function(){return a.$modelValue},function(t){u()}),i.$on("elastic:adjust",function(){s(),u()}),t(l,0,!1),i.$on("$destroy",function(){y.remove(),m.unbind("resize",u)}))}}}}]),function(){"use strict";function t(t){return angular.isUndefined(t)||null===t}function e(){try{return require("moment")}catch(t){throw new Error("Please install moment via npm. Please reference to: https://github.com/urish/angular-moment")}}function n(n,i){if("undefined"==typeof i){if("function"!=typeof require)throw new Error("Moment cannot be found by angular-moment! Please reference to: https://github.com/urish/angular-moment");i=e()}return n.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:null,format:null,statefulFilters:!0}).constant("moment",i).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null,fullDateThreshold:null,fullDateFormat:null,fullDateThresholdUnit:"day"}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig",function(e,i,r,o){return function(a,s,l){function u(){var t;if(g)t=g;else if(o.serverTime){var e=(new Date).getTime(),n=e-x+o.serverTime;t=i(n)}else t=i();return t}function c(){m&&(e.clearTimeout(m),m=null)}function d(t){var n=u().diff(t,_),i=b&&n>=b;if(i?s.text(t.format(w)):s.text(t.from(u(),v)),y&&$&&s.attr("title",t.format(y)),!i){var r=Math.abs(u().diff(t,"minute")),o=3600;r<1?o=1:r<60?o=30:r<180&&(o=300),m=e.setTimeout(function(){d(t)},1e3*o)}}function h(t){C&&s.attr("datetime",t)}function p(){if(c(),f){var t=r.preprocessDate(f);d(t),h(t.toISOString())}}var f,g,m=null,v=o.withoutSuffix,y=o.titleFormat,b=o.fullDateThreshold,w=o.fullDateFormat,_=o.fullDateThresholdUnit,x=(new Date).getTime(),k=l.amTimeAgo,C="TIME"===s[0].nodeName.toUpperCase(),$=!s.attr("title");a.$watch(k,function(e){return t(e)||""===e?(c(),void(f&&(s.text(""),h(""),f=null))):(f=e,void p())}),n.isDefined(l.amFrom)&&a.$watch(l.amFrom,function(e){g=t(e)||""===e?null:i(e),p()}),n.isDefined(l.amWithoutSuffix)&&a.$watch(l.amWithoutSuffix,function(t){"boolean"==typeof t?(v=t,p()):v=o.withoutSuffix}),l.$observe("amFullDateThreshold",function(t){b=t,p()}),l.$observe("amFullDateFormat",function(t){w=t,p()}),l.$observe("amFullDateThresholdUnit",function(t){_=t,p()}),a.$on("$destroy",function(){c()}),a.$on("amMoment:localeChanged",function(){p()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(t,e,i,r){var o=null;this.changeLocale=function(i,r){var o=t.locale(i,r);return n.isDefined(i)&&e.$broadcast("amMoment:localeChanged"),o},this.changeTimezone=function(n){t.tz&&t.tz.setDefault?(t.tz.setDefault(n),e.$broadcast("amMoment:timezoneChanged")):i.warn("angular-moment: changeTimezone() works only with moment-timezone.js v0.3.0 or greater."),r.timezone=n,o=n},this.preprocessDate=function(e){return o!==r.timezone&&this.changeTimezone(r.timezone),r.preprocess?r.preprocess(e):t(!isNaN(parseFloat(e))&&isFinite(e)?parseInt(e,10):e)}}]).filter("amParse",["moment",function(t){return function(e,n){return t(e,n)}}]).filter("amFromUnix",["moment",function(t){return function(e){return t.unix(e)}}]).filter("amUtc",["moment",function(t){return function(e){return t.utc(e)}}]).filter("amUtcOffset",["amMoment",function(t){function e(e,n){return t.preprocessDate(e).utcOffset(n)}return e}]).filter("amLocal",["moment",function(t){return function(e){return t.isMoment(e)?e.local():null}}]).filter("amTimezone",["amMoment","angularMomentConfig","$log",function(t,e,n){function i(e,i){var r=t.preprocessDate(e);return i?r.tz?r.tz(i):(n.warn("angular-moment: named timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js ?"),r):r}return i}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(e,i,r){if(t(e))return"";var o=n.preprocessDate(e);return o.isValid()?o.calendar(i,r):""}return r.$stateful=i.statefulFilters,r}]).filter("amDifference",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(i,r,o,a){if(t(i))return"";var s=n.preprocessDate(i),l=t(r)?e():n.preprocessDate(r);return s.isValid()&&l.isValid()?s.diff(l,o,a):""}return r.$stateful=i.statefulFilters,r}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(e,i){if(t(e))return"";var r=n.preprocessDate(e);return r.isValid()?r.format(i):""}return r.$stateful=i.statefulFilters,r}]).filter("amDurationFormat",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e.duration(n,i).humanize(r)}return i.$stateful=n.statefulFilters,i}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(e,n,i){function r(i,r,o){var a,s;return t(i)?"":(i=n.preprocessDate(i),a=e(i),a.isValid()?(s=e(o),!t(o)&&s.isValid()?a.from(s,r):a.fromNow(r)):"")}return r.$stateful=i.statefulFilters,r}]).filter("amSubtract",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e(n).subtract(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amAdd",["moment","angularMomentConfig",function(e,n){function i(n,i,r){return t(n)?"":e(n).add(parseInt(i,10),r)}return i.$stateful=n.statefulFilters,i}]).filter("amStartOf",["moment","angularMomentConfig",function(e,n){function i(n,i){return t(n)?"":e(n).startOf(i)}return i.$stateful=n.statefulFilters,i}]).filter("amEndOf",["moment","angularMomentConfig",function(e,n){function i(n,i){return t(n)?"":e(n).endOf(i)}return i.$stateful=n.statefulFilters,i}])}"function"==typeof define&&define.amd?define(["angular","moment"],n):"undefined"!=typeof module&&module&&module.exports?(n(require("angular"),require("moment")),module.exports="angularMoment"):n(angular,("undefined"!=typeof global?global:window).moment)}(),function(){"use strict";angular.module("gantt",["gantt.templates","angularMoment"]).directive("gantt",["Gantt","ganttEnableNgAnimate","$timeout","$templateCache",function(t,e,n,i){return{restrict:"A",transclude:!0,templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"template/gantt.tmpl.html":e.templateUrl,void 0!==e.template&&i.put(n,e.template),n},scope:{sortMode:"=?",filterTask:"=?",filterTaskComparator:"=?",filterRow:"=?",filterRowComparator:"=?",viewScale:"=?",columnWidth:"=?",expandToFit:"=?",shrinkToFit:"=?",showSide:"=?",allowSideResizing:"=?",fromDate:"=?",toDate:"=?",currentDateValue:"=?",currentDate:"=?",daily:"=?",autoExpand:"=?",taskOutOfRange:"=?",taskContent:"=?",rowContent:"=?",maxHeight:"=?",sideWidth:"=?",headers:"=?",headersFormats:"=?",timeFrames:"=?",dateFrames:"=?",timeFramesWorkingMode:"=?",timeFramesNonWorkingMode:"=?",timespans:"=?",columnMagnet:"=?",shiftColumnMagnet:"=?",timeFramesMagnet:"=?",data:"=?",api:"=?",options:"=?"},controller:["$scope","$element",function(n,i){for(var r in n.options)n[r]=n.options[r];e(i,!1),n.gantt=new t(n,i),this.gantt=n.gantt}],link:function(t,e){t.gantt.api.directives.raise["new"]("gantt",t,e),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy("gantt",t,e)}),n(function(){t.gantt.initialized()})}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttApi",["$q","$rootScope","ganttUtils",function(t,e,n){function i(t,n,i,r){return e.$on(t,function(){var t=Array.prototype.slice.call(arguments);t.splice(0,1),n.apply(r?r:i.api,t)})}var r=function(t){this.gantt=t,this.listeners=[],this.apiId=n.newId()};return r.prototype.suppressEvents=function(t,e){var n=this,r=angular.isArray(t)?t:[t],o=[];r.forEach(function(t){o=n.listeners.filter(function(e){return t===e.handler})}),o.forEach(function(t){t.dereg()}),e(),o.forEach(function(t){t.dereg=i(t.eventId,t.handler,n.gantt,t._this)})},r.prototype.registerEvent=function(t,n){var r=this;r[t]||(r[t]={});var o=r[t];o.on||(o.on={},o.raise={});var a="event:gantt:"+this.apiId+":"+t+":"+n;o.raise[n]=function(){e.$emit.apply(e,[a].concat(Array.prototype.slice.call(arguments)))},o.on[n]=function(t,e,n){var o=i(a,e,r.gantt,n),s={handler:e,dereg:o,eventId:a,scope:t,_this:n};r.listeners.push(s);var l=function(){s.dereg();var t=r.listeners.indexOf(s);r.listeners.splice(t,1)};return t.$on("$destroy",function(){l()}),l}},r.prototype.registerEventsFromObject=function(t){var e=this,n=[];angular.forEach(t,function(t,e){var i={name:e,events:[]};angular.forEach(t,function(t,e){i.events.push(e)}),n.push(i)}),n.forEach(function(t){t.events.forEach(function(n){e.registerEvent(t.name,n)})})},r.prototype.registerMethod=function(t,e,i,r){this[t]||(this[t]={});var o=this[t];o[e]=n.createBoundedWrapper(r||this.gantt,i)},r.prototype.registerMethodsFromObject=function(t,e){var n=this,i=[];angular.forEach(t,function(t,e){var n={name:e,methods:[]};angular.forEach(t,function(t,e){n.methods.push({name:e,fn:t})}),i.push(n)}),i.forEach(function(t){t.methods.forEach(function(i){n.registerMethod(t.name,i.name,i.fn,e)})})},r}])}(),function(){"use strict";angular.module("gantt").factory("GanttOptions",[function(){var t=function(t,e){this.defaultValues=e,this.values=t,this.defaultValue=function(t){var e=this.defaultValues[t];return angular.isFunction(e)&&(e=e()),e},this.sanitize=function(t,e){if(!e){var n=this.defaultValue(t);if(void 0!==n)return void 0!==e&&"boolean"==typeof n?e:n}return e},this.value=function(t){return this.sanitize(t,this.values[t])},this.set=function(t,e){this.values[t]=e},this.initialize=function(){for(var t in this.values){var e=this.values[t];this.values.hasOwnProperty(t)&&(this.values[t]=this.value(t,e))}return this.values}};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttCalendar",["$filter","moment",function(t,e){var n=function(t){void 0===t&&(t={}),this.start=t.start,this.end=t.end,this.working=t.working,this.magnet=void 0===t.magnet||t.magnet,this["default"]=t["default"],this.color=t.color,this.classes=t.classes,this.internal=t.internal};n.prototype.updateView=function(){if(this.$element){var t={};void 0!==this.left?t.left=this.left+"px":t.left="",void 0!==this.width?t.width=this.width+"px":t.width="",void 0!==this.color?t["background-color"]=this.color:t["background-color"]="",this.$element.css(t);var e=["gantt-timeframe"+(this.working?"":"-non")+"-working"];this.classes&&(e=e.concat(this.classes));for(var n=0,i=e.length;n<i;n++)this.$element.toggleClass(e[n],!0)}},n.prototype.getDuration=function(){if(void 0!==this.end&&void 0!==this.start)return this.end.diff(this.start,"milliseconds")},n.prototype.clone=function(){return new n(this)};var i=function(t){this.func=t};i.prototype.getTimeFrames=function(t){var e=this.func(t);return e instanceof Array||(e=[e]),e},i.prototype.clone=function(){return new i(this.func)};var r=function(t){this.evaluator=t.evaluator,t.date?(this.start=e(t.date).startOf("day"),this.end=e(t.date).endOf("day")):(this.start=t.start,this.end=t.end),t.targets instanceof Array?this.targets=t.targets:this.targets=[t.targets],this["default"]=t["default"]};r.prototype.dateMatch=function(t){return this.evaluator?this.evaluator(t):!(!this.start||!this.end)&&(t>=this.start&&t<=this.end)},r.prototype.clone=function(){return new r(this)};var o=function(){this.timeFrames={},this.timeFrameMappings={},this.dateFrames={}};o.prototype.clear=function(){this.timeFrames={},this.timeFrameMappings={},this.dateFrames={}},o.prototype.registerTimeFrames=function(t){angular.forEach(t,function(t,e){this.timeFrames[e]=new n(t)},this)},o.prototype.removeTimeFrames=function(t){angular.forEach(t,function(t){delete this.timeFrames[t]},this)},o.prototype.clearTimeFrames=function(){this.timeFrames={}},o.prototype.registerTimeFrameMappings=function(t){angular.forEach(t,function(t,e){this.timeFrameMappings[e]=new i(t)},this)},o.prototype.removeTimeFrameMappings=function(t){angular.forEach(t,function(t){delete this.timeFrameMappings[t]},this)},o.prototype.clearTimeFrameMappings=function(){this.timeFrameMappings={}},o.prototype.registerDateFrames=function(t){angular.forEach(t,function(t,e){this.dateFrames[e]=new r(t)},this)},o.prototype.removeDateFrames=function(t){angular.forEach(t,function(t){delete this.dateFrames[t]},this)},o.prototype.clearDateFrames=function(){this.dateFrames={}};var a=function(t,e){var n=[];return angular.forEach(t,function(t){t.dateMatch(e)&&n.push(t)}),0===n.length&&angular.forEach(t,function(t){t["default"]&&n.push(t)}),n};return o.prototype.getTimeFrames=function(t){for(var n=[],i=a(this.dateFrames,t),r=0;r<i.length;r++)if(void 0!==i[r])for(var o=i[r].targets,s=0;s<o.length;s++){var l=this.timeFrameMappings[o[s]];if(void 0!==l)n.push(l.getTimeFrames());else{var u=this.timeFrames[o[s]];void 0!==u&&n.push(u)}}var c=t.year(),d=t.month(),h=t.date(),p=[];for(0===n.length&&angular.forEach(this.timeFrames,function(t){t["default"]&&n.push(t)}),r=0;r<n.length;r++){var f=n[r].clone();void 0!==f.start&&(f.start.year(c),f.start.month(d),f.start.date(h)),void 0!==f.end&&(f.end.year(c),f.end.month(d),f.end.date(h),e(f.end).startOf("day")===f.end&&f.end.add(1,"day")),p.push(f)}return p},o.prototype.solve=function(i,r,o){for(var a,s,l,u,c=0;c<i.length;c++){var d=i[c];(void 0===l||l>d.start)&&(l=d.start),(void 0===u||u<d.end)&&(u=d.end),void 0===a&&d.color&&(a=d.color),void 0!==d.classes&&(void 0===s&&(s=[]),s=s.concat(d.classes))}void 0===r&&(r=l),void 0===o&&(o=u);var h=[new n({start:r,end:o,internal:!0})];for(i=t("filter")(i,function(t){return(void 0===t.start||t.start<o)&&(void 0===t.end||t.end>r)}),c=0;c<i.length;c++){var p=i[c];p.start||(p.start=r),p.end||(p.end=o)}var f,g=t("orderBy")(i,function(t){return-t.getDuration()});for(c=0;c<g.length;c++){var m=g[c],v=h.slice();f=0;for(var y=!1,b=!1,w=0;w<h.length;w++){var _=h[w];if(!b){if(m.end||m.start)if(m.end>_.start&&m.start<_.end){var x=_.clone();_.end=e(m.start),x.start=e(m.end),v.splice(f+1,0,m.clone(),x),b=!0,y=!1}else!y&&m.start<_.end?(_.end=e(m.start),v.splice(f+1,0,m.clone()),y=!0):y&&m.end>_.start&&(_.start=e(m.end),y=!1,b=!0);else v.splice(f,0,m),b=!0,y=!1;f++}}h=v}return h=t("filter")(h,function(t){return!t.internal&&(void 0===t.start||t.start<o)&&(void 0===t.end||t.end>r)})},o}])}(),function(){"use strict";angular.module("gantt").factory("GanttCurrentDateManager",["moment",function(t){var e=function(e){var n=this;this.gantt=e,this.date=void 0,this.position=void 0,this.currentDateColumn=void 0,this.gantt.$scope.simplifyMoment=function(e){return t.isMoment(e)?e.unix():e},this.gantt.$scope.$watchGroup(["currentDate","simplifyMoment(currentDateValue)"],function(t,e){t!==e&&n.setCurrentDate(n.gantt.options.value("currentDateValue"))})};return e.prototype.setCurrentDate=function(t){this.date=t;var e,n=this.currentDateColumn;void 0!==this.date&&"column"===this.gantt.options.value("currentDate")&&(e=this.gantt.columnsManager.getColumnByDate(this.date,!0)),this.currentDateColumn=e,n!==e&&(void 0!==n&&(n.currentDate=!1,n.updateView()),void 0!==e&&(e.currentDate=!0,e.updateView())),this.position=this.gantt.getPositionByDate(this.date,!0)},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumn",["moment",function(t){var e=function(t,e,n,i,r,o,a){this.date=t,this.endDate=e,this.left=n,this.width=i,this.calendar=r,this.duration=this.endDate.diff(this.date,"milliseconds"),this.timeFramesWorkingMode=o,this.timeFramesNonWorkingMode=a,this.timeFrames=[],this.currentDate=!1,this.visibleTimeFrames=[],this.daysTimeFrames={},this.cropped=!1,this.originalSize={left:this.left,width:this.width},this.updateTimeFrames()},n=function(t){return t.year()+"-"+t.month()+"-"+t.date()};return e.prototype.updateView=function(){if(this.$element){this.currentDate?this.$element.addClass("gantt-foreground-col-current-date"):this.$element.removeClass("gantt-foreground-col-current-date"),this.$element.css({left:this.left+"px",width:this.width+"px"});for(var t=0,e=this.timeFrames.length;t<e;t++)this.timeFrames[t].updateView()}},e.prototype.updateTimeFrames=function(){var e=this;if(void 0!==e.calendar&&("hidden"!==e.timeFramesNonWorkingMode||"hidden"!==e.timeFramesWorkingMode)){for(var i,r=e.date,o=t(r).startOf("day"),a=o.add(1,"day");r<e.endDate;){var s=e.calendar.getTimeFrames(r),l=t.min(a,e.endDate);s=e.calendar.solve(s,r,l);var u=[];for(i=0;i<s.length;i++){var c=s[i],d=c.start;void 0===d&&(d=r);var h=c.end;void 0===h&&(h=l),d<e.date&&(d=e.date),h>e.endDate&&(h=e.endDate),c=c.clone(),c.start=t(d),c.end=t(h),u.push(c)}e.timeFrames=e.timeFrames.concat(u);var p=n(r);e.daysTimeFrames[p]=u,r=l,o=t(r).startOf("day"),a=o.add(1,"day")}for(i=0;i<e.timeFrames.length;i++){var f=e.timeFrames[i],g=f.start.diff(e.date,"milliseconds"),m=g/e.duration*e.width,v=f.end.diff(f.start,"milliseconds"),y=v/e.duration*e.width,b=!1;f.working&&"visible"!==e.timeFramesWorkingMode?b=!0:f.working||"visible"===e.timeFramesNonWorkingMode||(b=!0),b||e.visibleTimeFrames.push(f),f.hidden=b,f.left=m,f.width=y,f.originalSize={left:f.left,width:f.width}}if("cropped"===e.timeFramesNonWorkingMode||"cropped"===e.timeFramesWorkingMode){for(var w=0,_=0;_<e.timeFrames.length;_++){var x=e.timeFrames[_];(!x.working&&"cropped"!==e.timeFramesNonWorkingMode||x.working&&"cropped"!==e.timeFramesWorkingMode)&&(w+=x.width)}if(w!==e.width){var k=e.width/w,C=0,$=0,M=!0;for(_=0;_<e.timeFrames.length;_++){var S=e.timeFrames[_];!S.working&&"cropped"!==e.timeFramesNonWorkingMode||S.working&&"cropped"!==e.timeFramesWorkingMode?(S.left=(S.left-C)*k,S.width=S.width*k,S.originalSize.left=(S.originalSize.left-$)*k,S.originalSize.width=S.originalSize.width*k,S.cropped=!1,M=!1):(C+=S.width,$+=S.originalSize.width,S.left=void 0,S.width=0,S.originalSize={left:void 0,width:0},S.cropped=!0)}e.cropped=M}else e.cropped=!1}}},e.prototype.clone=function(){return new e(t(this.date),t(this.endDate),this.left,this.width,this.calendar)},e.prototype.containsDate=function(t){return t>this.date&&t<=this.endDate},e.prototype.equals=function(t){return this.date===t.date},e.prototype.roundTo=function(t,e,n,i){"day"===e&&(e="date"),n=n||1;var r=t.get(e);switch(i){case"up":r=Math.ceil(r/n);break;case"down":r=Math.floor(r/n);break;default:r=Math.round(r/n)}var o=["millisecond","second","minute","hour","date","month","year"];t.set(e,r*n);for(var a=o.indexOf(e),s=0;s<a;s++)t.set(o[s],0);return t},e.prototype.getMagnetDate=function(e,n,i,r){if(n>0&&void 0!==i){var o=e;if(e=t(e),"column"===i){var a=this.getPositionByDate(e);e=t(a<this.width/2?this.date:this.endDate)}else e=this.roundTo(e,i,n),e<this.date?e=t(this.date):e>this.endDate&&(e=t(this.endDate));if(r)for(var s,l=Math.abs(o.diff(e,"milliseconds")),u=0;u<this.timeFrames.length;u++){var c=this.timeFrames[u];if(c.magnet){var d,h=this.timeFrames[u-1],p=this.timeFrames[u+1];void 0!==h&&h.working===c.working||(d=Math.abs(o.diff(c.start,"milliseconds")),d<l&&(void 0===s||d<s)&&(s=d,e=c.start)),void 0!==p&&p.working===c.working||(d=Math.abs(o.diff(c.end,"milliseconds")),d<l&&(void 0===s||d<s)&&(s=d,e=c.end))}}}return e},e.prototype.getDateByPositionUsingTimeFrames=function(e){for(var n=0,i=this.timeFrames.length;n<i;n++){var r=this.timeFrames[n];if(!r.cropped&&e>=r.left&&e<=r.left+r.width){var o=r.getDuration()/r.width*(e-r.left),a=t(r.start).add(o,"milliseconds");return a}}},e.prototype.getDateByPosition=function(e,n,i,r){var o,a;return e<0&&(e=0),e>this.width&&(e=this.width),"cropped"!==this.timeFramesNonWorkingMode&&"cropped"!==this.timeFramesWorkingMode||(a=this.getDateByPositionUsingTimeFrames(e)),void 0===a&&(o=this.duration/this.width*e,a=t(this.date).add(o,"milliseconds")),a=this.getMagnetDate(a,n,i,r)},e.prototype.getDayTimeFrame=function(t){var e=this.daysTimeFrames[n(t)];return void 0===e?[]:e},e.prototype.getPositionByDate=function(t){var e,n;if("cropped"===this.timeFramesNonWorkingMode||"cropped"===this.timeFramesWorkingMode)for(var i=t,r=this.getDayTimeFrame(i),o=0;o<r.length;o++){var a=r[o];if(i>=a.start&&i<=a.end){if(!a.cropped)return e=i.diff(a.start,"milliseconds"),n=e/a.getDuration()*a.width,this.left+a.left+n;i=r.length>o+1?r[o+1].start:a.end}}return e=t.diff(this.date,"milliseconds"),n=e/this.duration*this.width,n<0&&(n=0),n>this.width&&(n=this.width),this.left+n},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumnBuilder",["GanttColumn",function(t){var e=function(t){this.columnsManager=t};return e.prototype.newColumn=function(e,n,i,r){var o=this.columnsManager.gantt.calendar,a=this.columnsManager.gantt.options.value("timeFramesWorkingMode"),s=this.columnsManager.gantt.options.value("timeFramesNonWorkingMode");return new t(e,n,i,r,o,a,s)},e}])}(),function(){"use strict";angular.module("gantt").service("GanttColumnGenerator",["moment",function(t){var e=function(e,n,i){return t(e).add(n,i).startOf(i)===e},n=function(t){if(["hour","minute","second","millisecond"].indexOf(t)>=0)return 0},i=function(t,e,i){var r=e.get(t),o=i.get(t),a=n(t);void 0!==a&&o!==a&&o<r&&i.set(t,a)};this.generate=function(n,r,o,a,s,l,u,c){if(!o&&!l)throw"to or maximumWidth must be defined";a=a.trim(),"s"===a.charAt(a.length-1)&&(a=a.substring(0,a.length-1));var d,h,p;a&&(p=a.split(" ")),p&&p.length>1?(d=parseFloat(p[0]),h=p[p.length-1]):(d=1,h=a);var f=!1;r=t(r).startOf(h),o&&(f=e(o),o=t(o).startOf(h));var g=0,m=t(r).startOf(h);c&&(m.add(-d,h),g-=s);for(var v=[];;){if(l&&Math.abs(g)>l+s)break;var y=t(m),b=t(y).add(d,h);i(h,y,b);var w=n.newColumn(y,b,u?g+u:g,s);if(w.cropped||(v.push(w),c?g-=s:g+=s),o)if(c){if(f&&m<o||!f&&m<=o)break}else if(f&&m>o||!f&&m>=o)break;c?(m.add(-d,h),i(h,m,y)):(m.add(d,h),i(h,y,m))}return c&&(e(r,d,h)&&v.shift(),v.reverse()),v}}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumnHeader",["moment","GanttColumn",function(t,e){var n=function(n,i,r,o,a,s){n=t(n),i=t(i);var l=new e(n,i,o,a);return l.unit=r,l.label=angular.isFunction(s)?s(l):n.format(s),l};return n}])}(),function(){"use strict";angular.module("gantt").factory("GanttColumnsManager",["GanttColumnGenerator","GanttColumnBuilder","GanttHeadersGenerator","$filter","$timeout","ganttLayout","ganttBinarySearch","moment",function(t,e,n,i,r,o,a,s){var l=function(t){var n=this;this.gantt=t,this.from=void 0,this.to=void 0,this.columns=[],this.visibleColumns=[],this.previousColumns=[],this.nextColumns=[],this.headers=[],this.visibleHeaders=[],this.scrollAnchor=void 0,this.columnBuilder=new e(this),this.gantt.$scope.$watchGroup(["viewScale","columnWidth","timeFramesWorkingMode","timeFramesNonWorkingMode","fromDate","toDate","autoExpand","taskOutOfRange"],function(t,e){t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchCollection("headers",function(t,e){t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchCollection("headersFormats",function(t,e){
t!==e&&n.gantt.rendered&&n.generateColumns()}),this.gantt.$scope.$watchGroup(["ganttElementWidth","showSide","sideWidth","maxHeight","daily"],function(t,e){t!==e&&n.gantt.rendered&&n.updateColumnsMeta()}),this.gantt.api.data.on.load(this.gantt.$scope,function(){(void 0===n.from||void 0===n.to||n.from>n.gantt.rowsManager.getDefaultFrom()||n.to<n.gantt.rowsManager.getDefaultTo())&&n.gantt.rendered&&n.generateColumns(),n.gantt.rowsManager.sortRows()}),this.gantt.api.data.on.remove(this.gantt.$scope,function(){n.gantt.rowsManager.sortRows()}),this.gantt.api.registerMethod("columns","clear",this.clearColumns,this),this.gantt.api.registerMethod("columns","generate",this.generateColumns,this),this.gantt.api.registerMethod("columns","refresh",this.updateColumnsMeta,this),this.gantt.api.registerMethod("columns","getColumnsWidth",this.getColumnsWidth,this),this.gantt.api.registerMethod("columns","getColumnsWidthToFit",this.getColumnsWidthToFit,this),this.gantt.api.registerMethod("columns","getDateRange",this.getDateRange,this),this.gantt.api.registerEvent("columns","clear"),this.gantt.api.registerEvent("columns","generate"),this.gantt.api.registerEvent("columns","refresh")};l.prototype.setScrollAnchor=function(){if(this.gantt.scroll.$element&&this.columns.length>0){var t=this.gantt.scroll.$element[0],e=t.scrollLeft+t.offsetWidth/2;this.scrollAnchor=this.gantt.getDateByPosition(e)}},l.prototype.scrollToScrollAnchor=function(){var t=this;this.columns.length>0&&void 0!==this.scrollAnchor&&this.gantt.$scope.$$postDigest(function(){t.gantt.api.scroll.toDate(t.scrollAnchor)})},l.prototype.clearColumns=function(){this.setScrollAnchor(),this.from=void 0,this.to=void 0,this.columns=[],this.visibleColumns=[],this.previousColumns=[],this.nextColumns=[],this.headers=[],this.visibleHeaders=[],this.gantt.api.columns.raise.clear()},l.prototype.generateColumns=function(e,i){return e||(e=this.gantt.options.value("fromDate")),i||(i=this.gantt.options.value("toDate")),!((!e||s.isMoment(e)&&!e.isValid())&&!(e=this.gantt.rowsManager.getDefaultFrom()))&&(!((!i||s.isMoment(i)&&!i.isValid())&&!(i=this.gantt.rowsManager.getDefaultTo()))&&(void 0===e||s.isMoment(e)||(e=s(e)),void 0===i||s.isMoment(i)||(i=s(i)),"expand"===this.gantt.options.value("taskOutOfRange")&&(e=this.gantt.rowsManager.getExpandedFrom(e),i=this.gantt.rowsManager.getExpandedTo(i)),this.setScrollAnchor(),this.from=e,this.to=i,this.columns=t.generate(this.columnBuilder,e,i,this.gantt.options.value("viewScale"),this.getColumnsWidth()),this.headers=n.generate(this),this.previousColumns=[],this.nextColumns=[],this.updateColumnsMeta(),this.scrollToScrollAnchor(),void this.gantt.api.columns.raise.generate(this.columns,this.headers)))},l.prototype.updateColumnsMeta=function(){this.gantt.isRefreshingColumns=!0;var t=this.getLastColumn();this.gantt.originalWidth=void 0!==t?t.originalSize.left+t.originalSize.width:0;var e=this.updateColumnsWidths(this.columns,this.headers,this.previousColumns,this.nextColumns);this.gantt.width=void 0!==t?t.left+t.width:0;var n=this.gantt.options.value("showSide"),i=this.gantt.side.isShown(),r=n!==i;r&&!n&&this.gantt.side.show(!1),this.gantt.rowsManager.updateTasksPosAndSize(),this.gantt.timespansManager.updateTimespansPosAndSize(),this.updateVisibleColumns(e),this.gantt.rowsManager.updateVisibleObjects();var o=this.gantt.options.value("currentDateValue");this.gantt.currentDateManager.setCurrentDate(o),r&&n&&this.gantt.side.show(!0),this.gantt.isRefreshingColumns=!1,this.gantt.api.columns.raise.refresh(this.columns,this.headers)},l.prototype.getLastColumn=function(t){var e=this.columns;return t&&(e=this.nextColumns),e&&e.length>0?e[e.length-1]:void 0},l.prototype.getFirstColumn=function(t){var e=this.columns;return t&&(e=this.previousColumns),e&&e.length>0?e[0]:void 0},l.prototype.getColumnByDate=function(t,e){e||this.expandExtendedColumnsForDate(t);var n=this.previousColumns.concat(this.columns,this.nextColumns),i=a.get(n,t,function(t){return t.date},!0);return void 0===i[0]?i[1]:i[0]},l.prototype.getColumnByPosition=function(t,e){e||this.expandExtendedColumnsForPosition(t);var n=this.previousColumns.concat(this.columns,this.nextColumns),i=a.get(n,t,function(t){return t.left},!0);return void 0===i[0]?i[1]:i[0]},l.prototype.updateColumnsWidths=function(t,e,n,i){var r=this.gantt.options.value("columnWidth"),a=this.gantt.options.value("expandToFit"),s=this.gantt.options.value("shrinkToFit");if(void 0===r||a||s){var l=this.gantt.getBodyAvailableWidth(),u=this.gantt.columnsManager.getLastColumn(!1);if(void 0!==u){var c=u.originalSize.left+u.originalSize.width;if(a&&c<l||s&&c>l||void 0===r){var d=l/c;o.setColumnsWidthFactor(t,d);for(var h=0;h<e.length;h++)o.setColumnsWidthFactor(e[h],d);return n.splice(0,this.previousColumns.length),i.splice(0,this.nextColumns.length),!0}}}return!1},l.prototype.getColumnsWidth=function(){var t=this.gantt.options.value("columnWidth");return void 0===t&&(t=!this.gantt.width||this.gantt.width<=0?20:this.gantt.width/this.columns.length),t},l.prototype.getColumnsWidthToFit=function(){return this.gantt.getBodyAvailableWidth()/this.columns.length},l.prototype.expandExtendedColumnsForPosition=function(e){var n;if(e<0){var i=this.getFirstColumn(),r=i.date,o=this.getFirstColumn(!0);return(!o||o.left>e)&&(n=this.gantt.options.value("viewScale"),this.previousColumns=t.generate(this.columnBuilder,r,void 0,n,this.getColumnsWidth(),-e,0,!0)),!0}if(e>this.gantt.width){var a=this.getLastColumn(),s=a.getDateByPosition(a.width),l=this.getLastColumn(!0);return(!l||l.left+l.width<e)&&(n=this.gantt.options.value("viewScale"),this.nextColumns=t.generate(this.columnBuilder,s,void 0,n,this.getColumnsWidth(),e-this.gantt.width,this.gantt.width,!1)),!0}return!1},l.prototype.expandExtendedColumnsForDate=function(e){var n,i=this.getFirstColumn();i&&(n=i.date);var r,o=this.getLastColumn();o&&(r=o.getDateByPosition(o.width));var a;if(n&&e<n){var s=this.getFirstColumn(!0);return(!s||s.date>e)&&(a=this.gantt.options.value("viewScale"),this.previousColumns=t.generate(this.columnBuilder,n,e,a,this.getColumnsWidth(),void 0,0,!0)),!0}if(r&&e>=r){var l=this.getLastColumn(!0);return(!l||l.date<r)&&(a=this.gantt.options.value("viewScale"),this.nextColumns=t.generate(this.columnBuilder,r,e,a,this.getColumnsWidth(),void 0,this.gantt.width,!1)),!0}return!1},l.prototype.getActiveHeadersCount=function(){return this.headers.length},l.prototype.updateVisibleColumns=function(t){this.visibleColumns=i("ganttColumnLimit")(this.columns,this.gantt),this.visibleHeaders=[];for(var e=0;e<this.headers.length;e++)this.visibleHeaders.push(i("ganttColumnLimit")(this.headers[e],this.gantt));if(t){for(e=0;e<this.visibleColumns.length;e++)this.visibleColumns[e].updateView();for(e=0;e<this.visibleHeaders.length;e++)for(var n=this.visibleHeaders[e],r=0;r<n.length;r++)n[r].updateView()}var o=this.gantt.options.value("currentDateValue");this.gantt.currentDateManager.setCurrentDate(o)};var u={year:"YYYY",quarter:"[Q]Q YYYY",month:"MMMM YYYY",week:"w",day:"D",hour:"H",minute:"HH:mm"},c={day:"LL",hour:"H",minute:"HH:mm"},d={year:"YYYY",quarter:"[Q]Q",month:"MMMM"};return l.prototype.getHeaderFormat=function(t){var e,n=this.gantt.options.value("headersFormats");if(void 0!==n&&(e=n[t]),void 0===e){var i=this.gantt.options.value("viewScale");i=i.trim(),"s"===i.charAt(i.length-1)&&(i=i.substring(0,i.length-1));var r,o;i&&(o=i.split(" ")),r=o&&o.length>1?o[o.length-1]:i,["millisecond","second","minute","hour"].indexOf(r)>-1?e=c[t]:["month","quarter","year"].indexOf(r)>-1&&(e=d[t]),void 0===e&&(e=u[t])}return e},l.prototype.getDateRange=function(t){var e,n;return t?this.visibleColumns&&this.visibleColumns.length>0&&(e=this.visibleColumns[0],n=this.visibleColumns[this.visibleColumns.length-1]):(e=this.getFirstColumn(),n=this.getLastColumn()),e&&n?[e.date,n.endDate]:void 0},l}])}(),function(){"use strict";angular.module("gantt").service("GanttHeadersGenerator",["GanttColumnHeader","moment",function(t,e){var n=function(n,i){var r,o,a,s,l=[];i&&(s=i.split(" ")),s&&s.length>1?(o=parseFloat(s[0]),a=s[s.length-1]):(o=1,a=i);for(var u=n.columns[0],c=e(u.date).startOf(a),d=e(n.columns[n.columns.length-1].endDate);;){var h=u.getPositionByDate(c),p=e.min(e(c).add(o,a),d),f=n.getColumnByDate(p,!0),g=f.getPositionByDate(p),m=g-h;if(m>0){var v=n.getHeaderFormat(a);r=new t(c,p,a,h,m,v),l.push(r)}if(p.isSame(d)||p.isAfter(d))break;u=f,c=p}return l};this.generate=function(t){var e=[];if(void 0===t.gantt.options.value("headers")){var i=t.gantt.options.value("viewScale");i=i.trim(),"s"===i.charAt(i.length-1)&&(i=i.substring(0,i.length-1));var r,o;i&&(o=i.split(" ")),r=o&&o.length>1?o[o.length-1]:i,["quarter","month"].indexOf(r)>-1&&e.push("year"),["day","week"].indexOf(r)>-1&&e.push("month"),["day"].indexOf(r)>-1&&e.push("week"),["hour"].indexOf(r)>-1&&e.push("day"),["minute","second"].indexOf(r)>-1&&e.push("hour"),["second"].indexOf(r)>-1&&e.push("minute"),e.push(i)}else e=t.gantt.options.value("headers");for(var a=[],s=0;s<e.length;s++)a.push(n(t,e[s]));return a}}])}(),function(){"use strict";angular.module("gantt").factory("Gantt",["GanttApi","GanttOptions","GanttCalendar","GanttScroll","GanttBody","GanttRowHeader","GanttHeader","GanttSide","GanttObjectModel","GanttRowsManager","GanttColumnsManager","GanttTimespansManager","GanttCurrentDateManager","ganttArrays","moment","$document","$timeout",function(t,e,n,i,r,o,a,s,l,u,c,d,h,p,f,g,m){var v=function(o,m){var v=this;this.$scope=o,this.$element=m,this.options=new e(o,{api:angular.noop,data:[],timespans:[],viewScale:"day",columnMagnet:"15 minutes",timeFramesMagnet:!0,showSide:!0,allowSideResizing:!0,currentDate:"line",currentDateValue:f,autoExpand:"none",taskOutOfRange:"truncate",taskContent:"{{task.model.name}}",rowContent:"{{row.model.name}}",maxHeight:0,timeFrames:[],dateFrames:[],timeFramesWorkingMode:"hidden",timeFramesNonWorkingMode:"visible"}),this.api=new t(this),this.api.registerEvent("core","ready"),this.api.registerEvent("core","rendered"),this.api.registerEvent("directives","controller"),this.api.registerEvent("directives","preLink"),this.api.registerEvent("directives","postLink"),this.api.registerEvent("directives","new"),this.api.registerEvent("directives","destroy"),this.api.registerEvent("data","change"),this.api.registerEvent("data","load"),this.api.registerEvent("data","remove"),this.api.registerEvent("data","clear"),this.api.registerMethod("core","getDateByPosition",this.getDateByPosition,this),this.api.registerMethod("core","getPositionByDate",this.getPositionByDate,this),this.api.registerMethod("data","load",this.loadData,this),this.api.registerMethod("data","remove",this.removeData,this),this.api.registerMethod("data","clear",this.clearData,this),this.api.registerMethod("data","get",this.getData,this),this.calendar=new n(this),this.calendar.registerTimeFrames(this.options.value("timeFrames")),this.calendar.registerDateFrames(this.options.value("dateFrames")),this.api.registerMethod("timeframes","registerTimeFrames",this.calendar.registerTimeFrames,this.calendar),this.api.registerMethod("timeframes","clearTimeframes",this.calendar.clearTimeFrames,this.calendar),this.api.registerMethod("timeframes","registerDateFrames",this.calendar.registerDateFrames,this.calendar),this.api.registerMethod("timeframes","clearDateFrames",this.calendar.clearDateFrames,this.calendar),this.api.registerMethod("timeframes","registerTimeFrameMappings",this.calendar.registerTimeFrameMappings,this.calendar),this.api.registerMethod("timeframes","clearTimeFrameMappings",this.calendar.clearTimeFrameMappings,this.calendar),o.$watchGroup(["timeFrames","dateFrames"],function(t,e){if(t!==e){var n=t[0],i=t[1],r=e[0],o=e[1],a=!1;angular.equals(n,r)||(v.calendar.clearTimeFrames(),v.calendar.registerTimeFrames(n),a=!0),angular.equals(i,o)||(v.calendar.clearDateFrames(),v.calendar.registerDateFrames(i),a=!0),a&&v.columnsManager.generateColumns()}}),o.$watch("columnMagnet",function(){var t,e=v.options.value("columnMagnet");e&&(t=e.trim().split(" ")),t&&t.length>1?(v.columnMagnetValue=parseFloat(t[0]),v.columnMagnetUnit=f.normalizeUnits(t[t.length-1])):(v.columnMagnetValue=1,v.columnMagnetUnit=f.normalizeUnits(e))}),o.$watchGroup(["shiftColumnMagnet","viewScale"],function(){var t,e=v.options.value("shiftColumnMagnet");e&&(t=e.trim().split(" ")),void 0!==t&&t.length>1?(v.shiftColumnMagnetValue=parseFloat(t[0]),v.shiftColumnMagnetUnit=f.normalizeUnits(t[t.length-1])):(v.shiftColumnMagnetValue=1,v.shiftColumnMagnetUnit=f.normalizeUnits(e))});var y=function(t){return v.shiftKey=t.shiftKey,!0};g.on("keyup keydown",y),o.$on("$destroy",function(){g.off("keyup keydown",y)}),this.scroll=new i(this),this.body=new r(this),this.header=new a(this),this.side=new s(this),this.objectModel=new l(this.api),this.rowsManager=new u(this),this.columnsManager=new c(this),this.timespansManager=new d(this),this.currentDateManager=new h(this),this.originalWidth=0,this.width=0,angular.isFunction(this.$scope.api)&&this.$scope.api(this.api);var b=function(t,e){if(void 0===e||t.length!==e.length)return!0;for(var n=0,i=t.length;n<i;n++)if(t[n].id!==e[n].id)return!0;return!1};o.$watchCollection("data",function(t,e){if(void 0!==e){var n=p.getRemovedIds(t,e);if(n.length===e.length)v.rowsManager.removeAll(),v.api.data.raise.clear();else{for(var i=0,r=n.length;i<r;i++){var o=n[i];v.rowsManager.removeRow(o)}var a=[];for(i=0,r=e.length;i<r;i++)n.indexOf(e[i].id)>-1&&a.push(e[i]);v.api.data.raise.remove(a)}}if(void 0!==t){var s=b(t,e);s&&v.rowsManager.resetNonModelLists();for(var l=0,u=t.length;l<u;l++){var c=t[l];v.rowsManager.addRow(c,s)}v.api.data.raise.change(t,e),v.api.data.raise.load(t)}})};return v.prototype.getDateByPosition=function(t,e,n){var i=this.columnsManager.getColumnByPosition(t,n);if(void 0!==i){var r,o;if(e)if(this.shiftKey)if(void 0!==this.shiftColumnMagnetValue&&void 0!==this.shiftColumnMagnetUnit)r=this.shiftColumnMagnetValue,o=this.shiftColumnMagnetUnit;else{var a=this.options.value("viewScale");a=a.trim();var s,l,u;a&&(u=a.split(" ")),u&&u.length>1?(s=parseFloat(u[0]),l=f.normalizeUnits(u[u.length-1])):(s=1,l=f.normalizeUnits(a)),r=.25*s,o=l}else r=this.columnMagnetValue,o=this.columnMagnetUnit;return i.getDateByPosition(t-i.left,r,o,this.options.value("timeFramesMagnet"))}},v.prototype.getBodyAvailableWidth=function(){var t=this.getWidth()-this.side.getWidth(),e=this.scroll.getBordersWidth(),n=t-(void 0!==e?this.scroll.getBordersWidth():0);return n-=1},v.prototype.getPositionByDate=function(t,e){if(void 0!==t){f.isMoment(f)||(t=f(t));var n=this.columnsManager.getColumnByDate(t,e);return void 0!==n?n.getPositionByDate(t):void 0}},v.prototype.loadData=function(t){if(angular.isArray(t)||(t=void 0!==t?[t]:[]),void 0===this.$scope.data)this.$scope.data=t;else for(var e=0,n=t.length;e<n;e++){var i=t[e],r=p.indexOfId(this.$scope.data,i.id);r>-1?this.$scope.data[r]=i:this.$scope.data.push(i)}var o=this.side.getWidth();o>0&&this.options.set("sideWidth",o)},v.prototype.getData=function(){return this.$scope.data},v.prototype.removeData=function(t){if(angular.isArray(t)||(t=void 0!==t?[t]:[]),void 0!==this.$scope.data)for(var e=0,n=t.length;e<n;e++){var i=t[e],r=p.indexOfId(this.$scope.data,i.id);if(r>-1)if(void 0===i.tasks||0===i.tasks.length)this.$scope.data.splice(r,1);else for(var o=this.$scope.data[r],a=0,s=i.tasks.length;a<s;a++){var l=i.tasks[a],u=p.indexOfId(o.tasks,l.id);u>-1&&o.tasks.splice(u,1)}}},v.prototype.clearData=function(){this.$scope.data=void 0},v.prototype.getWidth=function(){return this.$scope.ganttElementWidth},v.prototype.initialized=function(){this.api.core.raise.ready(this.api),this.rendered=!0,this.columnsManager.generateColumns();var t=this,e=function(){var e=t.side.getWidth();e>0&&t.options.set("sideWidth",e),t.api.core.raise.rendered(t.api)};m(e)},v}])}(),function(){"use strict";angular.module("gantt").factory("GanttObjectModel",["ganttUtils","moment",function(t,e){var n=function(t){this.api=t,this.api.registerEvent("tasks","clean"),this.api.registerEvent("rows","clean"),this.api.registerEvent("timespans","clean")};return n.prototype.cleanTask=function(n){void 0===n.id&&(n.id=t.randomUuid()),void 0===n.from||e.isMoment(n.from)||(n.from=e(n.from)),void 0===n.to||e.isMoment(n.to)||(n.to=e(n.to)),this.api.tasks.raise.clean(n)},n.prototype.cleanRow=function(n){void 0===n.id&&(n.id=t.randomUuid()),void 0===n.from||e.isMoment(n.from)||(n.from=e(n.from)),void 0===n.to||e.isMoment(n.to)||(n.to=e(n.to)),this.api.rows.raise.clean(n)},n.prototype.cleanTimespan=function(n){void 0===n.id&&(n.id=t.randomUuid()),void 0===n.from||e.isMoment(n.from)||(n.from=e(n.from)),void 0===n.to||e.isMoment(n.to)||(n.to=e(n.to)),this.api.timespans.raise.clean(n)},n}])}(),function(){"use strict";angular.module("gantt").factory("GanttRow",["GanttTask","moment","$filter",function(t,e,n){var i=function(t,e){this.rowsManager=t,this.model=e,this.from=void 0,this.to=void 0,this.tasksMap={},this.tasks=[],this.filteredTasks=[],this.visibleTasks=[]};return i.prototype.addTaskImpl=function(t,e){this.tasksMap[t.model.id]=t,this.tasks.push(t),e||(void 0===this.model.tasks&&(this.model.tasks=[]),this.model.tasks.indexOf(t.model)===-1&&this.model.tasks.push(t.model))},i.prototype.addTask=function(e,n){var i,r=!1;if(this.rowsManager.gantt.objectModel.cleanTask(e),e.id in this.tasksMap){if(i=this.tasksMap[e.id],i.model===e)return i;i.model=e,r=!0}else i=new t(this,e),this.addTaskImpl(i,n);return this.sortTasks(),this.setFromToByTask(i),n||(r?this.rowsManager.gantt.api.tasks.raise.change(i):this.rowsManager.gantt.api.tasks.raise.add(i)),i},i.prototype.moveTaskToRow=function(t,e){var n=t.row;n.removeTask(t.model.id,e,!0),t.row=this,this.addTaskImpl(t,e),this.sortTasks(),this.setFromToByTask(t),t.updatePosAndSize(),this.updateVisibleTasks(),n.$scope.$digest(),t.row.$scope.$digest(),this.rowsManager.gantt.api.tasks.raise.viewRowChange(t,n),e||this.rowsManager.gantt.api.tasks.raise.rowChange(t,n)},i.prototype.updateVisibleTasks=function(){var t=this.rowsManager.gantt.options.value("filterTask");if(t){"object"==typeof t&&(t={model:t});var e=this.rowsManager.gantt.options.value("filterTaskComparator");"function"==typeof e&&(e=function(t,n){return e(t.model,n.model)}),this.filteredTasks=n("filter")(this.tasks,t,e)}else this.filteredTasks=this.tasks.slice(0);this.visibleTasks=n("ganttTaskLimit")(this.filteredTasks,this.rowsManager.gantt)},i.prototype.updateTasksPosAndSize=function(){for(var t=0,e=this.tasks.length;t<e;t++)this.tasks[t].updatePosAndSize()},i.prototype.removeTask=function(t,e,n){if(t in this.tasksMap){var i,r,o=this.tasksMap[t];for(r=this.tasks.length-1;r>=0;r--)if(i=this.tasks[r],i.model.id===t){this.tasks.splice(r,1),this.from-i.model.from!==0&&this.to-i.model.to!==0||this.setFromTo();break}for(r=this.filteredTasks.length-1;r>=0;r--)if(i=this.filteredTasks[r],i.model.id===t){this.filteredTasks.splice(r,1);break}for(r=this.visibleTasks.length-1;r>=0;r--)if(i=this.visibleTasks[r],i.model.id===t){this.visibleTasks.splice(r,1);break}if(!e){if(delete this.tasksMap[t],void 0!==this.model.tasks){var a=this.model.tasks.indexOf(o.model);a>-1&&this.model.tasks.splice(a,1)}n||this.rowsManager.gantt.api.tasks.raise.remove(o)}return o}},i.prototype.removeAllTasks=function(){this.from=void 0,this.to=void 0,this.tasksMap={},this.tasks=[],this.filteredTasks=[],this.visibleTasks=[]},i.prototype.setFromTo=function(){this.from=void 0,this.to=void 0;for(var t=0,e=this.tasks.length;t<e;t++)this.setFromToByTask(this.tasks[t])},i.prototype.setFromToByTask=function(t){this.setFromToByValues(t.model.from,t.model.to)},i.prototype.setFromToByValues=function(t,n){void 0!==t&&(void 0===this.from?this.from=e(t):t<this.from&&(this.from=e(t))),void 0!==n&&(void 0===this.to?this.to=e(n):n>this.to&&(this.to=e(n)))},i.prototype.sortTasks=function(){this.tasks.sort(function(t,e){return t.left-e.left})},i.prototype.clone=function(){for(var t=new i(this.rowsManager,angular.copy(this)),e=0,n=this.tasks.length;e<n;e++)t.addTask(this.tasks[e].model);return t},i}])}(),function(){"use strict";angular.module("gantt").factory("GanttRowHeader",[function(){var t=function(t){this.gantt=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttRowsManager",["GanttRow","ganttArrays","$filter","$timeout","moment",function(t,e,n,i,r){var o=function(t){var e=this;this.gantt=t,this.rowsMap={},this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[],this.rowsTaskWatchers=[],this._defaultFilterImpl=function(t,e,i){return n("filter")(t,e,i)},this.filterImpl=this._defaultFilterImpl,this.customRowSorters=[],this.customRowFilters=[],this.gantt.$scope.$watchGroup(["filterTask","filterTaskComparator"],function(t,n){t!==n&&e.updateVisibleTasks()}),this.gantt.$scope.$watchGroup(["filterRow","filterRowComparator"],function(t,n){t!==n&&e.updateVisibleRows()}),this.gantt.$scope.$watch("sortMode",function(t,n){t!==n&&e.sortRows()});var r=this.gantt.scroll.isVScrollbarVisible();this.gantt.$scope.$watchGroup(["maxHeight","gantt.rowsManager.visibleRows.length"],function(t,n){t!==n&&i(function(){var t=e.gantt.scroll.isVScrollbarVisible();t!==r&&(r=t,e.gantt.columnsManager.updateColumnsMeta())})}),this.gantt.api.registerMethod("rows","sort",o.prototype.sortRows,this),this.gantt.api.registerMethod("rows","applySort",o.prototype.applySort,this),this.gantt.api.registerMethod("rows","refresh",o.prototype.updateVisibleObjects,this),this.gantt.api.registerMethod("rows","removeRowSorter",o.prototype.removeCustomRowSorter,this),this.gantt.api.registerMethod("rows","addRowSorter",o.prototype.addCustomRowSorter,this),this.gantt.api.registerMethod("rows","removeRowFilter",o.prototype.removeCustomRowFilter,this),this.gantt.api.registerMethod("rows","addRowFilter",o.prototype.addCustomRowFilter,this),this.gantt.api.registerMethod("rows","setFilterImpl",o.prototype.setFilterImpl,this),this.gantt.api.registerEvent("tasks","add"),this.gantt.api.registerEvent("tasks","change"),this.gantt.api.registerEvent("tasks","viewChange"),this.gantt.api.registerEvent("tasks","rowChange"),this.gantt.api.registerEvent("tasks","viewRowChange"),this.gantt.api.registerEvent("tasks","remove"),this.gantt.api.registerEvent("tasks","filter"),this.gantt.api.registerEvent("tasks","displayed"),this.gantt.api.registerEvent("rows","add"),this.gantt.api.registerEvent("rows","change"),this.gantt.api.registerEvent("rows","remove"),this.gantt.api.registerEvent("rows","move"),this.gantt.api.registerEvent("rows","displayed"),this.gantt.api.registerEvent("rows","filter"),this.updateVisibleObjects()};return o.prototype.resetNonModelLists=function(){this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[]},o.prototype.addRow=function(n,i){var r,o,a,s=!1;if(this.gantt.objectModel.cleanRow(n),n.id in this.rowsMap){if(r=this.rowsMap[n.id],i&&(this.rows.push(r),this.sortedRows.push(r),this.filteredRows.push(r),this.customFilteredRows.push(r),this.visibleRows.push(r)),r.model===n)return;var l=e.getRemovedIds(n.tasks,r.model.tasks);for(o=0,a=l.length;o<a;o++){var u=l[o];r.removeTask(u)}r.model=n,s=!0}else r=new t(this,n),this.rowsMap[n.id]=r,this.rows.push(r),this.sortedRows.push(r),this.filteredRows.push(r),this.customFilteredRows.push(r),this.visibleRows.push(r);if(void 0!==n.tasks&&n.tasks.length>0){for(o=0,a=n.tasks.length;o<a;o++){var c=n.tasks[o];r.addTask(c)}r.updateVisibleTasks()}if(s?this.gantt.api.rows.raise.change(r):this.gantt.api.rows.raise.add(r),!s){var d=this.gantt.$scope.$watchCollection(function(){return n.tasks},function(t,n){if(t!==n){var i,o,a=e.getRemovedIds(t,n);for(i=0,o=a.length;i<o;i++){var s=a[i];r.removeTask(s)}if(void 0!==t){for(i=0,o=t.length;i<o;i++){var l=t[i];r.addTask(l)}r.updateVisibleTasks()}}});this.rowsTaskWatchers.push(d)}return s},o.prototype.removeRow=function(t){if(t in this.rowsMap){delete this.rowsMap[t];var n,i,r=e.indexOfId(this.rows,t,["model","id"]);if(r>-1){n=this.rows.splice(r,1)[0];var o=this.rowsTaskWatchers.splice(r,1)[0];o()}return e.removeId(this.sortedRows,t,["model","id"]),e.removeId(this.filteredRows,t,["model","id"]),e.removeId(this.customFilteredRows,t,["model","id"]),e.removeId(this.visibleRows,t,["model","id"]),this.gantt.api.rows.raise.remove(n),i}},o.prototype.removeAll=function(){this.rowsMap={},this.rows=[],this.sortedRows=[],this.filteredRows=[],this.customFilteredRows=[],this.visibleRows=[];for(var t=0,e=this.rowsTaskWatchers.length;t<e;t++){var n=this.rowsTaskWatchers[t];n()}this.rowsTaskWatchers=[]},o.prototype.sortRows=function(){var t=this.gantt.options.value("sortMode");if(void 0!==t){var e=!1;angular.isString(t)&&"-"===t.charAt(0)&&(e=!0,t=t.substr(1));var i=n("orderBy");this.sortedRows=i(this.rows,t,e)}else this.sortedRows=this.rows.slice();this.sortedRows=this.applyCustomRowSorters(this.sortedRows),this.updateVisibleRows()},o.prototype.removeCustomRowSorter=function(t){var e=this.customRowSorters.indexOf(t);e>-1&&this.customRowSorters.splice(e,1)},o.prototype.addCustomRowSorter=function(t){this.customRowSorters.push(t)},o.prototype.applyCustomRowSorters=function(t){for(var e=0;e<this.customRowSorters.length;e++)t=this.customRowSorters[e](t);return t},o.prototype.applySort=function(){var t=this.gantt.$scope.data;t.splice(0,t.length);for(var e=[],n=0,i=this.sortedRows.length;n<i;n++)t.push(this.sortedRows[n].model),e.push(this.sortedRows[n]);this.rows=e},o.prototype.moveRow=function(t,n){var i=this.gantt.options.value("sortMode");void 0!==i&&(this.applySort(),this.gantt.options.set("sortMode",void 0));var r=this.rows.indexOf(n),o=this.rows.indexOf(t);r>-1&&o>-1&&r!==o&&(e.moveToIndex(this.rows,o,r),e.moveToIndex(this.rowsTaskWatchers,o,r),e.moveToIndex(this.gantt.$scope.data,o,r),this.gantt.api.rows.raise.change(t),this.gantt.api.rows.raise.move(t,o,r),this.updateVisibleObjects(),this.sortRows())},o.prototype.updateVisibleObjects=function(){this.updateVisibleRows(),this.updateVisibleTasks()},o.prototype.updateVisibleRows=function(){var t=this.filteredRows,e=this.gantt.options.value("filterRow");if(e){"object"==typeof e&&(e={model:e});var n=this.gantt.options.value("filterRowComparator");if("function"==typeof n){var i=this.gantt;n=function(t,e){return i.options.value("filterRowComparator")(t,e)}}this.filteredRows=this.filterImpl(this.sortedRows,e,n)}else this.filteredRows=this.sortedRows.slice(0);var r=!angular.equals(t,this.filteredRows);this.customFilteredRows=this.applyCustomRowFilters(this.filteredRows),this.visibleRows=this.customFilteredRows,this.gantt.api.rows.raise.displayed(this.sortedRows,this.filteredRows,this.visibleRows),r&&this.gantt.api.rows.raise.filter(this.sortedRows,this.filteredRows)},o.prototype.removeCustomRowFilter=function(t){var e=this.customRowFilters.indexOf(t);e>-1&&this.customRowFilters.splice(e,1)},o.prototype.addCustomRowFilter=function(t){this.customRowFilters.push(t)},o.prototype.applyCustomRowFilters=function(t){for(var e=0;e<this.customRowFilters.length;e++)t=this.customRowFilters[e](t);return t},o.prototype.setFilterImpl=function(t){t?this.filterImpl=t:this.filterImpl=this._defaultFilterImpl},o.prototype.updateVisibleTasks=function(){for(var t=[],e=[],n=[],i=[],r=0;r<this.rows.length;r++){var o=this.rows[r];t=t.concat(o.filteredTasks),o.updateVisibleTasks(),e=e.concat(o.filteredTasks),i=i.concat(o.visibleTasks),n=n.concat(o.tasks)}this.gantt.api.tasks.raise.displayed(n,e,i);var a=!angular.equals(t,e);a&&this.gantt.api.tasks.raise.filter(n,e,i)},o.prototype.updateTasksPosAndSize=function(){for(var t=0,e=this.rows.length;t<e;t++)this.rows[t].updateTasksPosAndSize()},o.prototype.getExpandedFrom=function(t){t=t?r(t):t;for(var e=t,n=0;n<this.rows.length;n++)(void 0===e||e>this.rows[n].from)&&(e=this.rows[n]);return e&&(!t||e<t)?e:t},o.prototype.getExpandedTo=function(t){t=t?r(t):t;for(var e=t,n=0;n<this.rows.length;n++)(void 0===e||e<this.rows[n].to)&&(e=this.rows[n].to);var i=this.gantt.options.value("toDate");return e&&(!i||e>i)?e:t},o.prototype.getDefaultFrom=function(){for(var t,e=0;e<this.rows.length;e++)(void 0===t||this.rows[e].from<t)&&(t=this.rows[e].from);return t},o.prototype.getDefaultTo=function(){for(var t,e=0;e<this.rows.length;e++)(void 0===t||this.rows[e].to>t)&&(t=this.rows[e].to);return t},o}])}(),function(){"use strict";angular.module("gantt").factory("GanttTask",["moment",function(t){var e=function(t,e){this.rowsManager=t.rowsManager,this.row=t,this.model=e,this.truncatedLeft=!1,this.truncatedRight=!1};return e.prototype.isMilestone=function(){return!this.model.to||this.model.from-this.model.to===0},e.prototype.isOutOfRange=function(){var t=this.rowsManager.gantt.columnsManager.getFirstColumn(),e=this.rowsManager.gantt.columnsManager.getLastColumn();return void 0===t||this.model.to<t.date||void 0===e||this.model.from>e.endDate},e.prototype.updatePosAndSize=function(){var e=this.left,n=this.width,i=this.truncatedRight,r=this.truncatedLeft;!this.isMoving&&this.isOutOfRange()?(this.modelLeft=void 0,this.modelWidth=void 0):(this.modelLeft=this.rowsManager.gantt.getPositionByDate(this.model.from),this.modelWidth=this.rowsManager.gantt.getPositionByDate(this.model.to)-this.modelLeft);var o=this.rowsManager.gantt.columnsManager.getLastColumn(),a=o?o.left+o.width:0,s=this.modelLeft,l=this.modelWidth;this.rowsManager.gantt.options.value("daily")&&(s=this.rowsManager.gantt.getPositionByDate(t(this.model.from).startOf("day")),l=this.rowsManager.gantt.getPositionByDate(t(this.model.to).endOf("day"))-s),void 0===s||void 0===l||s+l<0||s>a?(this.left=void 0,this.width=void 0):(this.left=Math.min(Math.max(s,0),this.rowsManager.gantt.width),s<0?(this.truncatedLeft=!0,l+s>this.rowsManager.gantt.width?(this.truncatedRight=!0,this.width=this.rowsManager.gantt.width):(this.truncatedRight=!1,this.width=l+s)):l+s>this.rowsManager.gantt.width?(this.truncatedRight=!0,this.truncatedLeft=!1,this.width=this.rowsManager.gantt.width-s):(this.truncatedLeft=!1,this.truncatedRight=!1,this.width=l),this.width<0&&(this.left=this.left+this.width,this.width=-this.width)),this.updateView(),this.rowsManager.gantt.isRefreshingColumns||e===this.left&&n===this.width&&i===this.truncatedRight&&r===this.truncatedLeft||this.rowsManager.gantt.api.tasks.raise.viewChange(this)},e.prototype.updateView=function(){if(this.$element)if(void 0===this.left||void 0===this.width)this.$element.css("display","none");else{if(this.$element.css({left:this.left+"px",width:this.width+"px",display:""}),this.model.priority>0)for(var t=this.model.priority,e=this.$element.children(),n=0;n<e.length;n++)angular.element(e[n]).css("z-index",t);this.$element.toggleClass("gantt-task-milestone",this.isMilestone())}},e.prototype.getBackgroundElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-background");return void 0!==t&&(t=angular.element(t)),t}},e.prototype.getContentElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-content");return void 0!==t&&(t=angular.element(t)),t}},e.prototype.getForegroundElement=function(){if(void 0!==this.$element){var t=this.$element[0].querySelector(".gantt-task-foreground");return void 0!==t&&(t=angular.element(t)),t}},e.prototype.setFrom=function(t,e){this.model.from=this.rowsManager.gantt.getDateByPosition(t,e),this.row.setFromTo(),this.updatePosAndSize()},e.prototype.setTo=function(t,e){this.model.to=this.rowsManager.gantt.getDateByPosition(t,e),this.row.setFromTo(),this.updatePosAndSize()},e.prototype.moveTo=function(t,e){var n,i;t>this.modelLeft?(this.model.to=this.rowsManager.gantt.getDateByPosition(t+this.modelWidth,e),n=this.rowsManager.gantt.getPositionByDate(this.model.to),i=n-this.modelWidth,this.model.from=this.rowsManager.gantt.getDateByPosition(i,!1)):(this.model.from=this.rowsManager.gantt.getDateByPosition(t,e),i=this.rowsManager.gantt.getPositionByDate(this.model.from),n=i+this.modelWidth,this.model.to=this.rowsManager.gantt.getDateByPosition(n,!1)),this.row.setFromTo(),this.updatePosAndSize()},e.prototype.clone=function(){return new e(this.row,angular.copy(this.model));
},e}])}(),function(){"use strict";angular.module("gantt").factory("GanttBody",["GanttBodyColumns","GanttBodyRows","GanttBodyBackground","GanttBodyForeground",function(t,e,n,i){var r=function(r){this.gantt=r,this.background=new n(this),this.foreground=new i(this),this.columns=new t(this),this.rows=new e(this)};return r}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyBackground",[function(){var t=function(t){this.body=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyColumns",[function(){var t=function(t){this.body=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyForeground",[function(){var t=function(t){this.body=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttBodyRows",[function(){var t=function(t){this.body=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttHeader",["GanttHeaderColumns",function(t){var e=function(e){this.gantt=e,this.columns=new t(this),this.getHeight=function(){return this.$element[0].offsetHeight}};return e}])}(),function(){"use strict";angular.module("gantt").factory("GanttHeaderColumns",[function(){var t=function(t){this.$element=t};return t}])}(),function(){"use strict";angular.module("gantt").factory("GanttScroll",[function(){var t=function(e){this.gantt=e,this.gantt.api.registerEvent("scroll","scroll"),this.gantt.api.registerMethod("scroll","to",t.prototype.scrollTo,this),this.gantt.api.registerMethod("scroll","toDate",t.prototype.scrollToDate,this),this.gantt.api.registerMethod("scroll","left",t.prototype.scrollToLeft,this),this.gantt.api.registerMethod("scroll","right",t.prototype.scrollToRight,this),this.gantt.api.registerMethod("scroll","setWidth",t.prototype.setWidth,this)};return t.prototype.getScrollLeft=function(){return void 0===this.$element?void 0:(void 0===this.cachedScrollLeft&&(this.cachedScrollLeft=this.$element[0].scrollLeft),this.cachedScrollLeft)},t.prototype.getScrollWidth=function(){return void 0===this.$element?void 0:this.$element[0].scrollWidth},t.prototype.getWidth=function(){return void 0===this.$element?void 0:this.$element[0].offsetWidth},t.prototype.setWidth=function(t){this.$element[0]&&(this.$element[0].offsetWidth=t)},t.prototype.getBordersWidth=function(){if(void 0!==this.$element){if(this.$element[0].clientWidth)return this.$element[0].offsetWidth-this.$element[0].clientWidth;var t=window.getComputedStyle(this.$element[0]).getPropertyValue("border-left-width")?window.getComputedStyle(this.$element[0]).getPropertyValue("border-left-width").match(/\d+/)[0]:0,e=window.getComputedStyle(this.$element[0]).getPropertyValue("border-right-width")?window.getComputedStyle(this.$element[0]).getPropertyValue("border-right-width").match(/\d+/)[0]:0;return parseInt(t)+parseInt(e)}},t.prototype.getBordersHeight=function(){return void 0===this.$element?void 0:this.$element[0].offsetHeight-this.$element[0].clientHeight},t.prototype.isVScrollbarVisible=function(){if(void 0!==this.$element)return this.$element[0].scrollHeight>this.$element[0].offsetHeight},t.prototype.isHScrollbarVisible=function(){if(void 0!==this.$element)return this.$element[0].scrollWidth>this.$element[0].offsetWidth},t.prototype.scrollTo=function(t){this.$element[0].scrollLeft=t,this.$element.triggerHandler("scroll")},t.prototype.scrollToLeft=function(t){this.$element[0].scrollLeft-=t,this.$element.triggerHandler("scroll")},t.prototype.scrollToRight=function(t){this.$element[0].scrollLeft+=t,this.$element.triggerHandler("scroll")},t.prototype.scrollToDate=function(t){var e=this.gantt.getPositionByDate(t);void 0!==e&&(this.$element[0].scrollLeft=e-this.$element[0].offsetWidth/2)},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttSide",[function(){var t=function(t){this.gantt=t};return t.prototype.getWidth=function(){if(this.gantt.options.value("showSide")){var t=this.gantt.options.value("sideWidth");if(void 0===t&&void 0!==this.$element&&void 0!==this.$element.css("width")&&this.$element.css("width",""),void 0!==this.$element&&(t=this.$element[0].offsetWidth),void 0!==t)return t}return 0},t.prototype.show=function(t){void 0!==this.$element&&this.$element.toggleClass("ng-hide",!t)},t.prototype.isShown=function(){if(void 0!==this.$element)return!this.$element.hasClass("ng-hide")},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttTimespan",[function(){var t=function(t,e){this.gantt=t,this.model=e};return t.prototype.updatePosAndSize=function(){this.modelLeft=this.gantt.getPositionByDate(this.model.from),this.modelWidth=this.gantt.getPositionByDate(this.model.to)-this.modelLeft;var t=this.gantt.columnsManager.getLastColumn(),e=t?t.left+t.width:0;this.modelLeft+this.modelWidth<0||this.modelLeft>e?(this.left=void 0,this.width=void 0):(this.left=Math.min(Math.max(this.modelLeft,0),this.gantt.width),this.modelLeft<0?(this.truncatedLeft=!0,this.modelWidth+this.modelLeft>this.gantt.width?(this.truncatedRight=!0,this.width=this.gantt.width):(this.truncatedRight=!1,this.width=this.modelWidth+this.modelLeft)):this.modelWidth+this.modelLeft>this.gantt.width?(this.truncatedRight=!0,this.truncatedLeft=!1,this.width=this.gantt.width-this.modelLeft):(this.truncatedLeft=!1,this.truncatedRight=!1,this.width=this.modelWidth),this.width<0&&(this.left=this.left+this.width,this.width=-this.width)),this.updateView()},t.prototype.updateView=function(){this.$element&&(void 0===this.left||void 0===this.width?this.$element.css("display","none"):(this.$element.css("display",""),this.$element.css("left",this.left+"px"),this.$element.css("width",this.width+"px")))},t.prototype.setFrom=function(t){this.from=this.gantt.getDateByPosition(t),this.updatePosAndSize()},t.prototype.setTo=function(t){this.to=this.gantt.getDateByPosition(t),this.updatePosAndSize()},t.prototype.moveTo=function(t){this.from=this.gantt.getDateByPosition(t),this.to=this.gantt.getDateByPosition(t+this.width),this.updatePosAndSize()},t.prototype.clone=function(){return new t(this.gantt,angular.copy(this.model))},t}])}(),function(){"use strict";angular.module("gantt").factory("GanttTimespansManager",["GanttTimespan",function(t){var e=function(t){var e=this;this.gantt=t,this.timespansMap={},this.timespans=[],this.gantt.$scope.$watchCollection("timespans",function(t){e.clearTimespans(),e.loadTimespans(t)}),this.gantt.api.registerMethod("timespans","load",this.loadTimespans,this),this.gantt.api.registerMethod("timespans","remove",this.removeTimespans,this),this.gantt.api.registerMethod("timespans","clear",this.clearTimespans,this),this.gantt.api.registerEvent("timespans","add"),this.gantt.api.registerEvent("timespans","remove"),this.gantt.api.registerEvent("timespans","change")};return e.prototype.loadTimespans=function(t){angular.isArray(t)||(t=void 0!==t?[t]:[]),this.gantt.$scope.timespans=t;for(var e=0,n=t.length;e<n;e++){var i=t[e];this.gantt.objectModel.cleanTimespan(i),this.loadTimespan(i)}},e.prototype.loadTimespan=function(e){var n,i=!1;return e.id in this.timespansMap?(n=this.timespansMap[e.id],n.model=e,i=!0,this.gantt.api.timespans.raise.change(n)):(n=new t(this.gantt,e),this.timespansMap[e.id]=n,this.timespans.push(n),this.gantt.api.timespans.raise.add(n)),n.updatePosAndSize(),i},e.prototype.removeTimespans=function(t){angular.isArray(t)||(t=[t]);for(var e=0,n=t.length;e<n;e++){var i=t[e];this.removeTimespan(i.id)}this.updateVisibleObjects()},e.prototype.removeTimespan=function(t){if(t in this.timespansMap){delete this.timespansMap[t];for(var e,n,i=this.timespans.length-1;i>=0;i--)if(n=this.timespans[i],n.model.id===t){e=n,this.timespans.splice(i,1);break}return this.gantt.api.timespans.raise.remove(e),e}},e.prototype.clearTimespans=function(){this.timespansMap={},this.timespans=[]},e.prototype.updateTimespansPosAndSize=function(){for(var t=0,e=this.timespans.length;t<e;t++)this.timespans[t].updatePosAndSize()},e}])}(),function(){"use strict";angular.module("gantt").service("ganttArrays",[function(){return{moveToIndex:function(t,e,n){if(n>=t.length)for(var i=n-t.length;i--+1;)t.push(void 0);return t.splice(n,0,t.splice(e,1)[0]),t},getRemovedIds:function(t,e,n){void 0===n&&(n="id");var i,r,o=[];if(void 0!==e)for(i=0,r=e.length;i<r;i++)o.push(e[i][n]);if(void 0!==t)for(i=0,r=t.length;i<r;i++){var a=t[i];if(void 0!==a[n]){var s=o.indexOf(a[n]);s>-1&&o.splice(s,1)}}return o},indexOfId:function(t,e,n){var i;if(void 0===n)n="id";else if(n instanceof Array){for(i=t.length-1;i>=0;i--){for(var r=t[i],o=0,a=n.length;o<a;o++)r=r[n[o]];if(r===e)return i}return-1}for(i=t.length-1;i>=0;i--)if(t[i][n]===e)return i;return-1},removeId:function(t,e,n){var i=this.indexOfId(t,e,n);if(i>-1)return t.splice(i,1)[0]},remove:function(t,e){var n=t.indexOf(e);return n>-1&&(t.splice(n,1),!0)}}}])}(),function(){"use strict";angular.module("gantt").service("ganttBinarySearch",[function(){return{getIndicesOnly:function(t,e,n,i){for(var r=-1,o=t.length;o-r>1;){var a=Math.floor((r+o)/2);(i?n(t[a])<e:n(t[a])<=e)?r=a:o=a}return i||void 0===t[r]||n(t[r])!==e||(o=r),[r,o]},get:function(t,e,n,i){var r=this.getIndicesOnly(t,e,n,i);return[t[r[0]],t[r[1]]]}}}])}(),function(){"use strict";angular.module("gantt").factory("GanttHierarchy",[function(){var t=function(){var t=this,e={},n={},i={},r={},o={},a={},s=function(t,e){if(void 0!==e){var n=i[t.model.name];void 0===n&&(n=[],i[t.model.name]=n),n.push(e);var s=r[t.model.id];void 0===s&&(s=[],r[t.model.id]=s),s.push(e),o[e.model.name]=t,a[e.model.id]=t}};this.refresh=function(l){e={},n={},i={},r={},o={},a={};for(var u,c=0;c<l.length;c++)u=l[c],e[u.model.name]=u,n[u.model.id]=u;for(c=0;c<l.length;c++){if(u=l[c],void 0!==u.model.parent){var d=e[u.model.parent];void 0===d&&(d=n[u.model.parent]),void 0!==d&&s(d,u)}if(void 0!==u.model.children)for(var h=u.model.children,p=0;p<h.length;p++){var f=h[p],g=e[f];void 0===g&&(g=n[f]),void 0!==g&&s(u,g)}}var m=[];for(c=0;c<l.length;c++)u=l[c],void 0===t.parent(u)&&m.push(u);return m},this.children=function(t){var e=r[t.model.id];return e},this.descendants=function(e){var n=[],i=t.children(e);if(n.push.apply(n,i),void 0!==i)for(var r=0;r<i.length;r++){var o=t.descendants(i[r]);n.push.apply(n,o)}return n},this.parent=function(t){var e=a[t.model.id];return e},this.ancestors=function(e){for(var n=[],i=t.parent(e);void 0!==i;)n.push(i),i=t.parent(i);return n}};return t}])}(),function(){"use strict";angular.module("gantt").service("ganttUtils",[function(){return{createBoundedWrapper:function(t,e){return function(){return e.apply(t,arguments)}},firstProperty:function(t,e,n){for(var i=0,r=t.length;i<r;i++){var o=t[i];if(void 0!==o&&e in o&&void 0!==o[e])return o[e]}return n},angularIndexOf:function(t,e){for(var n=0;n<t.length;n++)if(angular.equals(t[n],e))return n;return-1},random4:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},randomUuid:function(){return this.random4()+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+"-"+this.random4()+this.random4()+this.random4()},newId:function(){var t=(new Date).getTime();return function(){return t+=1}}()}}])}(),function(){"use strict";angular.module("gantt").filter("ganttColumnLimit",["ganttBinarySearch",function(t){var e=function(t){return t.left};return function(n,i){var r=i.scroll.getScrollLeft(),o=i.getWidth()-i.side.getWidth();if(o>0){var a=t.getIndicesOnly(n,r,e)[0],s=t.getIndicesOnly(n,r+o,e)[1];return n.slice(a,s)}return n.slice()}}])}(),function(){"use strict";angular.module("gantt").filter("ganttTaskLimit",[function(){return function(t,e){var n=e.columnsManager.getFirstColumn(),i=e.columnsManager.getLastColumn();if(void 0!==n&&void 0!==i){for(var r=n.date,o=i.endDate,a=[],s=e.scroll.getScrollLeft(),l=e.getWidth()-e.side.getWidth(),u=0,c=t.length;u<c;u++){var d=t[u];d.active?a.push(d):d.model.to>=r&&d.model.from<=o&&(void 0===d.left&&d.updatePosAndSize(),(!l||d.left>=s&&d.left<=s+l||d.left+d.width>=s&&d.left+d.width<=s+l||d.left<s&&d.left+d.width>s+l)&&a.push(d))}return a}return t.splice()}}])}(),function(){"use strict";angular.module("gantt").directive("ganttResizer",["$document","$parse","$timeout","ganttMouseOffset",function(t,e,n,i){return{restrict:"A",require:"^gantt",scope:{targetElement:"=ganttResizer",enabled:"@?ganttResizerEnabled"},link:function(r,o,a,s){function l(){return s.gantt.options.value(a.resizerWidth)}function u(t){t!==l()&&(s.gantt.options.set(a.resizerWidth,t),void 0!==g&&f[g].raise.resize(t),n(function(){s.gantt.columnsManager.updateColumnsMeta()}))}function c(t){t.preventDefault(),u(void 0)}function d(t){r.$evalAsync(function(){var e=i.getOffsetForElement(r.targetElement[0],t),n=s.gantt.getWidth()-s.gantt.scroll.getBordersWidth(),o=Math.min(Math.max(e.x,0),n);u(o)})}function h(){void 0!==g&&f[g].raise.resizeEnd(l()),t.unbind("mousemove",d),t.unbind("mouseup",h)}function p(e){e.preventDefault(),void 0!==g&&f[g].raise.resizeBegin(l()),t.on("mousemove",d),t.on("mouseup",h)}var f=s.gantt.api,g=a.ganttResizerEventTopic;void 0===r.enabled&&(r.enabled=!0),a.$observe("ganttResizerEnabled",function(t){r.enabled=e(t)()}),r.$watch("enabled",function(t){void 0===t&&(t=!0),o.toggleClass("gantt-resizer-enabled",t),t?(o.on("dblclick",c),o.on("mousedown",p)):(o.off("dblclick",c),o.off("mousedown",p))}),r.$watch(function(){return l()},function(t,e){t!==e&&(r.targetElement.css("width",t+"px"),r.targetElement[0].offsetWidth>0&&u(r.targetElement[0].offsetWidth))}),g&&(f.registerEvent(g,"resize"),f.registerEvent(g,"resizeBegin"),f.registerEvent(g,"resizeEnd"),f.registerMethod(g,"setWidth",u,this),f.registerMethod(g,"getWidth",l,this))}}}])}(),function(){"use strict";angular.module("gantt").directive("ganttHorizontalScrollReceiver",function(){return{restrict:"A",require:"^ganttScrollManager",link:function(t,e,n,i){i.registerHorizontalReceiver(e)}}})}(),function(){"use strict";angular.module("gantt").directive("ganttScrollManager",function(){return{restrict:"A",scope:{},controller:["$scope",function(t){t.horizontal=[],t.vertical=[],this.registerVerticalReceiver=function(e){e.css("position","relative"),t.vertical.push(e[0])},this.registerHorizontalReceiver=function(e){e.css("position","relative"),t.horizontal.push(e[0])},this.getHorizontalRecievers=function(){return t.horizontal},this.getVerticalRecievers=function(){return t.vertical}}]}})}(),function(){"use strict";angular.module("gantt").directive("ganttScrollSender",[function(){return{restrict:"A",require:["^gantt","^ganttScrollManager"],link:function(t,e,n,i){var r=e[0],o=function(){var t,e,n=i[1].getVerticalRecievers();for(t=0,e=n.length;t<e;t++){var o=n[t];o.parentNode.scrollTop!==r.scrollTop&&(o.parentNode.scrollTop=r.scrollTop)}var a=i[1].getHorizontalRecievers();for(t=0,e=a.length;t<e;t++){var s=a[t];s.parentNode.scrollLeft!==r.scrollLeft&&(s.parentNode.scrollLeft=r.scrollLeft)}};e.bind("scroll",o),t.$watch(function(){return i[0].gantt.width},function(t,e){if(t!==e)for(var n=i[1].getHorizontalRecievers(),r=0,o=n.length;r<o;r++){var a=n[r];a.style.width=t+"px"}})}}}])}(),function(){"use strict";angular.module("gantt").directive("ganttScrollable",["GanttDirectiveBuilder","$timeout","ganttDebounce","moment",function(t,e,n,i){var r=new t("ganttScrollable");return r.controller=function(t,r){t.gantt.scroll.$element=r;var o,a,s=function(e,n,r){var o=t.gantt.options.value("autoExpand");if("both"===o||o===!0||o===r){var a,s,l=t.gantt.options.value("viewScale");l=l.trim(),"s"===l.charAt(l.length-1)&&(l=l.substring(0,l.length-1));var u,c,d;l&&(d=l.split(" ")),d&&d.length>1?(u=parseFloat(d[0]),c=d[d.length-1]):(u=1,c=l),"left"===r?(a=i(n).add(-5*u,c),t.fromDate=a):(s=i(n).add(5*u,c),t.toDate=s),t.gantt.api.scroll.raise.scroll(e.scrollLeft,n,r)}};r.bind("scroll",n(function(){var n,i,l=r[0],u=l.scrollLeft;t.gantt.scroll.cachedScrollLeft=u,t.gantt.columnsManager.updateVisibleColumns(),t.gantt.rowsManager.updateVisibleObjects(),u<o&&0===u?(n="left",i=t.gantt.columnsManager.from):u>o&&l.offsetWidth+u>=l.scrollWidth-1&&(n="right",i=t.gantt.columnsManager.to),o=u,void 0!==i?(a&&e.cancel(a),a=e(function(){s(l,i,n)},300)):t.gantt.api.scroll.raise.scroll(u)},5)),t.getScrollableCss=function(){var e={},n=t.gantt.options.value("maxHeight");n>0&&(e["max-height"]=n-t.gantt.header.getHeight()+"px",e["overflow-y"]="auto",t.gantt.scroll.isVScrollbarVisible()&&(e["border-right"]="none"));var i=this.gantt.options.value("columnWidth"),r=0!==t.gantt.width&&t.gantt.width<t.gantt.getWidth()-t.gantt.side.getWidth();return void 0!==i&&r&&(e.width=t.gantt.width+this.gantt.scroll.getBordersWidth()+"px"),e}},r.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttVerticalScrollReceiver",function(){return{restrict:"A",require:"^ganttScrollManager",link:function(t,e,n,i){i.registerVerticalReceiver(e)}}})}(),function(){"use strict";angular.module("gantt").directive("ganttElementHeightListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,e,n){var i=n.ganttElementHeightListener;""===i&&(i="ganttElementHeight");for(var r=t;0===i.indexOf("$parent.");)i=i.substring("$parent.".length),r=r.$parent;r.$watch(function(){return e[0].offsetHeight},function(t){t>0&&(r[i]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttElementWidthListener",[function(){return{restrict:"A",controller:["$scope","$element","$attrs",function(t,e,n){var i=n.ganttElementWidthListener;""===i&&(i="ganttElementWidth");for(var r=t;0===i.indexOf("$parent.");)i=i.substring("$parent.".length),r=r.$parent;r.$watch(function(){return e[0].offsetWidth},function(t){t>0&&(r[i]=t)})}]}}])}(),function(){"use strict";angular.module("gantt").directive("ganttBody",["GanttDirectiveBuilder",function(t){var e=new t("ganttBody");return e.controller=function(t,e){t.gantt.body.$element=e,t.gantt.body.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyBackground",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyBackground");return e.controller=function(t,e){t.gantt.body.background.$element=e,t.gantt.body.background.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyColumns",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyColumns");return e.controller=function(t,e){t.gantt.body.columns.$element=e,t.gantt.body.background.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyForeground",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyForeground");return e.controller=function(t,e){t.gantt.body.foreground.$element=e,t.gantt.body.foreground.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttBodyRows",["GanttDirectiveBuilder",function(t){var e=new t("ganttBodyRows");return e.controller=function(t,e){t.gantt.body.rows.$element=e,t.gantt.body.rows.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttColumn",["GanttDirectiveBuilder",function(t){var e=new t("ganttColumn");return e.controller=function(t,e){t.column.$element=e,t.column.$scope=t,t.column.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttColumnHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttColumnHeader");return e.controller=function(t,e){t.column.$element=e,t.column.$scope=t,t.column.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttHeader");return e.controller=function(t,e){t.gantt.header.$element=e,t.gantt.header.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttHeaderColumns",["GanttDirectiveBuilder",function(t){var e=new t("ganttHeaderColumns");return e.controller=function(t,e){t.gantt.header.columns.$element=e,t.gantt.header.columns.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRow",["GanttDirectiveBuilder",function(t){var e=new t("ganttRow");return e.controller=function(t,e){t.row.$element=e,t.row.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRowBackground",["GanttDirectiveBuilder",function(t){var e=new t("ganttRowBackground");return e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttRowLabel",["GanttDirectiveBuilder",function(t){var e=new t("ganttRowLabel");return e.restrict="A",e.templateUrl=void 0,e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttScrollableHeader",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttScrollableHeader");return n.controller=function(t){var n=e.getScrollBarWidth();t.getScrollableHeaderCss=function(){var e={},i=t.gantt.scroll.isVScrollbarVisible(),r=i?n:0,o=this.gantt.options.value("columnWidth"),a=0!==t.gantt.width&&t.gantt.width<t.gantt.getWidth()-t.gantt.side.getWidth();return void 0!==o&&a?e.width=t.gantt.width-r+this.gantt.scroll.getBordersWidth()+"px":i&&(e.width=t.gantt.getWidth()-t.gantt.side.getWidth()-r+"px"),e}},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSide",["GanttDirectiveBuilder",function(t){var e=new t("ganttSide");return e.controller=function(t,e){t.gantt.side.$element=e,t.gantt.side.$scope=t},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSideBackground",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideBackground");return n.controller=function(t){var n=e.getScrollBarHeight();t.getMaxHeightCss=function(){var e={};if(t.maxHeight){var i=t.gantt.scroll.isHScrollbarVisible()?n:0;e["max-height"]=t.maxHeight-i-t.gantt.header.getHeight()+"px"}return e}},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttSideContent",["GanttDirectiveBuilder",function(t){var e=new t("ganttSideContent");return e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTask",["GanttDirectiveBuilder","moment",function(t,e){var n=new t("ganttTask");return n.controller=function(t,n){t.task.$element=n,t.task.$scope=t,t.getTaskContent=function(){return void 0!==t.task.model.content?t.task.model.content:t.task.rowsManager.gantt.options.value("taskContent")},t.simplifyMoment=function(t){return e.isMoment(t)?t.unix():t},t.$watchGroup(["simplifyMoment(task.model.from)","simplifyMoment(task.model.to)"],function(){t.task.updatePosAndSize()})},n.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskBackground",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskBackground");return e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskContent",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskContent");return e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskForeground",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskForeground");return e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTimeFrame",["GanttDirectiveBuilder",function(t){var e=new t("ganttTimeFrame");return e.controller=function(t,e){t.timeFrame.$element=e,t.timeFrame.$scope=t,t.timeFrame.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").directive("ganttTimespan",["GanttDirectiveBuilder",function(t){var e=new t("ganttTimespan");return e.controller=function(t,e){t.timespan.$element=e,t.timespan.$scope=t,t.timespan.updateView()},e.build()}])}(),function(){"use strict";angular.module("gantt").factory("ganttDebounce",["$timeout",function(t){function e(e,n,i){var r=0;return function(){var o=this,a=arguments;r++;var s=function(t){return function(){if(t===r)return e.apply(o,a)}}(r);return t(s,n,void 0===i||i)}}return e}])}(),function(){"use strict";angular.module("gantt").service("GanttDirectiveBuilder",["$templateCache",function(t){var e=function(e,n,i,r){var o=this;this.directiveName=e,this.templateUrl=void 0===n?"template/"+e+".tmpl.html":n,this.require=void 0===i?"^gantt":i,this.restrict=void 0===r?"E":r,this.scope=!1,this.transclude=!0,this.replace=!0,this.build=function(){var e=o.directiveName,n=o.templateUrl,i=o.controller,r={restrict:o.restrict,require:o.require,transclude:o.transclude,replace:o.replace,scope:o.scope,templateUrl:function(e,i){return void 0!==i.templateUrl&&(n=i.templateUrl),void 0!==i.template&&t.put(n,i.template),n},compile:function(){return{pre:function(t,n,i,r){t.gantt.api.directives.raise.preLink(e,t,n,i,r)},post:function(t,n,i,r){t.gantt.api.directives.raise.postLink(e,t,n,i,r)}}},controller:["$scope","$element","$attrs",function(t,n,r){var o=this;void 0!==i&&i(t,n,r,o),t.gantt.api.directives.raise.controller(e,t,n,r,o),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy(e,t,n,r,o)}),t.$applyAsync(function(){t.gantt.api.directives.raise["new"](e,t,n,r,o)})}]};return n||(delete r.templateUrl,delete r.replace,delete r.transclude),r}};return e}])}(),function(){"use strict";angular.module("gantt").service("ganttDom",["$document",function(t){return{elementFromPoint:function(e,n){return t[0].elementFromPoint(e,n)},elementsFromPoint:function(t,e,n){for(var i,r,o,a,s=[],l=[],u=0;(i=this.elementFromPoint(t,e))&&s.indexOf(i)===-1&&null!==i&&(void 0===n||u<n);)s.push(i),l.push({value:i.style.getPropertyValue("visibility"),priority:i.style.getPropertyPriority("visibility")}),i.style.setProperty("visibility","hidden","important"),u++;for(r=0,o=l.length;r<o;r++)a=l[r],s[r].style.setProperty("visibility",a.value?a.value:"",a.priority);return s},findElementFromPoint:function(t,e,n){for(var i,r,o,a,s,l=[],u=[],c=0;(i=this.elementFromPoint(t,e))&&l.indexOf(i)===-1&&null!==i;)if(l.push(i),u.push({value:i.style.getPropertyValue("visibility"),priority:i.style.getPropertyPriority("visibility")}),i.style.setProperty("visibility","hidden","important"),c++,n(i)){r=i;break}for(o=0,a=u.length;o<a;o++)s=u[o],l[o].style.setProperty("visibility",s.value?s.value:"",s.priority);return r},isElementVisible:function(t){return void 0!==t.offsetParent&&null!==t.offsetParent}}}])}(),function(){"use strict";angular.module("gantt").service("ganttEnableNgAnimate",["$injector",function(t){var e;try{e=t.get("$animate")}catch(n){}return void 0!==e?function(t,n){angular.version.major>=1&&angular.version.minor>=4?e.enabled(t,n):e.enabled(n,t)}:angular.noop}])}(),function(){"use strict";angular.module("gantt").directive("ganttBindCompileHtml",["$compile",function(t){return{restrict:"A",require:"^gantt",link:function(e,n,i,r){e.scope=r.gantt.$scope.$parent,e.$watch(function(){return e.$eval(i.ganttBindCompileHtml)},function(i){n.html(i),t(n.contents())(e)})}}}])}(),function(){"use strict";angular.module("gantt").service("ganttLayout",["$document",function(t){return{getScrollBarWidth:function(){var e=t[0].createElement("p");e.style.width="100%",e.style.height="200px";var n=t[0].createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="200px",n.style.height="150px",n.style.overflow="hidden",n.appendChild(e),t[0].body.appendChild(n);var i=e.offsetWidth;n.style.overflow="scroll";var r=e.offsetWidth;return i===r&&(r=n.clientWidth),t[0].body.removeChild(n),i-r},getScrollBarHeight:function(){var e=t[0].createElement("p");e.style.width="200px;",e.style.height="100%";var n=t[0].createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.visibility="hidden",n.style.width="150px",n.style.height="200px",n.style.overflow="hidden",n.appendChild(e),t[0].body.appendChild(n);var i=e.offsetHeight;n.style.overflow="scroll";var r=e.offsetHeight;return i===r&&(r=n.clientHeight),t[0].body.removeChild(n),i-r},setColumnsWidthFactor:function(t,e,n){if(t){n||(n=0);for(var i=0;i<t.length;i++){var r=t[i];r.left=e*(r.originalSize.left+n)-n,r.width=e*r.originalSize.width;for(var o=0;o<r.timeFrames.length;o++){var a=r.timeFrames[o];a.left=e*a.originalSize.left,a.width=e*a.originalSize.width}}}}}}])}(),function(){"use strict";angular.module("gantt").service("ganttMouseButton",[function(){return{getButton:function(t){return t=t||window.event,t.which?t.which:void 0===t.button?1:t.button<2?1:4===t.button?2:3}}}])}(),function(){"use strict";angular.module("gantt").service("ganttMouseOffset",[function(){return{getTouch:function(t){return void 0!==t.touches?t.touches[0]:t},getOffset:function(t){return t.offsetX&&t.offsetY?{x:t.offsetX,y:t.offsetY}:t.layerX&&t.layerY?{x:t.layerX,y:t.layerY}:this.getOffsetForElement(t.target,t)},getOffsetForElement:function(t,e){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}}}])}(),function(){"use strict";angular.module("gantt").factory("ganttSmartEvent",[function(){function t(t,e,n,i){return t.$on("$destroy",function(){e.unbind(n,i)}),{bindOnce:function(){e.one(n,i)},bind:function(){e.bind(n,i)},unbind:function(){e.unbind(n,i)}}}return t}])}(),angular.module("gantt.templates",[]).run(["$templateCache",function(t){t.put("template/gantt.tmpl.html",'<div class="gantt unselectable" ng-cloak gantt-scroll-manager gantt-element-width-listener="ganttElementWidth">\n    <gantt-side>\n        <gantt-side-background>\n        </gantt-side-background>\n        <gantt-side-content>\n        </gantt-side-content>\n        <div gantt-resizer="gantt.side.$element" gantt-resizer-event-topic="side" gantt-resizer-enabled="{{$parent.gantt.options.value(\'allowSideResizing\')}}" resizer-width="sideWidth" class="gantt-resizer">\n            <div ng-show="$parent.gantt.options.value(\'allowSideResizing\')" class="gantt-resizer-display"></div>\n        </div>\n    </gantt-side>\n    <gantt-scrollable-header>\n        <gantt-header gantt-element-height-listener="$parent.ganttHeaderHeight">\n            <gantt-header-columns>\n                <div ng-repeat="header in gantt.columnsManager.visibleHeaders track by $index">\n                    <div class="gantt-header-row" ng-class="{\'gantt-header-row-last\': $last, \'gantt-header-row-first\': $first}">\n                        <gantt-column-header ng-repeat="column in header"></gantt-column-header>\n                    </div>\n                </div>\n            </gantt-header-columns>\n        </gantt-header>\n    </gantt-scrollable-header>\n    <gantt-scrollable>\n        <gantt-body>\n            <gantt-body-background>\n                <gantt-row-background ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"></gantt-row-background>\n            </gantt-body-background>\n            <gantt-body-foreground>\n                <div class="gantt-current-date-line" ng-show="currentDate === \'line\' && gantt.currentDateManager.position >= 0 && gantt.currentDateManager.position <= gantt.width" ng-style="{\'left\': gantt.currentDateManager.position + \'px\' }"></div>\n            </gantt-body-foreground>\n            <gantt-body-columns>\n                <gantt-column ng-repeat="column in gantt.columnsManager.visibleColumns">\n                    <gantt-time-frame ng-repeat="timeFrame in column.visibleTimeFrames"></gantt-time-frame>\n                </gantt-column>\n            </gantt-body-columns>\n            <div ng-if="gantt.columnsManager.visibleColumns == 0" style="background-color: #808080"></div>\n            <gantt-body-rows>\n                <gantt-timespan ng-repeat="timespan in gantt.timespansManager.timespans track by timespan.model.id"></gantt-timespan>\n                <gantt-row ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                    <gantt-task ng-repeat="task in row.visibleTasks track by task.model.id">\n                    </gantt-task>\n                </gantt-row>\n            </gantt-body-rows>\n        </gantt-body>\n    </gantt-scrollable>\n\n    <!-- Plugins -->\n    <ng-transclude></ng-transclude>\n\n    <!--\n    ******* Inline templates *******\n    You can specify your own templates by either changing the default ones below or by\n    adding an attribute template-url="<url to your template>" on the specific element.\n    -->\n\n    <!-- Body template -->\n    <script type="text/ng-template" id="template/ganttBody.tmpl.html">\n        <div ng-transclude class="gantt-body" ng-style="{\'width\': gantt.width > 0 ? gantt.width +\'px\' : undefined}"></div>\n    </script>\n\n    <!-- Header template -->\n    <script type="text/ng-template" id="template/ganttHeader.tmpl.html">\n        <div ng-transclude class="gantt-header"\n             ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0"></div>\n    </script>\n\n    <!-- Side template -->\n    <script type="text/ng-template" id="template/ganttSide.tmpl.html">\n        <div ng-transclude class="gantt-side" style="width: auto;"></div>\n    </script>\n\n    <!-- Side content template-->\n    <script type="text/ng-template" id="template/ganttSideContent.tmpl.html">\n        <div class="gantt-side-content">\n        </div>\n    </script>\n\n    <!-- Header columns template -->\n    <script type="text/ng-template" id="template/ganttHeaderColumns.tmpl.html">\n        <div ng-transclude class="gantt-header-columns"\n              gantt-horizontal-scroll-receiver></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttColumnHeader.tmpl.html">\n        <div class="gantt-column-header" ng-class="{\'gantt-column-header-last\': $last, \'gantt-column-header-first\': $first}">{{::column.label}}</div>\n    </script>\n\n    <!-- Body background template -->\n    <script type="text/ng-template" id="template/ganttBodyBackground.tmpl.html">\n        <div ng-transclude class="gantt-body-background"></div>\n    </script>\n\n    <!-- Body foreground template -->\n    <script type="text/ng-template" id="template/ganttBodyForeground.tmpl.html">\n        <div ng-transclude class="gantt-body-foreground"></div>\n    </script>\n\n    <!-- Body columns template -->\n    <script type="text/ng-template" id="template/ganttBodyColumns.tmpl.html">\n        <div ng-transclude class="gantt-body-columns"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttColumn.tmpl.html">\n        <div ng-transclude class="gantt-column gantt-foreground-col" ng-class="{\'gantt-column-last\': $last, \'gantt-column-first\': $first}"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttTimeFrame.tmpl.html">\n        <div class="gantt-timeframe"></div>\n    </script>\n\n    <!-- Scrollable template -->\n    <script type="text/ng-template" id="template/ganttScrollable.tmpl.html">\n        <div ng-transclude class="gantt-scrollable" gantt-scroll-sender ng-style="getScrollableCss()"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttScrollableHeader.tmpl.html">\n        <div ng-transclude class="gantt-scrollable-header" ng-style="getScrollableHeaderCss()"></div>\n    </script>\n\n    <!-- Rows template -->\n    <script type="text/ng-template" id="template/ganttBodyRows.tmpl.html">\n        <div ng-transclude class="gantt-body-rows"></div>\n    </script>\n\n    <!-- Timespan template -->\n    <script type="text/ng-template" id="template/ganttTimespan.tmpl.html">\n        <div class="gantt-timespan" ng-class="timespan.model.classes">\n        </div>\n    </script>\n\n    <!-- Task template -->\n    <script type="text/ng-template" id="template/ganttTask.tmpl.html">\n        <div class="gantt-task" ng-class="task.model.classes">\n            <gantt-task-background></gantt-task-background>\n            <gantt-task-foreground></gantt-task-foreground>\n            <gantt-task-content></gantt-task-content>\n        </div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttTaskBackground.tmpl.html">\n        <div class="gantt-task-background" ng-style="{\'background-color\': task.model.color}"></div>\n    </script>\n\n    <script type="text/ng-template" id="template/ganttTaskForeground.tmpl.html">\n        <div class="gantt-task-foreground">\n            <div ng-if="task.truncatedRight" class="gantt-task-truncated-right">&gt;</div>\n            <div ng-if="task.truncatedLeft" class="gantt-task-truncated-left">&lt;</div>\n        </div>\n    </script>\n\n    <!-- Task content template -->\n    <script type="text/ng-template" id="template/ganttTaskContent.tmpl.html">\n        <div class="gantt-task-content" unselectable="on"><span unselectable="on" gantt-bind-compile-html="getTaskContent()"/></div>\n    </script>\n\n\n    <!-- Row background template -->\n    <script type="text/ng-template" id="template/ganttRowBackground.tmpl.html">\n        <div class="gantt-row gantt-row-height"\n             ng-class="row.model.classes"\n             ng-class-odd="\'gantt-row-odd\'"\n             ng-class-even="\'gantt-row-even\'"\n             ng-style="{\'height\': row.model.height}">\n            <div class="gantt-row-background"\n                 ng-style="{\'background-color\': row.model.color}">\n            </div>\n        </div>\n    </script>\n\n    <!-- Row template -->\n    <script type="text/ng-template" id="template/ganttRow.tmpl.html">\n        <div class="gantt-row gantt-row-height"\n             ng-class="row.model.classes"\n             ng-class-odd="\'gantt-row-odd\'"\n             ng-class-even="\'gantt-row-even\'"\n             ng-style="{\'height\': row.model.height}">\n            <div ng-transclude class="gantt-row-content"></div>\n        </div>\n    </script>\n\n    <!-- Side background template -->\n    <script type="text/ng-template" id="template/ganttSideBackground.tmpl.html">\n        <div class="gantt-side-background">\n            <div class="gantt-side-background-header" ng-style="{height: $parent.ganttHeaderHeight + \'px\'}">\n                <div ng-show="$parent.ganttHeaderHeight" class="gantt-header-row gantt-side-header-row"></div>\n            </div>\n            <div class="gantt-side-background-body" ng-style="getMaxHeightCss()">\n                <div gantt-vertical-scroll-receiver>\n                    <div class="gantt-row gantt-row-height "\n                         ng-class-odd="\'gantt-row-odd\'"\n                         ng-class-even="\'gantt-row-even\'"\n                         ng-class="row.model.classes"\n                         ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id"\n                         ng-style="{\'height\': row.model.height}">\n                        <div gantt-row-label class="gantt-row-label gantt-row-background"\n                             ng-style="{\'background-color\': row.model.color}">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </script>\n</div>\n');
}]),function(){"use strict";angular.module("gantt.bounds",["gantt","gantt.bounds.templates"]).directive("ganttBounds",["moment","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(i,r,o,a){var s=a.gantt.api;if(i.options&&"object"==typeof i.options.bounds)for(var l in i.options.bounds)i[l]=i.options[l];void 0===i.enabled&&(i.enabled=!0),s.directives.on["new"](i,function(t,r,a){if("ganttTask"===t){var s=r.$new();s.pluginScope=i;var l=n[0].createElement("div");angular.element(l).attr("data-ng-if","task.model.est && task.model.lct && pluginScope.enabled");var u=n[0].createElement("gantt-task-bounds");void 0!==o.templateUrl&&angular.element(u).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(u).attr("data-template",o.template),angular.element(l).append(u),a.append(e(l)(s))}}),s.tasks.on.clean(i,function(e){void 0===e.est||t.isMoment(e.est)||(e.est=t(e.est)),void 0===e.lct||t.isMoment(e.lct)||(e.lct=t(e.lct))})}}}])}(),function(){"use strict";angular.module("gantt.dependencies",["gantt","gantt.dependencies.templates"]).directive("ganttDependencies",["$timeout","$document","ganttDebounce","GanttDependenciesManager",function(t,e,n,i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",readOnly:"=?",jsPlumbDefaults:"=?",endpoints:"=?",fallbackEndpoints:"=?"},link:function(t,e,r,o){function a(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint arrow-right"></span></span>')}function s(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint arrow-right"></span></span>')}function l(){return angular.element('<span><span class="gantt-endpoint-overlay start-endpoint fallback-endpoint"></span></span>')}function u(){return angular.element('<span><span class="gantt-endpoint-overlay end-endpoint fallback-endpoint"></span></span>')}var c=o.gantt.api;if(t.options&&"object"==typeof t.options.dependencies)for(var d in t.options.dependencies)t[d]=t.options[d];void 0===t.enabled&&(t.enabled=!0),void 0===t.readOnly&&(t.readOnly=!1),void 0===t.jsPlumbDefaults&&(t.jsPlumbDefaults={Endpoint:["Dot",{radius:4}],EndpointStyle:{fillStyle:"#456",strokeStyle:"#456",lineWidth:1},Connector:"Flowchart",ConnectionOverlays:[["Arrow",{location:1,length:12,width:12}]]}),void 0===t.endpoints&&(t.endpoints=[{anchor:"Left",isSource:!1,isTarget:!0,maxConnections:-1,cssClass:"gantt-endpoint start-endpoint target-endpoint",overlays:[["Custom",{create:a}]]},{anchor:"Right",isSource:!0,isTarget:!1,maxConnections:-1,cssClass:"gantt-endpoint end-endpoint source-endpoint",overlays:[["Custom",{create:s}]]}]),void 0===t.fallbackEndpoints&&(t.fallbackEndpoints=[{endpoint:"Blank",anchor:"Left",isSource:!1,isTarget:!0,maxConnections:0,cssClass:"gantt-endpoint start-endpoint fallback-endpoint",overlays:[["Custom",{create:l}]]},{endpoint:"Blank",anchor:"Right",isSource:!0,isTarget:!1,maxConnections:0,cssClass:"gantt-endpoint end-endpoint fallback-endpoint",overlays:[["Custom",{create:u}]]}]);var h=new i(o.gantt,t,c);c.directives.on["new"](t,function(t,e,n){"ganttBody"===t&&h.plumb.setContainer(n)}),c.tasks.on.add(t,function(t){h.addDependenciesFromTask(t)}),c.tasks.on.remove(t,function(t){h.removeDependenciesFromTask(t)}),c.tasks.on.displayed(t,n(function(t){h.setTasks(t),h.refresh()})),c.rows.on.displayed(t,function(){h.refresh()}),c.tasks.on.viewChange(t,function(t){t.$element&&h.plumb.revalidate(t.$element[0])}),c.tasks.on.viewRowChange(t,function(t){h.setTask(t)})}}}])}(),function(){"use strict";angular.module("gantt.drawtask",["gantt"]).directive("ganttDrawTask",["$document","ganttMouseOffset","ganttUtils","moment",function(t,e,n,i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",moveThreshold:"=?",taskModelFactory:"=?taskFactory"},link:function(n,r,o,a){var s=a.gantt.api;void 0===n.enabled&&(n.enabled=!0),void 0===n.moveThreshold&&(n.moveThreshold=0),void 0===n.taskModelFactory&&(n.taskModelFactory=function(){return{}}),s.directives.on["new"](n,function(r,o,a){if("ganttRow"===r){var l=function(t){var e=s.core.getDateByPosition(t,!0),r=i(e),a=n.taskModelFactory();a.from=e,a.to=r;var l=o.row.addTask(a);l.isResizing=!0,l.updatePosAndSize(),o.row.updateVisibleTasks(),o.row.$scope.$digest()},u=function(i){var r=function(t){var o=e.getOffset(t).x;Math.abs(i-o)>=n.moveThreshold&&(a.off("mousemove",r),l(i))};a.on("mousemove",r),t.one("mouseup",function(){a.off("mousemove",r)})},c=function(t){var i=t.target?t.target:t.srcElement,r=angular.isFunction(n.enabled)?n.enabled(t):n.enabled;if(r&&i.className.indexOf("gantt-row")>-1){var o=e.getOffset(t).x;0===n.moveThreshold?l(o,o):u(o)}};a.on("mousedown",c),o.drawTaskHandler=c}}),s.directives.on.destroy(n,function(t,e,n){"ganttRow"===t&&(n.off("mousedown",e.drawTaskHandler),delete e.drawTaskHandler)})}}}])}(),function(){"use strict";angular.module("gantt.groups",["gantt","gantt.groups.templates"]).directive("ganttGroups",["ganttUtils","GanttHierarchy","$compile","$document",function(t,e,n,i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",display:"=?"},link:function(t,r,o,a){function s(){t.hierarchy.refresh(a.gantt.rowsManager.filteredRows)}var l=a.gantt.api;if(t.options&&"object"==typeof t.options.sortable)for(var u in t.options.sortable)t[u]=t.options[u];void 0===t.enabled&&(t.enabled=!0),void 0===t.display&&(t.display="group"),t.hierarchy=new e,a.gantt.api.registerMethod("groups","refresh",s,this),a.gantt.$scope.$watchCollection("gantt.rowsManager.filteredRows",function(){s()}),l.directives.on["new"](t,function(e,r,a){if("ganttRow"===e){var s=r.$new();s.pluginScope=t;var l=i[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var u=i[0].createElement("gantt-task-group");void 0!==o.templateUrl&&angular.element(u).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(u).attr("data-template",o.template),angular.element(l).append(u),a.append(n(l)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.labels",["gantt","gantt.labels.templates"]).directive("ganttLabels",["ganttUtils","$compile","$document","$log",function(t,e,n,i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?"},link:function(t,r,o,a){function s(){for(var t=a.gantt.side.$element[0].getElementsByClassName("gantt-row-label"),e=0,n=0;n<t.length;n++){var i=t[n].children[0].offsetWidth;e=Math.max(e,i)}e>=0&&l.side.setWidth(e)}var l=a.gantt.api;if(i.warn("Angular Gantt Labels plugin is deprecated. Please use Table plugin instead."),t.options&&"object"==typeof t.options.sortable)for(var u in t.options.sortable)t[u]=t.options[u];void 0===t.enabled&&(t.enabled=!0),void 0===t.header&&(t.header="Name"),l.directives.on["new"](t,function(i,r,o){if("ganttSideContent"===i){var a=r.$new();a.pluginScope=t;var s=n[0].createElement("div");angular.element(s).attr("data-ng-if","pluginScope.enabled"),angular.element(s).addClass("side-element");var l=n[0].createElement("gantt-side-content-labels");angular.element(s).append(l),o.append(e(s)(a))}}),l.registerMethod("labels","fitSideWidth",s,this)}}}])}(),function(){"use strict";angular.module("gantt.movable",["gantt"]).directive("ganttMovable",["ganttMouseButton","ganttMouseOffset","ganttSmartEvent","ganttMovableOptions","ganttUtils","ganttDom","$window","$document","$timeout",function(t,e,n,i,r,o,a,s,l){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",allowMoving:"=?",allowResizing:"=?",allowRowSwitching:"=?"},link:function(u,c,d,h){var p=h.gantt.api;if(u.options&&"object"==typeof u.options.movable)for(var f in u.options.movable)u[f]=u.options[f];i.initialize(u),p.registerEvent("tasks","move"),p.registerEvent("tasks","moveBegin"),p.registerEvent("tasks","moveEnd"),p.registerEvent("tasks","resize"),p.registerEvent("tasks","resizeBegin"),p.registerEvent("tasks","resizeEnd"),p.registerEvent("tasks","change");var g,m,v="ontouchstart"in a||a.DocumentTouch&&s[0]instanceof a.DocumentTouch,y="touchstart mousedown",b="touchmove mousemove",w="touchend mouseup",_=15,x=5,k=3,C=15,$=5;p.directives.on["new"](u,function(i,c,d){if("ganttTask"===i){var p,f=angular.element(a),M=c.row.rowsManager.gantt.body.$element,S=c.row.rowsManager.gantt.scroll.$element,T=!1,D=!1,E=c.task.getForegroundElement(),O=c.task.getContentElement(),P=function(n){n.preventDefault(),v&&(n=e.getTouch(n));var i=c.task.model.movable,o=c.task.row.model.movable;("boolean"==typeof i||angular.isFunction(i))&&(i={enabled:i}),("boolean"==typeof o||angular.isFunction(o))&&(o={enabled:o});var a=r.firstProperty([i,o],"enabled",u.enabled),s=angular.isFunction(a)?a(n,c.task):a;if(s){var l=e.getOffsetForElement(E[0],n).x,d=B(l);if(""!==d&&1===t.getButton(n)){var h=e.getOffsetForElement(M[0],n).x;W(d,h)}c.$digest()}};E.on(y,P),O.on(y,P);var A=function(t){var n=c.task.model.movable,i=c.task.row.model.movable;("boolean"==typeof n||angular.isFunction(n))&&(n={enabled:n}),("boolean"==typeof i||angular.isFunction(i))&&(i={enabled:i});var o=r.firstProperty([n,i],"enabled",u.enabled),a=angular.isFunction(o)?o(t,c.task):o;if(a&&!c.task.isMoving){var s=e.getOffsetForElement(E[0],t).x,l=B(s);""!==l&&"M"!==l?(E.css("cursor",H(l)),O.css("cursor",H(l))):(E.css("cursor",""),O.css("cursor",""))}};E.on("mousemove",A),O.on("mousemove",A);var N=function(t){c.task.isMoving&&!c.destroyed&&(L(),I(t),R(t))},I=function(t){var n=T,i=e.getOffsetForElement(M[0],t),a=i.x;c.task.mouseOffsetX=a;var l=c.task.row.rowsManager.gantt.options.value("taskOutOfRange"),d=c.task.model.movable,p=c.task.row.model.movable;if(("boolean"==typeof d||angular.isFunction(d))&&(d={enabled:d}),("boolean"==typeof p||angular.isFunction(p))&&(p={enabled:p}),"M"===c.task.moveMode){var f=r.firstProperty([d,p],"allowRowSwitching",u.allowRowSwitching);if(f){var m=S[0].getBoundingClientRect(),v=m.left+m.width/2,y=angular.element(s[0].querySelectorAll(".gantt-body"));y.css("pointer-events","auto");var b=o.findElementFromPoint(v,t.clientY,function(t){return angular.element(t).hasClass("gantt-row")});y.css("pointer-events","");for(var w,_=h.gantt.rowsManager.rows,x=0,k=_.length;x<k;x++)if(b===_[x].$element[0]){w=_[x];break}var C=c.task.row;void 0!==w&&C!==w&&(w.moveTaskToRow(c.task,!0),T=!0)}var $=r.firstProperty([d,p],"allowMoving",u.allowMoving);$&&(a-=g,"truncate"!==l&&(a<0?a=0:a+c.task.width>=c.gantt.width&&(a=c.gantt.width-c.task.width)),c.task.moveTo(a,!0),c.$digest(),T&&c.row.rowsManager.gantt.api.tasks.raise.move(c.task),T=!0)}else"E"===c.task.moveMode?(a<=c.task.left&&(a=c.task.left,c.task.moveMode="W",F(H(c.task.moveMode))),"truncate"!==l&&a>=c.gantt.width&&(a=c.gantt.width),c.task.setTo(a,!0),c.$digest(),T&&c.row.rowsManager.gantt.api.tasks.raise.resize(c.task),T=!0):(a>c.task.left+c.task.width&&(a=c.task.left+c.task.width,c.task.moveMode="E",F(H(c.task.moveMode))),"truncate"!==l&&a<0&&(a=0),c.task.setFrom(a,!0),c.$digest(),T&&c.row.rowsManager.gantt.api.tasks.raise.resize(c.task),T=!0);if(!n&&T&&!D){var E=c.task.getBackgroundElement();"M"===c.task.moveMode?(E.addClass("gantt-task-moving"),c.row.rowsManager.gantt.api.tasks.raise.moveBegin(c.task)):(E.addClass("gantt-task-resizing"),c.row.rowsManager.gantt.api.tasks.raise.resizeBegin(c.task))}},R=function(t){var n=e.getOffsetForElement(M[0],t),i=S[0].scrollLeft,r=S[0].offsetWidth,o=S[0].scrollWidth,a=i+r,s=!1;n.x<m?i>0&&n.x<=i+$&&(n.x-=C,s=!0,c.row.rowsManager.gantt.api.scroll.left(C)):a<o&&n.x>=a-$&&(n.x+=C,s=!0,c.row.rowsManager.gantt.api.scroll.right(C)),s&&(p=l(function(){N(t)},100,!0))},L=function(){void 0!==p&&(l.cancel(p),p=void 0)},B=function(t){var e=0,n=c.task.model.movable,i=c.task.row.model.movable;"boolean"==typeof n&&(n={enabled:n}),"boolean"==typeof i&&(i={enabled:i});var o=r.firstProperty([n,i],"allowResizing",u.allowResizing),a=r.firstProperty([n,i],"allowRowSwitching",u.allowRowSwitching),s=r.firstProperty([n,i],"allowMoving",u.allowMoving);return o&&(e=E[0].offsetWidth<_?k:x),o&&t>E[0].offsetWidth-e?"E":o&&t<e?"W":(s||a)&&t>=e&&t<=E[0].offsetWidth-e?"M":""},H=function(t){switch(t){case"E":return"e-resize";case"W":return"w-resize";case"M":return"move"}},F=function(t){d.css("cursor",t),angular.element(s[0].body).css({"-moz-user-select":""===t?"":"-moz-none","-webkit-user-select":""===t?"":"none","-ms-user-select":""===t?"":"none","user-select":""===t?"":"none",cursor:t})},W=function(t,i){void 0===c.task.originalModel&&(c.task.originalRow=c.task.row,c.task.originalModel=c.task.model,c.task.model=angular.copy(c.task.originalModel)),D||(m=i,g=i-c.task.modelLeft),T=!1,c.task.moveMode=t,c.task.isMoving=!0,c.task.active=!0;var r=function(t){t.stopImmediatePropagation(),v&&(t=e.getTouch(t)),N(t)},o=n(c,f,b,r);o.bind(),n(c,f,w,function(t){v&&(t=e.getTouch(t)),o.unbind(),j(t),c.$digest()}).bindOnce(),F(H(t))},j=function(){var t=c.task.getBackgroundElement();if(t.removeClass("gantt-task-moving"),t.removeClass("gantt-task-resizing"),void 0!==c.task.originalModel){if(c.task.originalModel.from=c.task.model.from,c.task.originalModel.to=c.task.model.to,c.task.originalModel.lct=c.task.model.lct,c.task.originalModel.est=c.task.model.est,c.task.model=c.task.originalModel,c.task.row.model.id!==c.task.originalRow.model.id){var e=c.task.row;e.removeTask(c.task.model.id,!1,!0),c.task.row=c.task.originalRow,e.moveTaskToRow(c.task,!1)}delete c.task.originalModel,delete c.task.originalRow,c.$apply()}D=!1,c.task.isMoving=!1,c.task.active=!1,L(),F(""),T===!0&&("M"===c.task.moveMode?c.row.rowsManager.gantt.api.tasks.raise.moveEnd(c.task):c.row.rowsManager.gantt.api.tasks.raise.resizeEnd(c.task),T=!1,c.task.row.sortTasks(),c.row.rowsManager.gantt.api.tasks.raise.change(c.task)),c.task.moveMode=void 0};c.$on("$destroy",function(){c.destroyed=!0,L()}),c.task.isResizing?(D=!0,W("E",c.task.mouseOffsetX),delete c.task.isResizing):c.task.isMoving&&(D=!0,W("M",c.task.mouseOffsetX))}})}}}])}(),function(){"use strict";angular.module("gantt.overlap",["gantt","gantt.overlap.templates"]).directive("ganttOverlap",["moment",function(t){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",global:"=?"},link:function(e,n,i,r){function o(t){var e,n;return t.model.from.isBefore(t.model.to)?(e=t.model.from,n=t.model.to):(e=t.model.to,n=t.model.from),[e,n]}function a(e){var n=o(e);return t().range(n[0],n[1])}function s(t,e){e.model.id in t||(e.$element.addClass("gantt-task-overlaps"),t[e.model.id]=e)}function l(t,e){for(var n=0,i=e.length;n<i;n++){var r=e[n];r.model.id in t||r.$element.removeClass("gantt-task-overlaps")}}function u(t){var e={};if(t.length>1)for(var n=t[0],i=a(n),r=1,o=t.length;r<o;r++){var u=t[r],c=a(u);c.overlaps(i)&&(s(e,u),s(e,n)),n.left+n.width<u.left+u.width&&(n=u,i=c)}l(e,t)}function c(t,e){return t.sort(function(t,n){return e(t)<e(n)?-1:e(t)>e(n)?1:0})}var d=r.gantt.api;void 0===e.enabled&&(e.enabled=!0),void 0===e.global&&(e.global=!1),e.enabled&&(d.core.on.rendered(e,function(t){var n,i=r.gantt.rowsManager.rows;if(e.global){var o=[];for(n=0;n<i.length;n++)o.push.apply(o,i[n].tasks);o=c(o,function(t){return t.model.from}),u(o)}else for(i=t.gantt.rowsManager.rows,n=0;n<i.length;n++)u(i[n].tasks)}),d.tasks.on.change(e,function(t){if(e.global){for(var n=t.row.rowsManager.rows,i=[],r=0;r<n.length;r++)i.push.apply(i,n[r].tasks);i=c(i,function(t){return t.model.from}),u(i)}else u(t.row.tasks)}),d.tasks.on.rowChange(e,function(t,n){if(e.global){for(var i=n.rowsManager.rows,r=[],o=0;o<i.length;o++)r.push.apply(r,i[o].tasks);r=c(r,function(t){return t.model.from}),u(r)}else u(n.tasks)}))}}}])}(),function(){"use strict";angular.module("gantt.progress",["gantt","gantt.progress.templates"]).directive("ganttProgress",["moment","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(i,r,o,a){var s=a.gantt.api;if(i.options&&"object"==typeof i.options.progress)for(var l in i.options.progress)i[l]=i.options[l];void 0===i.enabled&&(i.enabled=!0),s.directives.on["new"](i,function(t,r,a){if("ganttTaskBackground"===t){var s=r.$new();s.pluginScope=i;var l=n[0].createElement("div");angular.element(l).attr("data-ng-if","task.model.progress !== undefined && pluginScope.enabled");var u=n[0].createElement("gantt-task-progress");void 0!==o.templateUrl&&angular.element(u).attr("data-template-url",o.templateUrl),void 0!==o.template&&angular.element(u).attr("data-template",o.template),angular.element(l).append(u),a.append(e(l)(s))}}),s.tasks.on.clean(i,function(e){void 0===e.est||t.isMoment(e.est)||(e.est=t(e.est)),void 0===e.lct||t.isMoment(e.lct)||(e.lct=t(e.lct))})}}}])}(),function(){"use strict";angular.module("gantt.resizeSensor",["gantt"]).directive("ganttResizeSensor",[function(){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(t,e,n,i){function r(){var t=e.parent().parent().parent()[0].querySelectorAll("div.gantt")[0];return new ResizeSensor(t,function(){i.gantt.$scope.ganttElementWidth=t.clientWidth,i.gantt.$scope.$apply()})}var o=i.gantt.api;if(t.options&&"object"==typeof t.options.progress)for(var a in t.options.progress)t[a]=t.options[a];void 0===t.enabled&&(t.enabled=!0);var s,l=!1;o.core.on.rendered(t,function(){l=!0,void 0!==s&&s.detach(),t.enabled&&(ElementQueries.update(),s=r())}),t.$watch("enabled",function(t){l&&(t&&void 0===s?(ElementQueries.update(),s=r()):t||void 0===s||(s.detach(),s=void 0))})}}}])}(),function(){"use strict";for(var t,e="gantt.sortable",n="ganttSortable",i=["gantt",{module:"ang-drag-drop",url:"https://github.com/ganarajpr/angular-dragdrop.git#master"}],r=[],o=[],a=0,s=i.length;a<s;a++){var l=i[a];try{angular.isString(l)&&(l={module:l},i[a]=l),angular.module(l.module),o.push(l.module)}catch(u){l.exception=u,r.push(l)}}r.length>0?angular.module(e,[]).directive(n,["$log",function(i){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(){i.warn(e+" module can't require some dependencies:");for(var o=0,a=r.length;o<a;o++){t=r[o];var s=t.module;t.url&&(s+=" ("+t.url+")"),t.exception&&t.exception.message&&(s+=": "+t.exception.message),i.warn(s)}i.warn(n+" plugin directive won't be available")}}}]):angular.module(e,o).directive(n,["ganttUtils","$compile",function(t,e){return{restrict:"E",require:"^gantt",scope:{enabled:"=?"},link:function(n,i,r,o){var a=o.gantt.api;if(n.options&&"object"==typeof n.options.sortable)for(var s in n.options.sortable)n[s]=n.options[s];void 0===n.enabled&&(n.enabled=!0),a.directives.on["new"](n,function(i,r,o){"ganttRowLabel"===i&&void 0===o.attr("drag")&&(r.checkDraggable=function(){var e=r.row.model.sortable;return"boolean"==typeof e&&(e={enabled:e}),t.firstProperty([e],"enabled",n.enabled)},r.onDropSuccess=function(){r.$evalAsync()},r.onDrop=function(t,e){var n=r.row.rowsManager.rowsMap[e.id];n!==r&&(r.row.rowsManager.moveRow(n,r.row),r.$evalAsync())},o.attr("ui-draggable","{{checkDraggable()}}"),o.attr("drag-channel","'sortable'"),o.attr("ui-on-drop","onDrop($event, $data)"),o.attr("on-drop-success","onDropSuccess()"),o.attr("drop-channel","'sortable'"),o.attr("drag","row.model"),e(o)(r))})}}}])}(),function(){"use strict";angular.module("gantt.table",["gantt","gantt.table.templates"]).directive("ganttTable",["ganttUtils","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",columns:"=?",headers:"=?",classes:"=?",contents:"=?",headerContents:"=?",formatters:"=?",headerFormatter:"=?"},link:function(t,i,r,o){var a=o.gantt.api;if(t.options&&"object"==typeof t.options.sortable)for(var s in t.options.sortable)t[s]=t.options[s];void 0===t.enabled&&(t.enabled=!0),void 0===t.columns&&(t.columns=["model.name"]),void 0===t.headers&&(t.headers={"model.name":"Name"}),void 0===t.contents&&(t.contents={}),void 0===t.headerContents&&(t.headerContents={}),void 0===t.classes&&(t.classes={}),void 0===t.formatters&&(t.formatters={}),a.directives.on["new"](t,function(i,r,o){if("ganttSideContent"===i){var a=r.$new();a.pluginScope=t;var s=n[0].createElement("div");angular.element(s).attr("data-ng-if","pluginScope.enabled"),angular.element(s).addClass("side-element");var l=n[0].createElement("gantt-side-content-table");angular.element(s).append(l),o.append(e(s)(a))}})}}}])}(),function(){"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$document",function(t,e){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?",content:"=?",delay:"=?"},link:function(n,i,r,o){var a=o.gantt.api;if(n.options&&"object"==typeof n.options.tooltips)for(var s in n.options.tooltips)n[s]=n.options[s];void 0===n.enabled&&(n.enabled=!0),void 0===n.dateFormat&&(n.dateFormat="MMM DD, HH:mm"),void 0===n.delay&&(n.delay=500),void 0===n.content&&(n.content="{{task.model.name}}</br><small>{{task.isMilestone() === true && getFromLabel() || getFromLabel() + ' - ' + getToLabel()}}</small>"),n.api=a,a.directives.on["new"](n,function(i,o,a){if("ganttTask"===i){var s=o.$new();s.pluginScope=n;var l=e[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var u=e[0].createElement("gantt-tooltip");void 0!==r.templateUrl&&angular.element(u).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(u).attr("data-template",r.template),angular.element(l).append(u),a.append(t(l)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.tree",["gantt","gantt.tree.templates","ui.tree"]).directive("ganttTree",["ganttUtils","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",header:"=?",content:"=?",headerContent:"=?",keepAncestorOnFilterRow:"=?"},link:function(t,i,r,o){var a=o.gantt.api;if(t.options&&"object"==typeof t.options.sortable)for(var s in t.options.sortable)t[s]=t.options[s];void 0===t.enabled&&(t.enabled=!0),void 0===t.header&&(t.header="Name"),void 0===t.headerContent&&(t.headerContent="{{getHeader()}}"),void 0===t.keepAncestorOnFilterRow&&(t.keepAncestorOnFilterRow=!1),a.directives.on["new"](t,function(i,r,o){if("ganttSideContent"===i){var a=r.$new();a.pluginScope=t;var s=n[0].createElement("div");angular.element(s).attr("data-ng-if","pluginScope.enabled"),angular.element(s).addClass("side-element");var l=n[0].createElement("gantt-side-content-tree");angular.element(s).append(l),o.append(e(s)(a))}})}}}])}(),function(){"use strict";angular.module("gantt.bounds").directive("ganttTaskBounds",["$templateCache","moment",function(t,e){return{restrict:"E",templateUrl:function(e,n){var i;return i=void 0===n.templateUrl?"plugins/bounds/taskBounds.tmpl.html":n.templateUrl,n.template&&t.put(i,n.template),i},replace:!0,scope:!0,controller:["$scope","$element",function(t,n){n.toggleClass("ng-hide",!0),t.simplifyMoment=function(t){return e.isMoment(t)?t.unix():t},t.$watchGroup(["simplifyMoment(task.model.est)","simplifyMoment(task.model.lct)","task.left","task.width"],function(){var e=t.task.rowsManager.gantt.getPositionByDate(t.task.model.est),i=t.task.rowsManager.gantt.getPositionByDate(t.task.model.lct);n.css("left",e-t.task.left+"px"),n.css("width",i-e+"px"),n.toggleClass("gantt-task-bounds-in",!1),n.toggleClass("gantt-task-bounds-out",!1),void 0===t.task.model.est||void 0===t.task.model.lct?n.toggleClass("gantt-task-bounds-in",!0):t.task.model.est>t.task.model.from?n.toggleClass("gantt-task-bounds-out",!0):t.task.model.lct<t.task.model.to?n.toggleClass("gantt-task-bounds-out",!0):n.toggleClass("gantt-task-bounds-in",!0)}),t.task.$element.bind("mouseenter",function(){n.toggleClass("ng-hide",!1)}),t.task.$element.bind("mouseleave",function(){n.toggleClass("ng-hide",!0)}),t.task.rowsManager.gantt.api.directives.raise["new"]("ganttBounds",t,n),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttBounds",t,n)})}]}}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesEvents",[function(){var t=function(t){var e=this;this.manager=t;var n=function(){return!e.manager.pluginScope.readOnly};this.manager.plumb.bind("beforeDrag",n),this.manager.plumb.bind("beforeStartDetach",n);var i=function(t){return t.sourceId!==t.targetId};this.manager.plumb.bind("beforeDrop",i),this.manager.plumb.bind("connectionDrag",function(t){e.manager.setDraggingConnection(t)}),this.manager.plumb.bind("connectionDragStop",function(){e.manager.setDraggingConnection(void 0)}),this.manager.plumb.bind("beforeDrop",function(){return e.manager.setDraggingConnection(void 0),!0});var r=function(t,n){if(n){var i;t.connection.$dependency&&(i=t.connection.$dependency);var r=t.sourceEndpoint,o=t.targetEndpoint,a=r.$task.model,s=a.dependencies;void 0===s&&(s=[],a.dependencies=s);var l={to:o.$task.model.id};s.push(l),i&&(i.removeFromTaskModel(),e.manager.removeDependency(i,!0));var u=e.manager.addDependency(r.$task,l);t.connection.$dependency=u,u.connection=t.connection,e.manager.api.dependencies.raise.add(u)}},o=function(t,n){if(n){var i;t.connection.$dependency&&(i=t.connection.$dependency);var r=t.newSourceEndpoint,o=t.newTargetEndpoint,a=r.$task.model,s=a.dependencies;void 0===s&&(s=[],a.dependencies=s);var l={to:o.$task.model.id};s.push(l),i&&(i.removeFromTaskModel(),e.manager.removeDependency(i,!0));var u=e.manager.addDependency(r.$task,l);t.connection.$dependency=u,u.connection=t.connection,e.manager.api.dependencies.raise.change(u,i)}},a=function(t,n){if(n){var i=t.connection.$dependency;i.removeFromTaskModel(),e.manager.removeDependency(i,!0),e.manager.api.dependencies.raise.remove(i)}};this.manager.plumb.bind("connectionMoved",o),this.manager.plumb.bind("connection",r),this.manager.plumb.bind("connectionDetached",a)};return t}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependenciesManager",["GanttDependency","GanttDependenciesEvents","GanttDependencyTaskMouseHandler",function(t,e,n){var i=function(i,r,o){var a=this;this.gantt=i,this.pluginScope=r,this.api=o,this.api.registerEvent("dependencies","add"),this.api.registerEvent("dependencies","change"),this.api.registerEvent("dependencies","remove"),this.plumb=jsPlumb.getInstance(),this.plumb.importDefaults(this.pluginScope.jsPlumbDefaults),this.dependenciesFrom={},this.dependenciesTo={},this.tasksList=[],this.tasks={},this.events=new e(this),this.pluginScope.$watch("enabled",function(t,e){t!==e&&a.refresh()}),this.pluginScope.$watch("readOnly",function(t,e){t!==e&&(a.setTasks(a.tasksList),a.refresh())}),this.pluginScope.$watch("jsPlumbDefaults",function(t,e){t!==e&&(a.plumb.importDefaults(t),a.refresh())},!0),this.addDependenciesFromTask=function(t){if(this.pluginScope.enabled){var e=t.model.dependencies;if(void 0!==e){angular.isArray(e)||(e=[e],t.model.dependencies=e);for(var n=0,i=e.length;n<i;n++){var r=a.addDependency(t,e[n]);r.connect()}}}},this.removeDependenciesFromTask=function(t,e){var n=this.getTaskDependencies(t);if(n)for(var i=0;i<n.length;i++)e||n[i].disconnect(),a.removeDependency(n[i])},this.addDependency=function(e,n){var i=new t(this,e,n),r=i.getFromTaskId(),o=i.getToTaskId();return r in this.dependenciesFrom||(this.dependenciesFrom[r]=[]),o in this.dependenciesTo||(this.dependenciesTo[o]=[]),r&&this.dependenciesFrom[r].push(i),o&&this.dependenciesTo[o].push(i),i},this.removeDependency=function(t,e){var n,i=this.dependenciesFrom[t.getFromTaskId()],r=[];if(i)for(n=0;n<i.length;n++)t===i[n]&&r.push(t);var o=this.dependenciesTo[t.getToTaskId()],a=[];if(o)for(n=0;n<o.length;n++)t===o[n]&&a.push(t);for(n=0;n<r.length;n++)e||r[n].disconnect(),i.splice(i.indexOf(t),1);for(n=0;n<a.length;n++)e||a[n].disconnect(),o.splice(o.indexOf(t),1);this.dependenciesFrom[t.getFromTaskId()]&&0===this.dependenciesFrom[t.getFromTaskId()].length&&delete this.dependenciesFrom[t.getFromTaskId()],this.dependenciesTo[t.getToTaskId()]&&0===this.dependenciesTo[t.getToTaskId()].length&&delete this.dependenciesTo[t.getToTaskId()]},this.getTaskDependencies=function(t){var e=[],n=a.dependenciesFrom[t.model.id];n&&(e=e.concat(n));var i=a.dependenciesTo[t.model.id];return i&&(e=e.concat(i)),e},this.setDraggingConnection=function(t){t?(a.draggingConnection=t,angular.forEach(a.tasks,function(t){t.dependencies.mouseHandler.release()})):(a.draggingConnection=void 0,angular.forEach(a.tasks,function(t){t.dependencies.mouseHandler.install()}))};var s=function(t){if(t.dependencies||(t.dependencies={}),t.dependencies.endpoints=[],a.pluginScope.endpoints)for(var e=0;e<a.pluginScope.endpoints.length;e++){var n=a.plumb.addEndpoint(t.$element,a.pluginScope.endpoints[e]);n.setVisible(!1,!0,!0),n.$task=t,t.dependencies.endpoints.push(n)}},l=function(t){for(var e=0;e<t.dependencies.endpoints.length;e++){var n=t.dependencies.endpoints[e];a.plumb.deleteEndpoint(n),n.$task=void 0}t.dependencies.endpoints=void 0},u=function(t){t.dependencies||(t.dependencies={}),a.pluginScope.readOnly||(t.dependencies.mouseHandler=new n(a,t),t.dependencies.mouseHandler.install())},c=function(t){t.dependencies.mouseHandler&&(t.dependencies.mouseHandler.release(),t.dependencies.mouseHandler=void 0)};this.setTasks=function(t){angular.forEach(a.tasks,function(t){c(t),l(t)});for(var e={},n=0;n<t.length;n++){var i=t[n];e[i.model.id]=i,s(i),u(i)}a.tasks=e,a.tasksList=t};var d=function(t){var e=a.getTaskDependencies(t);if(e)for(var n=0;n<e.length;n++)e[n].disconnect();return e},h=function(t){var e=a.getTaskDependencies(t);if(e)for(var n=0;n<e.length;n++)e[n].connect();return e};this.setTask=function(t){a.plumb.setSuspendDrawing(!0);try{var e=a.tasks[t.model.id];void 0!==e&&(d(e),c(e),l(e)),a.tasks[t.model.id]=t,s(t),u(t),h(t)}finally{a.plumb.setSuspendDrawing(!1,!0)}},this.getTask=function(t){return a.tasks[t]};var p=function(t){return t.dependencies.endpoints.filter(function(t){return t.isSource})},f=function(t){return t.dependencies.endpoints.filter(function(t){return t.isTarget})};this.connect=function(t,e,n){var i=p(t),r=f(e);if(i&&r){var o,s;o=n.connectParameters&&n.connectParameters.sourceEndpointIndex?i[n.connectParameters.sourceEndpointIndex]:i[0],s=n.connectParameters&&n.connectParameters.targetEndpointIndex?r[n.connectParameters.targetEndpointIndex]:r[0];var l=a.plumb.connect({source:o,target:s},n.connectParameters);return l}},this.getDependencies=function(){var t=[];return angular.forEach(this.dependenciesFrom,function(e){for(var n=0;n<e.length;n++)e[n]in t||t.push(e[n])}),t},this.refresh=function(t){a.plumb.setSuspendDrawing(!0);try{var e,n;t&&!angular.isArray(t)&&(t=[t]),void 0===t?(t=this.tasks,e=this.getDependencies()):(e=[],angular.forEach(t,function(t){var n=a.getTaskDependencies(t);angular.forEach(n,function(t){t in e||e.push(t)})}));for(n=0;n<e.length;n++)a.removeDependency(e[n]);angular.forEach(t,function(t){a.addDependenciesFromTask(t)})}finally{a.plumb.setSuspendDrawing(!1,!0)}},this.api.registerMethod("dependencies","refresh",this.refresh,this)};return i}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependency",["ganttUtils","ganttDom",function(t,e){var n=function(n,i,r){var o=this;this.manager=n,this.task=i,this.model=r,this.connection=void 0,this.fallbackEndpoints=[],this.isConnected=function(){return!!this.connection},this.disconnect=function(){this.connection&&(this.connection.endpoints&&this.manager.plumb.detach(this.connection),this.connection.$dependency=void 0,this.connection=void 0),this.deleteFallbackEndpoints()},this.deleteFallbackEndpoints=function(){if(this.fallbackEndpoints){for(var t=0;t<this.fallbackEndpoints.length;t++)o.manager.plumb.deleteEndpoint(this.fallbackEndpoints[t]);this.fallbackEndpoints=[]}},this.getFromTaskId=function(){return void 0!==this.model.from?this.model.from:this.task.model.id},this.getToTaskId=function(){return void 0!==this.model.to?this.model.to:this.task.model.id},this.getFromTask=function(){return void 0!==this.model.from?this.manager.getTask(this.model.from):this.task},this.getToTask=function(){return void 0!==this.model.to?this.manager.getTask(this.model.to):this.task},this.removeFromTaskModel=function(){var e=t.angularIndexOf(this.task.model.dependencies,this.model);return e>=0&&this.task.model.dependencies.splice(e,1),e};var a=function(t){if(void 0===t||void 0===t.$element)return!1;
var n=t.$element[0];return e.isElementVisible(n)};this.connect=function(){var t=this.getFromTask(),e=this.getToTask();if(a(t)||(t=void 0),a(e)||(e=void 0),t&&e){var n=this.manager.connect(t,e,this.model);if(n)return n.$dependency=this,this.connection=n,!0}if(this.deleteFallbackEndpoints(),void 0!==t){var i=this.manager.pluginScope.fallbackEndpoints[1];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(t.$element,i))}if(void 0!==e){var r=this.manager.pluginScope.fallbackEndpoints[0];this.fallbackEndpoints.push(this.manager.plumb.addEndpoint(e.$element,r))}return!1}};return n}])}(),function(){"use strict";angular.module("gantt.dependencies").factory("GanttDependencyTaskMouseHandler",["$timeout",function(t){var e=function(e,n){var i=this;this.manager=e,this.task=n,this.installed=!1,this.elementHandlers=[],this.display=!0,this.hideEndpointsPromise=void 0;var r=function(e){this.element=e,this.mouseExitHandler=function(){t.cancel(i.hideEndpointsPromise),i.hideEndpointsPromise=t(i.hideEndpoints,1e3,!1)},this.mouseEnterHandler=function(){t.cancel(i.hideEndpointsPromise),i.displayEndpoints()},this.install=function(){this.element.bind("mouseenter",this.mouseEnterHandler),this.element.bind("mouseleave",this.mouseExitHandler)},this.release=function(){this.element.unbind("mouseenter",this.mouseEnterHandler),this.element.unbind("mouseleave",this.mouseExitHandler),t.cancel(i.hideEndpointsPromise)}};this.install=function(){i.installed||(i.hideEndpoints(),i.elementHandlers.push(new r(i.task.getContentElement())),angular.forEach(i.task.dependencies.endpoints,function(t){i.elementHandlers.push(new r(angular.element(t.canvas)))}),angular.forEach(i.elementHandlers,function(t){t.install()}),i.installed=!0)},this.release=function(){i.installed&&(angular.forEach(i.elementHandlers,function(t){t.release()}),i.elementHandlers=[],i.displayEndpoints(),i.installed=!1)},this.displayEndpoints=function(){i.display=!0,angular.forEach(i.task.dependencies.endpoints,function(t){t.setVisible(!0,!0,!0)})},this.hideEndpoints=function(){angular.forEach(i.task.dependencies.endpoints,function(t){t.setVisible(!1,!0,!0)}),i.display=!1}};return e}])}(),function(){"use strict";angular.module("gantt.groups").controller("GanttGroupController",["$scope","GanttTaskGroup","ganttUtils",function(t,e,n){var i=function(){var i=t.row.model.groups;"boolean"==typeof i&&(i={enabled:i});var r=n.firstProperty([i],"enabled",t.pluginScope.enabled);r?(t.display=n.firstProperty([i],"display",t.pluginScope.display),t.taskGroup=new e(t.row,t.pluginScope),t.row.setFromTo(),t.row.setFromToByValues(t.taskGroup.from,t.taskGroup.to)):(t.taskGroup=void 0,t.display=void 0)};t.gantt.api.tasks.on.viewChange(t,function(e){if(void 0!==t.taskGroup)if(t.taskGroup.tasks.indexOf(e)>-1)i(),t.$$phase||t.$root.$$phase||t.$digest();else{var n=t.pluginScope.hierarchy.descendants(t.row);n.indexOf(e.row)>-1&&(i(),t.$$phase||t.$root.$$phase||t.$digest())}});var r=t.pluginScope.$watch("display",i);t.$watchCollection("gantt.rowsManager.filteredRows",i),t.gantt.api.columns.on.refresh(t,i),t.$on("$destroy",r)}])}(),function(){"use strict";angular.module("gantt.groups").directive("ganttTaskGroup",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskGroup","plugins/groups/taskGroup.tmpl.html");return e.build()}])}(),function(){"use strict";angular.module("gantt").factory("GanttTaskGroup",["ganttUtils","GanttTask",function(t,e){var n=function(n,i){var r=this;r.row=n,r.pluginScope=i,r.descendants=r.pluginScope.hierarchy.descendants(r.row),r.tasks=[],r.overviewTasks=[],r.promotedTasks=[],r.showGrouping=!1;var o=r.row.model.groups;"boolean"==typeof o&&(o={enabled:o});for(var a=function(e){var n=e.model.groups;"boolean"==typeof n&&(n={enabled:n});var i=e.row.model.groups;"boolean"==typeof i&&(i={enabled:i});var a=t.firstProperty([n,i,o],"enabled",r.pluginScope.enabled);if(a){var s=t.firstProperty([n,i,o],"display",r.pluginScope.display);return s}},s=0;s<r.descendants.length;s++)for(var l=r.descendants[s].tasks,u=0;u<l.length;u++){var c=l[u],d=a(c);if(void 0!==d){r.tasks.push(c);var h=new e(r.row,c.model);"overview"===d?r.overviewTasks.push(h):"promote"===d?r.promotedTasks.push(h):r.showGrouping=!0}}if(r.from=void 0,o&&(r.from=o.from),void 0===r.from)for(s=0;s<r.tasks.length;s++)(void 0===r.from||r.tasks[s].model.from<r.from)&&(r.from=r.tasks[s].model.from);if(r.to=void 0,o&&(r.to=o.to),void 0===r.to)for(s=0;s<r.tasks.length;s++)(void 0===r.to||r.tasks[s].model.to>r.to)&&(r.to=r.tasks[s].model.to);r.showGrouping&&(r.left=n.rowsManager.gantt.getPositionByDate(r.from),r.width=n.rowsManager.gantt.getPositionByDate(r.to)-r.left)};return n}])}(),function(){"use strict";angular.module("gantt").directive("ganttTaskOverview",["GanttDirectiveBuilder",function(t){var e=new t("ganttTaskOverview","plugins/groups/taskOverview.tmpl.html");return e.controller=function(t,e){t.task.$element=e,t.task.$scope=t,t.task.updatePosAndSize()},e.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsBody",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttLabelsBody","plugins/labels/labelsBody.tmpl.html");return n.controller=function(t){var n=e.getScrollBarHeight();t.getLabelsCss=function(){var e={};if(t.maxHeight){var i=t.gantt.scroll.isHScrollbarVisible()?n:0;e["max-height"]=t.maxHeight-i-t.gantt.header.getHeight()+"px"}return e}},n.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttLabelsHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttLabelsHeader","plugins/labels/labelsHeader.tmpl.html");return e.build()}])}(),function(){"use strict";angular.module("gantt.labels").directive("ganttSideContentLabels",["GanttDirectiveBuilder",function(t){var e=new t("ganttSideContentLabels","plugins/labels/sideContentLabels.tmpl.html");return e.build()}])}(),function(){"use strict";angular.module("gantt.movable").factory("ganttMovableOptions",[function(){return{initialize:function(t){return t.enabled=void 0===t.enabled||t.enabled,t.allowMoving=void 0===t.allowMoving||!!t.allowMoving,t.allowResizing=void 0===t.allowResizing||!!t.allowResizing,t.allowRowSwitching=void 0===t.allowRowSwitching||!!t.allowRowSwitching,t}}}])}(),function(){"use strict";angular.module("gantt.progress").directive("ganttTaskProgress",["$templateCache",function(t){return{restrict:"E",requires:"^ganttTask",templateUrl:function(e,n){var i;return i=void 0===n.templateUrl?"plugins/progress/taskProgress.tmpl.html":n.templateUrl,void 0!==n.template&&t.put(i,n.template),i},replace:!0,scope:!0,controller:["$scope","$element",function(t,e){t.getClasses=function(){var e=[];return"object"==typeof t.task.model.progress&&(e=t.task.model.progress.classes),e},t.getCss=function(){var e,n={};return void 0!==t.task.model.progress&&(e="object"==typeof t.task.model.progress?t.task.model.progress:{percent:t.task.model.progress}),e&&(e.color?n["background-color"]=e.color:n["background-color"]="#6BC443",n.width=e.percent+"%"),n},t.task.rowsManager.gantt.api.directives.raise["new"]("ganttTaskProgress",t,e),t.$on("$destroy",function(){t.task.rowsManager.gantt.api.directives.raise.destroy("ganttTaskProgress",t,e)})}]}}])}(),function(){"use strict";angular.module("gantt.table").directive("ganttSideContentTable",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideContentTable","plugins/table/sideContentTable.tmpl.html");return n.controller=function(t){var n=e.getScrollBarHeight();t.getMaxHeightCss=function(){var e={};if(t.maxHeight){var i=t.gantt.scroll.isHScrollbarVisible()?n:0;e["max-height"]=t.maxHeight-i-t.gantt.header.getHeight()+"px"}return e}},n.build()}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnController",["$scope",function(t){t.getHeader=function(){var e=t.pluginScope.headers[t.column];return void 0!==e?e:(void 0!==t.pluginScope.headerFormatter&&(e=t.pluginScope.headerFormatter(t.column)),void 0!==e?e:e)},t.getHeaderContent=function(){var e=t.pluginScope.headerContents[t.column];return void 0===e?"{{getHeader()}}":e},t.getClass=function(){return t.pluginScope.classes[t.column]}}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnRowController",["$scope",function(t){t.getValue=function(){var e=t.$eval(t.column,t.row),n=t.pluginScope.formatters[t.column];return void 0!==n&&(e=n(e,t.column,t.row)),e},t.getRowContent=function(){var e;return t.row.model.columnContents&&(e=t.row.model.columnContents[t.column]),void 0===e&&"model.name"===t.column&&(e=t.row.model.content),void 0===e&&(e=t.pluginScope.contents[t.column]),void 0===e&&"model.name"===t.column&&(e=t.row.rowsManager.gantt.options.value("rowContent")),void 0===e&&void 0!==t.pluginScope.content&&(e=t.pluginScope.content),void 0===e?"{{getValue()}}":e}}])}(),function(){"use strict";angular.module("gantt.tooltips").directive("ganttTooltip",["$log","$timeout","$compile","$document","$templateCache","ganttDebounce","ganttSmartEvent",function(t,e,n,i,r,o,a){return{restrict:"E",templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"plugins/tooltips/tooltip.tmpl.html":e.templateUrl,void 0!==e.template&&r.put(n,e.template),n},scope:!0,replace:!0,controller:["$scope","$element","ganttUtils",function(t,n,r){var s,l,u,c=angular.element(i[0].body),d=t.task.$element,h=!1,p=function(){var t=i[0];return t.documentElement.clientWidth||t.documentElement.getElementById("body")[0].clientWidth},f=function(e){e+n[0].offsetWidth>p()?(n.css("left",e+20-n[0].offsetWidth+"px"),t.isRightAligned=!0):(n.css("left",e-20+"px"),t.isRightAligned=!1)},g=function(e){h=!0,u.bind(),t.displayed=!0,t.$evalAsync(function(){var i;n.hasClass("ng-hide")&&(n.removeClass("ng-hide"),i=!0),t.elementHeight=n[0].offsetHeight,i&&n.addClass("ng-hide"),t.taskRect=d[0].getBoundingClientRect(),f(e)})},m=function(){h=!1,u.unbind(),t.$evalAsync(function(){t.displayed=!1})},v=function(n,i){s&&e.cancel(s);var o=t.task.model.tooltips,a=t.task.row.model.tooltips;"boolean"==typeof o&&(o={enabled:o}),"boolean"==typeof a&&(a={enabled:a});var u=r.firstProperty([o,a],"enabled",t.pluginScope.enabled);u&&!h&&void 0!==l&&n?i?s=e(function(){g(l)},t.pluginScope.delay,!1):g(l):n||t.task.active||m()};u=a(t,c,"mousemove",o(function(e){h?((!t.taskRect||e.clientX<t.taskRect.left||e.clientX>t.taskRect.right||e.clientY>t.taskRect.bottom||e.clientY<t.taskRect.top)&&v(!1,!1),f(e.clientX)):(l=e.clientX,v(!0,!1))},5,!1)),t.getFromLabel=function(){var e=t.task.model.tooltips,n=t.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof n&&(n={enabled:n});var i=r.firstProperty([e,n],"dateFormat",t.pluginScope.dateFormat);return t.task.model.from.format(i)},t.getToLabel=function(){var e=t.task.model.tooltips,n=t.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof n&&(n={enabled:n});var i=r.firstProperty([e,n],"dateFormat",t.pluginScope.dateFormat);return t.task.model.to.format(i)},t.task.getContentElement().bind("mousemove",function(t){l=t.clientX}),t.task.getContentElement().bind("mouseenter",function(t){l=t.clientX,v(!0,!0)}),t.task.getContentElement().bind("mouseleave",function(){v(!1)}),t.pluginScope.api.tasks.on.moveBegin&&(t.pluginScope.api.tasks.on.moveBegin(t,function(e){e===t.task&&v(!0)}),t.pluginScope.api.tasks.on.moveEnd(t,function(e){e===t.task&&v(!1)}),t.pluginScope.api.tasks.on.resizeBegin(t,function(e){e===t.task&&v(!0)}),t.pluginScope.api.tasks.on.resizeEnd(t,function(e){e===t.task&&v(!1)})),t.task.isMoving&&v(!0,!1),t.gantt.api.directives.raise["new"]("ganttTooltip",t,n),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy("ganttTooltip",t,n)})}]}}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttRowTreeLabel",["GanttDirectiveBuilder",function(t){var e=new t("ganttRowTreeLabel");return e.restrict="A",e.templateUrl=void 0,e.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttSideContentTree",["GanttDirectiveBuilder",function(t){var e=new t("ganttSideContentTree","plugins/tree/sideContentTree.tmpl.html");return e.build()}])}(),function(){"use strict";angular.module("gantt.tree").controller("GanttTreeController",["$scope","$filter","GanttHierarchy",function(t,e,n){t.rootRows=[],t.getHeader=function(){return t.pluginScope.header};var i=new n;t.pluginScope.$watchGroup(["keepAncestorOnFilterRow","enabled"],function(n){var r=n[0]&&n[1];if(r){var o=function(t,n,r){i.refresh(t);for(var o=[],a=0;a<t.length;a++){var s=i.children(t[a]);s&&0!==s.length||o.push(t[a])}var l=e("filter")(o,n,r),u=function(t){if(l.indexOf(t)>-1)return!0;for(var e=i.descendants(t),n=0;n<e.length;n++)if(l.indexOf(e[n])>-1)return!0;return!1};return e("filter")(t,u,r)};t.gantt.rowsManager.setFilterImpl(o)}else t.gantt.rowsManager.setFilterImpl(!1)});var r=function(e){for(var n=t.parent(e);void 0!==n;){if(void 0!==n&&n._collapsed)return!1;n=t.parent(n)}return!0},o=function(t){return t.filter(function(t){return r(t)})},a=function(e){for(var n=[],i=[],r=!1,o=0;o<e.length;o++){var a=t.parent(e[o]);void 0===a?i.push(e[o]):r=!0}var s=function(i){n.push(i);var r=t.children(i);if(void 0!==r&&r.length>0)for(var o=r.sort(function(t,n){return e.indexOf(t)-e.indexOf(n)}),a=0;a<o.length;a++)s(o[a])};for(o=0;o<i.length;o++)s(i[o]);return n};t.gantt.api.rows.addRowSorter(a),t.gantt.api.rows.addRowFilter(o),t.$on("$destroy",function(){t.gantt.api.rows.removeRowSorter(a),t.gantt.api.rows.removeRowFilter(o)});var s=function(){t.rootRows=i.refresh(t.gantt.rowsManager.filteredRows),t.gantt.rowsManager.filteredRows.length>0&&(t.gantt.api.rows.sort(),t.gantt.api.rows.refresh())};t.gantt.api.rows.on.remove(t,s),t.gantt.api.rows.on.add(t,s);var l=function(e){var n;if(n="string"==typeof e?t.gantt.rowsManager.rowsMap[e]:e,void 0!==n)return void 0!==n._collapsed&&n._collapsed},u=function(e){var n;if(n="string"==typeof e?t.gantt.rowsManager.rowsMap[e]:e,void 0!==n){var i=t.nodeScopes[n.model.id];i.collapsed&&i.toggle()}},c=function(e){var n;if(n="string"==typeof e?t.gantt.rowsManager.rowsMap[e]:e,void 0!==n){var i=t.nodeScopes[n.model.id];i.collapsed||i.toggle()}},d=function(){return i};t.getHeaderContent=function(){return t.pluginScope.headerContent},t.gantt.api.registerMethod("tree","refresh",s,this),t.gantt.api.registerMethod("tree","isCollapsed",l,this),t.gantt.api.registerMethod("tree","expand",u,this),t.gantt.api.registerMethod("tree","collapse",c,this),t.gantt.api.registerEvent("tree","collapsed"),t.gantt.api.registerMethod("tree","getHierarchy",d,this),t.$watchCollection("gantt.rowsManager.filteredRows",function(){s()}),t.children=function(e){return void 0===e?t.rootRows:i.children(e)},t.parent=function(t){return i.parent(t)},t.nodeScopes={}}]).controller("GanttUiTreeController",["$scope",function(t){var e=function(){t.$broadcast("angular-ui-tree:collapse-all")},n=function(){t.$broadcast("angular-ui-tree:expand-all")};t.gantt.api.registerMethod("tree","collapseAll",e,t),t.gantt.api.registerMethod("tree","expandAll",n,t)}]).controller("GanttTreeNodeController",["$scope",function(t){t.$parent.nodeScopes[t.row.model.id]=t,t.$on("$destroy",function(){delete t.$parent.nodeScopes[t.row.model.id]}),t.$watch("children(row)",function(e){if(e){for(var n=t.row.rowsManager.filteredRows,i=[],r=0;r<e.length;r++){var o=e[r];n.indexOf(o)>-1&&i.push(o)}t.$parent.childrenRows=i}else t.$parent.childrenRows=e}),t.isCollapseDisabled=function(){return!t.$parent.childrenRows||0===t.$parent.childrenRows.length},t.getValue=function(){return t.row.model.name},t.getRowContent=function(){if(void 0!==t.row.model.content)return t.row.model.content;if(void 0!==t.pluginScope.content)return t.pluginScope.content;var e=t.row.rowsManager.gantt.options.value("rowContent");return void 0===e&&(e="{{row.model.name}}"),e},t.$watch("collapsed",function(e){if(t.$modelValue._collapsed!==e){var n=t.$modelValue._collapsed;t.$modelValue._collapsed=e,void 0!==n&&e!==n&&(t.gantt.api.tree.raise.collapsed(t,t.$modelValue,e),t.gantt.api.rows.refresh())}})}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeBody",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttTreeBody","plugins/tree/treeBody.tmpl.html");return n.controller=function(t){var n=e.getScrollBarHeight();t.getLabelsCss=function(){var e={};if(t.maxHeight){var i=t.gantt.scroll.isHScrollbarVisible()?n:0;e["max-height"]=t.maxHeight-i-t.gantt.header.getHeight()+"px"}return e}},n.build()}])}(),function(){"use strict";angular.module("gantt.tree").directive("ganttTreeHeader",["GanttDirectiveBuilder",function(t){var e=new t("ganttTreeHeader","plugins/tree/treeHeader.tmpl.html");return e.build()}])}(),angular.module("gantt.bounds.templates",[]).run(["$templateCache",function(t){t.put("plugins/bounds/taskBounds.tmpl.html",'<div ng-cloak class="gantt-task-bounds" ng-style="getCss()" ng-class="getClass()"></div>\n')}]),angular.module("gantt.dependencies.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.drawtask.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.groups.templates",[]).run(["$templateCache",function(t){t.put("plugins/groups/taskGroup.tmpl.html",'<div ng-controller="GanttGroupController">\n    <div class="gantt-task-group-overview" ng-if="taskGroup.overviewTasks.length > 0">\n        <gantt-task-overview ng-repeat="task in taskGroup.overviewTasks"></gantt-task-overview>\n    </div>\n    <div class="gantt-task-group-promote" ng-if="taskGroup.row._collapsed && taskGroup.promotedTasks.length > 0">\n        <gantt-task ng-repeat="task in taskGroup.promotedTasks"></gantt-task>\n    </div>\n    <div class="gantt-task-group"\n         ng-if="taskGroup.showGrouping"\n         ng-style="{\'left\': taskGroup.left + \'px\', \'width\': taskGroup.width + \'px\'}">\n        <div class="gantt-task-group-left-main"></div>\n        <div class="gantt-task-group-right-main"></div>\n        <div class="gantt-task-group-left-symbol"></div>\n        <div class="gantt-task-group-right-symbol"></div>\n    </div>\n</div>\n\n'),t.put("plugins/groups/taskOverview.tmpl.html",'<div class="gantt-task gantt-task-overview" ng-class="task.model.classes">\n    <gantt-task-background></gantt-task-background>\n    <gantt-task-content></gantt-task-content>\n    <gantt-task-foreground></gantt-task-foreground>\n</div>\n\n')}]),angular.module("gantt.labels.templates",[]).run(["$templateCache",function(t){t.put("plugins/labels/labelsBody.tmpl.html",'<div class="gantt-labels-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n            <div gantt-row-label\n                 class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}">\n                <span class="gantt-label-text">{{row.model.name}}</span>\n            </div>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/labels/labelsHeader.tmpl.html",'<div class="gantt-labels-header">\n    <div ng-show="gantt.columnsManager.columns.length > 0 && gantt.columnsManager.headers.length > 0">\n        <div ng-repeat="header in gantt.columnsManager.headers">\n            <div class="gantt-row-height" ng-class="{\'gantt-labels-header-row\': $last, \'gantt-labels-header-row-last\': $last}"><span>{{$last ? pluginScope.header : ""}}</span></div>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/labels/sideContentLabels.tmpl.html",'<div class="gantt-side-content-labels">\n    <gantt-labels-header>\n    </gantt-labels-header>\n    <gantt-labels-body>\n    </gantt-labels-body>\n</div>\n')}]),angular.module("gantt.movable.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.overlap.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.progress.templates",[]).run(["$templateCache",function(t){t.put("plugins/progress/taskProgress.tmpl.html",'<div ng-cloak class="gantt-task-progress" ng-style="getCss()" ng-class="getClasses()"></div>\n')}]),angular.module("gantt.resizeSensor.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.sortable.templates",[]).run(["$templateCache",function(t){}]),angular.module("gantt.table.templates",[]).run(["$templateCache",function(t){t.put("plugins/table/sideContentTable.tmpl.html",'<div class="gantt-side-content-table">\n\n    <div class="gantt-table-column {{getClass()}}" ng-repeat="column in pluginScope.columns" ng-controller="TableColumnController">\n\n        <div class="gantt-table-header" ng-style="{height: ganttHeaderHeight + \'px\'}">\n            <div ng-show="ganttHeaderHeight" class="gantt-row-label-header gantt-row-label gantt-table-row gantt-table-header-row">\n                <span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/>\n            </div>\n        </div>\n\n        <div class="gantt-table-content" ng-style="getMaxHeightCss()">\n            <div gantt-vertical-scroll-receiver>\n                <div class="gantt-table-row" ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id" ng-controller="TableColumnRowController">\n                    <div gantt-row-label class="gantt-row-label gantt-row-height" ng-class="row.model.classes" ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-valign-container">\n                            <div class="gantt-valign-content">\n                                <span class="gantt-label-text" gantt-bind-compile-html="getRowContent()"></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n')}]),angular.module("gantt.tooltips.templates",[]).run(["$templateCache",function(t){t.put("plugins/tooltips/tooltip.tmpl.html",'<div ng-cloak\n     class="gantt-task-info"\n     ng-show="displayed"\n     ng-class="isRightAligned ? \'gantt-task-infoArrowR\' : \'gantt-task-infoArrow\'"\n     ng-style="{top: taskRect.top + \'px\', marginTop: -elementHeight - 8 + \'px\'}">\n    <div class="gantt-task-info-content">\n        <div gantt-bind-compile-html="pluginScope.content"></div>\n    </div>\n</div>\n')}]),angular.module("gantt.tree.templates",[]).run(["$templateCache",function(t){t.put("plugins/tree/sideContentTree.tmpl.html",'<div class="gantt-side-content-tree" ng-controller="GanttTreeController">\n    <gantt-tree-header>\n    </gantt-tree-header>\n    <gantt-tree-body>\n    </gantt-tree-body>\n</div>\n'),t.put("plugins/tree/treeBody.tmpl.html",'<div class="gantt-tree-body" ng-style="getLabelsCss()">\n    <div gantt-vertical-scroll-receiver>\n        <div class="gantt-row-label-background">\n            <div class="gantt-row-label gantt-row-height"\n                 ng-class="row.model.classes"\n                 ng-style="{\'height\': row.model.height}"\n                 ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id">\n                &nbsp;\n            </div>\n        </div>\n        <div ui-tree ng-controller="GanttUiTreeController" data-drag-enabled="false" data-empty-place-holder-enabled="false">\n            <ol class="gantt-tree-root" ui-tree-nodes ng-model="rootRows">\n                <li ng-repeat="row in rootRows" ui-tree-node\n                    ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'">\n                </li>\n            </ol>\n        </div>\n    </div>\n</div>\n'),t.put("plugins/tree/treeBodyChildren.tmpl.html",'<div ng-controller="GanttTreeNodeController"\n     class="gantt-row-label gantt-row-height"\n     ng-class="row.model.classes"\n     ng-style="{\'height\': row.model.height}">\n    <div class="gantt-valign-container">\n        <div class="gantt-valign-content">\n            <a ng-disabled="isCollapseDisabled()" data-nodrag\n               class="gantt-tree-handle-button btn btn-xs"\n               ng-class="{\'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"\n               ng-click="!isCollapseDisabled() && toggle()"><span\n                class="gantt-tree-handle glyphicon glyphicon-chevron-down"\n                ng-class="{\n                \'glyphicon-chevron-right\': collapsed, \'glyphicon-chevron-down\': !collapsed,\n                \'gantt-tree-collapsed\': collapsed, \'gantt-tree-expanded\': !collapsed}"></span>\n            </a>\n            <span gantt-row-label class="gantt-label-text" gantt-bind-compile-html="getRowContent()"/>\n        </div>\n    </div>\n</div>\n<ol ui-tree-nodes ng-class="{hidden: collapsed}" ng-model="childrenRows">\n    <li ng-repeat="row in childrenRows" ui-tree-node>\n        <div ng-include="\'plugins/tree/treeBodyChildren.tmpl.html\'"></div>\n    </li>\n</ol>\n'),t.put("plugins/tree/treeHeader.tmpl.html",'<div class="gantt-tree-header" ng-style="{height: $parent.ganttHeaderHeight + \'px\'}">\n    <div ng-if="$parent.ganttHeaderHeight" class="gantt-row-label gantt-row-label-header gantt-tree-row gantt-tree-header-row"><span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/></div>\n</div>\n')}]),function(){"use strict";angular.module("gantt.table",["gantt","gantt.table.templates"]).directive("ganttTable",["ganttUtils","$compile","$document",function(t,e,n){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",columns:"=?",headers:"=?",classes:"=?",contents:"=?",headerContents:"=?",formatters:"=?",headerFormatter:"=?"},link:function(t,i,r,o){var a=o.gantt.api;if(t.options&&"object"==typeof t.options.sortable)for(var s in t.options.sortable)t[s]=t.options[s];void 0===t.enabled&&(t.enabled=!0),void 0===t.columns&&(t.columns=["model.name"]),void 0===t.headers&&(t.headers={"model.name":"Name"}),void 0===t.contents&&(t.contents={}),void 0===t.headerContents&&(t.headerContents={}),void 0===t.classes&&(t.classes={}),void 0===t.formatters&&(t.formatters={}),a.directives.on["new"](t,function(i,r,o){if("ganttSideContent"===i){var a=r.$new();a.pluginScope=t;var s=n[0].createElement("div");angular.element(s).attr("data-ng-if","pluginScope.enabled"),angular.element(s).addClass("side-element");var l=n[0].createElement("gantt-side-content-table");angular.element(s).append(l),o.append(e(s)(a))}})}}}])}(),function(){"use strict";angular.module("gantt.table").directive("ganttSideContentTable",["GanttDirectiveBuilder","ganttLayout",function(t,e){var n=new t("ganttSideContentTable","plugins/table/sideContentTable.tmpl.html");return n.controller=function(t){var n=e.getScrollBarHeight();t.getMaxHeightCss=function(){var e={};if(t.maxHeight){var i=t.gantt.scroll.isHScrollbarVisible()?n:0;e["max-height"]=t.maxHeight-i-t.gantt.header.getHeight()+"px"}return e}},n.build()}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnController",["$scope",function(t){t.getHeader=function(){var e=t.pluginScope.headers[t.column];return void 0!==e?e:(void 0!==t.pluginScope.headerFormatter&&(e=t.pluginScope.headerFormatter(t.column)),void 0!==e?e:e)},t.getHeaderContent=function(){var e=t.pluginScope.headerContents[t.column];return void 0===e?"{{getHeader()}}":e},t.getClass=function(){return t.pluginScope.classes[t.column]}}])}(),function(){"use strict";angular.module("gantt.table").controller("TableColumnRowController",["$scope",function(t){t.getValue=function(){var e=t.$eval(t.column,t.row),n=t.pluginScope.formatters[t.column];return void 0!==n&&(e=n(e,t.column,t.row)),e},t.getRowContent=function(){var e;return t.row.model.columnContents&&(e=t.row.model.columnContents[t.column]),void 0===e&&"model.name"===t.column&&(e=t.row.model.content),void 0===e&&(e=t.pluginScope.contents[t.column]),void 0===e&&"model.name"===t.column&&(e=t.row.rowsManager.gantt.options.value("rowContent")),void 0===e&&void 0!==t.pluginScope.content&&(e=t.pluginScope.content),void 0===e?"{{getValue()}}":e}}])}(),angular.module("gantt.table.templates",[]).run(["$templateCache",function(t){t.put("plugins/table/sideContentTable.tmpl.html",'<div class="gantt-side-content-table">\n\n    <div class="gantt-table-column {{getClass()}}" ng-repeat="column in pluginScope.columns" ng-controller="TableColumnController">\n\n        <div class="gantt-table-header" ng-style="{height: ganttHeaderHeight + \'px\'}">\n            <div ng-show="ganttHeaderHeight" class="gantt-row-label-header gantt-row-label gantt-table-row gantt-table-header-row">\n                <span class="gantt-label-text" gantt-bind-compile-html="getHeaderContent()"/>\n            </div>\n        </div>\n\n        <div class="gantt-table-content" ng-style="getMaxHeightCss()">\n            <div gantt-vertical-scroll-receiver>\n                <div class="gantt-table-row" ng-repeat="row in gantt.rowsManager.visibleRows track by row.model.id" ng-controller="TableColumnRowController">\n                    <div gantt-row-label class="gantt-row-label gantt-row-height" ng-class="row.model.classes" ng-style="{\'height\': row.model.height}">\n                        <div class="gantt-valign-container">\n                            <div class="gantt-valign-content">\n                                <span class="gantt-label-text" gantt-bind-compile-html="getRowContent()"></span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</div>\n')}]),function(){"use strict";angular.module("gantt.tooltips",["gantt","gantt.tooltips.templates"]).directive("ganttTooltips",["$compile","$document",function(t,e){return{restrict:"E",require:"^gantt",scope:{enabled:"=?",dateFormat:"=?",content:"=?",delay:"=?"},link:function(n,i,r,o){var a=o.gantt.api;if(n.options&&"object"==typeof n.options.tooltips)for(var s in n.options.tooltips)n[s]=n.options[s];void 0===n.enabled&&(n.enabled=!0),void 0===n.dateFormat&&(n.dateFormat="MMM DD, HH:mm"),void 0===n.delay&&(n.delay=500),void 0===n.content&&(n.content="{{task.model.name}}</br><small>{{task.isMilestone() === true && getFromLabel() || getFromLabel() + ' - ' + getToLabel()}}</small>"),n.api=a,a.directives.on["new"](n,function(i,o,a){if("ganttTask"===i){var s=o.$new();s.pluginScope=n;var l=e[0].createElement("div");angular.element(l).attr("data-ng-if","pluginScope.enabled");var u=e[0].createElement("gantt-tooltip");void 0!==r.templateUrl&&angular.element(u).attr("data-template-url",r.templateUrl),void 0!==r.template&&angular.element(u).attr("data-template",r.template),angular.element(l).append(u),a.append(t(l)(s))}})}}}])}(),function(){"use strict";angular.module("gantt.tooltips").directive("ganttTooltip",["$log","$timeout","$compile","$document","$templateCache","ganttDebounce","ganttSmartEvent",function(t,e,n,i,r,o,a){return{restrict:"E",templateUrl:function(t,e){var n;return n=void 0===e.templateUrl?"plugins/tooltips/tooltip.tmpl.html":e.templateUrl,void 0!==e.template&&r.put(n,e.template),n},scope:!0,replace:!0,controller:["$scope","$element","ganttUtils",function(t,n,r){var s,l,u,c=angular.element(i[0].body),d=t.task.$element,h=!1,p=function(){var t=i[0];return t.documentElement.clientWidth||t.documentElement.getElementById("body")[0].clientWidth},f=function(e){e+n[0].offsetWidth>p()?(n.css("left",e+20-n[0].offsetWidth+"px"),t.isRightAligned=!0):(n.css("left",e-20+"px"),t.isRightAligned=!1)},g=function(e){h=!0,u.bind(),t.displayed=!0,t.$evalAsync(function(){var i;n.hasClass("ng-hide")&&(n.removeClass("ng-hide"),i=!0),t.elementHeight=n[0].offsetHeight,i&&n.addClass("ng-hide"),t.taskRect=d[0].getBoundingClientRect(),f(e)})},m=function(){h=!1,u.unbind(),t.$evalAsync(function(){t.displayed=!1})},v=function(n,i){s&&e.cancel(s);var o=t.task.model.tooltips,a=t.task.row.model.tooltips;"boolean"==typeof o&&(o={enabled:o}),"boolean"==typeof a&&(a={enabled:a});var u=r.firstProperty([o,a],"enabled",t.pluginScope.enabled);u&&!h&&void 0!==l&&n?i?s=e(function(){g(l)},t.pluginScope.delay,!1):g(l):n||t.task.active||m()};u=a(t,c,"mousemove",o(function(e){h?((!t.taskRect||e.clientX<t.taskRect.left||e.clientX>t.taskRect.right||e.clientY>t.taskRect.bottom||e.clientY<t.taskRect.top)&&v(!1,!1),
f(e.clientX)):(l=e.clientX,v(!0,!1))},5,!1)),t.getFromLabel=function(){var e=t.task.model.tooltips,n=t.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof n&&(n={enabled:n});var i=r.firstProperty([e,n],"dateFormat",t.pluginScope.dateFormat);return t.task.model.from.format(i)},t.getToLabel=function(){var e=t.task.model.tooltips,n=t.task.row.model.tooltips;"boolean"==typeof e&&(e={enabled:e}),"boolean"==typeof n&&(n={enabled:n});var i=r.firstProperty([e,n],"dateFormat",t.pluginScope.dateFormat);return t.task.model.to.format(i)},t.task.getContentElement().bind("mousemove",function(t){l=t.clientX}),t.task.getContentElement().bind("mouseenter",function(t){l=t.clientX,v(!0,!0)}),t.task.getContentElement().bind("mouseleave",function(){v(!1)}),t.pluginScope.api.tasks.on.moveBegin&&(t.pluginScope.api.tasks.on.moveBegin(t,function(e){e===t.task&&v(!0)}),t.pluginScope.api.tasks.on.moveEnd(t,function(e){e===t.task&&v(!1)}),t.pluginScope.api.tasks.on.resizeBegin(t,function(e){e===t.task&&v(!0)}),t.pluginScope.api.tasks.on.resizeEnd(t,function(e){e===t.task&&v(!1)})),t.task.isMoving&&v(!0,!1),t.gantt.api.directives.raise["new"]("ganttTooltip",t,n),t.$on("$destroy",function(){t.gantt.api.directives.raise.destroy("ganttTooltip",t,n)})}]}}])}(),angular.module("gantt.tooltips.templates",[]).run(["$templateCache",function(t){t.put("plugins/tooltips/tooltip.tmpl.html",'<div ng-cloak\n     class="gantt-task-info"\n     ng-show="displayed"\n     ng-class="isRightAligned ? \'gantt-task-infoArrowR\' : \'gantt-task-infoArrow\'"\n     ng-style="{top: taskRect.top + \'px\', marginTop: -elementHeight - 8 + \'px\'}">\n    <div class="gantt-task-info-content">\n        <div gantt-bind-compile-html="pluginScope.content"></div>\n    </div>\n</div>\n')}]);